/*!
*  filename: ej.dashboard.viewer.all.min.js
*  version : 3.2.0.69
*  Copyright Syncfusion Inc. 2001 - 2019. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
var ejdashboard=function(n){"use strict";function uc(n,t){var i=t;return i.unshift(undefined),new(Function.prototype.bind.apply(n,i))}function yd(n){var r,u=new Uint16Array(5),f=window.msCrypto||window.crypto,t,i;return f.getRandomValues(u),t="ej2"+oht(u),i=function(i){i.source===window&&typeof i.data=="string"&&i.data.length<=32&&i.data===t&&(n(),r())},window.addEventListener("message",i,!1),window.postMessage(t,"*"),r=function(){window.removeEventListener("message",i);n=i=t=undefined}}function p(n,t){for(var i=t,u=n.split("."),r=0;r<u.length&&!d(i);r++)i=i[u[r]];return i}function ii(n,i,r){for(var o=n.split("."),s=r||{},u=s,h=o.length,e,f=0;f<h;f++)e=o[f],f+1===h?u[e]=i===undefined?{}:i:t(u[e])&&(u[e]={}),u=u[e];return s}function ly(n,t){delete n[t]}function sl(n){return!t(n)&&n.constructor==={}.constructor}function iht(n,t){return n[t]}function st(n,i){var e,o,r;if(!t(i)){var u=n,f=i,h=Object.keys(i),s="deepMerge";for(e=0,o=h;e<o.length;e++)r=o[e],!t(u[s])&&u[s].indexOf(r)!==-1&&(sl(f[r])||Array.isArray(f[r]))?b(u[r],u[r],f[r],!0):u[r]=f[r]}}function b(n,t,i,r){var u=n||{},e=arguments.length,s,o,f;for(r&&(e=e-1),s=function(n){if(!o[n])return"continue";var t=o[n];Object.keys(t).forEach(function(n){var f=u[n],i=t[n],e;r&&(sl(i)||Array.isArray(i))?sl(i)?(e=f?f:{},u[n]=b({},e,i,r)):(e=f?f:[],u[n]=b([],e,i,r)):u[n]=i})},o=arguments,f=1;f<e;f++)s(f);return u}function t(n){return n===undefined||n===null}function d(n){return"undefined"==typeof n}function wr(n){return n+"_"+tht++}function pd(n,t){var i;return function(){var r=this,u=arguments,f=function(){return i=null,n.apply(r,u)};clearTimeout(i);i=setTimeout(f,t)}}function rht(n){for(var i,r=[],f=Object.keys(n),t=0,u=f;t<u.length;t++)i=u[t],r.push(encodeURIComponent(i)+"="+encodeURIComponent(""+n[i]));return r.join("&")}function uht(n){var t=Object.prototype.toString;return t.call(n)==="[object Array]"&&t.call(n[0])==="[object Object]"?!0:!1}function hl(n,t){var i=n;return i===t?!0:i!==document&&i?hl(i.parentNode,t):!1}function ws(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}function fht(n,i){var u=document.createElement("div"),f=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link, style")),e="",r,o,s;for(t(i)&&(i=window.open("","print","height=452,width=1024,tabbar=no")),u.appendChild(n.cloneNode(!0)),r=0,o=f.length;r<o;r++)e+=f[r].outerHTML;return i.document.write("<!DOCTYPE html> <html><head>"+e+"<\/head><body>"+u.innerHTML+"<script> (function() { window.ready = true; })(); <\/script><\/body><\/html>"),i.document.close(),i.focus(),s=setInterval(function(){i.ready&&(i.print(),i.close(),clearInterval(s))},500),i}function g(n){var t=n+"";return t==="auto"||t.indexOf("%")!==-1||t.indexOf("px")!==-1?t:t+"px"}function po(n,t){var f=typeof n=="string"?document.querySelector(n):n,i,r,u;if(f[rc])for(i=0,r=f[rc];i<r.length;i++)if(u=r[i],u instanceof t)return u;return null}function eht(n,t){var i=typeof n=="string"?document.querySelector(n):n;i[rc]?i[rc].push(t):i[rc]=[t]}function wd(){if(typeof window!="undefined"){var n=new Uint16Array(5),t=window.msCrypto||window.crypto;return t.getRandomValues(n)}}function oht(n){for(var i="",t=0;t<5;t++)i+=(t?",":"")+n[t];return i}function ct(n,t){var i=sht.test(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);return typeof t=="undefined"?i:(i.innerHTML=t.innerHTML?t.innerHTML:"",t.className!==undefined&&(i.className=t.className),t.id!==undefined&&(i.id=t.id),t.styles!==undefined&&i.setAttribute("style",t.styles),t.attrs!==undefined&&v(i,t.attrs),i)}function u(n,t){for(var u,i,f,e,s=dd(t),r=0,o=n;r<o.length;r++)for(u=o[r],i=0,f=s;i<f.length;i++)e=f[i],u.classList.contains(e)||u.classList.add(e);return n}function h(n,t){for(var u,i,f,o,s=dd(t),r=0,e=n;r<e.length;r++)if(u=e[r],u.className!=="")for(i=0,f=s;i<f.length;i++)o=f[i],u.classList.remove(o);return n}function dd(n){var t=[];return typeof n=="string"?t.push(n):t=n,t}function cl(n){var t=n;return t.style.visibility===""&&t.offsetWidth>0}function ku(n,t){for(var f,r=document.createDocumentFragment(),i=0,u=n;i<u.length;i++)f=u[i],r.appendChild(f);return t.insertBefore(r,t.firstElementChild),n}function ir(n,t){for(var f,r=document.createDocumentFragment(),i=0,u=n;i<u.length;i++)f=u[i],r.appendChild(f);return t.appendChild(r),n}function a(n){var t=n.parentNode;return t.removeChild(n)}function lt(n){var t=n.parentNode;r.clearEvents(n);t.removeChild(n)}function v(n,t){for(var r,e=Object.keys(t),u=n,i=0,f=e;i<f.length;i++)r=f[i],u.setAttribute(r,t[r]);return u}function tt(n,t){return t===void 0&&(t=document),t.querySelector(n)}function hu(n,t){t===void 0&&(t=document);return t.querySelectorAll(n)}function k(n,t){var i=n;if(typeof i.closest=="function")return i.closest(t);while(i&&i.nodeType===1){if(ay(i,t))return i;i=i.parentNode}return null}function hht(n){for(var t,r=[],f=Array.prototype.slice.call(n.parentNode.childNodes),i=0,u=f;i<u.length;i++)t=u[i],t.nodeType===Node.ELEMENT_NODE&&n!==t&&r.push(t);return r}function cht(n,i,r){var u=n.getAttribute(i);return t(u)&&(n.setAttribute(i,r.toString()),u=r),u}function gt(n,t){t!==undefined&&Object.keys(t).forEach(function(i){n.style[i]=t[i]})}function ke(n,t,i){u([n],t);h([n],i)}function ay(n,t){var i=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return i?i.call(n,t):[].indexOf.call(document.querySelectorAll(t),n)!==-1}function lht(n,t){for(var r,u,i=0;i<n.ej2_instances.length;i++)if(r=n.ej2_instances[i],u=r.getModuleName(),t===u)return r;return undefined}function ll(n,t,i,r){return n.properties.hasOwnProperty(t)&&n.properties[t]instanceof r||(n.properties[t]=uc(r,[n,t,i])),n.properties[t]}function ec(n,t,i,r,u,f){for(var o,h,s=[],c=i.length,e=0;e<c;e++)o=r,f&&(o=r(i[e],n)),u?(h=uc(o,[n,t,{},!0]),h.setProperties(i[e],!0),s.push(h)):s.push(uc(o,[n,t,i[e],!0]));return s}function ng(n,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=n),this.properties[t]}}function ght(n,t){return function(i){if(this.properties[t]!==i){var r=this.properties.hasOwnProperty(t)?this.properties[t]:n;this.saveChanges(t,i,r);this.properties[t]=i}}}function nct(n,t,i){return function(){return ll(this,t,n,i)}}function tct(n,t,i){return function(r){ll(this,t,n,i).setProperties(r)}}function ict(n,t,i){return function(){var r=i({});return this.properties.hasOwnProperty(t)?this.properties[t]:ll(this,t,n,r)}}function rct(n,t,i){return function(r){var u=i(r,this);ll(this,t,n,u).setProperties(r)}}function uct(n,t,i){return function(){if(!this.properties.hasOwnProperty(t)){var r=ec(this,t,n,i,!1);this.properties[t]=r}return this.properties[t]}}function fct(n,t,i){return function(r){var f=ec(this,t,n,i,!1),u=ec(this,t,r,i,!0);this.saveChanges(t,u,f);this.properties[t]=u}}function ect(n,t,i){return function(r){var f=this.properties.hasOwnProperty(t)?this.properties[t]:n,u=ec(this,t,r,i,!0,!0);this.saveChanges(t,u,f);this.properties[t]=u}}function oct(n,t,i){return function(){var u=i({}),r;return this.properties.hasOwnProperty(t)||(r=ec(this,t,n,u,!1),this.properties[t]=r),this.properties[t]}}function i(n){return function(t,i){var r={set:ght(n,i),get:ng(n,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);bs(t,i,"prop",n)}}function nt(n,t){return function(i,r){var u={set:tct(n,r,t),get:nct(n,r,t),enumerable:!0,configurable:!0};Object.defineProperty(i,r,u);bs(i,r,"complexProp",n,t)}}function sct(n){return function(t,i){var r={set:rct({},i,n),get:ict({},i,n),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);bs(t,i,"complexProp",{},n)}}function ff(n,t){return function(i,r){var u={set:fct(n,r,t),get:uct(n,r,t),enumerable:!0,configurable:!0};Object.defineProperty(i,r,u);bs(i,r,"colProp",n,t)}}function hct(n){return function(t,i){var r={set:ect([],i,n),get:oct([],i,n),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);bs(t,i,"colProp",{},n)}}function f(){return function(n,t){var i={set:function(n){var r=this.properties[t],i;r!==n&&(i=ig(this,t),d(r)===!1&&i.context.removeEventListener(i.prefix,r),i.context.addEventListener(i.prefix,n),this.properties[t]=n)},get:ng(undefined,t),enumerable:!0,configurable:!0};Object.defineProperty(n,t,i);bs(n,t,"event")}}function vt(){}function bs(n,t,i,r,u){d(n.propList)&&(n.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]});n.propList[i+"s"].push({propertyName:t,defaultValue:r,type:u});n.propList[i+"Names"].push(t)}function tg(n){var e,t,r,u,o,i,f,s;if(d(n.prototype.builderObject))for(n.prototype.builderObject={properties:{},propCollections:[],add:function(){this.isPropertyArray=!0;this.propCollections.push(b({},this.properties,{}))}},e=/complex/,t=0,r=Object.keys(n.prototype.propList);t<r.length;t++)for(u=r[t],o=function(t){n.prototype.builderObject[t.propertyName]=e.test(u)?function(n){var i={},r;return st(i,tg(t.type)),n(i),r=i.isPropertyArray?i.propCollections:b({},i.properties,{}),this.properties[t.propertyName]=r,i.properties={},i.propCollections=[],i.isPropertyArray=!1,this}:function(n){return this.properties[t.propertyName]=n,this}},i=0,f=n.prototype.propList[u];i<f.length;i++)s=f[i],o(s);return n.prototype.builderObject}function cct(n){var t=function(n){return this.element=n,this};return function(i){return t.prototype.hasOwnProperty("create")||(t.prototype=tg(n),t.prototype.create=function(){var t=b({},{},this.properties);return this.properties={},new n(t,this.element)}),new t(i)}}function ig(n,t){if(n.hasOwnProperty("parentObj")===!1)return{context:n,prefix:t};var i=p("propName",n);return i&&(t=i+"-"+t),ig(p("parentObj",n),t)}function si(n,t,i){var u=act(t);return u.rippleFlag===!1||u.rippleFlag===undefined&&!vf?Function:(n.setAttribute("data-ripple","true"),r.add(n,"mousedown",rg,{parent:n,rippleOptions:u}),r.add(n,"mouseup",ug,{parent:n,rippleOptions:u,done:i}),r.add(n,"mouseleave",ks,{parent:n,rippleOptions:u}),o.isPointer&&r.add(n,"transitionend",ks,{parent:n,rippleOptions:u}),function(){n.removeAttribute("data-ripple");r.remove(n,"mousedown",rg);r.remove(n,"mouseup",ug);r.remove(n,"mouseleave",ks);r.remove(n,"transitionend",ks)})}function act(n){return{selector:n&&n.selector?n.selector:null,ignore:n&&n.ignore?n.ignore:null,rippleFlag:n&&n.rippleFlag,isCenterRipple:n&&n.isCenterRipple,duration:n&&n.duration?n.duration:350}}function rg(n){var u=n.target,c=this.rippleOptions.selector,t=c?k(u,c):u;if(t&&(!this.rippleOptions||!k(u,this.rippleOptions.ignore))){var i=t.getBoundingClientRect(),f=n.pageX-document.body.scrollLeft,e=n.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),l=Math.max(Math.abs(f-i.left),Math.abs(f-i.right)),a=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom)),o=Math.sqrt(l*l+a*a),s=o*2+"px",v=f-i.left-o,y=e-i.top-o;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(v=0,y=0,s="100%");t.classList.add("e-ripple");var p=this.rippleOptions.duration.toString(),w="width: "+s+";height: "+s+";left: "+v+"px;top: "+y+"px;transition-duration: "+p+"ms;",h=ct("div",{className:"e-ripple-element",styles:w});t.appendChild(h);window.getComputedStyle(h).getPropertyValue("opacity");h.style.transform="scale(1)";t!==this.parent&&r.add(t,"mouseleave",ks,{parent:this.parent,rippleOptions:this.rippleOptions})}}function ug(n){fg(n,this)}function ks(n){fg(n,this)}function fg(n,t){var s=t.rippleOptions.duration,e=n.target,o=t.rippleOptions.selector,i=o?k(e,o):e,f,u;i&&(!i||i.className.indexOf("e-ripple")!==-1)&&(f=hu(".e-ripple-element",i),u=f[f.length-1],u&&(u.style.opacity="0.5"),t.parent!==i&&r.remove(i,"mouseleave",ks),setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u);i.getElementsByClassName("e-ripple-element").length||i.classList.remove("e-ripple");t.done&&t.done(n)},s))}function vct(n){return vf=n}function hlt(n){nh=n;gs.notify("notifyExternalChange",{locale:nh})}function clt(n){th=n;gs.notify("notifyExternalChange",{currencyCode:th})}function llt(){for(var t,i,u,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(t=0,i=r;t<i.length;t++)u=i[t],b(rr,u,{},!0)}function alt(n){n===void 0&&(n=!0);al=n;gs.notify("notifyExternalChange",{enableRtl:al})}function yy(n,t){var i=rt.getDependables(rr,n,!0)[vy[0]],u=rt.getDependables(rr,n)[vy[1]],r=p("defaultNumberingSystem",i),f=p("symbols-numberSystem-"+r,i),e=rt.getSymbolPattern(t||"decimal",r,i,!1);return b(f,rt.getFormatData(e,!0,"",!0),{dateSeparator:rt.getDateSeparator(u)})}function de(){return rt.getDependables(rr,"",!1)[vy[1]]}function oat(n,t){var i="data",r=sat(n,i,t),u='var str="'+r+'"; return str;',f=new Function(i,u);return f.bind(t)}function sat(n,t,i){var u=0,r=[];return n.replace(glt,"").replace(fat,"'$1'").replace(eat,function(n,f){var e=f.match(rat),h,o,c,s;return e?(h=e[1],tat.test(f)?f='";} '+f.replace(e[1],h.replace(fn,function(n){return n=n.trim(),rh(n,!tn.test(n)&&r.indexOf(n)===-1,t,r)}))+'{ \n str = str + "':nat.test(f)?f='"; '+f.replace(e[1],h.replace(fn,function(n){return n=n.trim(),rh(n,!tn.test(n)&&r.indexOf(n)===-1,t,r)}))+'{ \n str = str + "':iat.test(f)?(o=e[1].split(" of "),f='"; '+f.replace(e[1],function(){return r.push(o[0]),r.push(o[0]+"Index"),u=u+1,"var i"+u+"=0; i"+u+" < "+rh(o[1],!0,t,r)+".length; i"+u+"++"})+"{ \n "+o[0]+"= "+rh(o[1],!0,t,r)+"[i"+u+"]; \n var "+o[0]+"Index=i"+u+'; \n str = str + "'):(c=f.split("("),s=i&&i.hasOwnProperty(c[0])?"this.":"global",s=/\./.test(c[0])?"":s,f='" + '+(s==="global"?"":s)+f.replace(h,rh(e[1].replace(",",t+"."),s==="global"?!1:!0,t,r))+'+"')):f=rn.test(f)?'"; '+f.replace(rn,'} else { \n str = str + "'):f.match(un)?f.replace(un,'"; \n } \n str = str + "'):'"+'+rh(f,r.indexOf(f)===-1,t,r)+'+"',f})}function rh(n,t,i,r){return t&&!uat.test(n)&&r.indexOf(n.split(".")[0])===-1?i+"."+n:n}function cu(n,t){var i=ky.compile(n,t);return function(n,t,r){var u=i(n,t,r),f;return typeof u=="string"?on.test(u)?(f=ct("svg",{innerHTML:u}),f.childNodes):(f=ct(en.test(u)?"table":"div",{innerHTML:u}),f.childNodes):u}}function hat(n){ky.compile=n.compile}function cat(){return ky.compile}function hvt(n,i){var u=!1,r={left:0,top:0},f=n;if(!n||!i)return r;for(t(i.offsetParent)&&i.style.position==="fixed"&&(u=!0);(i.offsetParent||u)&&n&&i.offsetParent!==n;)r.left+=n.offsetLeft,r.top+=n.offsetTop,n=n.offsetParent;for(n=f;(i.offsetParent||u)&&n&&i.offsetParent!==n;)r.left-=n.scrollLeft,r.top-=n.scrollTop,n=n.parentElement;return r}function au(n,t,i,r,u){if(np=u,tp=r?!0:!1,!n)return{left:0,top:0};t||(t="left");i||(i="top");sc=n.ownerDocument;dn=n;return cvt(t.toLowerCase(),i.toLowerCase(),{left:0,top:0})}function he(n,t){t.left=n}function ce(n,t){t.top=n}function cvt(n,t,i){se=dn.getBoundingClientRect();switch(t+n){case"topcenter":he(fp(),i);ce(bl(),i);break;case"topright":he(up(),i);ce(bl(),i);break;case"centercenter":he(fp(),i);ce(rp(),i);break;case"centerright":he(up(),i);ce(rp(),i);break;case"centerleft":he(kl(),i);ce(rp(),i);break;case"bottomcenter":he(fp(),i);ce(ip(),i);break;case"bottomright":he(up(),i);ce(ip(),i);break;case"bottomleft":he(kl(),i);ce(ip(),i);break;default:case"topleft":he(kl(),i);ce(bl(),i)}return i}function gn(){return sc.documentElement.scrollTop||sc.body.scrollTop}function ntt(){return sc.documentElement.scrollLeft||sc.body.scrollLeft}function ip(){return tp?se.bottom:se.bottom+gn()}function rp(){return bl()+se.height/2}function bl(){return tp?se.top:se.top+gn()}function kl(){return se.left+ntt()}function up(){return se.right+ntt()-(np?np.width:0)}function fp(){return kl()+se.width/2}function ttt(n,t,i,r){var u;if(t===void 0&&(t=null),i===void 0&&(i={X:!1,Y:!1}),!i.Y&&!i.X)return{left:0,top:0};if(u=n.getBoundingClientRect(),vu=t,wo=n.ownerDocument,r||(r=au(n,"left","top")),i.X){var v=vu?ott():att(),h=sp(),c=hp(),f=h-r.left,e=r.left+u.width-c;u.width>v?r.left=f>0&&e<=0?c-u.width:e>0&&f<=0?h:f>e?c-u.width:h:f>0?r.left+=f:e>0&&(r.left-=e)}if(i.Y){var y=vu?stt():ltt(),l=op(),a=cp(),o=l-r.top,s=r.top+u.height-a;u.height>y?r.top=o>0&&s<=0?a-u.height:s>0&&o<=0?l:o>s?a-u.height:l:o>0?r.top+=o:s>0&&(r.top-=s)}return r}function itt(n,t,i,r){var u,f;t===void 0&&(t=null);u=au(n,"left","top");i&&(u.left=i);r&&(u.top=r);f=[];vu=t;wo=n.ownerDocument;var e=n.getBoundingClientRect(),h=u.top,c=u.left,l=u.left+e.width,a=u.top+e.height,o=ett(h,a),s=rtt(c,l);return o.topSide&&f.push("top"),s.rightSide&&f.push("right"),s.leftSide&&f.push("left"),o.bottomSide&&f.push("bottom"),f}function lvt(n,t,i,r,u,f,e,o,s){if(e===void 0&&(e=null),o===void 0&&(o={X:!0,Y:!0}),t&&n&&u&&f&&(o.X||o.Y)){var l={TL:null,TR:null,BL:null,BR:null},a={TL:null,TR:null,BL:null,BR:null},h=n.getBoundingClientRect(),c={posX:u,posY:f,offsetX:i,offsetY:r,position:{left:0,top:0}};vu=e;wo=t.ownerDocument;vvt(t,l,c,s,h);ep(a,c,h);o.X&&utt(t,a,l,c,h,!0);o.Y&&l.TL.top>-1&&ftt(t,a,l,c,h,!0);avt(n,c,h)}}function avt(n,t,i){var u=0,f=0,r;n.offsetParent!=null&&(getComputedStyle(n.offsetParent).position==="absolute"||getComputedStyle(n.offsetParent).position==="relative")&&(r=au(n.offsetParent,"left","top",!1,i),u=r.left,f=r.top);n.style.top=t.position.top+t.offsetY-f+"px";n.style.left=t.position.left+t.offsetX-u+"px"}function vvt(n,t,i,r,u){i.position=au(n,i.posX,i.posY,r,u);t.TL=au(n,"left","top",r,u);t.TR=au(n,"right","top",r,u);t.BR=au(n,"left","bottom",r,u);t.BL=au(n,"right","bottom",r,u)}function ep(n,t,i){n.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX};n.TR={top:n.TL.top,left:n.TL.left+i.width};n.BL={top:n.TL.top+i.height,left:n.TL.left};n.BR={top:n.TL.top+i.height,left:n.TL.left+i.width}}function rtt(n,t){var i=!1,r=!1;return n-gl()<sp()&&(i=!0),t>hp()&&(r=!0),{leftSide:i,rightSide:r}}function utt(n,t,i,r,u,f){var e=rtt(t.TL.left,t.TR.left);i.TL.left-gl()<=sp()&&(e.leftSide=!1);i.TR.left>=hp()&&(e.rightSide=!1);(e.leftSide&&!e.rightSide||!e.leftSide&&e.rightSide)&&(r.posX=r.posX==="right"?"left":"right",r.offsetX=r.offsetX+u.width,r.offsetX=-1*r.offsetX,r.position=au(n,r.posX,r.posY,!1),ep(t,r,u),f&&utt(n,t,i,r,u,!1))}function ftt(n,t,i,r,u,f){var e=ett(t.TL.top,t.BL.top);i.TL.top-dl()<=op()&&(e.topSide=!1);i.BL.top>=cp()&&(e.bottomSide=!1);(e.topSide&&!e.bottomSide||!e.topSide&&e.bottomSide)&&(r.posY=r.posY==="top"?"bottom":"top",r.offsetY=r.offsetY+u.height,r.offsetY=-1*r.offsetY,r.position=au(n,r.posX,r.posY,!1,u),ep(t,r,u),f&&ftt(n,t,i,r,u,!1))}function ett(n,t){var i=!1,r=!1;return n-dl()<op()&&(i=!0),t>cp()&&(r=!0),{topSide:i,bottomSide:r}}function ott(){return vu.getBoundingClientRect().width}function stt(){return vu.getBoundingClientRect().height}function htt(){return vu.getBoundingClientRect().left}function ctt(){return vu.getBoundingClientRect().top}function op(){return vu?ctt():0}function sp(){return vu?htt():0}function hp(){return vu?gl()+htt()+ott():gl()+att()}function cp(){return vu?dl()+ctt()+stt():dl()+ltt()}function dl(){return wo.documentElement.scrollTop||wo.body.scrollTop}function gl(){return wo.documentElement.scrollLeft||wo.body.scrollLeft}function ltt(){return window.innerHeight}function att(){return window.innerWidth}function yvt(n,t){for(var f=getComputedStyle(n),u=[],i=n.parentElement,r;i&&i.tagName!=="HTML";)r=getComputedStyle(i),f.position==="absolute"&&r.position==="static"||!/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)||u.push(i),i=i.parentElement;return t||u.push(document),u}function na(n){for(var u=n.parentElement,h=[],e,s,o,i,r,f,c;u;)if(u.tagName!=="BODY")r=document.defaultView.getComputedStyle(u,null).getPropertyValue("z-index"),f=document.defaultView.getComputedStyle(u,null).getPropertyValue("position"),r!=="auto"&&f!=="static"&&h.push(r),u=u.parentElement;else break;for(e=[],i=0;i<document.body.children.length;i++)n.isEqualNode(document.body.children[i])||(r=document.defaultView.getComputedStyle(document.body.children[i],null).getPropertyValue("z-index"),f=document.defaultView.getComputedStyle(document.body.children[i],null).getPropertyValue("position"),r!=="auto"&&f!=="static"&&e.push(r));if(e.push("999"),s=[],!t(n.parentElement)&&n.parentElement.tagName!=="BODY")for(o=[].slice.call(n.parentElement.children),i=0;i<o.length;i++)r=document.defaultView.getComputedStyle(o[i],null).getPropertyValue("z-index"),f=document.defaultView.getComputedStyle(o[i],null).getPropertyValue("position"),r!=="auto"&&f!=="static"&&s.push(r);return c=h.concat(e,s),Math.max.apply(Math,c)+1}function lp(n,t,i,r,u,f){var e,h;if(r.tagName===t){var c=p("ej2_instances",r),o=n("input",{attrs:{type:i}}),l=["change","cssClass","label","labelPosition"],s=n(t,{className:u,attrs:{role:f,"aria-checked":"false"}});for(e=0,h=r.attributes.length;e<h;e++)l.indexOf(r.attributes[e].nodeName)===-1&&o.setAttribute(r.attributes[e].nodeName,r.attributes[e].nodeValue);r.parentNode.insertBefore(o,r);a(r);r=o;r.parentNode.insertBefore(s,r);s.appendChild(r);ii("ej2_instances",c,r)}return r}function pvt(n){for(var t,r=n.childNodes,i=0;i<r.length;i++)if(t=r[i],t.nodeType===3)return t;return null}function wvt(n,t,i){i==="INPUT"?(t.parentNode.insertBefore(n.element,t),a(t),n.element.checked=!1,["name","value","disabled"].forEach(function(t){n.element.removeAttribute(t)})):(n.element.id&&t.setAttribute("id",n.element.id),["role","aria-checked","class"].forEach(function(n){t.removeAttribute(n)}),t.innerHTML="")}function bvt(n,t,i,r,u){r=lp(n.createElement,t,"checkbox",r,i,u);n.element=r;n.element.getAttribute("type")!=="checkbox"&&n.element.setAttribute("type","checkbox");n.element.id||(n.element.id=wr("e-"+u))}function kvt(n,t,i){var r,f,e,o;return t===void 0&&(t=!1),i===void 0&&(i={}),r=n("div",{className:"e-checkbox-wrapper e-css"}),i.cssClass&&u([r],i.cssClass.split(" ")),i.enableRtl&&r.classList.add("e-rtl"),t&&(f=n("span",{className:"e-ripple-container"}),si(f,{isCenterRipple:!0,duration:400}),r.appendChild(f)),e=n("span",{className:"e-frame e-icons"}),i.checked&&e.classList.add("e-check"),r.appendChild(e),i.label&&(o=n("span",{className:"e-label",innerHTML:i.label}),r.appendChild(o)),r}function ap(n,t){if(t){var i=document.createEvent("MouseEvents");i.initEvent(n.type,!1,!0);t.dispatchEvent(i)}}function sa(n,i){var e,u=t(i)?ct:i,r=cwt(n.target,u),o,f,s;t(n.cssClass)||r.wrap.classList.add(n.cssClass);t(n.template)&&t(lit)?(f=t(n.type)?gpt(r.wrap):n.type,s=t(n.width)?undefined:n.width,e=owt(s,f),nwt(f,r.wrap,e,u),t(n.label)||ppt(r.inner_wrap,n.label,u)):(o=t(n.template)?lit:n.template,r.wrap.classList.add(pw),ewt(r.wrap,o,opt));r.wrap.classList.add(ea);r=null}function ppt(n,t,i){var r=i("div",{});return r.classList.add(ypt),r.textContent=t,n.appendChild(r),r}function wpt(n,t,i){var r=ha();yu[r]={timeOut:0,type:"Material",radius:t};hwt(n,r,i);awt(t,n)}function bpt(n,t,i){var r={},u;yu[t].timeOut=0;r[t]=swt(t,i,0,0);u={uniqueID:t,container:n,globalInfo:r,timeOutVar:0};pit(u)}function kpt(n,t,i){var r=ha();yu[r]={timeOut:0,type:"Fabric",radius:t};yit(n,r,ait,i);kit(t,n,ait)}function dpt(n,t,i){var r=ha();yu[r]={timeOut:0,type:"HighContrast",radius:t};yit(n,r,vit,i);kit(t,n,vit)}function gpt(n){var t=window.getComputedStyle(n,":after").getPropertyValue("content");return t.replace(/['"]+/g,"")}function nwt(n,i,r,u){var f=i.querySelector("."+yw),e=f.querySelector("svg");t(e)||f.removeChild(e);switch(n){case"Material":wpt(f,r,u);break;case"Fabric":kpt(f,r,u);break;case"Bootstrap":twt(f,r,u);break;case"HighContrast":dpt(f,r,u)}}function twt(n,t,i){var r=ha();yu[r]={timeOut:0,type:"Bootstrap",radius:t};iwt(n,r,i);rwt(n,t)}function iwt(n,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),f=64,e=32,u,r;for(i.setAttribute("id",t),i.setAttribute("class",apt),i.setAttribute("viewBox","0 0 "+f+" "+f),n.insertBefore(i,n.firstChild),u=0;u<=7;u++)r=document.createElementNS("http://www.w3.org/2000/svg","circle"),r.setAttribute("class",oa+"_"+u),r.setAttribute("r","2"),r.setAttribute("transform","translate("+e+","+e+")"),i.appendChild(r)}function rwt(n,t){var u=n.querySelector("svg.e-spin-bootstrap"),r,f,e;u.style.width=u.style.height=t+"px";var i=90;for(r=0;r<=7;r++)f=ww(0,0,24,i),e=u.querySelector("."+oa+"_"+r),e.setAttribute("cx",f.x+""),e.setAttribute("cy",f.y+""),i=i>=360?0:i,i=i+45}function uwt(n,t){function e(n){r.push(n);(n!==o||f===1)&&(n<=u&&n>1&&!i?n=parseFloat((n-.2).toFixed(2)):n===1?(n=7,n=parseFloat((n+.2).toFixed(2)),i=!0):n<8&&i?(n=parseFloat((n+.2).toFixed(2)),n===8&&(i=!1)):n<=8&&!i&&(n=parseFloat((n-.2).toFixed(2))),++f,e(n))}var r=[],u=n,o=t,i=!1,f=1;return e(u),r}function fwt(n){function f(n,t,i,r,u){function e(t){yu[u].isAnimate&&(++f,n.setAttribute("r",t+""),f>=r.length&&(f=0),yu[u].timeOut=setTimeout(e.bind(null,r[f]),18))}var f=0;e(t)}for(var i,r=n.querySelector("svg.e-spin-bootstrap"),u=r.getAttribute("id"),t=1;t<=8;t++)i=n.getElementsByClassName("e-path-circle_"+(t===8?0:t))[0],f(i,t,t,uwt(t,t),u)}function ewt(n,i,r){t(r)||n.classList.add(r);var u=n.querySelector(".e-spinner-inner");u.innerHTML=i}function owt(n,t){var i=t==="Material"?spt:t==="Fabric"?hpt:cpt;return n=n?parseFloat(n+""):i,t==="Bootstrap"?n:n/2}function swt(n,t,i,r){return{radius:t,count:i,previousId:r}}function ha(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function yit(n,t,i){var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),u,f;r.setAttribute("id",t);r.setAttribute("class",i);u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("class",oa);f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("class",vpt);n.insertBefore(r,n.firstChild);r.appendChild(u);r.appendChild(f)}function hwt(n,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),r;i.setAttribute("class",lpt);i.setAttribute("id",t);r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",oa);n.insertBefore(i,n.firstChild);i.appendChild(r)}function cwt(n,t){var i=t("div",{}),r;return i.classList.add(vw),r=t("div",{}),r.classList.add(yw),n.appendChild(i),i.appendChild(r),{wrap:i,inner_wrap:r}}function pit(n){lwt(1,149,pwt,1333,n.globalInfo[n.uniqueID].count,75,n);n.globalInfo[n.uniqueID].count=++n.globalInfo[n.uniqueID].count%4}function lwt(n,i,r,u,f,e,o){function h(t){var i=Math.max(0,Math.min((new Date).getTime()-l,u));p(r(i,n,a,u),t.container);c===t.globalInfo[t.uniqueID].previousId&&i<u?yu[t.uniqueID].timeOut=setTimeout(h.bind(null,t),1):pit(t)}function p(n,i){if(!t(i.querySelector("svg.e-spin-material"))&&!t(i.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){var u=i.querySelector("svg.e-spin-material"),r=u.querySelector("path.e-path-circle");r.setAttribute("stroke-dashoffset",bit(s,v,n,e)+"");r.setAttribute("transform","rotate("+y+" "+s/2+" "+s/2+")")}}var c=++o.globalInfo[o.uniqueID].previousId,l=(new Date).getTime(),a=i-n,s=vwt(o.globalInfo[o.uniqueID].radius*2+""),v=wit(s),y=-90*(o.globalInfo[o.uniqueID].count||0);h(o)}function awt(n,t){var i=n*2,r=t.querySelector("svg.e-spin-material"),u=r.querySelector("path.e-path-circle"),f=wit(i),e=i/2+"px";r.setAttribute("viewBox","0 0 "+i+" "+i);r.style.width=r.style.height=i+"px";r.style.transformOrigin=e+" "+e+" "+e;u.setAttribute("stroke-width",f+"");u.setAttribute("d",ywt(i,f));u.setAttribute("stroke-dasharray",(i-f)*Math.PI*.75+"");u.setAttribute("stroke-dashoffset",bit(i,f,1,75)+"")}function vwt(n){return parseFloat(n)}function ywt(n,t){var i=n/2,r=t/2;return"M"+i+","+r+"A"+(i-r)+","+(i-r)+" 0 1 1 "+r+","+i}function wit(n){return 10/100*n}function bit(n,t,i,r){return(n-t)*Math.PI*(3*r/100-i/100)}function pwt(n,t,i,r){var u=(n/=r)*n,f=u*n;return t+i*(6*f*u+-15*u*u+10*f)}function kit(n,t,i){var e=n,o=n,u=n*2,r=t.querySelector("."+i),s=r.querySelector(".e-path-circle"),h=r.querySelector(".e-path-arc"),f=u/2+"px";s.setAttribute("d",bwt(e,o,n));h.setAttribute("d",wwt(e,o,n,315,45));r.setAttribute("viewBox","0 0 "+u+" "+u);r.style.transformOrigin=f+" "+f+" "+f;r.style.width=r.style.height=u+"px"}function ww(n,t,i,r){var u=(r-90)*Math.PI/180;return{x:n+i*Math.cos(u),y:t+i*Math.sin(u)}}function wwt(n,t,i,r,u){var f=ww(n,t,i,u),e=ww(n,t,i,r);return["M",f.x,f.y,"A",i,i,0,0,0,e.x,e.y].join(" ")}function bwt(n,t,i){return["M",n,t,"m",-i,0,"a",i,i,0,1,0,i*2,0,"a",i,i,0,1,0,-i*2,0,].join(" ")}function ca(n){dit(n,!1);n=null}function dit(n,i){var r=n.classList.contains(vw)?n:n.querySelector("."+vw),e=r.querySelector("."+yw),o,f,u;if(o=i?!r.classList.contains(pw)&&!r.classList.contains(ea):!r.classList.contains(pw)&&!r.classList.contains(aw),o){if(f=r.querySelector("svg"),t(f))return;u=f.getAttribute("id");yu[u].isAnimate=!i;switch(yu[u].type){case"Material":i?clearTimeout(yu[u].timeOut):bpt(e,u,yu[u].radius);break;case"Bootstrap":i?clearTimeout(yu[u].timeOut):fwt(e)}}i?ke(r,[ea],[aw]):ke(r,[aw],[ea]);n=null}function fh(n){dit(n,!0);n=null}function sbt(){var u,r,e,f,n,i;if(v(this.element,{role:"textbox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-live":"assertive","aria-valuenow":""}),this.mask){for(u=this.mask.split("]"),n=0;n<u.length;n++)if(u[n][u[n].length-1]==="\\")for(u[n]=u[n]+"]",r=u[n].split("["),i=0;i<r.length;i++)r[i][r[i].length-1]==="\\"&&(r[i]=r[i]+"["),nb.call(this,r[i]);else if(r=u[n].split("["),r.length>1)for(e=!1,i=0;i<r.length;i++)r[i]==="\\"?(this.customRegExpCollec.push("["),this.hiddenMask+=r[i]+"["):r[i]===""?e=!0:r[i]!==""&&e||i===r.length-1?(this.customRegExpCollec.push("["+r[i]+"]"),this.hiddenMask+=this.promptChar,e=!1):nb.call(this,r[i]);else nb.call(this,r[0]);if(this.escapeMaskValue=this.hiddenMask,this.promptMask=this.hiddenMask.replace(/[09?LCAa#&]/g,this.promptChar),!t(this.customCharacters))for(n=0;n<this.promptMask.length;n++)t(this.customCharacters[this.promptMask[n]])||(this.promptMask=this.promptMask.replace(new RegExp(this.promptMask[n],"g"),this.promptChar));if(f=0,this.hiddenMask.match(new RegExp(/\\/)))for(n=0;n<this.hiddenMask.length;n++)i=0,n>=2&&(i=n),f=this.hiddenMask.length-this.promptMask.length,i=i-f,n>0&&this.hiddenMask[n-1]!=="\\"&&(this.hiddenMask[n]===">"||this.hiddenMask[n]==="<"||this.hiddenMask[n]==="|")&&(this.promptMask=this.promptMask.substring(0,i)+this.promptMask.substring(n+1-f,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue.substring(n+1-f,this.escapeMaskValue.length)),this.hiddenMask[n]==="\\"&&(this.promptMask=this.promptMask.substring(0,i)+this.hiddenMask[n+1]+this.promptMask.substring(n+2-f,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue[n+1]+this.escapeMaskValue.substring(n+2-f,this.escapeMaskValue.length));else this.promptMask=this.promptMask.replace(/[>|<]/g,""),this.escapeMaskValue=this.hiddenMask.replace(/[>|<]/g,"");v(this.element,{"aria-invalid":"false"})}}function hbt(){bt.call(this,this.promptMask);va.call(this,this.value)}function cbt(){r.add(this.element,"keydown",frt,this);r.add(this.element,"keypress",srt,this);r.add(this.element,"keyup",hrt,this);r.add(this.element,"input",urt,this);r.add(this.element,"focus",trt,this);r.add(this.element,"blur",tb,this);r.add(this.element,"paste",irt,this);r.add(this.element,"cut",rrt,this);r.add(this.element,"drop",ybt,this);this.enabled&&nrt.call(this)}function git(){r.remove(this.element,"keydown",frt);r.remove(this.element,"keypress",srt);r.remove(this.element,"keyup",hrt);r.remove(this.element,"input",urt);r.remove(this.element,"focus",trt);r.remove(this.element,"blur",tb);r.remove(this.element,"paste",irt);r.remove(this.element,"cut",rrt)}function nrt(){this.showClearButton&&r.add(this.inputObj.clearButton,"mousedown touchstart",lbt,this)}function lbt(n){n.preventDefault();this.inputObj.clearButton.classList.contains("e-clear-icon-hide")||abt.call(this,n)}function abt(n){var t=this.element.value;bt.call(this,this.promptMask);this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});ve.call(this,n,t);this.element.setSelectionRange(0,0)}function vbt(n){return n.value}function go(n,i){var o="",r=0,e=!1,f=t(i)?!t(n)&&!t(this)?n.value:i:i,u;if(f!==this.promptMask)for(u=0;u<this.customRegExpCollec.length;u++)e&&(e=!1),(this.customRegExpCollec[r]===">"||this.customRegExpCollec[r]==="<"||this.customRegExpCollec[r]==="|"||this.customRegExpCollec[r]==="\\")&&(--u,e=!0),e||f[u]===this.promptChar||t(this.customRegExpCollec[r])||t(this.regExpCollec[this.customRegExpCollec[r]])&&(!(this.customRegExpCollec[r].length>2)||this.customRegExpCollec[r][0]!=="["||this.customRegExpCollec[r][this.customRegExpCollec[r].length-1]!=="]")&&(t(this.customCharacters)||t(this.customCharacters[this.customRegExpCollec[r]]))||f===""||(o+=f[u]),++r;return(this.mask===null||this.mask===""&&this.value!==undefined)&&(o=f),o}function nb(n){for(var t=0;t<n.length;t++)this.hiddenMask+=n[t],n[t]!=="\\"&&this.customRegExpCollec.push(n[t])}function trt(){var t=this,n,i;this.focusEventArgs=this.promptMask.length>0?{selectionStart:0,selectionEnd:this.promptMask.length}:{selectionStart:0,selectionEnd:this.element.value.length};n={};st(n,this.focusEventArgs);this.trigger("focus",n);this.focusEventArgs=n;this.mask&&(this.isFocus=!0,this.element.value===""?bt.call(this,this.promptMask):bt.call(this,this.element.value),o.isDevice||o.info.version!=="11.0"?(i=o.isDevice&&o.isIos?450:0,setTimeout(function(){t.element.setSelectionRange(t.focusEventArgs.selectionStart,t.focusEventArgs.selectionEnd)},i)):this.element.setSelectionRange(this.focusEventArgs.selectionStart,this.focusEventArgs.selectionEnd))}function tb(){if(this.mask&&(this.isFocus=!1,this.placeholder&&this.element.value===this.promptMask&&this.floatLabelType!=="Always")){bt.call(this,"");var n=this.element.parentNode.querySelector(".e-float-text");this.floatLabelType==="Auto"&&!t(n)&&n.classList.contains(aa)&&h([n],aa)}}function irt(n){var t=this;if(this.mask){var r=this.element.selectionStart,u=this.element.selectionEnd,i=this.element.value;bt.call(this,"");this._callPasteHandler=!0;setTimeout(function(){var f=t.element.value.replace(/ /g,""),e,o;t.redoCollec.length>0&&t.redoCollec[0].value===t.element.value&&(f=go.call(t,t.element));bt.call(t,i);t.element.selectionStart=r;t.element.selectionEnd=u;e=0;t.maskKeyPress=!0;do io.call(t,f[e],!1,null),++e;while(e<f.length);if(t.maskKeyPress=!1,t._callPasteHandler=!1,t.element.value===i){o=0;t.maskKeyPress=!0;do io.call(t,f[o],!1,null),++o;while(o<f.length);t.maskKeyPress=!1}else ve.call(t,n,i)},1)}}function rrt(n){var t=this,u;if(this.mask){var f=this.element.value,i=this.element.selectionStart,r=this.element.selectionEnd;this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});u=this.element.value.substring(0,i)+this.promptMask.substring(i,r)+this.element.value.substring(r);setTimeout(function(){bt.call(t,u);t.element.selectionStart=t.element.selectionEnd=i;t.element.value!==f&&ve.call(t,n,null)},0)}}function ybt(n){n.preventDefault()}function urt(n){var t,i;if(b(n,{ctrlKey:!1,keyCode:229}),this.mask){if(this.element.value===""&&this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),this.element.value.length===1&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this._callPasteHandler||ort.call(this,n),this.element.value.length>this.promptMask.length){var r=this.element.selectionStart,f=this.element.value.length-this.promptMask.length,u=this.element.value.substring(r-f,r);this.maskKeyPress=!1;t=0;do io.call(this,u[t],n.ctrlKey,n),++t;while(t<u.length);this.element.value!==this.preEleVal&&ve.call(this,n,null)}i=go.call(this,this.element);this.prevValue=i;this.value=i;i===""&&(bt.call(this,this.promptMask),this.element.setSelectionRange(0,0))}}function frt(n){var i,t;this.mask&&(n.keyCode!==229&&(n.ctrlKey&&(n.keyCode===89||n.keyCode===90)&&n.preventDefault(),ort.call(this,n)),i=this.element.value,n.ctrlKey&&(n.keyCode===89||n.keyCode===90)&&(t=void 0,n.keyCode===90&&this.undoCollec.length>0&&i!==this.undoCollec[this.undoCollec.length-1].value?(t=this.undoCollec[this.undoCollec.length-1],this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),bt.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.undoCollec.splice(this.undoCollec.length-1,1)):n.keyCode===89&&this.redoCollec.length>0&&i!==this.redoCollec[0].value&&(t=this.redoCollec[0],this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),bt.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.redoCollec.splice(0,1))))}function pbt(){var n,t=this.element.selectionStart,i=this.element.selectionEnd;this.redoCollec.length>0?(n=this.redoCollec[0],bt.call(this,n.value),n.startIndex-t==1?(this.element.selectionStart=n.startIndex,this.element.selectionEnd=n.endIndex):(this.element.selectionStart=t+1,this.element.selectionEnd=i+1)):(bt.call(this,this.promptMask),this.element.selectionStart=this.element.selectionEnd=t)}function ert(n,t,i){return i.type==="input"&&(n=!1,t=this.element.value,bt.call(this,this.promptMask),va.call(this,t)),n}function ort(n){var u=!1,c,l=!1,f,k,s,h,e,r,w;this.element.value.length<this.promptMask.length&&(u=!0,c=this.element.value,u=ert.call(this,u,c,n),pbt.call(this));this.element.value.length>=this.promptMask.length&&n.type==="input"&&(u=ert.call(this,u,c,n));var o=this.element.selectionStart,v=this.element.selectionEnd,i=this.element.selectionStart,y=this.element.selectionEnd,p=this.hiddenMask.replace(/[>|\\<]/g,""),a=p[i-1],nt=this.element.parentNode;if(u||n.keyCode===8||n.keyCode===46){if(this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:y}),f=!1,k=this.element.value,i>0||(n.keyCode===8||n.keyCode===46)&&i<this.element.value.length&&this.element.selectionEnd-i!==this.element.value.length)for(s=i,i!==y?(i=y,n.keyCode===46&&(f=!0)):n.keyCode===46?++s:--s,h=i;n.keyCode===8||u||f?h>s:h<s;n.keyCode===8||u||f?h--:h++)for(e=i;n.keyCode===8||u||f?e>0:e<this.element.value.length;n.keyCode===8||u||f?e--:e++){if(r=void 0,(n.keyCode===8||f)&&(o!==v&&o!==i||o===v)||u?(a=p[e-1],r=i-1):(a=p[e],r=i,++i),w=this.element.value[r],t(this.regExpCollec[a])&&!t(this.customCharacters)&&t(this.customCharacters[a])&&this.hiddenMask[r]!==this.promptChar&&this.customRegExpCollec[r][0]!=="["&&this.customRegExpCollec[r][this.customRegExpCollec[r].length-1]!=="]"||this.promptMask[r]!==this.promptChar&&t(this.customCharacters))this.element.selectionStart=this.element.selectionEnd=r,n.preventDefault(),n.keyCode!==46||f||++this.element.selectionStart;else{var b=this.element.value,d=this.promptChar,g=b.substring(0,r)+d+b.substring(i,b.length);bt.call(this,g);n.preventDefault();this.element.selectionStart=this.element.selectionEnd=r;l=!0}if(i=this.element.selectionStart,(l||n.keyCode!==8)&&!f&&(l||n.keyCode===46)?(r=i,l=!1):r=i-1,w=this.element.value[r],o!==v&&this.element.selectionStart===o||this.promptMask[r]===this.promptChar||w!==this.promptMask[r]&&this.promptMask[r]!==this.promptChar&&!t(this.customCharacters))break}this.element.selectionStart===0&&this.element.selectionEnd===this.element.value.length&&(bt.call(this,this.promptMask),n.preventDefault(),this.element.selectionStart=this.element.selectionEnd=i);this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});this.element.value!==k&&ve.call(this,n,c)}}function srt(n){var i,t;this.mask&&(i=this.element.value,(!n.ctrlKey||n.ctrlKey&&n.code!=="KeyA"&&n.code!=="KeyY"&&n.code!=="KeyZ"&&n.code!=="KeyX"&&n.code!=="KeyC"&&n.code!=="KeyV")&&(this.maskKeyPress=!0,t=n.key,t==="Spacebar"&&(t=String.fromCharCode(n.keyCode)),t?t&&t.length===1&&(io.call(this,t,n.ctrlKey,n),n.preventDefault()):(this.isIosInvalid=!0,io.call(this,String.fromCharCode(n.keyCode),n.ctrlKey,n),n.preventDefault(),this.isIosInvalid=!1)),this.element.value!==i&&ve.call(this,n,i))}function ve(n){if(!t(this.changeEventArgs)&&!this.isInitial){var i={};this.changeEventArgs={value:this.element.value,maskedValue:this.element.value,isInteraction:!1};this.mask&&(this.changeEventArgs.value=go.call(this,this.element));t(n)||(this.changeEventArgs.isInteraction=!0,this.changeEventArgs.event=n);st(i,this.changeEventArgs);this.trigger("change",i)}this.preEleVal=this.element.value;v(this.element,{"aria-valuenow":this.element.value})}function hrt(n){var i,f,r,c,s,u,l;if(this.mask){if(i=void 0,this.maskKeyPress||n.keyCode!==229)lrt.call(this);else if(f=void 0,this.element.value.length===1&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this.element.value.length>this.promptMask.length){var h=this.element.selectionStart,e=this.element.value.length-this.promptMask.length,t=this.element.value.substring(h-e,h);this.undoCollec.length>0?(i=this.undoCollec[this.undoCollec.length-1],r=this.element.selectionStart,f=i.value,c=i.value.substring(r-e,r),i=this.redoCollec[0],t=t.trim(),s=o.isAndroid&&t==="",s||c===t||i.value.substring(r-e,r)===t?s&&crt.call(this,n,r-1,this.element.selectionEnd-1,t,n.ctrlKey,!1):io.call(this,t,n.ctrlKey,n)):(f=this.promptMask,io.call(this,t,n.ctrlKey,n));this.maskKeyPress=!1;ve.call(this,n,f)}u=go.call(this,this.element);this.element.selectionStart===0&&this.promptMask===this.element.value&&u===""&&(u!==""||this.value===u)||(this.prevValue=u,this.value=u)}else ve.call(this,n),this.value=this.element.value;this.element.selectionStart===0&&this.element.selectionEnd===0&&(l=this.element,setTimeout(function(){l.setSelectionRange(0,0)},0))}function wbt(n){if(n.length>1&&this.promptMask.length+n.length<this.element.value.length){var t=this.redoCollec[0].value.substring(0,this.redoCollec[0].startIndex)+n+this.redoCollec[0].value.substring(this.redoCollec[0].startIndex,this.redoCollec[0].value.length);bt.call(this,t);this.element.selectionStart=this.element.selectionEnd=this.redoCollec[0].startIndex+n.length}this.element.selectionStart=this.element.selectionStart-n.length;this.element.selectionEnd=this.element.selectionEnd-n.length}function bbt(n){this.maskKeyPress||wbt.call(this,n)}function io(n,i,r){var e,l,w,b,a,s,k,d;if(bbt.call(this,n),!t(this)&&!t(n)){var u=this.element.selectionStart,v=u,g=this.element.selectionEnd,f,h=!1,nt=this.element.value,c,y=!1,p=!1;for(e=0;e<n.length;e++)if(l=n[e],u=this.element.selectionStart,g=this.element.selectionEnd,this.maskKeyPress||v!==u||(u=u+e),!this.maskKeyPress||u<this.promptMask.length){for(s=u;s<this.promptMask.length;s++)w=this.escapeMaskValue,f=w[u],this.hiddenMask[u]==="\\"&&this.hiddenMask[u+1]===n&&(p=!0),(t(this.regExpCollec[f])&&(t(this.customCharacters)||!t(this.customCharacters)&&t(this.customCharacters[f]))&&this.hiddenMask[u]!==this.promptChar&&this.customRegExpCollec[u][0]!=="["&&this.customRegExpCollec[u][this.customRegExpCollec[u].length-1]!=="]"||this.promptMask[u]!==this.promptChar&&t(this.customCharacters)||this.promptChar===f&&this.escapeMaskValue===this.mask)&&(this.element.selectionStart=this.element.selectionEnd=u+1,u=this.element.selectionStart,f=this.hiddenMask[u]);if(t(this.customCharacters)||t(this.customCharacters[f]))!t(this.regExpCollec[f])&&l.match(new RegExp(this.regExpCollec[f]))&&this.promptMask[u]===this.promptChar?h=!0:this.promptMask[u]===this.promptChar&&this.customRegExpCollec[u][0]==="["&&this.customRegExpCollec[u][this.customRegExpCollec[u].length-1]==="]"&&l.match(new RegExp(this.customRegExpCollec[u]))&&(h=!0);else for(b=this.customCharacters[f],a=b.split(","),s=0;s<a.length;s++)if(l.match(new RegExp("["+a[s]+"]"))){h=!0;break}(!this.maskKeyPress||u<this.hiddenMask.length)&&h?(e===0&&(this.maskKeyPress?this.undoCollec.push({value:nt,startIndex:u,endIndex:u}):(k=this.element.selectionStart,d=this.element.selectionEnd,this.redoCollec.length>0?(c=this.redoCollec[0].value,bt.call(this,c),this.undoCollec.push(this.redoCollec[0])):(this.undoCollec.push({value:this.promptMask,startIndex:u,endIndex:u}),c=this.promptMask,bt.call(this,c)),this.element.selectionStart=k,this.element.selectionEnd=d)),u=this.element.selectionStart,kbt.call(this,r,u,l,c,p),y=!0,e===n.length-1&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),h=!1):(u=this.element.selectionStart,crt.call(this,r,u,v,n,i,y));e!==n.length-1||h||(!o.isAndroid||o.isAndroid&&u<this.promptMask.length)&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd})}else n.length!==1||i||t(r)||ib.call(this)}}function kbt(n,t,i,r,u){if(this.hiddenMask.length>this.promptMask.length&&(i=dbt.call(this,i,this.element.value)),!u){var f=this.element.value,e=f.substring(0,t)+i+f.substring(t+1,f.length);bt.call(this,e);this.element.selectionStart=this.element.selectionEnd=t+1}}function crt(n,i,r,u,f,e){if(!this.maskKeyPress){var s=void 0,o=this.element.value;i>=this.promptMask.length?bt.call(this,o.substring(0,i)):(r===i?bt.call(this,o.substring(0,i)+o.substring(i+1,o.length)):this.promptMask.length===this.element.value.length?bt.call(this,o.substring(0,i)+o.substring(i,o.length)):bt.call(this,o.substring(0,r)+o.substring(r+1,o.length)),this.element.selectionStart=this.element.selectionEnd=e||this.element.value[r]!==this.promptChar?i:r);s=this.element.value;ib.call(this)}u.length!==1||f||t(n)||ib.call(this)}function ib(){var t=this,n=this.element.parentNode,i=200;n.classList.contains(ubt)||n.classList.contains(fbt)?u([n],la):u([this.element],la);this.isIosInvalid===!0&&(i=400);v(this.element,{"aria-invalid":"true"});setTimeout(function(){t.maskKeyPress||lrt.call(t)},i)}function lrt(){var n=this.element.parentNode;h([n],la);h([this.element],la);v(this.element,{"aria-invalid":"false"})}function dbt(n,t){for(var r,u=t,f=0,e,i=0;i<this.hiddenMask.length;i++)if(this.hiddenMask[i]==="\\"&&(r=u.substring(0,i)+"\\"+u.substring(i,u.length)),(this.hiddenMask[i]===">"||this.hiddenMask[i]==="<"||this.hiddenMask[i]==="|")&&(this.hiddenMask[i]!==u[i]&&(r=u.substring(0,i)+this.hiddenMask[i]+u.substring(i,u.length)),++f),r){if(r[i]===this.promptChar&&i>this.element.selectionStart||this.element.value.indexOf(this.promptChar)<0&&this.element.selectionStart+f===i){f=0;break}u=r}while(i>=0&&r){if(i===0||r[i-1]!=="\\")if(e=this.element.value,r[i]===">"){n=n.toUpperCase();break}else if(r[i]==="<"){n=n.toLowerCase();break}else if(r[i]==="|")break;--i}return n}function va(n){var r,f,i;if(this.mask&&n!==undefined&&(this.prevValue===undefined||this.prevValue!==n)){if(this.maskKeyPress=!0,bt.call(this,this.promptMask),n!==""&&(this.element.selectionStart=0,this.element.selectionEnd=0),n!==null)for(r=0;r<n.length;r++)io.call(this,n[r],!1,null);f=go.call(this,this.element);this.prevValue=f;this.value=f;ve.call(this,null,null);this.maskKeyPress=!1;i=this.element.parentNode.querySelector(".e-float-text");this.element.value===this.promptMask&&this.floatLabelType==="Auto"&&this.placeholder&&!t(i)&&i.classList.contains(aa)&&!this.isFocus&&(h([i],aa),u([i],ebt),bt.call(this,""))}(this.mask===null||this.mask===""&&this.value!==undefined)&&bt.call(this,this.value)}function bt(n,i){!this.isFocus&&this.floatLabelType==="Auto"&&this.placeholder&&t(this.value)&&(n="");var r=go.call(this,i?i:this.element,n);r===null||r===""?(c.setValue(n,i?i:this.element,this.floatLabelType,!1),this.showClearButton&&this.inputObj.clearButton.classList.add("e-clear-icon-hide")):c.setValue(n,i?i:this.element,this.floatLabelType,this.showClearButton)}function ka(n,t){for(var u,i=b({},n),r=0,f=Object.keys(i);r<f.length;r++)u=f[r],t.indexOf(u)<0&&ly(i,u);return i}function or(n,i){var e={},r,f;if(t(n)||typeof n=="string"||typeof n=="number"||!t(n.isHeader))return n;for(r=0,f=Object.keys(i);r<f.length;r++){var s=f[r],u=i[s],o=!t(u)&&typeof u=="string"?p(u,n):undefined;t(o)||(e[u]=o)}return e}function wv(n,t){var i=document.getElementById("gauge-measuretext"),r;return i===null&&(i=ct("text",{id:"gauge-measuretext"}),document.body.appendChild(i)),r="position: absolute; visibility: hidden;;left: 0; top: -100; white-space: nowrap;"+ck(t),i.innerHTML=n,i.setAttribute("style",r),new lo(i.clientWidth,i.clientHeight)}function tl(n,t){return n!==null&&n!==undefined?n.indexOf("%")!==-1?t/100*parseInt(n,10):parseInt(n,10):null}function ck(n){return"font-size:"+n.size+"; font-style:"+n.fontStyle+"; font-weight:"+n.fontWeight+"; font-family:"+n.fontFamily+";opacity:"+n.opacity+"; color:"+n.color+";"}function ss(n,t,i){gt(n,{stroke:i.color,"stroke-width":i.width,fill:t})}function yft(n){var t;return document.body.appendChild(n),t=n.getBoundingClientRect(),dv(n.id),t}function gf(n,t){return n!==null&&n!==undefined?n.indexOf("%")!==-1?t/100*parseInt(n,10):parseInt(n,10):null}function lk(n,t,i,r,u){var e={},f,o=new ge(""),s=u+" font-size:"+t.size+"; font-style:"+t.fontStyle+" ; font-weight:"+t.fontWeight+"; font-family:"+t.fontFamily+";";return e={id:n.id,x:n.x,y:n.y,fill:i,"text-anchor":n.anchor,transform:n.transform,opacity:t.opacity,"dominant-baseline":n.baseLine,style:s},f=o.createText(e,n.text),r.appendChild(f),f}function pu(n,t,i,r){r=r?r:"Path";var u=i.renderer["draw"+r](n);return u.setAttribute("transform",n.transform),u.setAttribute("style",n.style),t.appendChild(u),u}function pft(n,t,i){for(var r=0,u=i.length;n<u;n++)r+=i[n];return r}function bv(n,t,i,r){return-i*Math.cos(n/r*(Math.PI/2))+i+t}function tu(n,t,i,r,u,f){var e;return u-=hs(r,u)?.0001:0,r-=90,u-=90,f?e=(n-i)*(co(r,u)/(t-i))+r:(e=u-(n-i)*(co(r,u)/(t-i)),e=e<0?360+e:e),Math.round(e)>=360?e-360:Math.round(e)<0?360+e:e}function co(n,t){var i=t-n;return i<0?i+360:i}function wft(n,t,i,r,u,f){return u-=hs(r,u)?.0001:0,n=n<r?n+360:n,f?(n-r)/co(r,u)*(t-i)+i:t-((n-r)/co(r,u)*(t-i)+i)}function hs(n,t){var i=t-n;return i=i<=0?i+360:i,Math.floor(i/360)!==0}function bft(n,t){var i=Math.atan2(t.y-n.y,t.x-n.x);return i=Math.round((i<0?6.283+i:i)*(180/Math.PI))-270,i+(i<0?360:0)}function ti(n,t,i){var r=n*Math.PI/180;return new rl(Math.cos(r)*t+i.x,Math.sin(r)*t+i.y)}function il(n,t,i,r,u,f){i-=hs(t,i)?.0001:0;var e=co(t,i),s=r-u,h=r-f,o=r-(u+f)/2;return u!==undefined&&f!==undefined?kft(ti(t,r,n),ti(i,r,n),ti(t,s,n),ti(i,h,n),r,o,o,e<180?0:1):gft(ti(t,r,n),ti(i,r,n),r,e<180?0:1)}function kft(n,t,i,r,u,f,e,o){return"M "+n.x+" "+n.y+" A "+u+" "+u+" 0 "+o+" 1 "+t.x+" "+t.y+" L "+r.x+" "+r.y+" A "+e+" "+f+" 0 "+o+" 0 "+i.x+" "+i.y+" Z"}function ak(n,t,i,r,u,f,e,o){i-=hs(t,i)?.0001:0;var l=co(t,i),s=f-e,h=f-o,c=f-(e+o)/2;return dft(ti(t,f,n),ti(i,f,n),ti(u,f,n),ti(u,h,n),ti(r,f,n),ti(r,s,n),ti(t,s,n),ti(i,h,n),f,c,c,l<180?0:1)}function dft(n,t,i,r,u,f,e,o,s,h,c,l){return"M "+n.x+" "+n.y+" A "+s+" "+s+" 0 "+l+" 1 "+t.x+" "+t.y+" C "+i.x+" "+i.y+" "+r.x+" "+r.y+" "+o.x+" "+o.y+" A "+c+" "+h+" 0 "+l+" 0 "+e.x+" "+e.y+" C "+f.x+" "+f.y+" "+u.x+" "+u.y+" "+n.x+" "+n.y+" Z"}function kv(n,t,i,r,u){i-=hs(t,i)?.0001:0;var f=co(t,i);return net(n,ti(t,r,n),ti(i,r,n),r,ti(t,u,n),ti(i,u,n),u,f<180?0:1)}function gft(n,t,i,r){return"M "+n.x+" "+n.y+" A "+i+" "+i+" 0 "+r+" 1 "+t.x+" "+t.y}function net(n,t,i,r,u,f,e,o){return"M "+t.x+" "+t.y+" A "+r+" "+r+" 0 "+o+" 1 "+i.x+" "+i.y+" L "+f.x+" "+f.y+" A "+e+" "+e+" 0 "+o+",0 "+u.x+" "+u.y+" Z"}function cs(n){return document.getElementById(n)}function tet(n){var t=null;try{document.querySelectorAll(n).length&&(t=cu(document.querySelector(n).innerHTML.trim()))}catch(i){t=cu(n)}return t}function dv(n){var t=cs(n);t&&lt(t)}function vk(n,t){var i;return i=n.split(t.element.id+"_Axis_")[1],{axisIndex:+i[0],pointerIndex:+i[i.length-1]}}function yk(n){var t=n&&n.match("{value}")!==null;return t?"":n}function pk(n,t,i,r,u){var h,s=i.width,e=i.height,o=n.x,f=n.y,c=n.x+-s/2,l=n.y+-e/2;switch(t){case"Circle":st(u,{rx:s/2,ry:e/2,cx:o,cy:f});break;case"Diamond":h="M "+c+" "+f+" L "+o+" "+(f+-e/2)+" L "+(o+s/2)+" "+f+" L "+o+" "+(f+e/2)+" L "+c+" "+f+" Z";st(u,{d:h});break;case"Rectangle":h="M "+c+" "+(f+-e/2)+" L "+(o+s/2)+" "+(f+-e/2)+" L "+(o+s/2)+" "+(f+e/2)+" L "+c+" "+(f+e/2)+" L "+c+" "+(f+-e/2)+" Z";st(u,{d:h});break;case"Triangle":h="M "+o+" "+f+" L "+(o-e)+" "+(f-s/2)+"L "+(o-e)+" "+(f+s/2)+" Z";st(u,{d:h});break;case"InvertedTriangle":h="M "+o+" "+f+" L "+(o+e)+" "+(f-s/2)+"L "+(o+e)+" "+(f+s/2)+" Z";st(u,{d:h});break;case"Image":st(u,{href:r,height:e,width:s,x:c,y:l})}return u}function gv(n,t,i){var r=0,u=0,f=t.filter(function(t){return r=Math.min(t.start,t.end),u=Math.max(t.start,t.end),n>=r&&u>=n});return f.length?f[0].rangeColor:i}function ati(){return["#50c917","#27d5ff","#fcde0b","#ffb133","#ff5985"]}function pti(n){var t;switch(n){case"Highcontrast":t={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;default:t={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return t}function iy(n,t){var i=document.getElementById("chartmeasuretext");return i===null&&(i=ct("text",{id:"chartmeasuretext"}),document.body.appendChild(i)),i.innerHTML=n,i.style.position="absolute",i.style.fontSize=t.size,i.style.fontWeight=t.fontWeight,i.style.fontStyle=t.fontStyle,i.style.fontFamily=t.fontFamily,i.style.visibility="hidden",i.style.top="-100",i.style.left="0",i.style.whiteSpace="nowrap",i.style.lineHeight="normal",new ry(i.clientWidth,i.clientHeight)}function wti(n,t,i,r,u,f,e,o,s,h,c){var l="",a=i.x,p=i.y,y=i.x+i.width,v=i.y+i.height;return c=c?c:0,f?(l=l.concat("M "+a+" "+(p+t)+" Q "+a+" "+p+" "+(a+n)+" "+p+"  L "+(y-n)+" "+p+" Q "+y+" "+p+" "+y+" "+(p+t)),l=l.concat(" L "+y+" "+(v-t)+" Q "+y+" "+v+" "+(y-n)+" "+v),u!==0&&(l=l.concat(" L "+(r.x+u/2)+" "+v),l=l.concat(" L "+(s+c)+" "+(v+u-c))+(" Q "+s+" "+(v+u)+" "+(s-c)+" "+(v+u-c))),l=r.x-u/2>a?l.concat(" L "+(r.x-u/2)+" "+v+" L "+(a+n)+" "+v+" Q "+a+" "+v+" "+a+" "+(v-t)+" z"):u===0?l.concat(" L "+(a+n)+" "+v+" Q "+a+" "+v+" "+a+" "+(v-t)+" z"):l.concat(" L "+a+" "+(v+t)+" z")):e?(l=l.concat("M "+a+" "+(p+t)+" Q "+a+" "+p+" "+(a+n)+" "+p+" L "+(r.x-u/2)+" "+p),l=l.concat(" L "+(s-c)+" "+(r.y+c)),l+=" Q "+s+" "+r.y+" "+(s+c)+" "+(r.y+c),l=l.concat(" L "+(r.x+u/2)+" "+p+" L "+(y-n)+" "+p+" Q "+y+" "+p+" "+y+" "+(p+t)),l=l.concat(" L "+y+" "+(v-t)+" Q "+y+" "+v+" "+(y-n)+" "+v+" L "+(a+n)+" "+v+" Q "+a+" "+v+" "+a+" "+(v-t)+" z")):o?(l=l.concat("M "+a+" "+(p+t)+" Q "+a+" "+p+" "+(a+n)+" "+p),l=l.concat(" L "+(y-n)+" "+p+" Q "+y+" "+p+" "+y+" "+(p+t)+" L "+y+" "+(r.y-u/2)),l=l.concat(" L "+(y+u-c)+" "+(h-c)),l+=" Q "+(y+u)+" "+h+" "+(y+u-c)+" "+(h+c),l=l.concat(" L "+y+" "+(r.y+u/2)+" L "+y+" "+(v-t)+" Q "+y+" "+v+" "+(y-n)+" "+v),l=l.concat(" L "+(a+n)+" "+v+" Q "+a+" "+v+" "+a+" "+(v-t)+" z")):(l=l.concat("M "+(a+n)+" "+p+" Q "+a+" "+p+" "+a+" "+(p+t)+" L "+a+" "+(r.y-u/2)),l=l.concat(" L "+(a-u+c)+" "+(h-c)),l+=" Q "+(a-u)+" "+h+" "+(a-u+c)+" "+(h+c),l=l.concat(" L "+a+" "+(r.y+u/2)+" L "+a+" "+(v-t)+" Q "+a+" "+v+" "+(a+n)+" "+v),l=l.concat(" L "+(y-n)+" "+v+" Q "+y+" "+v+" "+y+" "+(v-t)+" L "+y+" "+(p+t)+" Q "+y+" "+p+" "+(y-n)+" "+p+" z")),l}function we(n){return document.getElementById(n)}function uy(n){var t=we(n);t&&lt(t)}function dti(n,t,i,r,u,f){var s=new ge(""),e=gti(n,i,t,u,r),o=s["draw"+e.functionName](e.renderOption);return o.setAttribute("aria-label",f),o}function gti(n,t,i,r,u){var s,a="Path",h=t.width,e=t.height,o=n.x,f=n.y,c=n.x+-h/2,w=n.y+-e/2,l;switch(i){case"Circle":case"Bubble":a="Ellipse";st(r,{rx:h/2,ry:e/2,cx:o,cy:f});break;case"Cross":s="M "+c+" "+f+" L "+(o+h/2)+" "+f+" M "+o+" "+(f+e/2)+" L "+o+" "+(f+-e/2);st(r,{d:s});break;case"HorizontalLine":s="M "+c+" "+f+" L "+(o+h/2)+" "+f;st(r,{d:s});break;case"VerticalLine":s="M "+o+" "+(f+e/2)+" L "+o+" "+(f+-e/2);st(r,{d:s});break;case"Diamond":s="M "+c+" "+f+" L "+o+" "+(f+-e/2)+" L "+(o+h/2)+" "+f+" L "+o+" "+(f+e/2)+" L "+c+" "+f+" z";st(r,{d:s});break;case"Rectangle":s="M "+c+" "+(f+-e/2)+" L "+(o+h/2)+" "+(f+-e/2)+" L "+(o+h/2)+" "+(f+e/2)+" L "+c+" "+(f+e/2)+" L "+c+" "+(f+-e/2)+" z";st(r,{d:s});break;case"Triangle":s="M "+c+" "+(f+e/2)+" L "+o+" "+(f+-e/2)+" L "+(o+h/2)+" "+(f+e/2)+" L "+c+" "+(f+e/2)+" z";st(r,{d:s});break;case"InvertedTriangle":s="M "+(o+h/2)+" "+(f-e/2)+" L "+o+" "+(f+e/2)+" L "+(o-h/2)+" "+(f-e/2)+" L "+(o+h/2)+" "+(f-e/2)+" z";st(r,{d:s});break;case"Pentagon":var p=72,v=void 0,y=void 0;for(l=0;l<=5;l++)v=h/2*Math.cos(Math.PI/180*l*p),y=e/2*Math.sin(Math.PI/180*l*p),s=l===0?"M "+(o+v)+" "+(f+y)+" ":s.concat("L "+(o+v)+" "+(f+y)+" ");s=s.concat("Z");st(r,{d:s});break;case"Image":a="Image";st(r,{href:u,height:e,width:h,x:c,y:w})}return{renderOption:r,functionName:a}}function nii(n,t,i,r){var f={},u,o=new ge(""),e;return f={id:n.id,x:n.x,y:n.y,fill:i,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":n.anchor,transform:n.transform,opacity:t.opacity,"dominant-baseline":n.baseLine},e=typeof n.text=="string"?n.text:n.text[0],u=o.createText(f,e),r.appendChild(u),u}function uf(n,t){return n!==null&&n!==undefined?n.indexOf("%")!==-1?t/100*parseInt(n,10):parseInt(n,10):null}function ui(n,t){var i=document.getElementById("heatmapmeasuretext");return i===null&&(i=ct("text",{id:"heatmapmeasuretext"}),document.body.appendChild(i)),i.innerHTML=n,i.style.position="absolute",i.style.visibility="hidden",i.style.fontSize=t.size.indexOf("px")!==-1?t.size:t.size+"px",i.style.fontWeight=t.fontWeight,i.style.fontStyle=t.fontStyle,i.style.fontFamily=t.fontFamily,i.style.top="-100",i.style.left="0",i.style.whiteSpace="nowrap",i.style.lineHeight="normal",new lf(i.clientWidth,i.clientHeight)}function od(n,t,i,r){return r.textAlignment==="Near"?t:r.textAlignment==="Center"?t+n/2:n+t}function ls(n){for(var u,i=0,t=0,r=n;t<r.length;t++)u=r[t],i+=u;return i}function ist(n,t,i,r){return r.textAlignment==="Near"?n.height-i:r.textAlignment==="Center"?n.height/2:t}function sd(n,t,i){var e=new ge("heatmapMeasureRotateText"),u=e.createSvg({id:"heatmapMeasureRotateText_svg",width:100,height:100}),r,o,f;return o={"font-size":n.size,"font-style":n.fontStyle,"font-family":n.fontFamily,"font-weight":n.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"},f=e.createText(o,t),u.appendChild(f),document.body.appendChild(u),r=f.getBoundingClientRect(),lt(u),new lf(r.right-r.left,r.bottom-r.top)}function nc(n,t,i){var r=[];switch(t.textOverflow){case"Wrap":r=rst(n,i,t);break;case"Trim":r.push(as(i,n,t));break;default:r.push(ust(i,n,t))}return r}function rst(n,t,i){for(var o=n.split(" "),r="",f=[],u,e=0,s=o.length;e<s;e++)u=o[e],ui(r.concat(u),i).width<t?r=r.concat((r===""?"":" ")+u):r!==""?(f.push(as(t,r,i)),r=u):(f.push(as(t,u,i)),u=""),r&&e===s-1&&f.push(as(t,r,i));return f}function as(n,t,i){var r=t,f=ui(t,i).width,e,u;if(f>n)for(e=t.length,u=e-1;u>=0;--u)if(r=t.substring(0,u)+"...",f=ui(r,i).width,f<=n)return r;return r}function ust(n,t,i){var r=t,f=ui(t,i).width,e,u;if(f>n)for(e=t.length,u=e-1;u>=0;--u)if(r=t.substring(0,u),f=ui(r,i).width,f<=n)return r;return r}function ol(n,t,i,r,u,f,e,o){var s=document.getElementById(u),c=o.initialClipRect,h=ui(n,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}),l=h.width+5;t=t+l>r?t-l:t;t=t<0?5:t;s?(s.innerHTML=n,s.style.top=(i+15).toString()+"px",s.style.left=(t+15).toString()+"px"):(s=ct("div",{innerHTML:n,id:u,styles:"top:"+(i+15).toString()+"px;left:"+(t+15).toString()+"px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI"}),f.appendChild(s));n===o.titleSettings.text?s.style.width=t+15+h.width+7>o.availableSize.width?(o.availableSize.width-(t+15)).toString()+"px":"":(s.style.left=t+15+h.width+7>o.availableSize.width?(o.availableSize.width-(h.width+7)).toString()+"px":t.toString()+"px",s.style.top=i+15+h.height+6>o.availableSize.height?(c.height+c.y-(h.height+6)+5).toString()+"px":s.style.top);e&&setTimeout(function(){vs(u)},1500)}function vs(n){var t=tc(n);t&&lt(t)}function tc(n){return document.getElementById(n)}function ic(n,t,i,r){var u=new Date(n);t=Math.ceil(t*r);switch(i){case"Years":u.setFullYear(u.getFullYear()+t);break;case"Months":u.setMonth(u.getMonth()+t);break;case"Days":u.setDate(u.getDate()+t);break;case"Hours":u.setHours(u.getHours()+t);break;case"Minutes":u.setMinutes(u.getMinutes()+t)}return u}function cd(n,t,i){for(var o=n.length,u,r,e,f=0;f<o;f++)if(u=n[f],r=u.region,t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height){e=u.text;break}return e}function sst(n){var i,r,t;return n=n==="transparent"?"white":n,i=document.getElementById("heatmapmeasuretext"),i.style.color=n,n=window.getComputedStyle(i).color,r=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/,t=r.exec(n),hst(new el(parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10)))}function hst(n){return"#"+hy(n.R)+hy(n.G)+hy(n.B)}function hy(n){var t=n.toString(16);return t.length===1?"0"+t:t}function cst(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?new el(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):new el(255,255,255)}function cy(n,t,i,r){return n?t.replace("{value}",r(i)):r(i)}function cii(n){var t;switch(n){case"Highcontrast":t={heatMapTitle:"#ffffff",axisTitle:"#ffffff",axisLabel:"#ffffff",cellBorder:"#EEEEEE",background:"#000000",cellTextColor:"#000000",emptyCellColor:"#EEEEEE",legendLabel:"#ffffff",palette:[{color:"#BEE7EE"},{color:"#85c4cf"},{color:"#4CA1AF"}]};break;default:t={heatMapTitle:"#424242",axisTitle:"#424242",axisLabel:"#686868",cellBorder:"#EEEEEE",cellTextColor:"#000000",background:"#FFFFFF",emptyCellColor:"#EEEEEE",legendLabel:"#353535",palette:[{color:"#BEE7EE"},{color:"#85c4cf"},{color:"#4CA1AF"}]}}return t}var rc="ej2_instances",tht=0,bd=/^(.*?):[ \t]*([^\r\n]*)$/gm,kd="GET",ue=function(){function n(n,i,r,u){this.mode=!0;this.emitError=!0;this.options={};typeof n=="string"?(this.url=n,this.type=i?i.toUpperCase():kd,this.mode=t(r)?!0:r):typeof n=="object"&&(this.options=n,st(this,this.options));this.type=this.type?this.type.toUpperCase():kd;this.contentType=this.contentType!==undefined?this.contentType:u}return n.prototype.send=function(n){var i=this,r,u;return this.data=t(n)?this.data:n,r={cancel:!1},u=new Promise(function(n,u){i.httpRequest=new XMLHttpRequest;i.httpRequest.onreadystatechange=function(){i.stateChange(n,u)};t(i.onLoad)||(i.httpRequest.onload=i.onLoad);t(i.onProgress)||(i.httpRequest.onprogress=i.onProgress);t(i.onAbort)||(i.httpRequest.onabort=i.onAbort);t(i.onError)||(i.httpRequest.onerror=i.onError);t(i.onUploadProgress)||(i.httpRequest.upload.onprogress=i.onUploadProgress);i.httpRequest.open(i.type,i.url,i.mode);t(i.data)||i.contentType===null||i.httpRequest.setRequestHeader("Content-Type",i.contentType||"application/json; charset=utf-8");i.beforeSend&&i.beforeSend(r);r.cancel||i.httpRequest.send(t(i.data)?null:i.data)}),u},n.prototype.successHandler=function(n){if(this.onSuccess)this.onSuccess(n,this);return n},n.prototype.failureHandler=function(n){if(this.onFailure)this.onFailure(this.httpRequest);return n},n.prototype.stateChange=function(n,t){var i=this.httpRequest.responseText;if(this.dataType&&this.dataType.toLowerCase()==="json")if(i==="")i=undefined;else try{i=JSON.parse(i)}catch(r){}this.httpRequest.readyState===4&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||this.httpRequest.status===304?n(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):n())},n.prototype.getResponseHeader=function(n){for(var u,r={},i=bd.exec(this.httpRequest.getAllResponseHeaders());i;)r[i[1].toLowerCase()]=i[2],i=bd.exec(this.httpRequest.getAllResponseHeaders());return u=r[n.toLowerCase()],t(u)?null:u},n}(),r=function(){function n(){}return n.addOrGetEventData=function(n){return"__eventList"in n?n.__eventList.events:(n.__eventList={},n.__eventList.events=[])},n.add=function(t,i,r,u,f){var h=n.addOrGetEventData(t),e,s,o;for(e=f?pd(r,f):r,u&&(e=e.bind(u)),s=i.split(" "),o=0;o<s.length;o++)h.push({name:s[o],listener:r,debounce:e}),t.addEventListener(s[o],e);return e},n.remove=function(t,i,r){for(var u=n.addOrGetEventData(t),f=i.split(" "),o=function(n){var i=-1,e;u&&u.length!==0&&u.some(function(t,u){return t.name===f[n]&&t.listener===r?(i=u,e=t.debounce,!0):!1});i!==-1&&u.splice(i,1);e&&t.removeEventListener(f[n],e)},e=0;e<f.length;e++)o(e)},n.clearEvents=function(t){var u,i,r;for(u=n.addOrGetEventData(t),i=b([],i,u),r=0;r<i.length;r++)t.removeEventListener(i[r].name,i[r].debounce),u.shift()},n.trigger=function(t,i,r){for(var f,o=n.addOrGetEventData(t),u=0,e=o;u<e.length;u++)f=e[u],f.name===i&&f.debounce.call(this,r)},n}(),sht=/^svg|^path|^g/,fc=function(){function n(n){(this.ranArray=[],this.boundedEvents={},t(n))||(this.context=n)}return n.prototype.on=function(n,i,r,u){if(!t(i)){var f=r||this.context;if(this.notExist(n)){this.boundedEvents[n]=[{handler:i,context:f}];return}t(u)?this.isHandlerPresent(this.boundedEvents[n],i)||this.boundedEvents[n].push({handler:i,context:f}):this.ranArray.indexOf(u)===-1&&(this.ranArray.push(u),this.boundedEvents[n].push({handler:i,context:f,id:u}))}},n.prototype.off=function(n,t,i){var u,r,f;if(!this.notExist(n))if(u=p(n,this.boundedEvents),t){for(r=0;r<u.length;r++)if(i){u.splice(r,1);f=this.ranArray.indexOf(i);f!==-1&&this.ranArray.splice(f,1);break}else if(t===u[r].handler){u.splice(r,1);break}}else delete this.boundedEvents[n]},n.prototype.notify=function(n,t){var f,i,r,u;if(!this.notExist(n))for(t&&(t.name=n),f=p(n,this.boundedEvents).slice(0),i=0,r=f;i<r.length;i++)u=r[i],u.handler.call(u.context,t)},n.prototype.destroy=function(){this.boundedEvents=this.context=undefined},n.prototype.notExist=function(n){return this.boundedEvents.hasOwnProperty(n)===!1},n.prototype.isHandlerPresent=function(n,t){for(var u,i=0,r=n;i<r.length;i++)if(u=r[i],u.handler===t)return!0;return!1},n}(),fe=function(){function n(n,i){this.isProtectedOnChange=!0;this.properties={};this.changedProperties={};this.oldProperties={};this.refreshing=!1;this.finalUpdate=function(){};this.childChangedProperties={};this.modelObserver=new fc(this);d(i)||(this.element="string"==typeof i?document.querySelector(i):i,t(this.element)||(this.isProtectedOnChange=!1,this.addInstance()));d(n)||this.setProperties(n,!0);this.isDestroyed=!1}return n.prototype.setProperties=function(n,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t;st(this,n);t!==!0&&(st(this.changedProperties,n),this.dataBind());this.finalUpdate();this.changedProperties={};this.oldProperties={};this.isProtectedOnChange=i},n.callChildDataBind=function(n,t){for(var i,r,f,e,s=Object.keys(n),u=0,o=s;u<o.length;u++)if(i=o[u],t[i]instanceof Array)for(r=0,f=t[i];r<f.length;r++)e=f[r],e.dataBind!==undefined&&e.dataBind();else t[i].dataBind()},n.prototype.clearChanges=function(){this.finalUpdate();this.changedProperties={};this.oldProperties={};this.childChangedProperties={}},n.prototype.dataBind=function(){if(n.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,r=this.oldProperties;this.clearChanges();this.isProtectedOnChange=!0;this.onPropertyChanged(i,r);this.isProtectedOnChange=t}},n.prototype.saveChanges=function(n,t,i){this.isProtectedOnChange||(this.oldProperties[n]=i,this.changedProperties[n]=t,this.finalUpdate(),this.finalUpdate=yd(this.dataBind.bind(this)))},n.prototype.addEventListener=function(n,t){this.modelObserver.on(n,t)},n.prototype.removeEventListener=function(n,t){this.modelObserver.off(n,t)},n.prototype.trigger=function(n,t){if(this.isDestroyed!==!0){var i=this.isProtectedOnChange;this.isProtectedOnChange=!1;this.modelObserver.notify(n,t);this.isProtectedOnChange=i}},n.prototype.addInstance=function(){var n="e-"+this.getModuleName().toLowerCase();u([this.element],["e-control",n]);t(this.element.ej2_instances)?ii("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},n.prototype.destroy=function(){var n=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(t){return t!==n});h([this.element],["e-"+this.getModuleName()]);this.element.ej2_instances.length===0&&h([this.element],["e-control"]);this.clearChanges();this.modelObserver.destroy();this.isDestroyed=!0},n}(),aht=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,vht=/msie|trident/i,yht=/Trident\/7\./,pht=/(ipad|iphone|ipod touch)/i,wht=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,bht=/android/i,kht=/trident|windows phone|edge/i,dht=/(version)[ \/]([\w.]+)/i,gd={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i},o,vf,en,on,wo,vu,y,c,dk,sot,ed,gh,sy,hd,ys,vo,nht;typeof window!="undefined"&&(window.browserDetails=window.browserDetails||{});o=function(){function n(){}return n.extractBrowserDetail=function(){for(var e,u,t={culture:{}},o=Object.keys(gd),i=[],r=0,f=o;r<f.length;r++)if(e=f[r],i=n.userAgent.match(gd[e]),i){if(t.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),t.name=i[1].toLowerCase()==="crios"?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,!!n.userAgent.match(yht)){t.name="msie";break}u=n.userAgent.match(dht);t.name==="safari"&&u&&(t.version=u[2]);break}return t},n.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return n.isPointer?i[t].isPointer:n.isTouch?i[t].isTouch+(n.isDevice?"":" "+i[t].isDevice):i[t].isDevice},n.getTouchStartEvent=function(){return n.getEvent("start")},n.getTouchEndEvent=function(){return n.getEvent("end")},n.getTouchMoveEvent=function(){return n.getEvent("move")},n.getTouchCancelEvent=function(){return n.getEvent("cancel")},n.getValue=function(t,i){var r=window.browserDetails;return"undefined"==typeof r[t]?r[t]=i.test(n.userAgent):r[t]},Object.defineProperty(n,"userAgent",{get:function(){return n.uA},set:function(t){n.uA=t;window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"info",{get:function(){return d(window.browserDetails.info)?window.browserDetails.info=n.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIE",{get:function(){return n.getValue("isIE",vht)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isTouch",{get:function(){return d(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPointer",{get:function(){return d(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isMSPointer",{get:function(){return d(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isDevice",{get:function(){return n.getValue("isDevice",aht)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIos",{get:function(){return n.getValue("isIos",pht)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIos7",{get:function(){return n.getValue("isIos7",wht)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isAndroid",{get:function(){return n.getValue("isAndroid",bht)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWebView",{get:function(){return d(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(d(window.cordova)&&d(window.PhoneGap)&&d(window.phonegap)&&window.forge!=="object"),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWindows",{get:function(){return n.getValue("isWindows",kht)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchStartEvent",{get:function(){return d(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=n.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchMoveEvent",{get:function(){return d(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=n.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchEndEvent",{get:function(){return d(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=n.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchCancelEvent",{get:function(){return d(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=n.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),n.uA=typeof navigator!="undefined"?navigator.userAgent:"",n}();var lct=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ee=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},di=function(n){function t(t){var i=n.call(this,t,undefined)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}return lct(t,n),r=t,t.prototype.animate=function(n,t){var i,e,u,f,o;if(t=t?t:{},i=this.getModel(t),typeof n=="string")for(e=Array.prototype.slice.call(hu(n,document)),u=0,f=e;u<f.length;u++)o=f[u],i.element=o,r.delayAnimation(i);else i.element=n,r.delayAnimation(i)},t.stop=function(n,t){var i,r;n.style.animation="";n.removeAttribute("e-animate");i=n.getAttribute("e-animation-id");i&&(r=parseInt(i,10),cancelAnimationFrame(r),n.removeAttribute("e-animation-id"));t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(n){n.delay?setTimeout(function(){r.applyAnimation(n)},n.delay):r.applyAnimation(n)},t.applyAnimation=function(n){var i=this,f;n.timeStamp=0;var r=0,u=0,o=0,t=0,e=n.duration;n.element.setAttribute("e-animate","true");f=function(s){try{if(s){t=t===0?s:t;n.timeStamp=s+n.timeStamp-t;t=s;!r&&n.begin&&n.begin.call(i,n);r=r+1;var h=n.timeStamp/r;n.timeStamp<e&&n.timeStamp+h<e&&n.element.getAttribute("e-animate")?(n.element.style.animation=n.name+" "+n.duration+"ms "+n.timingFunction,n.progress&&n.progress.call(i,n),requestAnimationFrame(f)):(cancelAnimationFrame(u),n.element.removeAttribute("e-animation-id"),n.element.removeAttribute("e-animate"),n.element.style.animation="",n.end&&n.end.call(i,n))}else o=performance.now(),u=requestAnimationFrame(f),n.element.setAttribute("e-animation-id",u.toString())}catch(c){cancelAnimationFrame(u);n.element.removeAttribute("e-animation-id");n.fail&&n.fail.call(i,c)}};f()},t.prototype.getModel=function(n){return{name:n.name||this.name,delay:n.delay||this.delay,duration:n.duration!==undefined?n.duration:this.duration,begin:n.begin||this.begin,end:n.end||this.end,fail:n.fail||this.fail,progress:n.progress||this.progress,timingFunction:this.easing[n.timingFunction]?this.easing[n.timingFunction]:n.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},ee([i("FadeIn")],t.prototype,"name",void 0),ee([i(400)],t.prototype,"duration",void 0),ee([i("ease")],t.prototype,"timingFunction",void 0),ee([i(0)],t.prototype,"delay",void 0),ee([f()],t.prototype,"progress",void 0),ee([f()],t.prototype,"begin",void 0),ee([f()],t.prototype,"end",void 0),ee([f()],t.prototype,"fail",void 0),r=ee([vt],t);var r}(fe);vf=!1;var eg=function(){function n(n){this.rootId=n}return n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.createCanvas=function(n){var t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(n.width,n.height),this.canvasObj},n.prototype.setCanvasSize=function(n,i){var r=document.getElementById(this.rootId),u=t(r)?null:r.getBoundingClientRect();t(this.width)?this.canvasObj.setAttribute("width",n?n.toString():u.width.toString()):this.canvasObj.setAttribute("width",this.width.toString());t(this.height)?this.canvasObj.setAttribute("height",i?i.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())},n.prototype.setAttributes=function(n){var i,r;this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");i=this.getOptionValue(n,"stroke-dasharray");t(i)||(r=i.split(","),this.ctx.setLineDash([parseInt(r[0],10),parseInt(r[1],10)]));this.ctx.strokeStyle=this.getOptionValue(n,"stroke")},n.prototype.drawLine=function(n){this.ctx.save();this.ctx.beginPath();this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.moveTo(n.x1,n.y1);this.ctx.lineTo(n.x2,n.y2);this.ctx.stroke();this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawRectangle=function(n){var i=this.ctx,t=n.rx;this.ctx.save();this.ctx.beginPath();this.ctx.globalAlpha=this.getOptionValue(n,"opacity");this.setAttributes(n);this.ctx.rect(n.x,n.y,n.width,n.height);t!==null&&t>=0?this.drawCornerRadius(n):(n.fill==="none"&&(n.fill="transparent"),this.ctx.fillStyle=n.fill,this.ctx.fillRect(n.x,n.y,n.width,n.height),this.ctx.stroke());this.ctx.restore();this.ctx=i;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawCornerRadius=function(n){var t=n.rx,i=n.x,r=n.y,u=n.width,f=n.height;n.fill==="none"&&(n.fill="transparent");this.ctx.fillStyle=n.fill;u<2*t&&(t=u/2);f<2*t&&(t=f/2);this.ctx.beginPath();this.ctx.moveTo(i+u-t,r);this.ctx.arcTo(i+u,r,i+u,r+f,t);this.ctx.arcTo(i+u,r+f,i,r+f,t);this.ctx.arcTo(i,r+f,i,r,t);this.ctx.arcTo(i,r,i+u,r,t);this.ctx.closePath();this.ctx.fill();this.ctx.stroke();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawPath=function(n,t){var o=n.d,r=o.split(" "),s=this.getOptionValue(n,"stroke-width"),h=this.ctx,e=!0,i,u,f;for(this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=n.opacity?n.opacity:this.getOptionValue(n,"fill-opacity"),this.setAttributes(n),i=0;i<r.length;i=i+3){u=parseFloat(r[i+1]);f=parseFloat(r[i+2]);switch(r[i]){case"M":n.innerR||n.cx||this.ctx.moveTo(u,f);break;case"L":n.innerR||this.ctx.lineTo(u,f);break;case"C":var c=parseFloat(r[i+3]),l=parseFloat(r[i+4]),a=parseFloat(r[i+5]),v=parseFloat(r[i+6]);this.ctx.bezierCurveTo(u,f,c,l,a,v);i=i+4;break;case"A":n.innerR?e&&(this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.arc(n.x,n.y,n.innerR,n.end,n.start,!n.counterClockWise),e=!1):n.cx?this.ctx.arc(n.cx,n.cy,n.radius,0,2*Math.PI,n.counterClockWise):(this.ctx.moveTo(n.x,n.y),this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.lineTo(n.x,n.y));i=i+5;break;case"z":this.ctx.closePath()}}n.fill!=="none"&&n.fill!==undefined&&(this.ctx.fillStyle=n.fill,this.ctx.fill());s>0&&this.ctx.stroke();this.ctx.restore();this.ctx=h;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawText=function(n,i){var r=this.getOptionValue(n,"font-weight"),f;t(r)||r.toLowerCase()!=="regular"||(r="normal");var e=this.getOptionValue(n,"font-size"),o=this.getOptionValue(n,"font-family"),s=this.getOptionValue(n,"font-style").toLowerCase(),h=s+" "+r+" "+e+" "+o,u=this.getOptionValue(n,"text-anchor"),c=n.opacity!==undefined?n.opacity:1;u==="middle"&&(u="center");this.ctx.save();this.ctx.fillStyle=n.fill;this.ctx.font=h;this.ctx.textAlign=u;this.ctx.globalAlpha=c;n.baseline&&(this.ctx.textBaseline=n.baseline);f=0;this.ctx.translate(n.x+f/2,n.y);this.ctx.rotate(n.labelRotation*Math.PI/180);this.ctx.fillText(i,0,0);this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawCircle=function(n){var t=this.ctx;this.ctx.save();this.ctx.beginPath();this.ctx.arc(n.cx,n.cy,n.r,0,2*Math.PI);this.ctx.fillStyle=n.fill;this.ctx.globalAlpha=n.opacity;this.ctx.fill();this.setAttributes(n);this.ctx.stroke();this.ctx.restore();this.ctx=t;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawPolyline=function(n){var i,t;for(this.ctx.save(),this.ctx.beginPath(),i=n.points.split(" "),t=0;t<i.length-1;t++){var r=i[t].split(","),u=parseFloat(r[0]),f=parseFloat(r[1]);t===0?this.ctx.moveTo(u,f):this.ctx.lineTo(u,f)}this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawEllipse=function(n){var i=this.ctx,t=Math.max(n.rx,n.ry),r=n.rx/t,u=n.ry/t;this.ctx.save();this.ctx.beginPath();this.ctx.translate(n.cx,n.cy);this.ctx.save();this.ctx.scale(r,u);this.ctx.arc(0,0,t,0,2*Math.PI,!1);this.ctx.fillStyle=n.fill;this.ctx.fill();this.ctx.restore();this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore();this.ctx=i;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawImage=function(n){this.ctx.save();var i=new Image;t(n.href)||(i.src=n.href,this.ctx.drawImage(i,n.x,n.y,n.width,n.height));this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.createLinearGradient=function(n){var i;return t(n[0].colorStop)||(i=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(n,i)},n.prototype.createRadialGradient=function(n){var i;return t(n[0].colorStop)||(i=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(n,i)},n.prototype.setGradientValues=function(n,i){var u,r;if(t(n[0].colorStop))u=n[0].color.toString();else{for(r=0;r<=n.length-1;r++){var f=n[r].color,e=n[r].colorStop.slice(0,-1),o=parseInt(e,10)/100;i.addColorStop(o,f)}u=i.toString()}return this.dataUrl=this.canvasObj.toDataURL(),u},n.prototype.setElementAttributes=function(n,t){for(var r=Object.keys(n),u=Object.keys(n).map(function(t){return n[t]}),i=0;i<r.length;i++)t.setAttribute(r[i],u[i]);return t},n.prototype.updateCanvasAttributes=function(n){var r,i;this.setElementAttributes(n,this.canvasObj);r=this.ctx;t(this.dataUrl)||(i=new Image,i.onload=function(){r.drawImage(i,0,0)},i.src=this.dataUrl)},n}(),yct="Module",og=function(){function n(n){this.loadedModules=[];this.parent=n}return n.prototype.inject=function(n,t){var c=n.length,r,i,u,o,f,s,l,e,h;if(c===0){this.clean();return}for(this.loadedModules.length&&this.clearUnusedModule(n),r=0;r<c;r++)for(i=n[r],u=0,o=t;u<o.length;u++)f=o[u],s=i.member,f.prototype.getModuleName()!==i.member||this.isModuleLoaded(s)||(l=uc(f,i.args),e=this.getMemberName(s),i.isProperty?ii(e,f,this.parent):ii(e,l,this.parent),h=i,h.member=e,this.loadedModules.push(h))},n.prototype.clean=function(){for(var i,n=0,t=this.loadedModules;n<t.length;n++)i=t[n],i.isProperty||p(i.member,this.parent).destroy();this.loadedModules=[]},n.prototype.clearUnusedModule=function(n){for(var t,u=this,f=n.map(function(n){return u.getMemberName(n.member)}),e=this.loadedModules.filter(function(n){return f.indexOf(n.member)===-1}),i=0,r=e;i<r.length;i++)t=r[i],t.isProperty||p(t.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(t),1),ly(this.parent,t.member)},n.prototype.getMemberName=function(n){return n[0].toLowerCase()+n.substring(1)+yct},n.prototype.isModuleLoaded=function(n){for(var r,t=0,i=this.loadedModules;t<i.length;t++)if(r=i[t],r.member===this.getMemberName(n))return!0;return!1},n}(),it=function(){function n(n,t,i,r){this.properties={};this.changedProperties={};this.childChangedProperties={};this.oldProperties={};this.finalUpdate=function(){};this.callChildDataBind=p("callChildDataBind",fe);this.parentObj=n;this.controlParent=this.parentObj.controlParent||this.parentObj;this.propName=t;this.setProperties(i,!0);this.isParentArray=r}return n.prototype.updateChange=function(n,t){n===!0?this.parentObj.childChangedProperties[t]=n:delete this.parentObj.childChangedProperties[t];this.parentObj.updateChange&&this.parentObj.updateChange(n,this.parentObj.propName)},n.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var n=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),t=function(){clearTimeout(n)};this.finalUpdate=t}},n.prototype.clearChanges=function(){this.finalUpdate();this.updateChange(!1,this.propName);this.oldProperties={};this.changedProperties={}},n.prototype.setProperties=function(n,t){t===!0?(st(this,n),this.updateChange(!1,this.propName),this.clearChanges()):st(this,n)},n.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var n=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(ii(this.propName+"."+n,this.changedProperties,this.parentObj.changedProperties),ii(this.propName+"."+n,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},n.prototype.saveChanges=function(n,t,i){this.controlParent.isProtectedOnChange||(this.oldProperties[n]=i,this.changedProperties[n]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},n}(),pct={latn:{_digits:"0123456789",_type:"numeric"}},sg={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"∞",nan:"NaN",exponential:"E"},hg=[0,1,2,3,4,5,6,7,8,9],ri=function(){function n(){}return n.getMainObject=function(n,t){return p("main."+t,n)},n.getNumberingSystem=function(n){return p("supplemental.numberingSystems",n)||this.numberingSystems},n.reverseObject=function(n,t){for(var i,e=t||Object.keys(n),r={},u=0,f=e;u<f.length;u++)i=f[u],r.hasOwnProperty(n[i])||(r[n[i]]=i);return r},n.getSymbolRegex=function(n){var t=n.map(function(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(t,"g")},n.getSymbolMatch=function(n){for(var i,f=Object.keys(sg),r={},t=0,u=f;t<u.length;t++)i=u[t],r[n[i]]=sg[i];return r},n.constructRegex=function(n){for(var i=n.length,r="",t=0;t<i;t++)r+=t!==i-1?n[t]+"|":n[t];return r},n.convertValueParts=function(n,t,i){return n.replace(t,function(n){return i[n]})},n.getDefaultNumberingSystem=function(n){var t={};return t.obj=p("numbers",n),t.nSystem=p("defaultNumberingSystem",t.obj),t},n.getCurrentNumericOptions=function(n,t,i){var r={},f=this.getDefaultNumberingSystem(n),u;return d(f.nSystem)||(u=p(f.nSystem+"._digits",t),d(u)||(r.numericPair=this.reverseObject(u,hg),r.numberParseRegex=new RegExp(this.constructRegex(u),"g"),r.numericRegex="["+u[0]+"-"+u[9]+"]",i&&(r.numericRegex=u[0]+"-"+u[9],r.symbolNumberSystem=p("symbols-numberSystem-"+f.nSystem,f.obj),r.symbolMatch=this.getSymbolMatch(r.symbolNumberSystem),r.numberSystem=f.nSystem))),r},n.getNumberMapper=function(n,t){var i={mapper:{}},r=this.getDefaultNumberingSystem(n),f,u,e,o;if(!d(r.nSystem)&&(i.numberSystem=r.nSystem,i.numberSymbols=p("symbols-numberSystem-"+r.nSystem,r.obj),i.timeSeparator=p("timeSeparator",i.numberSymbols),f=p(r.nSystem+"._digits",t),!d(f)))for(u=0,e=hg;u<e.length;u++)o=e[u],i.mapper[o]=f[o];return i},n.nPair="numericPair",n.nRegex="numericRegex",n.numberingSystems=pct,n}(),cg={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},wct="percentSign",bct="minusSign",ds=["infinity","nan","group","decimal","exponential"],lg=function(){function n(){}return n.numberFormatter=function(n,t,i){var y=this,r=b({},t),f={},u={},o,s=rt.getDependables(i,n,!0),h,e,v,l,c,a;return u.numberMapper=ri.getNumberMapper(s.parserObject,ri.getNumberingSystem(i),!0),u.currencySymbol=rt.getCurrencySymbol(s.numericObject,r.currency||th),u.percentSymbol=u.numberMapper.numberSymbols[wct],u.minusSymbol=u.numberMapper.numberSymbols[bct],h=u.numberMapper.numberSymbols,t.format&&!rt.formatRegex.test(t.format)?f=rt.customFormat(t.format,u,s.numericObject):(b(r,rt.getProperNumericSkeleton(t.format||"N")),r.isCurrency=r.type==="currency",r.isPercent=r.type==="percent",o=rt.getSymbolPattern(r.type,u.numberMapper.numberSystem,s.numericObject,r.isAccount),r.groupOne=this.checkValueRange(r.maximumSignificantDigits,r.minimumSignificantDigits,!0),this.checkValueRange(r.maximumFractionDigits,r.minimumFractionDigits,!1,!0),d(r.fractionDigits)||(r.minimumFractionDigits=r.maximumFractionDigits=r.fractionDigits),d(r.useGrouping)&&(r.useGrouping=!0),r.isCurrency&&(o=o.replace(/\u00A4/g,rt.defaultCurrency)),e=o.split(";"),f.nData=rt.getFormatData(e[1]||"-"+e[0],!0,u.currencySymbol),f.pData=rt.getFormatData(e[0],!1,u.currencySymbol),r.useGrouping&&(r.groupSeparator=h[ds[2]],r.groupData=this.getGroupingDetails(e[0])),v=d(r.minimumFractionDigits),v&&(r.minimumFractionDigits=f.nData.minimumFraction),d(r.maximumFractionDigits)&&(l=f.nData.maximumFraction,r.maximumFractionDigits=d(l)&&r.isPercent?0:l),c=r.minimumFractionDigits,a=r.maximumFractionDigits,d(c)||d(a)||c>a&&(r.maximumFractionDigits=c)),b(f.nData,r),b(f.pData,r),function(n){return isNaN(n)?h[ds[1]]:isFinite(n)?y.intNumberFormatter(n,f,u):h[ds[0]]}},n.getGroupingDetails=function(n){var r={},u=n.match(rt.negativeDataRegex),i,t,e,f;return u&&u[4]&&(i=u[4],t=i.lastIndexOf(","),t!==-1&&(e=i.split(".")[0],r.primary=e.length-t-1,f=i.lastIndexOf(",",t-1),f!==-1&&(r.secondary=t-1-f))),r},n.checkValueRange=function(n,t,i,r){var e=r?"f":"s",u=0,o=cg["l"+e],f=cg["m"+e];if(d(n)||(this.checkRange(n,o,r),u++),d(t)||(this.checkRange(t,f,r),u++),u===2)if(n<t)ws(f+"specified must be less than the"+o);else return!0;else i&&u===1&&ws("Both"+f+"and"+f+"must be present");return!1},n.checkRange=function(n,t,i){var r=i?[0,20]:[1,21];(n<r[0]||n>r[1])&&ws(t+"value must be within the range"+r[0]+"to"+r[1])},n.intNumberFormatter=function(n,t,i){var r,u;return d(t.nData.type)?undefined:(n<0?(n=n*-1,r=t.nData):r=n===0?t.zeroData||t.pData:t.pData,u="",r.isPercent&&(n=n*100),r.groupOne?u=this.processSignificantDigits(n,r.minimumSignificantDigits,r.maximumSignificantDigits):(u=this.processFraction(n,r.minimumFractionDigits,r.maximumFractionDigits),r.minimumIntegerDigits&&(u=this.processMinimumIntegers(u,r.minimumIntegerDigits))),r.type==="scientific"&&(u=n.toExponential(r.maximumFractionDigits),u=u.replace("e",i.numberMapper.numberSymbols[ds[4]])),u=u.replace(".",i.numberMapper.numberSymbols[ds[3]]),r.useGrouping&&(u=this.groupNumbers(u,r.groupData.primary,r.groupSeparator||",",i.numberMapper.numberSymbols[ds[3]]||".",r.groupData.secondary)),u=ri.convertValueParts(u,rt.latnParseRegex,i.numberMapper.mapper),r.nlead==="N/A"?r.nlead:r.nlead+u+r.nend)},n.processSignificantDigits=function(n,t,i){var r=n+"",u,f=r.length;return f<t?n.toPrecision(t):(r=n.toPrecision(i),u=+r,u+"")},n.groupNumbers=function(n,i,r,u,f){for(var c=!t(f)&&f!==0,s=n.split(u),h=s[0],e=h.length,o="";e>i;)o=h.slice(e-i,e)+(o.length?r+o:""),e-=i,c&&(i=f,c=!1);return s[0]=h.slice(0,e)+(o.length?r:"")+o,s.join(u)},n.processFraction=function(n,i,r){var o=(n+"").split(".")[1],f=o?o.length:0,u,e;if(i&&f<i){if(u="",f===0)u=n.toFixed(i);else{for(u+=n,e=0;e<i-f;e++)u+="0";return u}return n.toFixed(i)}return!t(r)&&(f>r||r===0)?n.toFixed(r):n+""},n.processMinimumIntegers=function(n,t){var r=n.split("."),i=r[0],f=i.length,u;if(f<t){for(u=0;u<t-f;u++)i="0"+i;r[0]=i}return r.join(".")},n}(),rt;(function(n){function h(t,i,r){var u,f=r||"date",e,o;return n.basicPatterns.indexOf(t)!==-1?(u=p(f+"Formats."+t,i),f==="dateTime"&&(e=p("dateFormats."+t,i),o=p("timeFormats."+t,i),u=u.replace("{1}",e).replace("{0}",o))):u=p("dateTimeFormats.availableFormats."+t,i),u}function f(t,i,r){var u={};return u.parserObject=ri.getMainObject(t,i)||n.defaultObject,r?u.numericObject=p("numbers",u.parserObject):u.dateObject=p("dates.calendars.gregorian",u.parserObject),u}function e(n,t,i,r){return p(n+"Formats-numberSystem-"+t+(r?".accounting":".standard"),i)||(r?p(n+"Formats-numberSystem-"+t+".standard",i):"")}function c(t){var r=t.match(n.formatRegex),i={},u=r[1].toUpperCase();return i.isAccount=u==="A",i.type=n.patternMatcher[u],t.length>1&&(i.fractionDigits=parseInt(r[2],10)),i}function i(i,r,u,f){var e=f?{}:{nlead:"",nend:""},s=i.match(n.customRegex),h,c;return s&&(f||(e.nlead=l(s[1],u),e.nend=l(s[10],u),e.groupPattern=s[4]),h=s[7],h&&r&&(c=h.match(o),e.minimumFraction=t(c)?0:c.length,e.maximumFraction=h.length-1)),e}function l(t,i){return t?t.replace(n.defaultCurrency,i):""}function a(n,t){return p("currencies."+t+".symbol",n)||"$"}function d(n,i,r){for(var u={},e=n.split(";"),o=["pData","nData","zeroData"],f=0;f<e.length;f++)u[o[f]]=g(e[f],i,r);return t(u.nData)&&(u.nData=b({},u.pData),u.nData.nlead=t(i)?"-"+u.nData.nlead:i.minusSymbol+u.nData.nlead),u}function g(i,u,f){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},h=i.match(n.customRegex),s,c,l;return(t(h)||h[5]===""&&i!=="N/A")&&(o.type=undefined),o.nlead=h[1],o.nend=h[10],s=h[6],o.useGrouping=s.indexOf(",")!==-1,s=s.replace(/,/g,""),c=h[7],s.indexOf("0")!==-1&&(o.minimumIntegerDigits=s.length-s.indexOf("0")),t(c)||(o.minimumFractionDigits=c.lastIndexOf("0"),o.maximumFractionDigits=c.lastIndexOf("#"),o.minimumFractionDigits===-1&&(o.minimumFractionDigits=0),(o.maximumFractionDigits===-1||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),t(u)?b(o,r([o.nlead,o.nend],"%","%")):(b(o,r([o.nlead,o.nend],"$",u.currencySymbol)),o.isCurrency||b(o,r([o.nlead,o.nend],"%",u.percentSymbol))),t(f)||(l=e(o.type,u.numberMapper.numberSystem,f,!1),o.useGrouping&&(o.groupSeparator=u.numberMapper.numberSymbols[v[2]],o.groupData=lg.getGroupingDetails(l.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")),o}function r(n,t,i){for(var r,f,e={nlead:n[0],nend:n[1]},o=0;o<2;o++)if(r=n[o],f=r.indexOf(t),f!==-1&&(f<r.indexOf("'")||f>r.lastIndexOf("'"))){e[u[o]]=r.substr(0,f)+i+r.substr(f+1);e[u[t]]=!0;e.type=e.isCurrency?"currency":"percent";break}return e}function nt(n){var t=(p("dateFormats.short",n)||"").match(/[d‏M‏]([^d‏M])[d‏M‏]/i);return t?t[1]:"/"}function tt(n,t,i,r){var s=f(i,n),u=t.format||h(t.skeleton,s.dateObject,t.type);if(r){if(u=u.replace(y,function(n){return w[n]}),u.indexOf("z")!==-1){var a=u.match(/z/g).length,o=void 0,e={timeZone:{}};e.numMapper=ri.getNumberMapper(s.parserObject,ri.getNumberingSystem(i));e.timeZone=p("dates.timeZoneNames",s.parserObject);var v=new Date,l=v.getTimezoneOffset(),c=a<4?"+H;-H":e.timeZone.hourFormat;c=c.replace(/:/g,e.numMapper.timeSeparator);l===0?o=e.timeZone.gmtZeroFormat:(o=vg.getTimeZoneValue(l,c),o=e.timeZone.gmtFormat.replace(/\{0\}/,o));u=u.replace(/[z]+/,'"'+o+'"')}u=u.replace(/ $/,"")}return u}function it(t,r,u){var p=f(u,t,!0),s={custom:!0},w,h={},nt=(r.format||"").match(n.currencyFormatRegex),k,y,l,v,o,d,g;return nt&&(k={},k.numberMapper=ri.getNumberMapper(p.parserObject,ri.getNumberingSystem(u),!0),y=a(p.numericObject,r.currency||th),l=e("currency",k.numberMapper.numberSystem,p.numericObject,/a/i.test(r.format)),l=l.replace(/\u00A4/g,y),v=l.split(";"),h.hasNegativePattern=v.length>1,h.nData=i(v[1]||"-"+v[0],!0,y),h.pData=i(v[0],!1,y),nt[2]||r.minimumFractionDigits||r.maximumFractionDigits||(w=i(l.split(";")[0],!0,"",!0).minimumFraction)),n.formatRegex.test(r.format)||!r.format?(b(s,c(r.format||"N")),s.custom=!1,o="###0",(s.fractionDigits||r.minimumFractionDigits||r.maximumFractionDigits||w)&&(d=0,s.fractionDigits&&(r.minimumFractionDigits=r.maximumFractionDigits=s.fractionDigits),o=rt(o,w||s.fractionDigits||r.minimumFractionDigits||d,r.maximumFractionDigits||d)),r.minimumIntegerDigits&&(o=ut(o,r.minimumIntegerDigits)),r.useGrouping&&(o=ft(o)),s.type==="currency"&&(g=o,o=h.pData.nlead+g+h.pData.nend,h.hasNegativePattern&&(o+=";"+h.nData.nlead+g+h.nData.nend)),s.type==="percent"&&(o+=" %")):o=r.format.replace(/\'/g,'"'),o}function rt(n,t,i){var r,f,u;for(n+=".",r=0;r<t;r++)n+="0";if(t<i)for(f=i-t,u=0;u<f;u++)n+="#";return n}function ut(n,t){for(var r=n.split("."),i="",u=0;u<t;u++)i+="0";return r[1]?i+"."+r[1]:i}function ft(n){var r=n.split("."),t=r[0],u=3-t.length%3,f=u&&u===1?"#":u===2?"##":"",i;for(t=f+t,n="",i=t.length-1;i>0;i=i-3)n=","+t[i-2]+t[i-1]+t[i]+n;return n=n.slice(1),r[1]?n+"."+r[1]:n}function et(n,t){var r=s,u=p("supplemental.weekData.firstDay",t),i=n;return/en-/.test(i)&&(i=i.slice(3)),i=i.slice(0,2).toUpperCase()+i.substr(2),u&&(r=u[i]||s),k[r]}var o,u;n.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;n.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;n.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;o=/[0-9]/g;n.defaultCurrency="$";var v=["infinity","nan","group","decimal"],y=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,w={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"},s="sun",k={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};n.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;n.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i;n.curWithoutNumberRegex=/(c|a)$/ig;u={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};n.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi;n.basicPatterns=["short","medium","long","full"];n.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{"1":"Jan","2":"Feb","3":"Mar","4":"Apr","5":"May","6":"Jun","7":"Jul","8":"Aug","9":"Sep","10":"Oct","11":"Nov","12":"Dec"},narrow:{"1":"J","2":"F","3":"M","4":"A","5":"M","6":"J","7":"J","8":"A","9":"S","10":"O","11":"N","12":"D"},wide:{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{"0":"Before Christ","0-alt-variant":"Before Common Era","1":"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{"0":"BC","0-alt-variant":"BCE","1":"AD","1-alt-variant":"CE"},eraNarrow:{"0":"B","0-alt-variant":"BCE","1":"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"€","symbol-alt-narrow":"€"},GBP:{displayName:"British Pound","symbol-alt-narrow":"£"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"×",perMille:"‰",infinity:"∞",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"¤#,##0.00",accounting:"¤#,##0.00;(¤#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}};n.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"};n.month="months";n.days="days";n.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"};n.getResultantPattern=h;n.getDependables=f;n.getSymbolPattern=e;n.getProperNumericSkeleton=c;n.getFormatData=i;n.getCurrencySymbol=a;n.customFormat=d;n.isCurrencyPercent=r;n.getDateSeparator=nt;n.getActualDateTimeFormat=tt;n.getActualNumberFormat=it;n.getWeekData=et})(rt||(rt={}));var kct=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi,ag="stand-alone",dct=["sun","mon","tue","wed","thu","fri","sat"],gct={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate"},nlt={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},tlt="timeSeparator",vg=function(){function n(){}return n.dateFormat=function(n,t,i){var v=this,u=rt.getDependables(i,n),r={},o=t.format||rt.getResultantPattern(t.skeleton,u.dateObject,t.type),c,f,s,a;if(r.dateSeperator=rt.getDateSeparator(u.dateObject),d(o))ws("Format options or type given must be invalid");else for(r.pattern=o,r.numMapper=ri.getNumberMapper(u.parserObject,ri.getNumberingSystem(i)),c=o.match(kct)||[],f=0,s=c;f<s.length;f++){var l=s[f],e=l.length,h=l[0];h==="K"&&(h="h");switch(h){case"E":case"c":r.weekday=u.dateObject[rt.days][ag][rt.monthIndex[e]];break;case"M":case"L":r.month=u.dateObject[rt.month][ag][rt.monthIndex[e]];break;case"a":r.designator=p("dayPeriods.format.wide",u.dateObject);break;case"G":a=e<=3?"eraAbbr":e===4?"eraNames":"eraNarrow";r.era=p("eras."+a,u.dateObject);break;case"z":r.timeZone=p("dates.timeZoneNames",u.parserObject)}}return function(n){return isNaN(n.getDate())?null:v.intDateFormatter(n,r)}},n.intDateFormatter=function(n,t){for(var y,p,a,h,w=t.pattern,i="",b=w.match(rt.dateParseRegex),c=0,v=b;c<v.length;c++){var f=v[c],o=f.length,e=f[0];e==="K"&&(e="h");var u=void 0,l=void 0,s=void 0,r="";switch(e){case"M":case"L":u=n.getMonth()+1;o>2?i+=t.month[u]:l=!0;break;case"E":case"c":i+=t.weekday[dct[n.getDay()]];break;case"H":case"h":case"m":case"s":case"d":l=!0;u=n[gct[e]]();e==="h"&&(u=u%12||12);break;case"y":s=!0;r+=n.getFullYear();o===2&&(r=r.substr(r.length-2));break;case"a":y=n.getHours()<12?"am":"pm";i+=t.designator[y];break;case"G":p=n.getFullYear()<0?0:1;i+=t.era[p];break;case"'":i+=f==="''"?"'":f.replace(/\'/g,"");break;case"z":a=n.getTimezoneOffset();h=o<4?"+H;-H":t.timeZone.hourFormat;h=h.replace(/:/g,t.numMapper.timeSeparator);a===0?i+=t.timeZone.gmtZeroFormat:(s=!0,r=this.getTimeZoneValue(a,h));r=t.timeZone.gmtFormat.replace(/\{0\}/,r);break;case":":i+=t.numMapper.numberSymbols[tlt];break;case"/":i+=t.dateSeperator;break;default:i+=f}l&&(s=!0,r=this.checkTwodigitNumber(u,o));s&&(i+=ri.convertValueParts(r,rt.latnParseRegex,t.numMapper.mapper))}return i},n.checkTwodigitNumber=function(n,t){var i=n+"";return t===2&&i.length!==2?"0"+i:i},n.getTimeZoneValue=function(n,t){var r=this,u=t.split(";"),f=u[n>0?1:0],i=Math.abs(n);return f.replace(/HH?|mm/g,function(n){var t=n.length,u=n.indexOf("H")!==-1;return r.checkTwodigitNumber(Math.floor(u?i/60:i%60),t)})},n}(),yg="stand-alone",ilt=/^[0-9]*$/,pg={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth"},rlt="months",ult=function(){function n(){}return n.dateParser=function(n,i,r){var tt=this,s=rt.getDependables(r,n),it=ri.getCurrentNumericOptions(s.parserObject,ri.getNumberingSystem(r)),u={},b=i.format||rt.getResultantPattern(i.skeleton,s.dateObject,i.type),f="",v,c,st,ht,ct,nt,w,lt;if(d(b))ws("Format options or type given must be invalid");else{u={pattern:b,evalposition:{}};var ut=b.match(rt.dateParseRegex)||[],ft=ut.length,et=0,ot=0,k=!1,h=it.numericRegex,at=ri.getNumberMapper(s.parserObject,ri.getNumberingSystem(r));for(c=0;c<ft;c++){var y=ut[c],e=y.length,a=y[0]==="K"?"h":y[0],g=void 0,l=void 0,o=nlt[a],vt=e===2?"":"?";k&&(et=ot,k=!1);switch(a){case"E":case"c":st=ri.reverseObject(s.dateObject[rt.days][yg][rt.monthIndex[e]]);f+="("+Object.keys(st).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":l=!0;(a==="M"||a==="L")&&e>2?(u[o]=ri.reverseObject(s.dateObject[rlt][yg][rt.monthIndex[e]]),f+="("+Object.keys(u[o]).join("|")+")"):(g=!0,f+="("+h+h+vt+")");a==="h"&&(u.hour12=!0);break;case"y":l=g=!0;f+=e===2?"("+h+h+")":"("+h+"{"+e+",})";break;case"a":l=!0;u[o]=ri.reverseObject(p("dayPeriods.format.wide",s.dateObject));f+="("+Object.keys(u[o]).join("|")+")";break;case"G":l=!0;ht=e<=3?"eraAbbr":e===4?"eraNames":"eraNarrow";u[o]=ri.reverseObject(p("eras."+ht,s.dateObject));f+="("+Object.keys(u[o]).join("|")+"?)";break;case"z":ct=(new Date).getTimezoneOffset();l=ct!==0;u[o]=p("dates.timeZoneNames",s.parserObject);nt=u[o];v=e<4;w=v?"+H;-H":nt.hourFormat;w=w.replace(/:/g,at.timeSeparator);f+="("+this.parseTimeZoneRegx(w,nt,h)+")?";k=!0;ot=v?6:12;break;case"'":lt=y.replace(/\'/g,"");f+="("+lt+")?";break;default:f+="([\\D])"}l&&(u.evalposition[o]={isNumber:g,pos:c+1+et,hourOnly:v});c!==ft-1||t(f)||(u.parserRegex=new RegExp("^"+f+"$"))}}return function(n){var i=tt.internalDateParse(n,u,it);return t(i)||!Object.keys(i).length?null:tt.getDateObject(i)}},n.getDateObject=function(n,t){var i=t||new Date,y,p,e,s,u,r,h,c,w,o,l;i.setMilliseconds(0);var f=n.year,a=n.designator,v=n.timeZone;for(d(f)||(y=(f+"").length,y<=2&&(p=Math.floor(i.getFullYear()/100)*100,f+=p),i.setFullYear(f)),e=0,s=["hour","minute","second","month","day"];e<s.length;e++)if(u=s[e],r=n[u],!d(r))if(u==="month"){if(r-=1,r<0||r>11)return new Date("invalid");h=i.getDate();i.setDate(1);i[pg[u]](r);c=new Date(i.getFullYear(),r+1,0).getDate();i.setDate(h<c?h:c)}else{if(u==="day"&&(w=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),r<1||r>w))return null;i[pg[u]](r)}return d(a)||(o=i.getHours(),a==="pm"?i.setHours(o+(o===12?0:12)):o===12&&i.setHours(0)),d(v)||(l=v-i.getTimezoneOffset(),l!==0&&i.setMinutes(i.getMinutes()+l)),i},n.internalDateParse=function(n,i,r){var u=n.match(i.parserRegex),e={hour:0,minute:0,second:0},w=r.numericRegex,p,s,c;if(t(u))return null;for(p=Object.keys(i.evalposition),s=0,c=p;s<c.length;s++){var f=c[s],h=i.evalposition[f],l=u[h.pos];if(h.isNumber)e[f]=this.internalNumberParser(l,r);else if(f!=="timeZone"||d(l))e[f]=i[f][l];else{var o=h.pos,a=void 0,v=u[o+1],y=!d(v);a=h.hourOnly?this.getZoneValue(y,v,u[o+4],r)*60:this.getZoneValue(y,v,u[o+7],r)*60+this.getZoneValue(y,u[o+4],u[o+10],r);t(a)||(e[f]=a)}}return i.hour12&&(e.hour12=!0),e},n.internalNumberParser=function(n,t){return(n=ri.convertValueParts(n,t.numberParseRegex,t.numericPair),ilt.test(n))?+n:null},n.parseTimeZoneRegx=function(n,t,i){var e=t.gmtFormat,r,u="("+i+")("+i+")",f;return r=n.replace("+","\\+"),r=n.indexOf("HH")!==-1?r.replace(/HH|mm/g,"("+u+")"):r.replace(/H|m/g,"("+u+"?)"),f=r.split(";").map(function(n){return e.replace("{0}",n)}),f.join("|")+"|"+t.gmtZeroFormat},n.getZoneValue=function(n,t,i,r){var f=n?t:i,u;return f?(u=this.internalNumberParser(f,r),n)?-u:u:0},n}(),flt=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,elt=/,/g,olt=["minusSign","infinity"],slt=function(){function n(){}return n.numberParser=function(n,t,i){var s=this,o=rt.getDependables(i,n,!0),r={custom:!0},u,f,e;return rt.formatRegex.test(t.format)||!t.format?(b(r,rt.getProperNumericSkeleton(t.format||"N")),r.custom=!1):b(r,rt.customFormat(t.format,null,null)),u=ri.getCurrentNumericOptions(o.parserObject,ri.getNumberingSystem(i),!0),r.symbolRegex=ri.getSymbolRegex(Object.keys(u.symbolMatch)),r.infinity=u.symbolNumberSystem[olt[1]],f=rt.getSymbolPattern(r.type,u.numberSystem,o.numericObject,r.isAccount),f&&(f=f.replace(/\u00A4/g,rt.defaultCurrency),e=f.split(";"),r.nData=rt.getFormatData(e[1]||"-"+e[0],!0,""),r.pData=rt.getFormatData(e[0],!0,"")),function(n){return s.getParsedNumber(n,r,u)}},n.getParsedNumber=function(n,i,r){var o,l,e,s,h,u,f,c;return n.indexOf(i.infinity)!==-1?Infinity:(n=ri.convertValueParts(n,i.symbolRegex,r.symbolMatch),n=ri.convertValueParts(n,r.numberParseRegex,r.numericPair),n.indexOf(".")===0&&(n="0"+n),f=n.match(flt),t(f))?NaN:(s=f[1],e=f[2],c=f[5],h=f[6],o=i.custom?s===i.nData.nlead&&h===i.nData.nend:s.indexOf(i.nData.nlead)!==-1&&h.indexOf(i.nData.nend)!==-1,l=o?i.nData.isPercent:i.pData.isPercent,e=e.replace(elt,""),c&&(e+=c),u=+e,(i.type==="percent"||l)&&(u=u/100),(i.custom||i.fractionDigits)&&(u=parseFloat(u.toFixed(i.custom?o?i.nData.maximumFractionDigits:i.pData.maximumFractionDigits:i.fractionDigits))),o&&(u*=-1),u)},n}(),gs=new fc,al=!1,rr={},nh="en-US",th="USD",vy=["numericObject","dateObject"],hi=function(){function n(n){n&&(this.culture=n)}return n.prototype.getDateFormat=function(n){return vg.dateFormat(this.getCulture(),n||{type:"date",skeleton:"short"},rr)},n.prototype.getNumberFormat=function(n){return n&&!n.currency&&(n.currency=th),lg.numberFormatter(this.getCulture(),n||{},rr)},n.prototype.getDateParser=function(n){return ult.dateParser(this.getCulture(),n||{skeleton:"short",type:"date"},rr)},n.prototype.getNumberParser=function(n){return slt.numberParser(this.getCulture(),n||{format:"N"},rr)},n.prototype.formatNumber=function(n,t){return this.getNumberFormat(t)(n)},n.prototype.formatDate=function(n,t){return this.getDateFormat(t)(n)},n.prototype.parseDate=function(n,t){return this.getDateParser(t)(n)},n.prototype.parseNumber=function(n,t){return this.getNumberParser(t)(n)},n.prototype.getDatePattern=function(n,t){return rt.getActualDateTimeFormat(this.getCulture(),n,rr,t)},n.prototype.getNumberPattern=function(n){return rt.getActualNumberFormat(this.getCulture(),n,rr)},n.prototype.getFirstDayOfWeek=function(){return rt.getWeekData(this.getCulture(),rr)},n.prototype.getCulture=function(){return this.culture||nh},n}();var vlt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),vl=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},py=0,wy,wg=0,vi=function(n){function r(i,r){var u=n.call(this,i,r)||this;u.randomId=wd();u.needsID=!1;u.createElement=ct;t(u.enableRtl)&&u.setProperties({enableRtl:al},!0);t(u.locale)&&u.setProperties({locale:nh},!0);u.moduleLoader=new og(u);u.localObserver=new fc(u);u.detectFunction=new Function("args","var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}");gs.on("notifyExternalChange",u.detectFunction,u,u.randomId);return d(r)||u.appendTo(),u}return vlt(r,n),r.prototype.requiredModules=function(){return[]},r.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing)||(this.trigger("destroyed",{cancel:!1}),n.prototype.destroy.call(this),this.moduleLoader.clean(),gs.off("notifyExternalChange",this.detectFunction,this.randomId))},r.prototype.refresh=function(){this.refreshing=!0;this.moduleLoader.clean();this.destroy();this.clearChanges();this.localObserver=new fc(this);this.preRender();this.injectModules();this.render();this.refreshing=!1},r.prototype.appendTo=function(i){if(t(i)||typeof i!="string"?t(i)||(this.element=i):this.element=document.querySelector(i),!t(this.element)){this.isProtectedOnChange=!1;this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName()));this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var r=p("ej2_instances",this.element);r&&r.indexOf(this)!==-1||n.prototype.addInstance.call(this);this.preRender();this.injectModules();this.render();this.trigger("created")}},r.prototype.dataBind=function(){this.injectModules();n.prototype.dataBind.call(this)},r.prototype.on=function(n,t,i){var r,f,u;if(typeof n=="string")this.localObserver.on(n,t,i);else for(r=0,f=n;r<f.length;r++){u=f[r];this.localObserver.on(u.event,u.handler,u.context)}},r.prototype.off=function(n,t){var i,r,u;if(typeof n=="string")this.localObserver.off(n,t);else for(i=0,r=n;i<r.length;i++)u=r[i],this.localObserver.off(u.event,u.handler)},r.prototype.notify=function(n,t){this.isDestroyed!==!0&&this.localObserver.notify(n,t)},r.prototype.getInjectedModules=function(){return this.injectedModules},r.Inject=function(){for(var n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(this.prototype.injectedModules||(this.prototype.injectedModules=[]),n=0;n<t.length;n++)this.prototype.injectedModules.indexOf(t[n])===-1&&this.prototype.injectedModules.push(t[n])},r.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},r.prototype.mergePersistData=function(){var n=window.localStorage.getItem(this.getModuleName()+this.element.id);t(n)||n===""||this.setProperties(JSON.parse(n),!0)},r.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},r.prototype.clearTemplate=function(){},r.prototype.getUniqueID=function(n){return this.isHistoryChanged()&&(py=0),wy=this.pageID(location.href),wg=history.length,n+"_"+wy+"_"+py++},r.prototype.pageID=function(n){var t=0,i,r;if(n.length===0)return t;for(i=0;i<n.length;i++)r=n.charCodeAt(i),t=(t<<5)-t+r,t=t&t;return Math.abs(t)},r.prototype.isHistoryChanged=function(){return wy!==this.pageID(location.href)||wg!==history.length},r.prototype.addOnPersist=function(n){for(var r,t,e=this,u={},i=0,f=n;i<f.length;i++)r=f[i],t=void 0,t=p(r,this),d(t)||ii(r,this.getActualProperties(t),u);return JSON.stringify(u,function(n,t){return e.getActualProperties(t)})},r.prototype.getActualProperties=function(n){return n instanceof it?p("properties",n):n},r.prototype.ignoreOnPersist=function(n){return JSON.stringify(this.iterateJsonProperties(this.properties,n))},r.prototype.iterateJsonProperties=function(n,t){for(var e,i={},o=function(r){var f,e;t.indexOf(r)===-1&&(f=n[r],typeof f!="object"||f instanceof Array?i[r]=f:(e=t.filter(function(n){return new RegExp(r+".").test(n)}).map(function(n){return n.replace(r+".","")}),i[r]=u.iterateJsonProperties(u.getActualProperties(f),e)))},u=this,r=0,f=Object.keys(n);r<f.length;r++)e=f[r],o(e);return i},vl([i(!1)],r.prototype,"enablePersistence",void 0),vl([i()],r.prototype,"enableRtl",void 0),vl([i()],r.prototype,"locale",void 0),vl([vt],r)}(fe);(function(){typeof window!="undefined"&&window.addEventListener("popstate",function(){py=0})})();var bg=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),yi=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ylt={left:0,top:0,bottom:0,right:0},kg=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bg(t,n),yi([i(0)],t.prototype,"left",void 0),yi([i(0)],t.prototype,"top",void 0),t}(it),dg=function(n){function e(t,i){var r=n.call(this,i,t)||this;return r.dragLimit=s.getDefaultPosition(),r.borderWidth=s.getDefaultPosition(),r.padding=s.getDefaultPosition(),r.diffX=0,r.diffY=0,r.droppables={},r.bind(),r}return bg(e,n),s=e,e.prototype.bind=function(){this.toggleEvents();o.isIE&&u([this.element],"e-block-touch");this.droppables[this.scope]={}},e.getDefaultPosition=function(){return b({},ylt)},e.prototype.toggleEvents=function(n){var t;d(this.handle)||(t=tt(this.handle,this.element));n?r.remove(t||this.element,o.touchStartEvent,this.initialize):r.add(t||this.element,o.touchStartEvent,this.initialize,this)},e.prototype.initialize=function(n){var i,u;(this.target=n.currentTarget,!this.abort||t(k(n.target,this.abort)))&&(this.preventDefault&&!d(n.changedTouches)&&n.preventDefault(),this.element.setAttribute("aria-grabbed","true"),i=this.getCoordinates(n),this.initialPosition={x:i.pageX,y:i.pageY},this.clone||(u=this.element.getBoundingClientRect(),this.relativeXPosition=i.pageX-u.left,this.relativeYPosition=i.pageY-u.top),r.add(document,o.touchMoveEvent,this.intDragStart,this),r.add(document,o.touchEndEvent,this.intDestroy,this),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),r.trigger(document.documentElement,o.touchStartEvent,n))},e.prototype.intDragStart=function(n){var a=!d(n.changedTouches),s,h,i,f,c,e,u,p,l;if(!a||n.changedTouches.length===1){a&&n.preventDefault();s=this.getCoordinates(n);i=getComputedStyle(this.element);this.margin={left:parseInt(i.marginLeft,10),top:parseInt(i.marginTop,10),right:parseInt(i.marginRight,10),bottom:parseInt(i.marginBottom,10)};f=this.element;this.clone&&this.dragTarget&&(c=k(n.target,this.dragTarget),t(c)||(f=c));this.offset=this.calculateParentPosition(f);this.position=this.getMousePosition(n);var v=this.initialPosition.x-s.pageX,y=this.initialPosition.y-s.pageY,w=Math.sqrt(v*v+y*y);if(w>=this.distance){if(e=this.getHelperElement(n),!e||t(e))return;u=this.helperElement=e;this.parentClientRect=this.calculateParentPosition(u.offsetParent);this.dragStart&&(p=this.getProperTargetElement(n),this.trigger("dragStart",{event:n,element:f,target:p}));this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0});h={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top};this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top);l=this.getProcessedPositionValue({top:h.top-this.diffY+"px",left:h.left-this.diffX+"px"});gt(u,this.getDragPosition({position:"absolute",left:l.left,top:l.top}));r.remove(document,o.touchMoveEvent,this.intDragStart);r.remove(document,o.touchEndEvent,this.intDestroy);cl(u)?(r.add(document,o.touchMoveEvent,this.intDrag,this),r.add(document,o.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,u)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}}},e.prototype.elementInViewport=function(n){for(this.top=n.offsetTop,this.left=n.offsetLeft,this.width=n.offsetWidth,this.height=n.offsetHeight;n.offsetParent;)n=n.offsetParent,this.top+=n.offsetTop,this.left+=n.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},e.prototype.getProcessedPositionValue=function(n){return this.queryPositionInfo?this.queryPositionInfo(n):n},e.prototype.calculateParentPosition=function(n){if(t(n))return{left:0,top:0};var i=n.getBoundingClientRect(),r=getComputedStyle(n);return{left:i.left+window.pageXOffset-parseInt(r.marginLeft,10),top:i.top+window.pageYOffset-parseInt(r.marginTop,10)}},e.prototype.intDrag=function(n){var u,f,s,h,a,t,i,r,c,l;if(d(n.changedTouches)||n.changedTouches.length===1){this.position=this.getMousePosition(n);s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);h=this.getDocumentWidthHeight("Width");h<this.position.left&&(this.position.left=h);this.drag&&(a=this.getProperTargetElement(n),this.trigger("drag",{event:n,element:this.element,target:a}));t=this.checkTargetElement(n);t.target&&t.instance?(t.instance.dragData[this.scope]=this.droppables[this.scope],t.instance.intOver(n,t.target),this.hoverObject=t):this.hoverObject&&(this.hoverObject.instance.intOut(n,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null);i=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var w=this.parentClientRect.left,b=this.parentClientRect.top,v=this.getCoordinates(n),y=v.pageX,p=v.pageY,e=this.position.left-this.diffX,o=this.position.top-this.diffY;this.dragArea?(r=getComputedStyle(i),(this.pageX!==y||this.skipDistanceCheck)&&(c=i.offsetWidth+(parseFloat(r.marginLeft)+parseFloat(r.marginRight)),u=this.dragLimit.left>e?this.dragLimit.left:this.dragLimit.right<e+c?this.dragLimit.right-c:e),(this.pageY!==p||this.skipDistanceCheck)&&(l=i.offsetHeight+(parseFloat(r.marginTop)+parseFloat(r.marginBottom)),f=this.dragLimit.top>o?this.dragLimit.top:this.dragLimit.bottom<o+l?this.dragLimit.bottom-l:o)):(u=e,f=o);var k=b+this.borderWidth.top,g=w+this.borderWidth.left,nt=this.getProcessedPositionValue({top:f-k+"px",left:u-g+"px"});gt(i,this.getDragPosition(nt));!this.elementInViewport(i)&&this.enableAutoScroll&&this.helperElement.scrollIntoView();this.position.left=u;this.position.top=f;this.pageX=y;this.pageY=p}},e.prototype.getDragPosition=function(n){var t=b({},n);return this.axis&&(this.axis==="x"?delete t.top:this.axis==="y"&&delete t.left),t},e.prototype.getDocumentWidthHeight=function(n){var i=document.body,t=document.documentElement;return Math.max(i["scroll"+n],t["scroll"+n],i["offset"+n],t["offset"+n],t["client"+n])},e.prototype.intDragStop=function(n){var i,r,t;(d(n.changedTouches)||n.changedTouches.length===1)&&(i=["touchend","pointerup","mouseup"],i.indexOf(n.type)!==-1?(this.dragStop&&(r=this.getProperTargetElement(n),this.trigger("dragStop",{event:n,element:this.element,target:r,helper:this.helperElement})),this.intDestroy(n)):this.element.setAttribute("aria-grabbed","false"),t=this.checkTargetElement(n),t.target&&t.instance&&(t.instance.dragStopCalled=!0,t.instance.dragData[this.scope]=this.droppables[this.scope],t.instance.intDrop(n,t.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select"))},e.prototype.intDestroy=function(){this.toggleEvents();document.body.classList.remove("e-prevent-select");this.element.setAttribute("aria-grabbed","false");r.remove(document,o.touchMoveEvent,this.intDragStart);r.remove(document,o.touchEndEvent,this.intDragStop);r.remove(document,o.touchEndEvent,this.intDestroy);r.remove(document,o.touchMoveEvent,this.intDrag)},e.prototype.onPropertyChanged=function(){},e.prototype.getModuleName=function(){return"draggable"},e.prototype.setDragArea=function(){var s,h,r=0,u=0,t,v=typeof this.dragArea,n,f,e,i;if(t=v==="string"?tt(this.dragArea):this.dragArea,t){for(n=t.getBoundingClientRect(),s=n.width?n.width:n.right-n.left,h=n.height?n.height:n.bottom-n.top,f=["Top","Left","Bottom","Right"],e=getComputedStyle(t),i=0;i<f.length;i++){var o=f[i],c=e["border"+o+"Width"],l=e["padding"+o],a=o.toLowerCase();this.borderWidth[a]=isNaN(parseFloat(c))?0:parseFloat(c);this.padding[a]=isNaN(parseFloat(l))?0:parseFloat(l)}r=n.top;u=n.left;this.dragLimit.left=u+this.borderWidth.left+this.padding.left;this.dragLimit.top=r+this.borderWidth.top+this.padding.top;this.dragLimit.right=u+s-(this.borderWidth.right+this.padding.right);this.dragLimit.bottom=r+h-(this.borderWidth.bottom+this.padding.bottom)}},e.prototype.getProperTargetElement=function(n){var i=this.getCoordinates(n),t,r=this.helperElement.style.display||"";return hl(n.target,this.helperElement)||n.type.indexOf("touch")!==-1?(this.helperElement.style.display="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.display=r):t=n.target,t},e.prototype.getMousePosition=function(n){var t=this.getCoordinates(n),i=this.clone?t.pageX:t.pageX-this.relativeXPosition,r=this.clone?t.pageY:t.pageY-this.relativeYPosition;return{left:i-(this.margin.left+this.cursorAt.left),top:r-(this.margin.top+this.cursorAt.top)}},e.prototype.getCoordinates=function(n){return n.type.indexOf("touch")>-1?n.changedTouches[0]:n},e.prototype.getHelperElement=function(n){var t;return this.clone?this.helper?t=this.helper({sender:n,element:this.target}):(t=ct("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},e.prototype.setGlobalDroppables=function(n,t,i){this.droppables[this.scope]=n?null:{draggable:t,helper:i,draggedElement:this.element}},e.prototype.checkTargetElement=function(n){var i=this.getProperTargetElement(n),r=this.getDropInstance(i),u;return r||!i||t(i.parentNode)||(u=k(i.parentNode,".e-droppable")||i.parentElement,u&&(r=this.getDropInstance(u))),{target:i,instance:r}},e.prototype.getDropInstance=function(n){var u,f=n&&n.ej2_instances,t,i,r;if(f)for(t=0,i=f;t<i.length;t++)if(r=i[t],r["getModuleName"]()==="droppable"){u=r;break}return u},e.prototype.destroy=function(){this.toggleEvents(!0);n.prototype.destroy.call(this)},yi([nt({},kg)],e.prototype,"cursorAt",void 0),yi([i(!0)],e.prototype,"clone",void 0),yi([i()],e.prototype,"dragArea",void 0),yi([f()],e.prototype,"drag",void 0),yi([f()],e.prototype,"dragStart",void 0),yi([f()],e.prototype,"dragStop",void 0),yi([i(1)],e.prototype,"distance",void 0),yi([i()],e.prototype,"handle",void 0),yi([i()],e.prototype,"abort",void 0),yi([i()],e.prototype,"helper",void 0),yi([i("default")],e.prototype,"scope",void 0),yi([i("")],e.prototype,"dragTarget",void 0),yi([i()],e.prototype,"axis",void 0),yi([i()],e.prototype,"queryPositionInfo",void 0),yi([i(!1)],e.prototype,"enableTailMode",void 0),yi([i(!1)],e.prototype,"skipDistanceCheck",void 0),yi([i(!0)],e.prototype,"preventDefault",void 0),yi([i(!1)],e.prototype,"enableAutoScroll",void 0),s=yi([vt],e);var s}(fe),plt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ih=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},wlt=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.mouseOver=!1,r.dragData={},r.dragStopCalled=!1,r.bind(),r}return plt(t,n),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){r.add(this.element,o.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(n,t){if(!this.mouseOver){var i=this.dragData[this.scope];this.trigger("over",{event:n,target:t,dragData:i});this.mouseOver=!0}},t.prototype.intOut=function(n,t){this.mouseOver&&(this.trigger("out",{evt:n,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(n,t){if(this.dragStopCalled)this.dragStopCalled=!1;else return;var u=!0,i=this.dragData[this.scope],f=i?i.helper&&cl(i.helper):!1,r;f&&(r=this.isDropArea(n,i.helper,t),this.accept&&(u=ay(i.helper,this.accept)));f&&this.drop&&r.canDrop&&u&&this.trigger("drop",{event:n,target:r.target,droppedElement:i.helper,dragData:i});this.mouseOver=!1},t.prototype.isDropArea=function(n,t,i){var r={canDrop:!0,target:i||n.target},e=n.type==="touchend",u,f;return(e||r.target===t)&&(t.style.display="none",u=e?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY),r.canDrop=!1,r.canDrop=hl(f,this.element),r.canDrop&&(r.target=f),t.style.display=""),r},t.prototype.destroy=function(){r.remove(this.element,o.touchEndEvent,this.intDrop);n.prototype.destroy.call(this)},ih([i()],t.prototype,"accept",void 0),ih([i("default")],t.prototype,"scope",void 0),ih([f()],t.prototype,"drop",void 0),ih([f()],t.prototype,"over",void 0),ih([f()],t.prototype,"out",void 0),ih([vt],t)}(fe),blt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),yl=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},klt={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,"delete":46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},ci=function(n){function t(t,i){var u=n.call(this,i,t)||this;return u.keyPressHandler=function(n){for(var e,h,i,o,c,t,l=n.altKey,a=n.ctrlKey,v=n.shiftKey,y=n.which,p=Object.keys(u.keyConfigs),f=0,s=p;f<s.length;f++)for(e=s[f],h=u.keyConfigs[e].split(","),i=0,o=h;i<o.length;i++)c=o[i],t=r.getKeyConfigData(c.trim()),l===t.altKey&&a===t.ctrlKey&&v===t.shiftKey&&y===t.keyCode&&(n.action=e,u.keyAction&&u.keyAction(n))},u.bind(),u}return blt(t,n),r=t,t.prototype.destroy=function(){this.unwireEvents();n.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(n){if(n in this.configCache)return this.configCache[n];var t=n.toLowerCase().split("+"),i={altKey:t.indexOf("alt")!==-1?!0:!1,ctrlKey:t.indexOf("ctrl")!==-1?!0:!1,shiftKey:t.indexOf("shift")!==-1?!0:!1,keyCode:null};return i.keyCode=t[t.length-1].length>1&&!!Number(t[t.length-1])?Number(t[t.length-1]):r.getKeyCode(t[t.length-1]),r.configCache[n]=i,i},t.getKeyCode=function(n){return klt[n]||n.toUpperCase().charCodeAt(0)},t.configCache={},yl([i({})],t.prototype,"keyConfigs",void 0),yl([i("keyup")],t.prototype,"eventName",void 0),yl([f()],t.prototype,"keyAction",void 0),r=yl([vt],t);var r}(fe),du=function(){function n(n,t,i){this.controlName=n;this.localeStrings=t;this.setLocale(i||nh)}return n.prototype.setLocale=function(t){var i=this.intGetControlConstant(n.locale,t);this.currentLocale=i||this.localeStrings},n.load=function(n){this.locale=b(this.locale,n,{},!0)},n.prototype.getConstant=function(n){return this.currentLocale[n]||this.localeStrings[n]||""},n.prototype.intGetControlConstant=function(n,t){return n[t]?n[t][this.controlName]:null},n.locale={},n}(),ge=function(){function n(n){this.svgLink="http://www.w3.org/2000/svg";this.rootId=n}return n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.createSvg=function(n){return t(n.id)&&(n.id=this.rootId+"_svg"),this.svgObj=document.getElementById(n.id),t(document.getElementById(n.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(n,this.svgObj),this.setSVGSize(n.width,n.height),this.svgObj},n.prototype.setSVGSize=function(n,i){var r=document.getElementById(this.rootId),u=t(r)?null:r.getBoundingClientRect();t(this.width)||this.width<=0?this.svgObj.setAttribute("width",n?n.toString():u.width.toString()):this.svgObj.setAttribute("width",this.width.toString());t(this.height)||this.height<=0?this.svgObj.setAttribute("height",i?i.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},n.prototype.drawPath=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"path")),this.setElementAttributes(n,t)},n.prototype.drawLine=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"line")),this.setElementAttributes(n,t)},n.prototype.drawRectangle=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"rect")),this.setElementAttributes(n,t)},n.prototype.drawCircle=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"circle")),this.setElementAttributes(n,t)},n.prototype.drawPolyline=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"polyline")),this.setElementAttributes(n,t)},n.prototype.drawEllipse=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"ellipse")),this.setElementAttributes(n,t)},n.prototype.drawPolygon=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"polygon")),this.setElementAttributes(n,t)},n.prototype.drawImage=function(n){var i=document.createElementNS(this.svgLink,"image");return i.setAttributeNS(null,"height",n.height.toString()),i.setAttributeNS(null,"width",n.width.toString()),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n.href),i.setAttributeNS(null,"x",n.x.toString()),i.setAttributeNS(null,"y",n.y.toString()),i.setAttributeNS(null,"id",n.id),i.setAttributeNS(null,"visibility",n.visibility),t(this.getOptionValue(n,"clip-path"))||i.setAttributeNS(null,"clip-path",this.getOptionValue(n,"clip-path")),t(n.preserveAspectRatio)||i.setAttributeNS(null,"preserveAspectRatio",n.preserveAspectRatio),i},n.prototype.createText=function(n,i){var r=document.createElementNS(this.svgLink,"text");return r=this.setElementAttributes(n,r),t(i)||(r.textContent=i),r},n.prototype.createTSpan=function(n,i){var r=document.createElementNS(this.svgLink,"tspan");return r=this.setElementAttributes(n,r),t(i)||(r.textContent=i),r},n.prototype.createTitle=function(n){var t=document.createElementNS(this.svgLink,"title");return t.textContent=n,t},n.prototype.createDefs=function(){return document.createElementNS(this.svgLink,"defs")},n.prototype.createClipPath=function(n){var t=document.createElementNS(this.svgLink,"clipPath");return this.setElementAttributes(n,t)},n.prototype.createForeignObject=function(n){var t=document.createElementNS(this.svgLink,"foreignObject");return this.setElementAttributes(n,t)},n.prototype.createGroup=function(n){var t=document.createElementNS(this.svgLink,"g");return this.setElementAttributes(n,t)},n.prototype.createPattern=function(n,t){var i=document.createElementNS(this.svgLink,t);return this.setElementAttributes(n,i)},n.prototype.createRadialGradient=function(n,i,r){var u,f;return t(n[0].colorStop)?u=n[0].color.toString():(f={id:this.rootId+"_"+i+"radialGradient",cx:r.cx+"%",cy:r.cy+"%",r:r.r+"%",fx:r.fx+"%",fy:r.fy+"%"},this.drawGradient("radialGradient",f,n),u="url(#"+this.rootId+"_"+i+"radialGradient)"),u},n.prototype.createLinearGradient=function(n,i,r){var u,f;return t(n[0].colorStop)?u=n[0].color.toString():(f={id:this.rootId+"_"+i+"linearGradient",x1:r.x1+"%",y1:r.y1+"%",x2:r.x2+"%",y2:r.y2+"%"},this.drawGradient("linearGradient",f,n),u="url(#"+this.rootId+"_"+i+"linearGradient)"),u},n.prototype.drawGradient=function(n,t,i){for(var e=this.createDefs(),f=document.createElementNS(this.svgLink,n),u,f=this.setElementAttributes(t,f),r=0;r<i.length;r++)u=document.createElementNS(this.svgLink,"stop"),u.setAttribute("offset",i[r].colorStop),u.setAttribute("stop-color",i[r].color),u.setAttribute("stop-opacity","1"),f.appendChild(u);return e.appendChild(f),e},n.prototype.drawClipPath=function(n){var t=this.createDefs(),i=this.createClipPath({id:n.id}),r=this.drawRectangle(n);return i.appendChild(r),t.appendChild(i),t},n.prototype.drawCircularClipPath=function(n){var t=this.createDefs(),i=this.createClipPath({id:n.id}),r=this.drawCircle(n);return i.appendChild(r),t.appendChild(i),t},n.prototype.setElementAttributes=function(n,t){for(var r=Object.keys(n),i=0;i<r.length;i++)t.setAttribute(r[i],n[r[i]]);return t},n}(),gg=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),oe=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},nn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gg(t,n),oe([i(50)],t.prototype,"swipeThresholdDistance",void 0),t}(it),dlt=/(Up|Down)/,by=function(n){function t(t,i){var u=n.call(this,i,t)||this;return u.touchAction=!0,u.tapCount=0,u.startEvent=function(n){if(u.touchAction===!0){var t=n.changedTouches?n.changedTouches[0]:n;n.changedTouches!==undefined&&(u.touchAction=!1);u.isTouchMoved=!1;u.movedDirection="";u.startPoint=u.lastMovedPoint={clientX:t.clientX,clientY:t.clientY};u.startEventData=t;u.hScrollLocked=u.vScrollLocked=!1;u.tStampStart=Date.now();u.timeOutTapHold=setTimeout(function(){u.tapHoldEvent(n)},u.tapHoldThreshold);r.add(u.element,o.touchMoveEvent,u.moveEvent,u);r.add(u.element,o.touchEndEvent,u.endEvent,u);r.add(u.element,o.touchCancelEvent,u.cancelEvent,u)}},u.moveEvent=function(n){var t=n.changedTouches?n.changedTouches[0]:n,i,r;u.movedPoint=t;u.isTouchMoved=!(t.clientX===u.startPoint.clientX&&t.clientY===u.startPoint.clientY);i={};u.isTouchMoved&&(clearTimeout(u.timeOutTapHold),u.calcScrollPoints(n),r={startEvents:u.startEventData,originalEvent:n,startX:u.startPoint.clientX,startY:u.startPoint.clientY,distanceX:u.distanceX,distanceY:u.distanceY,scrollDirection:u.scrollDirection,velocity:u.getVelocity(t)},i=b(i,{},r),u.trigger("scroll",i),u.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},u.cancelEvent=function(n){clearTimeout(u.timeOutTapHold);clearTimeout(u.timeOutTap);u.tapCount=0;u.swipeFn(n);r.remove(u.element,o.touchCancelEvent,u.cancelEvent)},u.endEvent=function(n){u.swipeFn(n);u.isTouchMoved||typeof u.tap=="function"&&(u.trigger("tap",{originalEvent:n,tapCount:++u.tapCount}),u.timeOutTap=setTimeout(function(){u.tapCount=0},u.tapThreshold));u.modeclear()},u.swipeFn=function(n){var i,t,r,s,f,e;if(clearTimeout(u.timeOutTapHold),clearTimeout(u.timeOutTap),i=n,n.changedTouches&&(i=n.changedTouches[0]),t=i.clientX-u.startPoint.clientX,r=i.clientY-u.startPoint.clientY,t=Math.floor(t<0?-1*t:t),r=Math.floor(r<0?-1*r:t),u.isTouchMoved=t>1||r>1,u.endPoint=i,u.calcPoints(n),s={originalEvent:n,startEvents:u.startEventData,startX:u.startPoint.clientX,startY:u.startPoint.clientY,distanceX:u.distanceX,distanceY:u.distanceY,swipeDirection:u.movedDirection,velocity:u.getVelocity(i)},u.isTouchMoved){f=void 0;e=u.swipeSettings.swipeThresholdDistance;f=b(f,u.defaultArgs,s);var h=!1,c=u.element,l=u.isScrollable(c),o=dlt.test(u.movedDirection);(e<u.distanceX&&!o||e<u.distanceY&&o)&&(h=l?u.checkSwipe(c,o):!0);h&&u.trigger("swipe",f)}u.modeclear()},u.modeclear=function(){u.modeClear=setTimeout(function(){u.touchAction=!0},typeof u.tap!="function"?0:20);u.lastTapTime=(new Date).getTime();r.remove(u.element,o.touchMoveEvent,u.moveEvent);r.remove(u.element,o.touchEndEvent,u.endEvent);r.remove(u.element,o.touchCancelEvent,u.cancelEvent)},u.bind(),u}return gg(t,n),t.prototype.onPropertyChanged=function(){},t.prototype.bind=function(){this.wireEvents();o.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents();n.prototype.destroy.call(this)},t.prototype.wireEvents=function(){r.add(this.element,o.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){r.remove(this.element,o.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(n){var t=getComputedStyle(n),i=t.overflow+t.overflowX+t.overflowY;return/(auto|scroll)/.test(i)?!0:!1},t.prototype.tapHoldEvent=function(n){this.tapCount=0;this.touchAction=!0;var t;r.remove(this.element,o.touchMoveEvent,this.moveEvent);r.remove(this.element,o.touchEndEvent,this.endEvent);t={originalEvent:n};this.trigger("tapHold",t);r.remove(this.element,o.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(n){var t=n.changedTouches?n.changedTouches[0]:n;this.defaultArgs={originalEvent:n};this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX));this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY));this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(n){var t=n.changedTouches?n.changedTouches[0]:n;this.defaultArgs={originalEvent:n};this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX));this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY));(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(n){var r=n.clientX,u=n.clientY,f=Date.now(),t=r-this.startPoint.clientX,i=u-this.startPoint.clientX,e=f-this.tStampStart;return Math.sqrt(t*t+i*i)/e},t.prototype.checkSwipe=function(n,t){var i=["scroll","offset"],r=t?["Height","Top"]:["Width","Left"];return n[i[0]+r[0]]<=n[i[1]+r[0]]?!0:n[i[0]+r[1]]===0||n[i[1]+r[0]]+n[i[0]+r[1]]>=n[i[0]+r[0]]},oe([f()],t.prototype,"tap",void 0),oe([f()],t.prototype,"tapHold",void 0),oe([f()],t.prototype,"swipe",void 0),oe([f()],t.prototype,"scroll",void 0),oe([i(350)],t.prototype,"tapThreshold",void 0),oe([i(750)],t.prototype,"tapHoldThreshold",void 0),oe([nt({},nn)],t.prototype,"swipeSettings",void 0),oe([vt],t)}(fe),glt=new RegExp("\\n|\\r|\\s\\s+","g"),tn=new RegExp(/'|"/g),nat=new RegExp("if ?\\("),tat=new RegExp("else if ?\\("),rn=new RegExp("else"),iat=new RegExp("for ?\\("),un=new RegExp("(/if|/for)"),rat=new RegExp("\\((.*)\\)",""),uat=new RegExp("^[0-9]+$","g"),fn=new RegExp("[\\w\"'.\\s+]+","g"),fat=new RegExp('"(.*?)"',"g"),eat=new RegExp("\\${([^}]*)}","g");en=/^[\n\r.]+\<tr|^\<tr/;on=/^[\n\r.]+\<svg|^\<path|^\<g/;var lat=function(){function n(){}return n.prototype.compile=function(n,t){return t===void 0&&(t={}),oat(n,t)},n}(),ky={compile:(new lat).compile},aat=Object.freeze({Ajax:ue,Animation:di,rippleEffect:si,get isRippleEnabled(){return vf},enableRipple:vct,Base:fe,getComponent:lht,Browser:o,CanvasRenderer:eg,Component:vi,ChildProperty:it,Position:kg,Draggable:dg,Droppable:wlt,EventHandler:r,onIntlChange:gs,get rightToLeft(){return al},cldrData:rr,get defaultCulture(){return nh},get defaultCurrencyCode(){return th},Internationalization:hi,setCulture:hlt,setCurrencyCode:clt,loadCldr:llt,enableRtl:alt,getNumericObject:yy,getDefaultDateObject:de,KeyboardEvents:ci,L10n:du,ModuleLoader:og,Property:i,Complex:nt,ComplexFactory:sct,Collection:ff,CollectionFactory:hct,Event:f,NotifyPropertyChanges:vt,CreateBuilder:cct,SvgRenderer:ge,SwipeSettings:nn,Touch:by,compile:cu,setTemplateEngine:hat,getTemplateEngine:cat,createInstance:uc,setImmediate:yd,getValue:p,setValue:ii,deleteObject:ly,isObject:sl,getEnumValue:iht,merge:st,extend:b,isNullOrUndefined:t,isUndefined:d,getUniqueID:wr,debounce:pd,queryParams:rht,isObjectArray:uht,compareElementParent:hl,throwError:ws,print:fht,formatUnit:g,getInstance:po,addInstance:eht,uniqueID:wd,createElement:ct,addClass:u,removeClass:h,isVisible:cl,prepend:ku,append:ir,detach:a,remove:lt,attributes:v,select:tt,selectAll:hu,closest:k,siblings:hht,getAttributeOrDefault:cht,setStyleAttribute:gt,classList:ke,matches:ay,Observer:fc}),sn=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ur=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ef="e-other-month",oc="e-calendar",hn="e-device",vat="e-header",cn="e-rtl",yat="e-content",dy="e-year",ln="e-month",an="e-decade",vn="e-icons",pat="e-prev",wat="e-next",bat="e-date-icon-prev",kat="e-date-icon-next ",dat="e-icon-container",gi="e-disabled",no="e-overlay",gat="e-weekend",gy="e-week-number",lu="e-selected",hr="e-focused-date",pl="e-month-hide",yn="e-today",nvt="e-title",pn="e-day",wn="e-cell",tvt="e-week-header",wl="e-zoomin",ivt="e-footer-container",rvt="e-btn",uvt="e-flat",fvt="e-css",evt="e-primary",bn=864e5,ovt=6e4,kn=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.effect="",r.keyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},r}return sn(e,n),e.prototype.render=function(){this.globalize=new hi(this.locale);(t(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0);this.todayDisabled=!1;this.todayDate=new Date((new Date).setHours(0,0,0,0));this.getModuleName()==="calendar"?(this.element.classList.add(oc),this.enableRtl&&this.element.classList.add(cn),o.isDevice&&this.element.classList.add(hn),v(this.element,{"data-role":"calendar"})):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(oc),this.enableRtl&&this.calendarElement.classList.add(cn),o.isDevice&&this.calendarElement.classList.add(hn),v(this.calendarElement,{role:"calendar"}));this.createHeader();this.createContent();this.wireEvents()},e.prototype.validateDate=function(n){this.setProperties({min:this.checkDateValue(new Date(""+this.min))},!0);this.setProperties({max:this.checkDateValue(new Date(""+this.max))},!0);this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0));!t(n)&&this.min<=this.max&&n>=this.min&&n<=this.max&&(this.currentDate=new Date(""+n))},e.prototype.minMaxUpdate=function(n){+this.min<=+this.max?h([this.element],no):(this.setProperties({min:this.min},!0),u([this.element],no));this.min=t(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min;this.max=t(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max;+this.min<=+this.max&&n&&+n<=+this.max&&+n>=+this.min?this.currentDate=new Date(""+n):+this.min<=+this.max&&!n&&+this.currentDate>+this.max?this.currentDate=new Date(""+this.max):+this.currentDate<+this.min&&(this.currentDate=new Date(""+this.min))},e.prototype.createHeader=function(){var n;this.headerElement=this.createElement("div",{className:vat});n=this.createElement("div",{className:dat});this.previousIcon=this.createElement("button",{className:""+pat,attrs:{type:"button"}});si(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0});v(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"});this.nextIcon=this.createElement("button",{className:""+wat,attrs:{type:"button"}});si(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0});v(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"});this.headerTitleElement=this.createElement("div",{className:""+pn+" "+nvt});v(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"});this.headerElement.appendChild(this.headerTitleElement);this.previousIcon.appendChild(this.createElement("span",{className:""+bat+" "+vn}));this.nextIcon.appendChild(this.createElement("span",{className:""+kat+" "+vn}));n.appendChild(this.previousIcon);n.appendChild(this.nextIcon);this.headerElement.appendChild(n);this.getModuleName()==="calendar"?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement)},e.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:yat});this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}});this.getModuleName()==="calendar"?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement);this.contentElement.appendChild(this.table);this.createContentHeader();this.createContentBody();this.showTodayButton&&this.createContentFooter()},e.prototype.getCultureValues=function(){var r=[],t,n,i,u;for(t=this.locale==="en"||this.locale==="en-US"?p("days.stand-alone.short",de()):this.getCultureObjects(rr,""+this.locale),n=0,i=Object.keys(t);n<i.length;n++)u=i[n],r.push(p(u,t));return r},e.prototype.createContentHeader=function(){var r,n,f,i;for(this.getModuleName()==="calendar"?t(this.element.querySelectorAll(".e-content .e-week-header")[0])||a(this.element.querySelectorAll(".e-content .e-week-header")[0]):t(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||a(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]),r=6,n="",(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:tvt}),this.weekNumber&&(n+='<th class="e-week-number"><\/th>',this.getModuleName()==="calendar"?u([this.element],""+gy):u([this.calendarElement],""+gy)),f=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek),i=0;i<=r;i++)n+='<th  class="">'+f[i]+"<\/th>";n="<tr>"+n+"<\/tr>";this.tableHeadElement.innerHTML=n;this.table.appendChild(this.tableHeadElement)},e.prototype.createContentBody=function(){this.getModuleName()==="calendar"?t(this.element.querySelectorAll(".e-content tbody")[0])||a(this.element.querySelectorAll(".e-content tbody")[0]):t(this.calendarElement.querySelectorAll(".e-content tbody")[0])||a(this.calendarElement.querySelectorAll(".e-content tbody")[0]);switch(this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},e.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today")},e.prototype.createContentFooter=function(){if(this.showTodayButton){var n=new Date(+this.min),t=new Date(+this.max);this.globalize=new hi(this.locale);this.l10=new du(this.getModuleName(),{today:"Today"},this.locale);this.todayElement=this.createElement("button");si(this.todayElement);this.updateFooter();u([this.todayElement],[rvt,yn,uvt,evt,fvt]);+new Date(n.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||u([this.todayElement],gi);this.footer=this.createElement("div",{className:ivt});this.footer.appendChild(this.todayElement);this.getModuleName()==="calendar"&&this.element.appendChild(this.footer);this.getModuleName()==="datepicker"&&this.calendarElement.appendChild(this.footer);this.getModuleName()==="datetimepicker"&&this.calendarElement.appendChild(this.footer);this.todayElement.classList.contains(gi)||r.add(this.todayElement,"click",this.todayButtonClick,this)}},e.prototype.wireEvents=function(){r.add(this.headerTitleElement,"click",this.navigateTitle,this);this.keyboardModule=this.getModuleName()==="calendar"?new ci(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs}):new ci(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.keyConfigs})},e.prototype.todayButtonClick=function(n){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(""+n)):this.navigateTo("Month",new Date(""+n)))},e.prototype.keyActionHandle=function(n,i,r){var u=this.getViewNumber(this.currentView()),f=this.tableBodyElement.querySelector("tr td.e-focused-date"),o,s,h,e,c;o=r?t(f)||+i!==parseInt(f.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):f:this.tableBodyElement.querySelector("tr td.e-selected");s=this.getViewNumber(this.depth);h=u===s&&this.getViewNumber(this.start)>=s;this.effect="";switch(n.action){case"moveLeft":this.KeyboardNavigate(-1,u,n,this.max,this.min);n.preventDefault();break;case"moveRight":this.KeyboardNavigate(1,u,n,this.max,this.min);n.preventDefault();break;case"moveUp":u===0?this.KeyboardNavigate(-7,u,n,this.max,this.min):this.KeyboardNavigate(-4,u,n,this.max,this.min);n.preventDefault();break;case"moveDown":u===0?this.KeyboardNavigate(7,u,n,this.max,this.min):this.KeyboardNavigate(4,u,n,this.max,this.min);n.preventDefault();break;case"select":n.target===this.todayElement?this.todayButtonClick(i):(e=t(f)?o:f,t(e)||e.classList.contains(gi)||(h?(c=new Date(parseInt(""+e.id,0)),this.selectDate(n,c,e)):this.contentClick(null,--u,e,i)));break;case"controlUp":this.title();n.preventDefault();break;case"controlDown":t(f)&&(t(o)||h)||this.contentClick(null,--u,f||o,i);n.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate);a(this.tableBodyElement);u===0?this.renderMonths(n):u===1?this.renderYears(n):this.renderDecades(n);n.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,u);a(this.tableBodyElement);u===0?this.renderMonths(n):u===1?this.renderYears(n):this.renderDecades(n);n.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1);this.navigateTo("Month",this.currentDate);n.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1);this.navigateTo("Month",this.currentDate);n.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1);this.navigateTo("Month",this.currentDate);n.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1);this.navigateTo("Month",this.currentDate);n.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1));n.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31));n.preventDefault()}this.getModuleName()==="calendar"&&this.table.focus()},e.prototype.KeyboardNavigate=function(n,t,i,r,u){var f=new Date(""+this.currentDate);switch(t){case 2:this.addYears(this.currentDate,n);this.isMonthYearRange(this.currentDate)?(a(this.tableBodyElement),this.renderDecades(i)):this.currentDate=f;break;case 1:this.addMonths(this.currentDate,n);this.isMonthYearRange(this.currentDate)?(a(this.tableBodyElement),this.renderYears(i)):this.currentDate=f;break;case 0:this.addDay(this.currentDate,n,i,r,u);this.isMinMaxRange(this.currentDate)?(a(this.tableBodyElement),this.renderMonths(i)):this.currentDate=f}},e.prototype.preRender=function(){var n=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this);this.navigateNextHandler=this.navigateNext.bind(this);this.navigateHandler=function(t){n.triggerNavigate(t)}},e.prototype.minMaxDate=function(n){var t=new Date(new Date(+n).setHours(0,0,0,0)),i=new Date(new Date(+this.min).setHours(0,0,0,0)),r=new Date(new Date(+this.max).setHours(0,0,0,0));return(+t==+i||+t==+r)&&(+n<+this.min&&(n=new Date(+this.min)),+n>+this.max&&(n=new Date(+this.max))),n},e.prototype.renderMonths=function(n,t){var i=this.weekNumber?8:7,r=this.renderDays(this.currentDate,n,t);this.createContentHeader();this.renderTemplate(r,i,ln,n,t)},e.prototype.renderDays=function(n,i,f,e,o){var g=[],s=new Date(""+n),ut,st=this.weekNumber?8:7,et=s.getMonth(),c,w,b,nt,rt,y,a,v,l,p,k,d;for(this.titleUpdate(n,"days"),c=s,s=new Date(c.getFullYear(),c.getMonth(),0,c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds());s.getDay()!==this.firstDayOfWeek;)this.setStartDate(s,-1*bn);for(w=0;w<42;++w){b=this.createElement("td",{className:wn});nt=this.createElement("span");w%7==0&&this.weekNumber&&(nt.textContent=""+this.getWeek(s),b.appendChild(nt),u([b],""+gy),g.push(b));ut=new Date(+s);s=this.minMaxDate(s);var ft={type:"dateTime",skeleton:"full"},tt=this.globalize.parseDate(this.globalize.formatDate(s,ft),ft),h=this.dayCell(s),ot=this.globalize.formatDate(s,{type:"date",skeleton:"full"}),it=this.createElement("span");if(it.textContent=this.globalize.formatDate(s,{type:"date",skeleton:"d"}),rt=this.min>s||this.max<s,rt?(u([h],gi),u([h],no)):it.setAttribute("title",""+ot),et!==s.getMonth()&&u([h],ef),(s.getDay()===0||s.getDay()===6)&&u([h],gat),h.appendChild(it),this.renderDayCellArgs={date:s,isDisabled:!1,element:h,isOutOfRange:rt},y=this.renderDayCellArgs,this.renderDayCellEvent(y),y.isDisabled)if(e){if(!t(o)&&o.length>0)for(a=0;a<o.length;a++)k=+new Date(this.globalize.formatDate(y.date,{type:"date",skeleton:"yMd"})),d=+new Date(this.globalize.formatDate(o[a],{type:"date",skeleton:"yMd"})),k===d&&(o.splice(a,1),a=-1)}else f&&+f==+y.date&&this.setProperties({value:null},!0);if(this.renderDayCellArgs.isDisabled&&!h.classList.contains(lu)&&(u([h],gi),u([h],no),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0)),v=h.classList.contains(ef),l=h.classList.contains(gi),l||r.add(h,"click",this.clickHandler,this),!e||t(o)||v||l)v||l||!this.getDateVal(s,f)?this.updateFocus(v,l,s,h,n):u([h],lu);else{for(p=0;p<o.length;p++)k=this.globalize.formatDate(s,{type:"date",skeleton:"short"}),d=this.globalize.formatDate(o[p],{type:"date",skeleton:"short"}),k===d&&this.getDateVal(s,o[p])?u([h],lu):this.updateFocus(v,l,s,h,n);o.length<=0&&this.updateFocus(v,l,s,h,n)}tt.getMonth()===(new Date).getMonth()&&tt.getDate()===(new Date).getDate()&&tt.getFullYear()===(new Date).getFullYear()&&u([h],yn);g.push(this.renderDayCellArgs.element);s=new Date(+ut);this.addDay(s,1,null,this.max,this.min)}return g},e.prototype.updateFocus=function(n,t,i,r,f){f.getDate()!==i.getDate()||n||t?(f>=this.max&&parseInt(r.id,0)===+this.max&&!n&&!t&&u([r],hr),f<=this.min&&parseInt(r.id,0)===+this.min&&!n&&!t&&u([r],hr)):u([r],hr)},e.prototype.renderYears=function(n,i){var d,o;this.removeTableHeadElement();var c=[],p=t(i),h=new Date(""+this.currentDate),l=h.getMonth(),w=h.getFullYear(),f=h,s=f.getFullYear(),a=new Date(""+this.min).getFullYear(),b=new Date(""+this.min).getMonth(),v=new Date(""+this.max).getFullYear(),k=new Date(""+this.max).getMonth();for(f.setMonth(0),this.titleUpdate(this.currentDate,"months"),d=this.min>f||this.max<f,f.setDate(1),o=0;o<12;++o){var e=this.dayCell(f),y=this.createElement("span"),g=i&&i.getMonth()===f.getMonth(),nt=i&&i.getFullYear()===w&&g;y.textContent=this.globalize.formatDate(f,{type:"dateTime",skeleton:"MMM"});this.min&&(s<a||o<b&&s===a)||this.max&&(s>v||o>k&&s>=v)?u([e],gi):!p&&nt?u([e],lu):f.getMonth()===l&&this.currentDate.getMonth()===l&&u([e],hr);f.setDate(1);f.setMonth(f.getMonth()+1);e.classList.contains(gi)||r.add(e,"click",this.clickHandler,this);e.appendChild(y);c.push(e)}this.renderTemplate(c,4,dy,n,i)},e.prototype.renderDecades=function(n,i){var a,y,s,h,f,c;this.removeTableHeadElement();var l=[],e=new Date(""+this.currentDate);e.setMonth(0);e.setDate(1);var o=e.getFullYear(),p=new Date(""+(o-o%10)),w=new Date(""+(o-o%10+9)),b=this.globalize.formatDate(p,{type:"dateTime",skeleton:"y"}),k=this.globalize.formatDate(w,{type:"dateTime",skeleton:"y"});for(this.headerTitleElement.textContent=b+" - "+k,a=new Date(o-o%10-1,0,1),y=a.getFullYear(),s=0;s<12;++s)h=y+s,e.setFullYear(h),f=this.dayCell(e),v(f,{role:"gridcell"}),c=this.createElement("span"),c.textContent=this.globalize.formatDate(e,{type:"dateTime",skeleton:"y"}),h<new Date(""+this.min).getFullYear()||h>new Date(""+this.max).getFullYear()?u([f],gi):t(i)||e.getFullYear()!==i.getFullYear()?e.getFullYear()!==this.currentDate.getFullYear()||f.classList.contains(gi)||u([f],hr):u([f],lu),f.classList.contains(gi)||r.add(f,"click",this.clickHandler,this),f.appendChild(c),l.push(f);this.renderTemplate(l,4,"e-decade",n,i)},e.prototype.dayCell=function(n){var t={skeleton:"full",type:"dateTime"},i=this.globalize.parseDate(this.globalize.formatDate(n,t),t),r=i.valueOf(),u={className:wn,attrs:{id:""+wr(""+r),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",u)},e.prototype.firstDay=function(n){var i=this.tableBodyElement.querySelectorAll("td:not(."+ef+""),t;if(i.length)for(t=0;t<i.length;t++)if(!i[t].classList.contains(gi)){n=new Date(parseInt(i[t].id,0));break}return n},e.prototype.lastDay=function(n,t){var i=new Date(n.getFullYear(),n.getMonth()+1,0),r;return t!==2?(r=Math.abs(i.getTimezoneOffset()-this.firstDay(n).getTimezoneOffset()),r&&i.setHours(this.firstDay(n).getHours()+r/60),this.findLastDay(i)):this.findLastDay(this.firstDay(i))},e.prototype.checkDateValue=function(n){return!t(n)&&n instanceof Date&&!isNaN(+n)?n:null},e.prototype.findLastDay=function(n){var i=this.tableBodyElement.querySelectorAll("td:not(."+ef+""),t;if(i.length)for(t=i.length-1;t>=0;t--)if(!i[t].classList.contains(gi)){n=new Date(parseInt(i[t].id,0));break}return n},e.prototype.removeTableHeadElement=function(){this.getModuleName()==="calendar"?t(this.element.querySelectorAll(".e-content table thead")[0])||a(this.tableHeadElement):t(this.calendarElement.querySelectorAll(".e-content table thead")[0])||a(this.tableHeadElement)},e.prototype.renderTemplate=function(n,i,r,f){var c=this.getViewNumber(this.currentView()),o,a;this.tableBodyElement=this.createElement("tbody");this.table.appendChild(this.tableBodyElement);h([this.contentElement,this.headerElement],[ln,an,dy]);u([this.contentElement,this.headerElement],[r]);var v=41,y=35,s=6,l=i,e=0;for(a=0;a<n.length/i;++a){for(o=this.createElement("tr",{attrs:{role:"row"}}),e=0+e;e<l;e++)n[e].classList.contains("e-week-number")||t(n[e].children[0])||(u([n[e].children[0]],[pn]),si(n[e].children[0],{duration:600,isCenterRipple:!0})),o.appendChild(n[e]),this.weekNumber&&e===s+1&&n[s+1].classList.contains(ef)&&u([o],pl),!this.weekNumber&&e===s&&n[s].classList.contains(ef)&&u([o],pl),this.weekNumber?e===v&&n[v].classList.contains(ef)&&u([o],pl):e===y&&n[y].classList.contains(ef)&&u([o],pl);l=l+i;e=e+0;this.tableBodyElement.appendChild(o)}this.table.querySelector("tbody").className=this.effect;this.iconHandler();(c!==this.getViewNumber(this.currentView())||c===0&&c!==this.getViewNumber(this.currentView()))&&this.navigateHandler(f);this.setAriaActiveDescendant()},e.prototype.clickHandler=function(n,t){this.clickEventEmitter(n);var i=n.currentTarget,r=this.getViewNumber(this.currentView());i.classList.contains(ef)?this.contentClick(n,0,null,t):r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(n,1,null,t):2===r?this.contentClick(n,1,null,t):i.classList.contains(ef)||r!==0?this.contentClick(n,0,i,t):this.selectDate(n,this.getIdValue(n,null),null);this.getModuleName()==="calendar"&&this.table.focus()},e.prototype.clickEventEmitter=function(n){n.preventDefault()},e.prototype.contentClick=function(n,t,i){var u=this.getViewNumber(this.currentView()),r=this.getIdValue(n,i);switch(t){case 0:u===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(a(this.tableBodyElement),this.currentDate=r,this.effect=wl,this.renderMonths(n)):(this.currentDate.setMonth(r.getMonth()),r.getMonth()>0&&this.currentDate.getMonth()!==r.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(r.getFullYear()),this.effect=wl,a(this.tableBodyElement),this.renderMonths(n));break;case 1:u===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.selectDate(n,r,null):(this.currentDate.setFullYear(r.getFullYear()),this.effect=wl,a(this.tableBodyElement),this.renderYears(n))}},e.prototype.switchView=function(n,i,r){switch(n){case 0:a(this.tableBodyElement);this.renderMonths(i);r&&!t(this.tableBodyElement.querySelectorAll("."+hr)[0])&&this.tableBodyElement.querySelectorAll("."+hr)[0].classList.remove(hr);break;case 1:a(this.tableBodyElement);this.renderYears(i);break;case 2:a(this.tableBodyElement);this.renderDecades(i)}},e.prototype.getModuleName=function(){return"calendar"},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.onPropertyChanged=function(n,t,i,r){var u,f,e;for(this.effect="",u=0,f=Object.keys(n);u<f.length;u++){e=f[u];switch(e){case"enableRtl":n.enableRtl?this.getModuleName()==="calendar"?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):this.getModuleName()==="calendar"?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"min":case"max":e==="min"?this.setProperties({min:this.checkDateValue(new Date(""+n.min))},!0):this.setProperties({max:this.checkDateValue(new Date(""+n.max))},!0);this.setProperties({start:this.currentView()},!0);a(this.tableBodyElement);this.minMaxUpdate();i&&this.validateValues(i,r);this.createContentBody();(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(a(this.todayElement),a(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.todayElement.classList.contains("e-disabled")&&this.footer&&this.todayElement&&(h([this.todayElement],gi),a(this.todayElement),a(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"weekNumber":case"firstDayOfWeek":this.createContentHeader();this.createContentBody();break;case"locale":this.globalize=new hi(this.locale);this.createContentHeader();this.createContentBody();this.l10.setLocale(this.locale);this.updateFooter();break;case"showTodayButton":n.showTodayButton?this.createContentFooter():(a(this.todayElement),a(this.footer),this.todayElement=this.footer=undefined);this.setProperties({showTodayButton:n.showTodayButton},!0)}}},e.prototype.validateValues=function(n,i){var u,r;if(n&&!t(i)&&i.length>0){for(u=this.copyValues(i),r=0;r<u.length;r++){var e=u[r],f=this.globalize.formatDate(e,{type:"date",skeleton:"yMd"}),o=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd"}),s=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd"});(+new Date(f)<+new Date(o)||+new Date(f)>+new Date(s))&&(u.splice(r,1),r=-1)}this.setProperties({values:u},!0)}},e.prototype.setValueUpdate=function(){a(this.tableBodyElement);this.setProperties({start:this.currentView()},!0);this.createContentBody()},e.prototype.copyValues=function(n){var r=[],i;if(!t(n)&&n.length>0)for(i=0;i<n.length;i++)r.push(new Date(+n[i]));return r},e.prototype.titleUpdate=function(n,t){var i=new hi(this.locale);switch(t){case"days":this.headerTitleElement.textContent=i.formatDate(n,{type:"dateTime",skeleton:"yMMMM"});break;case"months":this.headerTitleElement.textContent=i.formatDate(n,{type:"dateTime",skeleton:"y"})}},e.prototype.setActiveDescendant=function(){var i,n=this.tableBodyElement.querySelector("tr td.e-focused-date"),t=this.tableBodyElement.querySelector("tr td.e-selected"),r=this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full"});return(t||n)&&((n||t).setAttribute("aria-selected","true"),(n||t).setAttribute("aria-label","The current focused date is "+r),i=(n||t).getAttribute("id")),i},e.prototype.iconHandler=function(){new Date(""+this.currentDate).setDate(1);switch(this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(""+this.currentDate),this.min)<1);this.nextIconHandler(this.compareMonth(new Date(""+this.currentDate),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(""+this.currentDate),this.min)<1);this.nextIconHandler(this.compareYear(new Date(""+this.currentDate),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(""+this.currentDate),this.min)<1);this.nextIconHandler(this.compareDecade(new Date(""+this.currentDate),this.max)>-1)}},e.prototype.destroy=function(){this.getModuleName()==="calendar"?h([this.element],[oc]):this.calendarElement&&h([this.element],[oc]);this.getModuleName()==="calendar"&&(r.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&r.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"));this.element.innerHTML="";n.prototype.destroy.call(this)},e.prototype.title=function(n){var t=this.getViewNumber(this.currentView());this.effect=wl;this.switchView(++t,n)},e.prototype.getViewNumber=function(n){return n==="Month"?0:n==="Year"?1:2},e.prototype.navigateTitle=function(n){n.preventDefault();this.title(n);this.getModuleName()==="calendar"&&this.table.focus()},e.prototype.previous=function(){this.effect="";var n=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1);this.switchView(n);break;case"Year":this.addYears(this.currentDate,-1);this.switchView(n);break;case"Decade":this.addYears(this.currentDate,-10);this.switchView(n)}},e.prototype.navigatePrevious=function(n){n.preventDefault();this.previous();this.triggerNavigate(n);this.getModuleName()==="calendar"&&this.table.focus()},e.prototype.next=function(){this.effect="";var n=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1);this.switchView(n);break;case"Year":this.addYears(this.currentDate,1);this.switchView(n);break;case"Decade":this.addYears(this.currentDate,10);this.switchView(n)}},e.prototype.navigateNext=function(n){n.preventDefault();this.next();this.triggerNavigate(n);this.getModuleName()==="calendar"&&this.table.focus()},e.prototype.navigateTo=function(n,t){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t);+t<=+this.min&&(this.currentDate=new Date(""+this.min));+t>=+this.max&&(this.currentDate=new Date(""+this.max));this.getModuleName()==="daterangepicker"&&(this.currentDate=t);this.getViewNumber(this.depth)>=this.getViewNumber(n)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(n))&&(n=this.depth);this.switchView(this.getViewNumber(n))},e.prototype.currentView=function(){return this.contentElement.classList.contains(dy)?"Year":this.contentElement.classList.contains(an)?"Decade":"Month"},e.prototype.getDateVal=function(n,i){return!t(i)&&n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear()},e.prototype.getCultureObjects=function(n){return p("main."+this.locale+".dates.calendars.gregorian.days.format.short",n)},e.prototype.getWeek=function(n){var i=new Date(""+n).valueOf(),t=new Date(n.getFullYear(),0,1).valueOf(),r=i-t;return Math.ceil((r/bn+new Date(t).getDay()+1)/7)},e.prototype.setStartDate=function(n,t){var r=n.getTimezoneOffset(),i=new Date(n.getTime()+t),u=i.getTimezoneOffset()-r;n.setTime(i.getTime()+u*ovt)},e.prototype.addMonths=function(n,t){var i=n.getDate();n.setDate(1);n.setMonth(n.getMonth()+t);n.setDate(Math.min(i,this.getMaxDays(n)))},e.prototype.addYears=function(n,t){var i=n.getDate();n.setDate(1);n.setFullYear(n.getFullYear()+t);n.setDate(Math.min(i,this.getMaxDays(n)))},e.prototype.getIdValue=function(n,t){var u=n?n.currentTarget:t;var i={type:"dateTime",skeleton:"full"},f=this.globalize.formatDate(new Date(parseInt(""+u.getAttribute("id"),0)),i),r=this.globalize.parseDate(f,i),e=r.valueOf()-r.valueOf()%1e3;return new Date(e)},e.prototype.selectDate=function(n,i,r,f,e){var l=r||n.currentTarget,s,o,a,p,y,v,w,b,c;if(this.currentView()==="Decade"?this.setDateDecade(this.currentDate,i.getFullYear()):this.currentView()==="Year"?this.setDateYear(this.currentDate,i):(f&&!this.checkPresentDate(i,e)?(o=this.copyValues(e),!t(e)&&o.length>0?(o.push(new Date(""+i)),this.setProperties({values:o},!0),this.setProperties({value:e[e.length-1]},!0)):this.setProperties({values:[new Date(""+i)]},!0)):this.setProperties({value:new Date(""+i)},!0),this.currentDate=new Date(""+i)),s=k(l,"."+oc),t(s)&&(s=this.tableBodyElement),f||t(s.querySelector("."+lu))||h([s.querySelector("."+lu)],lu),f||t(s.querySelector("."+hr))||h([s.querySelector("."+hr)],hr),f){for(o=this.copyValues(e),a=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),c=0;c<a.length;c++)p=s.querySelectorAll("td."+hr)[0],y=s.querySelectorAll("td."+lu)[0],a[c]===p&&h([a[c]],hr),a[c]!==y||this.checkPresentDate(new Date(parseInt(y.getAttribute("id").split("_")[0],10)),e)||h([a[c]],lu);if(l.classList.contains(lu)){for(h([l],lu),v=0;v<o.length;v++)w=this.globalize.formatDate(i,{type:"date",skeleton:"short"}),b=this.globalize.formatDate(o[v],{type:"date",skeleton:"short"}),w===b&&(c=o.indexOf(o[v]),o.splice(c,1),u([l],hr));this.setProperties({values:o},!0)}else u([l],lu)}else u([l],lu)},e.prototype.checkPresentDate=function(n,i){var u=!1,r,f,e;if(!t(i))for(r=0;r<i.length;r++)f=this.globalize.formatDate(n,{type:"date",skeleton:"short"}),e=this.globalize.formatDate(i[r],{type:"date",skeleton:"short"}),f===e&&(u=!0);return u},e.prototype.setAriaActiveDescendant=function(){v(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},e.prototype.previousIconHandler=function(n){n?(r.remove(this.previousIcon,"click",this.navigatePreviousHandler),u([this.previousIcon],""+gi),u([this.previousIcon],""+no),this.previousIcon.setAttribute("aria-disabled","true")):(r.add(this.previousIcon,"click",this.navigatePreviousHandler),h([this.previousIcon],""+gi),h([this.previousIcon],""+no),this.previousIcon.setAttribute("aria-disabled","false"))},e.prototype.renderDayCellEvent=function(n){b(this.renderDayCellArgs,{name:"renderDayCell"});this.trigger("renderDayCell",n)},e.prototype.navigatedEvent=function(n){b(this.navigatedArgs,{name:"navigated",event:n});this.trigger("navigated",this.navigatedArgs)},e.prototype.triggerNavigate=function(n){this.navigatedArgs={view:this.currentView(),date:this.currentDate};this.navigatedEvent(n)},e.prototype.nextIconHandler=function(n){n?(r.remove(this.nextIcon,"click",this.navigateNextHandler),u([this.nextIcon],gi),u([this.nextIcon],no),this.nextIcon.setAttribute("aria-disabled","true")):(r.add(this.nextIcon,"click",this.navigateNextHandler),h([this.nextIcon],gi),h([this.nextIcon],no),this.nextIcon.setAttribute("aria-disabled","false"))},e.prototype.compare=function(n,t,i){var r=t.getFullYear(),f,u;return f=r,u=0,i&&(r=r-r%i,f=r-r%i+i-1),n.getFullYear()>f?u=1:n.getFullYear()<r&&(u=-1),u},e.prototype.isMinMaxRange=function(n){return+n>=+this.min&&+n<=+this.max},e.prototype.isMonthYearRange=function(n){return n.getMonth()>=this.min.getMonth()&&n.getFullYear()>=this.min.getFullYear()&&n.getMonth()<=this.max.getMonth()&&n.getFullYear()<=this.max.getFullYear()},e.prototype.compareYear=function(n,t){return this.compare(n,t,0)},e.prototype.compareDecade=function(n,t){return this.compare(n,t,10)},e.prototype.shiftArray=function(n,t){return n.slice(t).concat(n.slice(0,t))},e.prototype.addDay=function(n,i,r,u,f){var e=i,s=new Date(+n),o;if(!t(this.tableBodyElement)&&!t(r)){while(this.findNextTD(new Date(+n),e,u,f))e+=i;o=new Date(s.setDate(s.getDate()+e));e=+o>+u||+o<+f?e===i?i-i:i:e}n.setDate(n.getDate()+e)},e.prototype.findNextTD=function(n,i,r,u){var f=new Date(n.setDate(n.getDate()+i)),e=[],s=!1,h,o;if((!t(f)&&f.getMonth())===(!t(this.currentDate)&&this.currentDate.getMonth())?(h=this.renderDays(f,null),e=h.filter(function(n){return n.classList.contains(gi)})):e=this.tableBodyElement.querySelectorAll("td."+gi),+f<=+r&&+f>=+u&&e.length)for(o=0;o<e.length;o++)if(s=+f==+new Date(parseInt(e[o].id,0))?!0:!1,s)break;return s},e.prototype.getMaxDays=function(n){for(var i=new Date(""+n),t=28,r=i.getMonth();i.getMonth()===r;)++t,i.setDate(t);return t-1},e.prototype.setDateDecade=function(n,t){n.setFullYear(t);this.setProperties({value:new Date(""+n)},!0)},e.prototype.setDateYear=function(n,t){n.setFullYear(t.getFullYear(),t.getMonth(),n.getDate());t.getMonth()!==n.getMonth()&&n.setDate(0);this.setProperties({value:new Date(""+n)},!0);this.currentDate=new Date(""+t)},e.prototype.compareMonth=function(n,t){return n.getFullYear()>t.getFullYear()?1:n.getFullYear()<t.getFullYear()?-1:n.getMonth()===t.getMonth()?0:n.getMonth()>t.getMonth()?1:-1},ur([i(new Date(1900,0,1))],e.prototype,"min",void 0),ur([i(new Date(2099,11,31))],e.prototype,"max",void 0),ur([i(null)],e.prototype,"firstDayOfWeek",void 0),ur([i("Month")],e.prototype,"start",void 0),ur([i("Month")],e.prototype,"depth",void 0),ur([i(!1)],e.prototype,"weekNumber",void 0),ur([i(!0)],e.prototype,"showTodayButton",void 0),ur([i(!1)],e.prototype,"enableRtl",void 0),ur([i(!1)],e.prototype,"enablePersistence",void 0),ur([f()],e.prototype,"created",void 0),ur([f()],e.prototype,"destroyed",void 0),ur([f()],e.prototype,"navigated",void 0),ur([f()],e.prototype,"renderDayCell",void 0),ur([vt],e)}(vi),svt=function(n){function u(t,i){return n.call(this,t,i)||this}return sn(u,n),u.prototype.render=function(){var f,e,u,i,s,o;if(this.isMultiSelection&&typeof this.values=="object"&&!t(this.values)&&this.values.length>0){for(f=[],e=[],u=0;u<this.values.length;u++)f.indexOf(+this.values[u])===-1&&(f.push(+this.values[u]),e.push(this.values[u]));for(this.setProperties({values:e},!0),i=0;i<this.values.length;i++)this.checkDateValue(this.values[i])||(typeof this.values[i]=="string"&&this.checkDateValue(new Date(""+this.values[i]))?(s=new Date(""+this.values[i]),this.values.splice(i,1),this.values.splice(i,0,s)):this.values.splice(i,1));this.setProperties({value:this.values[this.values.length-1]},!0);this.previousValues=this.values.length}this.validateDate();this.minMaxUpdate();n.prototype.render.call(this);this.getModuleName()==="calendar"&&(o=k(this.element,"form"),o&&r.add(o,"reset",this.formResetHandler.bind(this)))},u.prototype.formResetHandler=function(){this.value=null},u.prototype.validateDate=function(){typeof this.value=="string"&&this.setProperties({value:this.checkDateValue(new Date(""+this.value))},!0);n.prototype.validateDate.call(this,this.value);!t(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(""+this.value));isNaN(+this.value)&&this.setProperties({value:null},!0)},u.prototype.minMaxUpdate=function(){this.getModuleName()==="calendar"&&(!t(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!t(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value}));this.getModuleName()==="calendar"||t(this.value)?n.prototype.minMaxUpdate.call(this,this.value):!t(this.value)&&this.value<this.min&&this.min<=this.max?n.prototype.minMaxUpdate.call(this,this.min):!t(this.value)&&this.value>this.max&&this.min<=this.max&&n.prototype.minMaxUpdate.call(this,this.max)},u.prototype.todayButtonClick=function(){var t,i;this.showTodayButton&&(t=new Date,this.value?(t.setHours(this.value.getHours()),t.setMinutes(this.value.getMinutes()),t.setSeconds(this.value.getSeconds()),t.setMilliseconds(this.value.getMilliseconds())):t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),this.setProperties({value:t},!0),this.isMultiSelection&&(i=this.copyValues(this.values),n.prototype.checkPresentDate.call(this,t,this.values)||(i.push(t),this.setProperties({values:i}))),n.prototype.todayButtonClick.call(this,new Date(+this.value)))},u.prototype.keyActionHandle=function(t){n.prototype.keyActionHandle.call(this,t,this.value,this.isMultiSelection)},u.prototype.preRender=function(){var t=this;this.changeHandler=function(n){t.triggerChange(n)};n.prototype.preRender.call(this,this.value)},u.prototype.createContent=function(){this.previousDate=this.value;n.prototype.createContent.call(this)},u.prototype.minMaxDate=function(t){return n.prototype.minMaxDate.call(this,t)},u.prototype.renderMonths=function(t){n.prototype.renderMonths.call(this,t,this.value)},u.prototype.renderDays=function(t,i){var r=n.prototype.renderDays.call(this,t,i,this.value,this.isMultiSelection,this.values);return this.isMultiSelection&&n.prototype.validateValues.call(this,this.isMultiSelection,this.values),r},u.prototype.renderYears=function(t){n.prototype.renderYears.call(this,t,this.value)},u.prototype.renderDecades=function(t){n.prototype.renderDecades.call(this,t,this.value)},u.prototype.renderTemplate=function(t,i,r,u){n.prototype.renderTemplate.call(this,t,i,r,u,this.value);this.changedArgs={value:this.value,values:this.values};this.changeHandler()},u.prototype.clickHandler=function(i){var f=i.currentTarget,r,u;f.classList.contains(ef)&&(this.isMultiSelection?(r=this.copyValues(this.values),r.push(this.getIdValue(i,null)),this.setProperties({values:r},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.setProperties({value:this.getIdValue(i,null)},!0));u=this.currentView();n.prototype.clickHandler.call(this,i,this.value);this.isMultiSelection&&this.currentDate!==this.value&&!t(this.tableBodyElement.querySelectorAll("."+hr)[0])&&u==="Year"&&this.tableBodyElement.querySelectorAll("."+hr)[0].classList.remove(hr)},u.prototype.switchView=function(t,i){n.prototype.switchView.call(this,t,i,this.isMultiSelection)},u.prototype.getModuleName=function(){return n.prototype.getModuleName.call(this),"calendar"},u.prototype.getPersistData=function(){n.prototype.getPersistData.call(this);return this.addOnPersist(["value","values"])},u.prototype.onPropertyChanged=function(t,i){var u,o,s,r,f,e;for(this.effect="",u=0,o=Object.keys(t);u<o.length;u++){s=o[u];switch(s){case"value":typeof t.value=="string"?this.setProperties({value:new Date(""+t.value)},!0):t.value=new Date(""+t.value);isNaN(+this.value)&&this.setProperties({value:i.value},!0);this.update();break;case"values":if(typeof t.values=="string"||typeof t.values=="number")this.setProperties({values:null},!0);else{for(r=this.copyValues(this.values),f=0;f<r.length;f++)e=r[f],this.checkDateValue(e)&&!n.prototype.checkPresentDate.call(this,e,r)&&r.push(e);this.setProperties({values:r},!0);this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values);this.update();break;case"isMultiSelection":this.setProperties({isMultiSelection:t.isMultiSelection},!0);this.update();break;default:n.prototype.onPropertyChanged.call(this,t,i,this.isMultiSelection,this.values)}}},u.prototype.destroy=function(){if(n.prototype.destroy.call(this),this.getModuleName()==="calendar"){var t=k(this.element,"form");t&&r.remove(t,"reset",this.formResetHandler.bind(this))}},u.prototype.navigateTo=function(t,i){this.minMaxUpdate();n.prototype.navigateTo.call(this,t,i)},u.prototype.currentView=function(){return n.prototype.currentView.call(this)},u.prototype.addDate=function(i){var r,f,u;if(typeof i!="string"&&typeof i!="number"){if(r=this.copyValues(this.values),typeof i=="object"&&i.length>0)for(f=i,u=0;u<f.length;u++)this.checkDateValue(f[u])&&!n.prototype.checkPresentDate.call(this,f[u],r)&&(!t(r)&&r.length>0?r.push(f[u]):r=[new Date(+f[u])]);else this.checkDateValue(i)&&!n.prototype.checkPresentDate.call(this,i,r)&&(!t(r)&&r.length>0?r.push(i):r=[new Date(+i)]);this.setProperties({values:r},!0);this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0);this.validateValues(this.isMultiSelection,r);this.update();this.changedArgs={value:this.value,values:this.values};this.changeHandler()}},u.prototype.removeDate=function(n){var r,f,u,i;if(typeof n!="string"&&typeof n!="number"&&!t(this.values)&&this.values.length>0){if(r=this.copyValues(this.values),typeof n=="object"&&n.length>0)for(f=n,u=0;u<f.length;u++)for(i=0;i<r.length;i++)+r[i]==+f[u]&&r.splice(i,1);else for(i=0;i<r.length;i++)+r[i]==+n&&r.splice(i,1);this.setProperties({values:r},!1);this.update();this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0);this.changedArgs={value:this.value,values:this.values};this.changeHandler()}},u.prototype.update=function(){this.validateDate();this.minMaxUpdate();n.prototype.setValueUpdate.call(this)},u.prototype.selectDate=function(i,r,u){n.prototype.selectDate.call(this,i,r,u,this.isMultiSelection,this.values);this.isMultiSelection&&!t(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0);this.changedArgs={value:this.value,values:this.values};this.changeHandler(i)},u.prototype.changeEvent=function(){this.trigger("change",this.changedArgs);this.previousDate=new Date(+this.value)},u.prototype.triggerChange=function(n){this.changedArgs.event=n||null;this.changedArgs.isInteracted=!t(n);t(this.value)||this.setProperties({value:this.value},!0);this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate?t(this.values)||this.previousValues===this.values.length||(this.changeEvent(n),this.previousValues=this.values.length):this.changeEvent(n)},ur([i(null)],u.prototype,"value",void 0),ur([i(null)],u.prototype,"values",void 0),ur([i(!1)],u.prototype,"isMultiSelection",void 0),ur([f()],u.prototype,"change",void 0),ur([vt],u)}(kn),se,np,dn,sc,tp=!1;var vtt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),pi=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ytt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return vtt(t,n),pi([i("left")],t.prototype,"X",void 0),pi([i("top")],t.prototype,"Y",void 0),t}(it),cr={ROOT:"e-popup",RTL:"e-rtl",OPEN:"e-popup-open",CLOSE:"e-popup-close"},to=function(n){function e(t,i){return n.call(this,i,t)||this}return vtt(e,n),e.prototype.onPropertyChanged=function(n,t){for(var u,f,e,i=0,r=Object.keys(n);i<r.length;i++){u=r[i];switch(u){case"width":gt(this.element,{width:g(n.width)});break;case"height":gt(this.element,{height:g(n.height)});break;case"zIndex":gt(this.element,{zIndex:n.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":f=n.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+f).toString()+"px";break;case"offsetY":e=n.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+e).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":n.actionOnScroll!=="none"?this.wireScrollEvents():this.unwireScrollEvents()}}},e.prototype.getModuleName=function(){return"popup"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){this.element.classList.remove(cr.ROOT,cr.RTL);this.unwireEvents();n.prototype.destroy.call(this)},e.prototype.render=function(){this.element.classList.add(cr.ROOT);var n={};this.zIndex!==1e3&&(n.zIndex=this.zIndex);this.width!=="auto"&&(n.width=g(this.width));this.height!=="auto"&&(n.height=g(this.height));gt(this.element,n);this.fixedParent=!1;this.setEnableRtl();this.setContent();this.wireEvents()},e.prototype.wireEvents=function(){o.isDevice&&r.add(window,"orientationchange",this.orientationOnChange,this);this.actionOnScroll!=="none"&&this.wireScrollEvents()},e.prototype.wireScrollEvents=function(){var n,t,i;if(this.getRelateToElement())for(n=0,t=this.getScrollableParent(this.getRelateToElement());n<t.length;n++)i=t[n],r.add(i,"scroll",this.scrollRefresh,this)},e.prototype.unwireEvents=function(){o.isDevice&&r.remove(window,"orientationchange",this.orientationOnChange);this.actionOnScroll!=="none"&&this.unwireScrollEvents()},e.prototype.unwireScrollEvents=function(){var n,t,i;if(this.getRelateToElement())for(n=0,t=this.getScrollableParent(this.getRelateToElement());n<t.length;n++)i=t[n],r.remove(i,"scroll",this.scrollRefresh)},e.prototype.getRelateToElement=function(){var n=this.relateTo===""||t(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:n},!0),typeof this.relateTo=="string"?document.querySelector(this.relateTo):this.relateTo},e.prototype.scrollRefresh=function(n){if(this.actionOnScroll==="reposition"?this.element.offsetParent===n.target||this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&n.target.parentElement==null||this.refreshPosition():this.actionOnScroll==="hide"&&this.hide(),this.actionOnScroll!=="none"&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),n.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},e.prototype.isElementOnViewport=function(n){for(var i=this.getScrollableParent(n),t=0;t<i.length;t++)if(this.isElementVisible(n,i[t]))continue;else return!1;return!0},e.prototype.isElementVisible=function(n,i){var r=this.checkGetBoundingClientRect(n),f;if(!r.height||!r.width)return!1;if(t(this.checkGetBoundingClientRect(i))){var u=window,e={top:u.scrollY,left:u.scrollX,right:u.scrollX+u.outerWidth,bottom:u.scrollY+u.outerHeight},o=au(n),s={top:o.top,left:o.left,right:o.left+r.width,bottom:o.top+r.height},h={top:e.bottom-s.top,left:e.right-s.left,bottom:s.bottom-e.top,right:s.right-e.left};return h.top>0&&h.left>0&&h.right>0&&h.bottom>0}return f=i.getBoundingClientRect(),!(r.bottom<f.top)&&!(r.bottom>f.bottom)&&!(r.right>f.right)&&!(r.left<f.left)},e.prototype.preRender=function(){},e.prototype.setEnableRtl=function(){this.reposition();this.enableRtl?this.element.classList.add(cr.RTL):this.element.classList.remove(cr.RTL)},e.prototype.setContent=function(){t(this.content)||(this.element.innerHTML="",typeof this.content=="string"?this.element.textContent=this.content:this.element.appendChild(this.content))},e.prototype.orientationOnChange=function(){var n=this;setTimeout(function(){n.refreshPosition()},200)},e.prototype.refreshPosition=function(n,i){t(n)||this.checkFixedParent(n);this.reposition();i||this.checkCollision()},e.prototype.reposition=function(){var n,i=this.getRelateToElement(),r;typeof this.position.X=="number"&&typeof this.position.Y=="number"?n={left:this.position.X,top:this.position.Y}:i?(r=this.element.style.display,this.element.style.display="block",n=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=r):n={left:0,top:0};t(n)||(this.element.style.left=n.left+"px",this.element.style.top=n.top+"px")},e.prototype.checkGetBoundingClientRect=function(n){try{return n.getBoundingClientRect()}catch(t){return null}},e.prototype.getAnchorPosition=function(n,i,r,u,f){var s=this.checkGetBoundingClientRect(i),e=this.checkGetBoundingClientRect(n),h,o;if(t(s)||t(e))return null;h=n;o={left:0,top:0};o=i.offsetParent&&i.offsetParent.tagName==="BODY"&&n.tagName==="BODY"?au(n):hvt(h,i);switch(r.X){case"center":o.left+=this.targetType==="container"?e.width/2-s.width/2:e.width/2;break;case"right":o.left+=this.targetType==="container"?e.width-s.width:e.width}switch(r.Y){case"center":o.top+=this.targetType==="container"?e.height/2-s.height/2:e.height/2;break;case"bottom":o.top+=this.targetType==="container"?e.height-s.height:e.height}return o.left+=u,o.top+=f,o},e.prototype.callFlip=function(n){var t=this.getRelateToElement();lvt(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,n,this.fixedParent)},e.prototype.callFit=function(n){var u,i,r;if(itt(this.element,this.viewPortElement).length!==0)if(t(this.viewPortElement))u=ttt(this.element,this.viewPortElement,n),this.element.style.left=u.left+"px",this.element.style.top=u.top+"px";else{if(i=this.checkGetBoundingClientRect(this.element),r=this.checkGetBoundingClientRect(this.viewPortElement),t(i)||t(r))return null;n&&n.Y===!0&&(r.top>i.top?this.element.style.top="0px":r.bottom<i.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(i.bottom-r.bottom)+"px"));n&&n.X===!0&&(r.right<i.right?this.element.style.left=parseInt(this.element.style.left,10)-(i.right-r.right)+"px":r.left>i.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(r.left-i.left)+"px"))}},e.prototype.checkCollision=function(){var n=this.collision.X,t=this.collision.Y;(n!=="none"||t!=="none")&&(n==="flip"&&t==="flip"?this.callFlip({X:!0,Y:!0}):n==="fit"&&t==="fit"?this.callFit({X:!0,Y:!0}):(n==="flip"?this.callFlip({X:!0,Y:!1}):t==="flip"&&this.callFlip({Y:!0,X:!1}),n==="fit"?this.callFit({X:!0,Y:!1}):t==="fit"&&this.callFit({X:!1,Y:!0})))},e.prototype.show=function(n,i){var r=this,f;this.zIndex!==1e3&&t(i)||(f=t(i)?this.element:i,this.zIndex=na(f),gt(this.element,{zIndex:this.zIndex}));n=!t(n)&&typeof n=="object"?n:this.showAnimation;(this.collision.X!=="none"||this.collision.Y!=="none")&&(h([this.element],cr.CLOSE),u([this.element],cr.OPEN),this.checkCollision(),h([this.element],cr.OPEN),u([this.element],cr.CLOSE));t(n)?(h([this.element],cr.CLOSE),u([this.element],cr.OPEN),this.trigger("open")):(n.begin=function(){r.isDestroyed||(h([r.element],cr.CLOSE),u([r.element],cr.OPEN))},n.end=function(){r.isDestroyed||r.trigger("open")},new di(n).animate(this.element))},e.prototype.hide=function(n){var i=this;n=!t(n)&&typeof n=="object"?n:this.hideAnimation;t(n)?(h([this.element],cr.OPEN),u([this.element],cr.CLOSE),this.trigger("close")):(n.end=function(){i.isDestroyed||(h([i.element],cr.OPEN),u([i.element],cr.CLOSE),i.trigger("close"))},new di(n).animate(this.element))},e.prototype.getScrollableParent=function(n){return this.checkFixedParent(n),yvt(n,this.fixedParent)},e.prototype.checkFixedParent=function(n){for(var i=n.parentElement,r;i&&i.tagName!=="HTML";)r=getComputedStyle(i),r.position==="fixed"&&this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&(this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,t(this.element.offsetParent)&&r.position==="fixed"&&this.element.style.position==="fixed"&&(this.fixedParent=!0)},pi([i("auto")],e.prototype,"height",void 0),pi([i("auto")],e.prototype,"width",void 0),pi([i(null)],e.prototype,"content",void 0),pi([i("container")],e.prototype,"targetType",void 0),pi([i(null)],e.prototype,"viewPortElement",void 0),pi([i({X:"none",Y:"none"})],e.prototype,"collision",void 0),pi([i("")],e.prototype,"relateTo",void 0),pi([nt({},ytt)],e.prototype,"position",void 0),pi([i(0)],e.prototype,"offsetX",void 0),pi([i(0)],e.prototype,"offsetY",void 0),pi([i(1e3)],e.prototype,"zIndex",void 0),pi([i(!1)],e.prototype,"enableRtl",void 0),pi([i("reposition")],e.prototype,"actionOnScroll",void 0),pi([i(null)],e.prototype,"showAnimation",void 0),pi([i(null)],e.prototype,"hideAnimation",void 0),pi([f()],e.prototype,"open",void 0),pi([f()],e.prototype,"close",void 0),pi([f()],e.prototype,"targetExitViewport",void 0),pi([vt],e)}(vi);var dvt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),le=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},gu={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},ae=function(n){function t(t,i){return n.call(this,t,i)||this}return dvt(t,n),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize()},t.prototype.initialize=function(){this.cssClass&&u([this.element],this.cssClass.split(" "));this.isPrimary&&this.element.classList.add(gu.PRIMARY);this.content&&(this.element.innerHTML=this.content);this.setIconCss();this.enableRtl&&this.element.classList.add(gu.RTL);this.disabled?this.controlStatus(this.disabled):this.wireEvents();this.removeRippleEffect=si(this.element,{selector:"."+gu.BUTTON})},t.prototype.controlStatus=function(n){this.element.disabled=n},t.prototype.setIconCss=function(){var n,t;this.iconCss&&(n=this.createElement("span",{className:"e-btn-icon "+this.iconCss}),this.element.textContent.trim()?(n.classList.add("e-icon-"+this.iconPosition.toLowerCase()),(this.iconPosition==="Top"||this.iconPosition==="Bottom")&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(gu.ICONBTN),t=this.element.childNodes[0],t&&(this.iconPosition==="Left"||this.iconPosition==="Top")?this.element.insertBefore(n,t):this.element.appendChild(n))},t.prototype.wireEvents=function(){this.isToggle&&r.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&r.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var i,t=this.element;n.prototype.destroy.call(this);h([this.element],[gu.PRIMARY,gu.RTL,gu.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"]);["e-ripple","disabled"].forEach(function(n){t.removeAttribute(n)});this.content&&(t.innerHTML=t.innerHTML.replace(this.content,""));i=t.querySelector("span.e-btn-icon");i&&a(i);this.unWireEvents();this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(n,t){for(var o,i,s,f=0,e=Object.keys(n);f<e.length;f++){o=e[f];switch(o){case"isPrimary":n.isPrimary?this.element.classList.add(gu.PRIMARY):this.element.classList.remove(gu.PRIMARY);break;case"disabled":this.controlStatus(n.disabled);this.unWireEvents();break;case"iconCss":i=this.element.querySelector("span.e-btn-icon");i?(i.className="e-btn-icon "+n.iconCss,this.element.textContent.trim()&&(this.iconPosition==="Left"?i.classList.add("e-icon-left"):i.classList.add("e-icon-right"))):this.setIconCss();break;case"iconPosition":h([this.element],["e-top-icon-btn","e-bottom-icon-btn"]);i=this.element.querySelector("span.e-btn-icon");i&&a(i);this.setIconCss();break;case"cssClass":t.cssClass&&h([this.element],t.cssClass.split(" "));n.cssClass&&u([this.element],n.cssClass.split(" "));break;case"enableRtl":n.enableRtl?this.element.classList.add(gu.RTL):this.element.classList.remove(gu.RTL);break;case"content":s=pvt(this.element);s||this.element.classList.remove(gu.ICONBTN);this.element.innerHTML=n.content;this.setIconCss();break;case"isToggle":n.isToggle?r.add(this.element,"click",this.btnClickHandler,this):(r.remove(this.element,"click",this.btnClickHandler),h([this.element],["e-active"]))}}},le([i("Left")],t.prototype,"iconPosition",void 0),le([i("")],t.prototype,"iconCss",void 0),le([i(!1)],t.prototype,"disabled",void 0),le([i(!1)],t.prototype,"isPrimary",void 0),le([i("")],t.prototype,"cssClass",void 0),le([i("")],t.prototype,"content",void 0),le([i(!1)],t.prototype,"isToggle",void 0),le([f()],t.prototype,"created",void 0),le([vt],t)}(vi),gvt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),of=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},vp="e-check",ptt="e-checkbox-disabled",ta="e-frame",yp="e-stop",pp="e-label",wp="e-ripple-container",bp="e-ripple-check",kp="e-ripple-stop",dp="e-rtl",gp="e-checkbox-wrapper",kii=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.isKeyPressed=!1,r}return gvt(t,n),t.prototype.changeState=function(n){var r,t,i=this.getWrapper().getElementsByClassName(ta)[0];vf&&(t=this.getWrapper().getElementsByClassName(wp)[0]);n==="check"?(i.classList.remove(yp),i.classList.add(vp),t&&(t.classList.remove(kp),t.classList.add(bp)),r="true",this.element.checked=!0):n==="uncheck"?(h([i],[vp,yp]),t&&h([t],[bp,kp]),r="false",this.element.checked=!1):(i.classList.remove(vp),i.classList.add(yp),t&&(t.classList.remove(bp),t.classList.add(kp)),r="mixed",this.element.indeterminate=!0);this.getWrapper().setAttribute("aria-checked",r)},t.prototype.clickHandler=function(n){this.focusOutHandler();this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var t={checked:this.element.checked,event:n};this.trigger("change",t)},t.prototype.destroy=function(){var i=this,t=this.getWrapper();n.prototype.destroy.call(this);this.disabled||this.unWireEvents();this.tagName==="INPUT"?(t.parentNode.insertBefore(this.element,t),a(t),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(n){i.element.removeAttribute(n)})):(["role","aria-checked","class"].forEach(function(n){t.removeAttribute(n)}),this.element.id&&t.setAttribute("id",this.element.id),t.innerHTML="")},t.prototype.focusHandler=function(){this.isKeyPressed&&this.getWrapper().classList.add("e-focus")},t.prototype.focusOutHandler=function(){this.getWrapper().classList.remove("e-focus")},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element.parentElement.parentElement},t.prototype.initialize=function(){this.name&&this.element.setAttribute("name",this.name);this.value&&this.element.setAttribute("value",this.value);this.checked&&this.changeState("check");this.indeterminate&&this.changeState();this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var n=this.element.parentElement,t,r,i;n.classList.contains(gp)||(n=this.createElement("div",{className:gp,attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(n,this.element));t=this.createElement("label",{attrs:{"for":this.element.id}});r=this.createElement("span",{className:"e-icons "+ta});this.enableRtl&&n.classList.add(dp);this.cssClass&&u([n],this.cssClass.split(" "));n.appendChild(t);t.appendChild(this.element);t.appendChild(r);vf&&(i=this.createElement("span",{className:wp}),this.labelPosition==="Before"?t.appendChild(i):t.insertBefore(i,r),si(i,{duration:400,isCenterRipple:!0}));this.label&&this.setText(this.label)},t.prototype.keyDownHandler=function(){this.isKeyPressed=!0},t.prototype.labelMouseHandler=function(n){var t=this.getWrapper().getElementsByClassName(wp)[0];ap(n,t)},t.prototype.mouseDownHandler=function(){this.isKeyPressed=!1},t.prototype.onPropertyChanged=function(n,t){for(var o,r,f,i=this.getWrapper(),u=0,e=Object.keys(n);u<e.length;u++){o=e[u];switch(o){case"checked":this.indeterminate=!1;this.element.indeterminate=!1;this.changeState(n.checked?"check":"uncheck");break;case"indeterminate":n.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":n.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(ptt),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&i.classList.remove(t.cssClass);i.classList.add(n.cssClass);break;case"enableRtl":n.enableRtl?i.classList.add(dp):i.classList.remove(dp);break;case"label":this.setText(n.label);break;case"labelPosition":r=i.getElementsByClassName(pp)[0];f=i.getElementsByTagName("label")[0];a(r);n.labelPosition==="After"?f.appendChild(r):f.insertBefore(r,i.getElementsByClassName(ta)[0]);break;case"name":this.element.setAttribute("name",n.name);break;case"value":this.element.setAttribute("value",n.value)}}},t.prototype.preRender=function(){var n=this.element;this.tagName=this.element.tagName;n=lp(this.createElement,"EJS-CHECKBOX","checkbox",n,gp,"checkbox");this.element=n;this.element.getAttribute("type")!=="checkbox"&&this.element.setAttribute("type","checkbox");this.element.id||(this.element.id=wr("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper();this.initialize();this.disabled||this.wireEvents()},t.prototype.setDisabled=function(){var n=this.getWrapper();this.element.disabled=!0;n.classList.add(ptt);n.setAttribute("aria-disabled","true")},t.prototype.setText=function(n){var t=this.getWrapper().getElementsByClassName(pp)[0],i;t?t.textContent=n:(t=this.createElement("span",{className:pp,innerHTML:n}),i=this.getWrapper().getElementsByTagName("label")[0],this.labelPosition==="Before"?i.insertBefore(t,this.getWrapper().getElementsByClassName(ta)[0]):i.appendChild(t))},t.prototype.unWireEvents=function(){var t=this.getWrapper(),n;r.remove(this.element,"click",this.clickHandler);r.remove(document,"keydown",this.keyDownHandler);r.remove(t,"mousedown",this.mouseDownHandler);r.remove(this.element,"focus",this.focusHandler);r.remove(this.element,"focusout",this.focusOutHandler);n=t.getElementsByTagName("label")[0];r.remove(n,"mousedown",this.labelMouseHandler);r.remove(n,"mouseup",this.labelMouseHandler)},t.prototype.wireEvents=function(){var t=this.getWrapper(),n;r.add(this.element,"click",this.clickHandler,this);r.add(document,"keydown",this.keyDownHandler,this);r.add(t,"mousedown",this.mouseDownHandler,this);r.add(this.element,"focus",this.focusHandler,this);r.add(this.element,"focusout",this.focusOutHandler,this);n=t.getElementsByTagName("label")[0];r.add(n,"mousedown",this.labelMouseHandler,this);r.add(n,"mouseup",this.labelMouseHandler,this)},of([f()],t.prototype,"change",void 0),of([f()],t.prototype,"created",void 0),of([i(!1)],t.prototype,"checked",void 0),of([i("")],t.prototype,"cssClass",void 0),of([i(!1)],t.prototype,"disabled",void 0),of([i(!1)],t.prototype,"indeterminate",void 0),of([i("")],t.prototype,"label",void 0),of([i("After")],t.prototype,"labelPosition",void 0),of([i("")],t.prototype,"name",void 0),of([i("")],t.prototype,"value",void 0),of([vt],t)}(vi),nyt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),yf=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ia="e-label",wtt="e-ripple-container",nw="e-rtl",tw="e-radio-wrapper",dii=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.isKeyPressed=!1,r}return nyt(t,n),e=t,t.prototype.changeHandler=function(n){this.checked=!0;this.dataBind();var t={value:this.value,event:n};this.trigger("change",t)},t.prototype.updateChange=function(){for(var n,r=this.element.getAttribute("name"),i=document.querySelectorAll('input.e-radio[name="'+r+'"]'),t=0;t<i.length;t++)n=i[t],n!==this.element&&(po(n,e).checked=!1)},t.prototype.destroy=function(){var i=this,t=this.element.parentElement;n.prototype.destroy.call(this);this.disabled||this.unWireEvents();this.tagName==="INPUT"?(t.parentNode.insertBefore(this.element,t),a(t),this.element.checked=!1,["name","value","disabled"].forEach(function(n){i.element.removeAttribute(n)})):(["role","aria-checked","class"].forEach(function(n){t.removeAttribute(n)}),this.element.id&&t.setAttribute("id",this.element.id),t.innerHTML="")},t.prototype.focusHandler=function(){this.isKeyPressed&&this.getLabel().classList.add("e-focus")},t.prototype.focusOutHandler=function(){this.getLabel().classList.remove("e-focus")},t.prototype.getModuleName=function(){return"radio"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getLabel=function(){return this.element.nextElementSibling},t.prototype.initialize=function(){this.initWrapper();this.name&&this.element.setAttribute("name",this.name);this.value&&this.element.setAttribute("value",this.value);this.checked&&(this.element.checked=!0);this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var i,n=this.element.parentElement,t;n.classList.contains(tw)||(n=this.createElement("div",{className:tw}),this.element.parentNode.insertBefore(n,this.element));t=this.createElement("label",{attrs:{"for":this.element.id}});n.appendChild(this.element);n.appendChild(t);vf&&(i=this.createElement("span",{className:wtt}),t.appendChild(i),si(i,{duration:400,isCenterRipple:!0}));this.enableRtl&&t.classList.add(nw);this.cssClass&&u([t],this.cssClass.split(" "));this.label&&this.setText(this.label)},t.prototype.keyDownHandler=function(){this.isKeyPressed=!0},t.prototype.labelRippleHandler=function(n){var t=this.getLabel().getElementsByClassName(wtt)[0];ap(n,t)},t.prototype.mouseDownHandler=function(){this.isKeyPressed=!1},t.prototype.onPropertyChanged=function(n,t){for(var e,i=this.getLabel(),r=0,f=Object.keys(n);r<f.length;r++){e=f[r];switch(e){case"checked":n.checked&&this.updateChange(n.checked);this.element.checked=n.checked;break;case"disabled":n.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&h([i],t.cssClass.split(" "));u([i],n.cssClass.split(" "));break;case"enableRtl":n.enableRtl?i.classList.add(nw):i.classList.remove(nw);break;case"label":this.setText(n.label);break;case"labelPosition":n.labelPosition==="Before"?i.classList.add("e-right"):i.classList.remove("e-right");break;case"name":this.element.setAttribute("name",n.name);break;case"value":this.element.setAttribute("value",n.value)}}},t.prototype.preRender=function(){var n=this.element;this.tagName=this.element.tagName;n=lp(this.createElement,"EJS-RADIOBUTTON","radio",n,tw,"radio");this.element=n;this.element.getAttribute("type")!=="radio"&&this.element.setAttribute("type","radio");this.element.id||(this.element.id=wr("e-"+this.getModuleName()))},t.prototype.render=function(){this.initialize();this.disabled||this.wireEvents()},t.prototype.setDisabled=function(){this.element.disabled=!0},t.prototype.setText=function(n){var i=this.getLabel(),t=i.getElementsByClassName(ia)[0];t?t.textContent=n:(t=this.createElement("span",{className:ia,innerHTML:n}),i.appendChild(t));this.labelPosition==="Before"?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},t.prototype.unWireEvents=function(){var t=this.getLabel(),n;r.remove(this.element,"change",this.changeHandler);r.remove(document,"keydown",this.keyDownHandler);r.remove(t,"mousedown",this.mouseDownHandler);r.remove(this.element,"focus",this.focusHandler);r.remove(this.element,"focusout",this.focusOutHandler);n=t.getElementsByClassName(ia)[0];n&&(r.remove(n,"mousedown",this.labelRippleHandler),r.remove(n,"mouseup",this.labelRippleHandler))},t.prototype.wireEvents=function(){var t=this.getLabel(),n;r.add(this.element,"change",this.changeHandler,this);r.add(document,"keydown",this.keyDownHandler,this);r.add(t,"mousedown",this.mouseDownHandler,this);r.add(this.element,"focus",this.focusHandler,this);r.add(this.element,"focusout",this.focusOutHandler,this);n=t.getElementsByClassName(ia)[0];n&&(r.add(n,"mousedown",this.labelRippleHandler,this),r.add(n,"mouseup",this.labelRippleHandler,this))},yf([f()],t.prototype,"change",void 0),yf([f()],t.prototype,"created",void 0),yf([i(!1)],t.prototype,"checked",void 0),yf([i("")],t.prototype,"cssClass",void 0),yf([i(!1)],t.prototype,"disabled",void 0),yf([i("")],t.prototype,"label",void 0),yf([i("After")],t.prototype,"labelPosition",void 0),yf([i("")],t.prototype,"name",void 0),yf([i("")],t.prototype,"value",void 0),e=yf([vt],t);var e}(vi),tyt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),pf=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},btt="e-switch-disabled",hc="e-ripple-container",ktt="e-ripple-check",iw="e-rtl",rw="e-switch-wrapper",dtt="e-switch-active",gii=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.isKeyPressed=!1,r.isDrag=!1,r}return tyt(t,n),t.prototype.changeState=function(n){var r,t,i=this.getWrapper(),f=i.querySelector(".e-switch-inner"),e=i.querySelector(".e-switch-handle");vf&&(t=i.getElementsByClassName(hc)[0]);n?(u([f,e],dtt),r="true",this.element.checked=!0,this.checked=!0,t&&u([t],[ktt])):(h([f,e],dtt),r="false",this.element.checked=!1,this.checked=!1,t&&h([t],[ktt]));i.setAttribute("aria-checked",r)},t.prototype.clickHandler=function(n){this.isDrag=!1;this.focusOutHandler();this.changeState(!this.checked);this.element.focus();var t={checked:this.element.checked,event:n};this.trigger("change",t)},t.prototype.destroy=function(){n.prototype.destroy.call(this);this.disabled||this.unWireEvents();wvt(this,this.getWrapper(),this.tagName)},t.prototype.focusHandler=function(){this.isKeyPressed&&this.getWrapper().classList.add("e-focus")},t.prototype.focusOutHandler=function(){this.getWrapper().classList.remove("e-focus")},t.prototype.getModuleName=function(){return"switch"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element.parentElement},t.prototype.initialize=function(){this.name&&this.element.setAttribute("name",this.name);this.value&&this.element.setAttribute("value",this.value);this.checked&&this.changeState(!0);this.disabled&&this.setDisabled();(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)},t.prototype.initWrapper=function(){var n=this.element.parentElement,i;n.classList.contains(rw)||(n=this.createElement("div",{className:rw,attrs:{role:"switch","aria-checked":"false"}}),this.element.parentNode.insertBefore(n,this.element));var t=this.createElement("span",{className:"e-switch-inner"}),f=this.createElement("span",{className:"e-switch-on"}),e=this.createElement("span",{className:"e-switch-off"}),r=this.createElement("span",{className:"e-switch-handle"});n.appendChild(this.element);t.appendChild(f);t.appendChild(e);n.appendChild(t);n.appendChild(r);vf&&(i=this.createElement("span",{className:hc}),r.appendChild(i),si(i,{duration:400,isCenterRipple:!0}));this.enableRtl&&n.classList.add(iw);this.cssClass&&u([n],this.cssClass.split(" "))},t.prototype.onPropertyChanged=function(n,t){for(var f,i=this.getWrapper(),r=0,u=Object.keys(n);r<u.length;r++){f=u[r];switch(f){case"checked":this.changeState(n.checked);break;case"disabled":n.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(btt),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"value":this.element.setAttribute("value",n.value);break;case"name":this.element.setAttribute("name",n.name);break;case"onLabel":case"offLabel":this.setLabel(n.onLabel,n.offLabel);break;case"enableRtl":n.enableRtl?i.classList.add(iw):i.classList.remove(iw);break;case"cssClass":t.cssClass&&i.classList.remove(t.cssClass);i.classList.add(n.cssClass)}}},t.prototype.preRender=function(){var n=this.element;this.tagName=this.element.tagName;bvt(this,"EJS-SWITCH",rw,n,this.getModuleName())},t.prototype.render=function(){this.initWrapper();this.initialize();this.disabled||this.wireEvents()},t.prototype.rippleHandler=function(n){var t=this.getWrapper().getElementsByClassName(hc)[0];ap(n,t);n.type==="mousedown"&&n.currentTarget.classList.contains("e-switch-wrapper")&&n.which===1&&(this.isDrag=!0,this.isKeyPressed=!1)},t.prototype.rippleTouchHandler=function(n){var i=this.getWrapper().getElementsByClassName(hc)[0],t;i&&(t=document.createEvent("MouseEvents"),t.initEvent(n,!1,!0),i.dispatchEvent(t))},t.prototype.setDisabled=function(){var n=this.getWrapper();this.element.disabled=!0;n.classList.add(btt);n.setAttribute("aria-disabled","true")},t.prototype.setLabel=function(n,t){var i=this.getWrapper();n&&(i.querySelector(".e-switch-on").textContent=n);t&&(i.querySelector(".e-switch-off").textContent=t)},t.prototype.switchFocusHandler=function(){this.isKeyPressed=!0},t.prototype.switchMouseUp=function(n){var t=n.target,i=this.getWrapper().getElementsByClassName(hc)[0];n.type==="touchmove"&&n.preventDefault();n.type==="touchstart"&&(this.isDrag=!0,this.rippleTouchHandler("mousedown"));this.isDrag&&(n.type==="mouseup"&&t.className.indexOf("e-switch")<0||n.type==="touchend")&&(this.clickHandler(n),this.rippleTouchHandler("mouseup"),n.preventDefault())},t.prototype.toggle=function(){this.clickHandler()},t.prototype.wireEvents=function(){var n=this.getWrapper(),t=n.querySelector(".e-switch-handle");r.add(n,"click",this.clickHandler,this);r.add(this.element,"focus",this.focusHandler,this);r.add(this.element,"focusout",this.focusOutHandler,this);r.add(document,"mouseup",this.switchMouseUp,this);r.add(document,"keydown",this.switchFocusHandler,this);r.add(n,"mousedown mouseup",this.rippleHandler,this);r.add(n,"touchstart touchmove touchend",this.switchMouseUp,this)},t.prototype.unWireEvents=function(){var n=this.getWrapper(),t=n.querySelector(".e-switch-handle");r.remove(n,"click",this.clickHandler);r.remove(this.element,"focus",this.focusHandler);r.remove(this.element,"focusout",this.focusOutHandler);r.remove(document,"mouseup",this.switchMouseUp);r.remove(document,"keydown",this.switchFocusHandler);r.remove(n,"mousedown mouseup",this.rippleHandler);r.remove(n,"touchstart touchmove touchend",this.switchMouseUp)},pf([f()],t.prototype,"change",void 0),pf([f()],t.prototype,"created",void 0),pf([i(!1)],t.prototype,"checked",void 0),pf([i("")],t.prototype,"cssClass",void 0),pf([i(!1)],t.prototype,"disabled",void 0),pf([i("")],t.prototype,"name",void 0),pf([i("")],t.prototype,"onLabel",void 0),pf([i("")],t.prototype,"offLabel",void 0),pf([i("")],t.prototype,"value",void 0),pf([vt],t)}(vi),uw=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),pt=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},iyt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return uw(t,n),pt([i()],t.prototype,"buttonModel",void 0),pt([i()],t.prototype,"click",void 0),t}(it),ryt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return uw(t,n),pt([i("Fade")],t.prototype,"effect",void 0),pt([i(400)],t.prototype,"duration",void 0),pt([i(0)],t.prototype,"delay",void 0),t}(it),bo="e-dialog",fw="e-rtl",gtt="e-dlg-header-content",uyt="e-dlg-header",fyt="e-footer-content",ew="e-dlg-modal",eyt="e-dlg-content",nit="e-icon-dlg-close",oyt="e-dlg-overlay",syt="e-dlg-container",ko="e-scroll-disabled",hyt="e-primary",cyt="e-icons",lyt="e-popup",ayt="e-device",tit="e-dlg-fullscreen",iit="e-dlg-closeicon-btn",vyt="e-popup-close",rit="e-popup-open",ow="Information",uit="e-scroll-disabled",yyt="e-alert-dialog",pyt="e-confirm-dialog",wyt=function(n){function e(t,i){return n.call(this,t,i)||this}return uw(e,n),e.prototype.render=function(){this.initialize();this.initRender();this.wireEvents();this.width==="100%"&&(this.element.style.width="")},e.prototype.preRender=function(){var r=this,i,n,u,f;for(this.headerContent=null,i=[],n=0;n<this.element.classList.length;n++)t(this.element.classList[n].match("e-control"))&&t(this.element.classList[n].match(bo))||i.push(this.element.classList[n]);h([this.element],i);this.clonedEle=this.element.cloneNode(!0);this.closeIconClickEventHandler=function(n){r.hide(n)};this.dlgOverlayClickEventHandler=function(n){r.trigger("overlayClick",n)};u={close:"Close"};this.l10n=new du("dialog",u,this.locale);t(this.target)&&(f=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=f)},e.prototype.keyDown=function(n){var f=this,i,u,s;n.keyCode===9&&this.isModal&&(i=void 0,t(this.btnObj)||(i=this.btnObj[this.btnObj.length-1]),t(i)||document.activeElement!==i.element||n.shiftKey||(n.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&n.shiftKey&&(n.preventDefault(),t(i)||i.element.focus()));var r=document.activeElement,e=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,o=!1;e||(o=r.hasAttribute("contenteditable")&&r.getAttribute("contenteditable")==="true");n.keyCode===27&&this.closeOnEscape&&this.hide(n);(n.keyCode===13&&!n.ctrlKey&&r.tagName.toLowerCase()!=="textarea"&&e&&!t(this.primaryButtonEle)||n.keyCode===13&&n.ctrlKey&&(r.tagName.toLowerCase()==="textarea"||o)&&!t(this.primaryButtonEle))&&(s=this.buttons.some(function(n,i){u=i;var r=n.buttonModel;return!t(r)&&r.isPrimary===!0}),s&&typeof this.buttons[u].click=="function"&&setTimeout(function(){f.buttons[u].click.call(f,n)}))},e.prototype.initialize=function(){t(this.target)||(this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target);u([this.element],bo);o.isDevice&&u([this.element],ayt);this.setCSSClass();this.setMaxHeight()},e.prototype.initRender=function(){var n=this;this.initialRender=!0;v(this.element,{role:"dialog"});this.zIndex===1e3?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1;this.setTargetContent();this.header===""||t(this.header)||this.setHeader();this.showCloseIcon&&this.renderCloseIcon();this.setContent();this.footerTemplate===""||t(this.footerTemplate)?t(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate();this.allowDragging&&!t(this.headerContent)&&this.setAllowDragging();v(this.element,{"aria-modal":this.isModal?"true":"false"});this.isModal&&this.setIsModal();t(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element));this.popupObj=new to(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",open:function(){n.focusContent();var t={container:n.isModal?n.dlgContainer:n.element,element:n.element,target:n.target};n.trigger("open",t)},close:function(){n.isModal&&u([n.dlgOverlay],"e-fade");n.unBindEvent(n.element);n.isModal&&(n.dlgContainer.style.display="none");n.trigger("close",n.closeArgs);t(n.storeActiveElement)||n.storeActiveElement.focus()}});this.positionChange();this.setEnableRTL();u([this.element],vyt);this.isModal&&this.setOverlayZindex();this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},e.prototype.setOverlayZindex=function(n){var i;i=t(n)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:n;this.dlgOverlay.style.zIndex=(i-1).toString();this.dlgContainer.style.zIndex=i.toString()},e.prototype.positionChange=function(){this.isModal?typeof this.position.X=="number"&&typeof this.position.Y=="number"?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},e.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},e.prototype.setAllowDragging=function(){var n=this,i="."+gtt;this.dragObj=new dg(this.element,{clone:!1,abort:".e-dlg-closeicon-btn",handle:i,dragStart:function(t){n.trigger("dragStart",t)},dragStop:function(i){n.isModal&&(t(n.position)||n.dlgContainer.classList.remove("e-dlg-"+n.position.X+"-"+n.position.Y),n.element.style.position="relative");n.trigger("dragStop",i)},drag:function(t){n.trigger("drag",t)}});t(this.targetEle)||(this.dragObj.dragArea=this.targetEle)},e.prototype.setButton=function(){var t,n;for(this.buttonContent=[],this.btnObj=[],n=0;n<this.buttons.length;n++)t=this.createElement("button",{attrs:{type:"button"}}),this.buttonContent.push(t.outerHTML);for(this.setFooterTemplate(),n=0;n<this.buttons.length;n++)this.btnObj[n]=new ae(this.buttons[n].buttonModel),typeof this.buttons[n].click=="function"&&r.add(this.ftrTemplateContent.children[n],"click",this.buttons[n].click,this),this.btnObj[n].appendTo(this.ftrTemplateContent.children[n]),this.btnObj[n].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]},e.prototype.setContent=function(){v(this.element,{"aria-describedby":this.element.id+"_dialog-content"});this.contentEle=this.createElement("div",{className:eyt,id:this.element.id+"_dialog-content"});this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(t(this.content)||this.content==="")&&this.initialRender||(typeof this.content=="string"?this.contentEle.innerHTML=this.content:this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle));t(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]);this.height==="auto"&&this.setMaxHeight()},e.prototype.setTemplate=function(n,t){for(var f,e=cu(n),r=[],i=0,u=e({});i<u.length;i++)f=u[i],r.push(f);ir([].slice.call(r),t)},e.prototype.setMaxHeight=function(){var n=this.element.style.display;this.element.style.display="none";this.element.style.maxHeight=t(this.target)?window.innerHeight-20+"px":this.targetEle.offsetHeight-20+"px";this.element.style.display=n},e.prototype.setEnableRTL=function(){this.enableRtl?u([this.element],fw):h([this.element],fw)},e.prototype.setTargetContent=function(){if(t(this.content)||this.content===""){var n=this.element.innerHTML.replace(/\s/g,"")!=="";if(this.element.children.length>0||n)for(this.innerContentElement=document.createDocumentFragment();this.element.childNodes.length!==0;)this.innerContentElement.appendChild(this.element.childNodes[0])}},e.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:uyt});this.createHeaderContent();this.headerContent.appendChild(this.headerEle);this.setTemplate(this.header,this.headerEle);v(this.element,{"aria-labelledby":this.element.id+"_title"});this.element.insertBefore(this.headerContent,this.element.children[0])},e.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:fyt});this.footerTemplate===""||t(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent);this.element.appendChild(this.ftrTemplateContent)},e.prototype.createHeaderContent=function(){t(this.headerContent)&&(this.headerContent=this.createElement("div",{className:gtt}))},e.prototype.renderCloseIcon=function(){this.closeIcon=this.createElement("button",{className:iit,attrs:{type:"button"}});this.closeIconBtnObj=new ae({cssClass:"e-flat",iconCss:nit+" "+cyt});this.closeIconTitle();t(this.headerContent)?(this.createHeaderContent(),ku([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):ku([this.closeIcon],this.headerContent);this.closeIconBtnObj.appendTo(this.closeIcon)},e.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var n=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",n)},e.prototype.setCSSClass=function(n){this.cssClass&&u([this.element],this.cssClass.split(" "));n&&h([this.element],n.split(" "))},e.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:syt});this.element.classList.remove(rit);this.element.parentNode.insertBefore(this.dlgContainer,this.element);this.dlgContainer.appendChild(this.element);u([this.element],ew);this.dlgOverlay=this.createElement("div",{className:oyt});this.dlgOverlay.style.zIndex=(this.zIndex-1).toString();this.dlgContainer.appendChild(this.dlgOverlay)},e.prototype.getValidFocusNode=function(n){for(var t,i=0;i<n.length;i++)if(t=n[i],(t.clientHeight>0||t.tagName.toLowerCase()==="a"&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;return t},e.prototype.focusableElements=function(n){if(!t(n)){var i=n.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(i)}return null},e.prototype.getAutoFocusNode=function(n){var r=n.querySelector("."+iit),u=n.querySelectorAll("[autofocus]"),i=this.getValidFocusNode(u);if(t(i))if(i=this.focusableElements(this.contentEle),t(i)){if(!t(this.primaryButtonEle))return this.element.querySelector("."+hyt)}else return i;else r=i;return r},e.prototype.disableElement=function(n,t){var i=n?n.matches||n.webkitMatchesSelector||n.msMatchesSelector:null;if(i)for(;n;n=n.parentNode)if(n instanceof Element&&i.call(n,t))return n;return null},e.prototype.focusContent=function(){var n=this.getAutoFocusNode(this.element),i=t(n)?this.element:n;i.focus();this.bindEvent(this.element)},e.prototype.bindEvent=function(n){r.add(n,"keydown",this.keyDown,this)},e.prototype.unBindEvent=function(n){r.remove(n,"keydown",this.keyDown)},e.prototype.getModuleName=function(){return"dialog"},e.prototype.onPropertyChanged=function(n,i){var r,u,o,f,e;if(this.element.classList.contains(bo))for(r=0,u=Object.keys(n);r<u.length;r++){o=u[r];switch(o){case"content":t(this.content)||this.content===""?t(this.contentEle)||(a(this.contentEle),this.contentEle=null):t(this.contentEle)||this.contentEle.getAttribute("role")==="dialog"?this.setContent():(this.contentEle.innerHTML="",typeof this.content=="string"?this.contentEle.innerHTML=this.content:this.contentEle.appendChild(this.content),this.setMaxHeight());break;case"header":this.header===""||t(this.header)?this.headerEle&&(a(this.headerEle),this.headerEle=null):this.setHeader();break;case"footerTemplate":if(this.footerTemplate===""||t(this.footerTemplate)){if(!this.ftrTemplateContent)return;a(this.ftrTemplateContent);this.ftrTemplateContent=null;this.buttons=[{}]}else this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(nit).length>0?!this.showCloseIcon&&(this.header===""||t(this.header))?(a(this.headerContent),this.headerContent=null):this.showCloseIcon||a(this.closeIcon):(this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":gt(this.element,{height:g(n.height)});break;case"width":gt(this.element,{width:g(n.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex;this.isModal&&this.setOverlayZindex(this.zIndex);this.calculatezIndex=!1;break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":t(this.buttons[0].buttonModel)||(t(this.ftrTemplateContent)||(a(this.ftrTemplateContent),this.ftrTemplateContent=null),this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!t(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.popupObj.relateTo=n.target;break;case"position":this.isModal&&(f=t(i.position.X)?this.position.X:i.position.X,e=t(i.position.Y)?this.position.Y:i.position.Y,this.dlgContainer.classList.contains("e-dlg-"+f+"-"+e)&&this.dlgContainer.classList.remove("e-dlg-"+f+"-"+e));this.positionChange();break;case"enableRtl":this.setEnableRTL()}}},e.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",t(this.targetEle)||this.targetEle.appendChild(this.dlgContainer);else{for(h([this.element],ew),h([document.body],ko),a(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show();this.positionChange()},e.prototype.setzIndex=function(n,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0;this.zIndex=na(n);this.isProtectedOnChange=i;t&&(this.popupObj.zIndex=this.zIndex)},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){var u,r,i;if(this.element.classList.contains(bo)){if(this.unWireEvents(),n.prototype.destroy.call(this),u=[bo,fw,ew],h([this.element,this.element],u),this.popupObj.element.classList.contains(lyt)&&this.popupObj.destroy(),!t(this.btnObj))for(r=void 0;r<this.btnObj.length;r++)this.btnObj[r].destroy();for(this.isModal&&(a(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),a(this.dlgContainer)),this.element.innerHTML="";this.element.attributes.length>0;)this.element.removeAttribute(this.element.attributes[0].name);for(i=0;i<this.clonedEle.attributes.length;i++)this.element.setAttribute(this.clonedEle.attributes[i].name,this.clonedEle.attributes[i].value)}},e.prototype.wireEvents=function(){this.showCloseIcon&&r.add(this.closeIcon,"click",this.closeIconClickEventHandler,this);this.isModal&&r.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},e.prototype.unWireEvents=function(){if(this.showCloseIcon&&r.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&r.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),!t(this.buttons[0].buttonModel))for(var n=0;n<this.buttons.length;n++)typeof this.buttons[n].click=="function"&&r.remove(this.ftrTemplateContent.children[n],"click",this.buttons[n].click)},e.prototype.refreshPosition=function(){this.popupObj.refreshPosition()},e.prototype.show=function(n){var i,r,f,e;if(this.element.classList.contains(bo)&&(!this.element.classList.contains(rit)||!t(n))){if(t(n)||this.fullScreen(n),i={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target},this.trigger("beforeOpen",i),i.cancel)return;this.storeActiveElement=document.activeElement;this.element.tabIndex=-1;this.isModal&&!t(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",h([this.dlgOverlay],"e-fade"),t(this.targetEle)?u([document.body],ko):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",u([this.targetEle],ko)));r={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay};f=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(f,!0),gt(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex));this.animationSettings.effect==="None"?this.popupObj.show():this.popupObj.show(r);this.dialogOpen=!0;e=this.isProtectedOnChange;this.isProtectedOnChange=!0;this.visible=!0;this.isProtectedOnChange=e}},e.prototype.hide=function(n){var i,r,u;this.element.classList.contains(bo)&&((i={cancel:!1,isInteraction:n?!0:!1,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:n},this.trigger("beforeClose",i),this.closeArgs=i,i.cancel)||(this.isModal&&(t(this.targetEle)?h([document.body],ko):h([this.targetEle],ko)),r={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay},this.animationSettings.effect==="None"?this.popupObj.hide():this.popupObj.hide(r),this.dialogOpen=!1,u=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.visible=!1,this.isProtectedOnChange=u))},e.prototype.fullScreen=function(n){var r=this.element.offsetTop,f=this.element.offsetLeft,i;return n?(u([this.element],tit),i=this.element.style.display,this.element.style.display="none",this.element.style.maxHeight=t(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=i,u([document.body],ko),this.allowDragging&&!t(this.dragObj)&&this.dragObj.destroy()):(h([this.element],tit),h([document.body],ko),this.allowDragging&&!t(this.headerContent)&&this.setAllowDragging()),n},e.prototype.getButtons=function(n){return t(n)?this.btnObj:this.btnObj[n]},pt([i("")],e.prototype,"content",void 0),pt([i(!1)],e.prototype,"showCloseIcon",void 0),pt([i(!1)],e.prototype,"isModal",void 0),pt([i("")],e.prototype,"header",void 0),pt([i(!0)],e.prototype,"visible",void 0),pt([i("auto")],e.prototype,"height",void 0),pt([i("100%")],e.prototype,"width",void 0),pt([i("")],e.prototype,"cssClass",void 0),pt([i(1e3)],e.prototype,"zIndex",void 0),pt([i(null)],e.prototype,"target",void 0),pt([i("")],e.prototype,"footerTemplate",void 0),pt([i(!1)],e.prototype,"allowDragging",void 0),pt([ff([{}],iyt)],e.prototype,"buttons",void 0),pt([i(!0)],e.prototype,"closeOnEscape",void 0),pt([nt({},ryt)],e.prototype,"animationSettings",void 0),pt([nt({X:"center",Y:"center"},ytt)],e.prototype,"position",void 0),pt([f()],e.prototype,"created",void 0),pt([f()],e.prototype,"open",void 0),pt([f()],e.prototype,"beforeOpen",void 0),pt([f()],e.prototype,"close",void 0),pt([f()],e.prototype,"beforeClose",void 0),pt([f()],e.prototype,"dragStart",void 0),pt([f()],e.prototype,"dragStop",void 0),pt([f()],e.prototype,"drag",void 0),pt([f()],e.prototype,"overlayClick",void 0),pt([vt],e)}(vi),fit;(function(n){function f(n){var r=ct("div",{className:yyt}),t,u;return document.body.appendChild(r),u=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}],t=typeof n=="string"?i({content:n,position:{X:"center",Y:"top"},isModal:!0,header:ow,buttons:u},r):i(o(n),r),t.close=function(){t.destroy();t.element.classList.contains("e-dlg-modal")?(t.element.parentElement.remove(),t.target.classList.remove(uit)):t.element.remove()},t}function e(n){var r=ct("div",{className:pyt}),t,u;return document.body.appendChild(r),u=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}],t=typeof n=="string"?i({position:{X:"center",Y:"top"},content:n,isModal:!0,header:ow,buttons:u},r):i(s(n),r),t.close=function(){t.destroy();t.element.classList.contains("e-dlg-modal")?(t.element.parentElement.remove(),t.target.classList.remove(uit)):t.element.remove()},t}function i(n,t){var i=new wyt(n);return i.appendTo(t),i}function o(n){var t={};return t.buttons=[],t=u(t,n),h(t,n)}function s(n){var t={};return t.buttons=[],t=u(t,n),c(t,n)}function u(n,i){return n.header=t(i.title)?ow:i.title,n.content=t(i.content)?"":i.content,n.isModal=t(i.isModal)?!0:i.isModal,n.showCloseIcon=t(i.showCloseIcon)?!1:i.showCloseIcon,n.allowDragging=t(i.isDraggable)?!1:i.isDraggable,n.closeOnEscape=t(i.closeOnEscape)?!1:i.closeOnEscape,n.position=t(i.position)?{X:"center",Y:"top"}:i.position,n}function h(n,i){var u=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return t(i.okButton)?n.buttons=u:n.buttons[0]=r(n.buttons[0],i.okButton,u[0]),n}function c(n,i){var u={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},f={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return n.buttons[0]=t(i.okButton)?u:r(n.buttons[0],i.okButton,u),n.buttons[1]=t(i.cancelButton)?f:r(n.buttons[1],i.cancelButton,f),n}function r(n,i,r){var u=r;return t(i.text)||(u.buttonModel.content=i.text),t(i.icon)||(u.buttonModel.iconCss=i.icon),t(i.cssClass)||(u.buttonModel.cssClass=i.cssClass),t(i.click)||(u.click=i.click),u}n.alert=f;n.confirm=e})(fit||(fit={}));var eit=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),kt=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},byt=1500,kyt=500,dyt=0,gyt=8,npt=2,uh=2,sw="e-tooltip",oit="e-rtl",tpt="e-bigger",ipt="e-icons",rpt="e-tooltip-close",upt="e-tooltip-wrap",sit="e-tip-content",cc="e-arrow-tip",hit="e-arrow-tip-outer",ra="e-arrow-tip-inner",lc="e-tip-bottom",hw="e-tip-top",cit="e-tip-left",cw="e-tip-right",fpt="e-popup",ua="e-popup-open",lw="e-popup-close",ept=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return eit(t,n),kt([i({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),kt([i({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(it),fa=function(n){function e(t,i){return n.call(this,t,i)||this}return eit(e,n),e.prototype.initialize=function(){this.formatPosition();u([this.element],sw)},e.prototype.formatPosition=function(){this.position.indexOf("Top")===0||this.position.indexOf("Bottom")===0?(n=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=n[0],this.tooltipPositionX=n[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1]);var n,t},e.prototype.renderArrow=function(){this.setTipClass(this.position);var n=this.createElement("div",{className:cc+" "+this.tipClass});n.appendChild(this.createElement("div",{className:hit+" "+this.tipClass}));n.appendChild(this.createElement("div",{className:ra+" "+this.tipClass}));this.tooltipEle.appendChild(n)},e.prototype.setTipClass=function(n){this.tipClass=n.indexOf("Right")===0?cit:n.indexOf("Bottom")===0?hw:n.indexOf("Left")===0?cw:lc},e.prototype.renderPopup=function(n){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(n);this.popupObj=new to(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},e.prototype.getTooltipPosition=function(n){var t,i,r;return this.tooltipEle.style.display="none",t=au(n,this.tooltipPositionX,this.tooltipPositionY),this.tooltipEle.style.display="",i=this.calculateTooltipOffset(this.position),r=this.collisionFlipFit(n,t.left+i.left,t.top+i.top),r},e.prototype.reposition=function(n){var t=this.getTooltipPosition(n);this.popupObj.position={X:t.left,Y:t.top};this.popupObj.dataBind()},e.prototype.openPopupHandler=function(){this.trigger("afterOpen",this.tooltipEventArgs)},e.prototype.closePopupHandler=function(){this.clear();this.trigger("afterClose",this.tooltipEventArgs)},e.prototype.calculateTooltipOffset=function(n){var t={top:0,left:0},r=this.tooltipEle.offsetWidth,u=this.tooltipEle.offsetHeight,o=this.tooltipEle.querySelector("."+cc),f=o?o.offsetWidth:0,e=o?o.offsetHeight:0,i=this.showTipPointer?dyt:gyt,s=e/2+uh+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),h=f/2+uh+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);this.mouseTrail&&(i+=npt);switch(n){case"RightTop":t.left+=f+i;t.top-=u-s;break;case"RightCenter":t.left+=f+i;t.top-=u/2;break;case"RightBottom":t.left+=f+i;t.top-=s;break;case"BottomRight":t.top+=e+i;t.left-=h;break;case"BottomCenter":t.top+=e+i;t.left-=r/2;break;case"BottomLeft":t.top+=e+i;t.left-=r-h;break;case"LeftBottom":t.left-=f+r+i;t.top-=s;break;case"LeftCenter":t.left-=f+r+i;t.top-=u/2;break;case"LeftTop":t.left-=f+r+i;t.top-=u-s;break;case"TopLeft":t.top-=u+e+i;t.left-=r-h;break;case"TopRight":t.top-=u+e+i;t.left-=h;break;default:t.top-=u+e+i;t.left-=r/2}return t.left+=this.offsetX,t.top+=this.offsetY,t},e.prototype.updateTipPosition=function(n){var t=this.tooltipEle.querySelectorAll("."+cc+",."+hit+",."+ra),i=[lc,hw,cit,cw];h(t,i);this.setTipClass(n);u(t,this.tipClass)},e.prototype.adjustArrow=function(n,t,i,r){var u;if(this.showTipPointer!==!1){this.updateTipPosition(t);var o,s,l=this.tooltipEle.clientWidth,a=this.tooltipEle.clientHeight,h=this.tooltipEle.querySelector("."+cc),c=this.tooltipEle.querySelector("."+ra),f=h.offsetWidth,e=h.offsetHeight;this.tipClass===lc||this.tipClass===hw?(this.tipClass===lc?(s="99.9%",c.style.top="-"+(e-2)+"px"):(s=-(e-1)+"px",c.style.top="-"+(e-6)+"px"),u=i!=="Center"||l>n.offsetWidth||this.mouseTrail,o=u&&i==="Left"||!u&&this.tipPointerPosition==="End"?l-f-uh+"px":u&&i==="Right"||!u&&this.tipPointerPosition==="Start"?uh+"px":l/2-f/2+"px"):(this.tipClass===cw?(o="99.9%",c.style.left="-"+(f-2)+"px"):(o=-(f-1)+"px",c.style.left=-f+(f-2)+"px"),u=r!=="Center"||a>n.offsetHeight||this.mouseTrail,s=u&&r==="Top"||!u&&this.tipPointerPosition==="End"?a-e-uh+"px":u&&r==="Bottom"||!u&&this.tipPointerPosition==="Start"?uh+"px":a/2-e/2+"px");h.style.top=s;h.style.left=o}},e.prototype.renderContent=function(n){var i=this.tooltipEle.querySelector("."+sit),r;n&&!t(n.getAttribute("title"))&&(n.setAttribute("data-content",n.getAttribute("title")),n.removeAttribute("title"));t(this.content)?n&&!t(n.getAttribute("data-content"))&&(i.innerHTML=n.getAttribute("data-content")):(i.innerHTML="",this.content instanceof HTMLElement?i.appendChild(this.content):typeof this.content=="string"?i.innerHTML=this.content:(r=cu(this.content),ir(r(),i)))},e.prototype.renderCloseIcon=function(){if(this.isSticky){var n=this.createElement("div",{className:ipt+" "+rpt});this.tooltipEle.appendChild(n);r.add(n,o.touchStartEvent,this.onStickyClose,this)}},e.prototype.addDescribedBy=function(n,t){var i=(n.getAttribute("aria-describedby")||"").split(/\s+/);i.indexOf(t)<0&&i.push(t);v(n,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":t})},e.prototype.removeDescribedBy=function(n){var u=n.getAttribute("data-tooltip-id"),t=(n.getAttribute("aria-describedby")||"").split(/\s+/),r=t.indexOf(u),i;r!==-1&&t.splice(r,1);n.removeAttribute("data-tooltip-id");i=t.join(" ").trim();i?n.setAttribute("aria-describedby",i):n.removeAttribute("aria-describedby")},e.prototype.tapHoldHandler=function(n){clearTimeout(this.autoCloseTimer);this.targetHover(n.originalEvent)},e.prototype.touchEndHandler=function(){var t=this,n;this.isSticky||(n=function(){t.close()},this.autoCloseTimer=setTimeout(n,byt))},e.prototype.targetClick=function(n){var i;(i=this.target?k(n.target,this.target):this.element,t(i))||(i.getAttribute("data-tooltip-id")===null?this.targetHover(n):this.isSticky||this.hideTooltip(this.animation.close,n,i))},e.prototype.targetHover=function(n){var i,f,r,u,e;if(i=this.target?k(n.target,this.target):this.element,!t(i)&&i.getAttribute("data-tooltip-id")===null){for(f=[].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]")),r=0,u=f;r<u.length;r++)e=u[r],this.restoreElement(e);this.showTooltip(i,this.animation.open,n);this.wireMouseEvents(n,i)}},e.prototype.showTooltip=function(n,i,r){var e=this,f,s;if(clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs=r?{type:r.type,cancel:!1,target:n,event:r,element:this.tooltipEle}:{type:null,cancel:!1,target:n,event:null,element:this.tooltipEle},this.trigger("beforeRender",this.tooltipEventArgs),this.tooltipEventArgs.cancel){this.isHidden=!0;this.clear();return}if(this.isHidden=!1,t(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?wr(this.element.getAttribute("id")):wr("tooltip"),this.tooltipEle=this.createElement("div",{className:upt+" "+fpt,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+g(this.width)+";height:"+g(this.height)+";position:absolute;"}),this.cssClass&&u([this.tooltipEle],this.cssClass.split(" ")),o.isDevice&&u([this.tooltipEle],tpt),this.width!=="auto"&&(this.tooltipEle.style.maxWidth=g(this.width)),this.tooltipEle.appendChild(this.createElement("div",{className:sit})),document.body.appendChild(this.tooltipEle),this.addDescribedBy(n,this.ctrlId+"_content"),this.renderContent(n),u([this.tooltipEle],ua),this.showTipPointer&&this.renderArrow(),this.renderCloseIcon(),this.renderPopup(n)):(this.adjustArrow(n,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(n,this.ctrlId+"_content"),this.renderContent(n),di.stop(this.tooltipEle),this.reposition(n)),h([this.tooltipEle],ua),u([this.tooltipEle],lw),this.tooltipEventArgs=r?{type:r.type,cancel:!1,target:n,event:r,element:this.tooltipEle}:{type:null,cancel:!1,target:n,event:null,element:this.tooltipEle},this.trigger("beforeOpen",this.tooltipEventArgs),this.tooltipEventArgs.cancel){this.isHidden=!0;this.clear();return}f={name:i.effect,duration:i.duration,delay:i.delay,timingFunction:"easeOut"};i.effect==="None"&&(f=undefined);this.openDelay>0?(s=function(){e.popupObj&&e.popupObj.show(f,n)},this.showTimer=setTimeout(s,this.openDelay)):this.popupObj.show(f,n)},e.prototype.checkCollision=function(n,t,i){var u={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=itt(this.tooltipEle,this.target?this.element:null,t,i);return r.length>0&&(u.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,u.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),u},e.prototype.collisionFlipFit=function(n,t,i){var r=this.checkCollision(n,t,i),u=r.position,s,h,o,c,e,f;return this.tooltipPositionY!==r.vertical&&(u=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?r.vertical+this.tooltipPositionX:this.tooltipPositionX+r.vertical),this.tooltipPositionX!==r.horizontal&&(u.indexOf("Left")===0&&(r.vertical=u==="LeftTop"||u==="LeftCenter"?"Top":"Bottom",u=r.vertical+"Left"),u.indexOf("Right")===0&&(r.vertical=u==="RightTop"||u==="RightCenter"?"Top":"Bottom",u=r.vertical+"Right"),r.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:n,event:null,element:this.tooltipEle,collidedPosition:u},this.trigger("beforeCollision",this.tooltipEventArgs),r.position!==u?(s=au(n,this.tooltipPositionX,r.vertical),this.adjustArrow(n,u,r.horizontal,r.vertical),h=this.calculateTooltipOffset(u),r.position=u,r.left=s.left+h.left,r.top=s.top+h.top):this.adjustArrow(n,u,r.horizontal,r.vertical),o={left:r.left,top:r.top},c=ttt(this.tooltipEle,this.target?this.element:null,{X:!0,Y:!1},o).left,this.showTipPointer&&(u.indexOf("Bottom")===0||u.indexOf("Top")===0)&&(e=this.tooltipEle.querySelector("."+cc),f=parseInt(e.style.left,10)-(c-r.left),f<0?f=0:f+e.offsetWidth>this.tooltipEle.clientWidth&&(f=this.tooltipEle.clientWidth-e.offsetWidth),e.style.left=f.toString()+"px"),o.left=c,o},e.prototype.hideTooltip=function(n,i,r){var e=this,u,f,o;(i?(u=this.target?r||i.target:this.element,this.tooltipEventArgs={type:i.type,cancel:!1,target:u,event:i,element:this.tooltipEle}):(u=document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:null,cancel:!1,target:u,event:null,element:this.tooltipEle}),t(u))||(this.trigger("beforeClose",this.tooltipEventArgs),this.tooltipEventArgs.cancel?this.isHidden=!1:(this.restoreElement(u),this.isHidden=!0,f={name:n.effect,duration:n.duration,delay:n.delay,timingFunction:"easeIn"},n.effect==="None"&&(f=undefined),this.closeDelay>0?(o=function(){e.popupObj&&e.popupObj.hide(f)},this.hideTimer=setTimeout(o,this.closeDelay)):this.popupObj.hide(f)))},e.prototype.restoreElement=function(n){this.unwireMouseEvents(n);t(n.getAttribute("data-content"))||(n.setAttribute("title",n.getAttribute("data-content")),n.removeAttribute("data-content"));this.removeDescribedBy(n)},e.prototype.clear=function(){this.tooltipEle&&(h([this.tooltipEle],lw),u([this.tooltipEle],ua));this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&lt(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},e.prototype.onMouseOut=function(n){this.hideTooltip(this.animation.close,n)},e.prototype.onStickyClose=function(){this.close()},e.prototype.onMouseMove=function(n){var i=0,r=0,o,f;n.type.indexOf("touch")>-1?(n.preventDefault(),i=n.touches[0].pageX,r=n.touches[0].pageY):(i=n.pageX,r=n.pageY);di.stop(this.tooltipEle);h([this.tooltipEle],lw);u([this.tooltipEle],ua);this.adjustArrow(n.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var e=this.calculateTooltipOffset(this.position),s=i+e.left+this.offsetX,c=r+e.top+this.offsetY,t=this.checkCollision(n.target,s,c);(this.tooltipPositionX!==t.horizontal||this.tooltipPositionY!==t.vertical)&&(o=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?t.vertical+t.horizontal:t.horizontal+t.vertical,t.position=o,this.adjustArrow(n.target,t.position,t.horizontal,t.vertical),f=this.calculateTooltipOffset(t.position),t.left=i+f.left-this.offsetX,t.top=r+f.top-this.offsetY);this.tooltipEle.style.left=t.left+"px";this.tooltipEle.style.top=t.top+"px"},e.prototype.keyDown=function(n){this.tooltipEle&&n.keyCode===27&&this.close()},e.prototype.touchEnd=function(n){this.tooltipEle&&k(n.target,"."+sw)===null&&this.close()},e.prototype.scrollHandler=function(){this.tooltipEle&&this.close()},e.prototype.render=function(){this.initialize();this.wireEvents(this.opensOn)},e.prototype.preRender=function(){this.tipClass=lc;this.tooltipPositionX="Center";this.tooltipPositionY="Top";this.isHidden=!0},e.prototype.wireEvents=function(n){for(var t,f=this.getTriggerList(n),i=0,u=f;i<u.length;i++){if(t=u[i],t==="Custom")return;t==="Focus"&&this.wireFocusEvents();t==="Click"&&r.add(this.element,o.touchStartEvent,this.targetClick,this);t==="Hover"&&(o.isDevice?(this.touchModule=new by(this.element,{tapHoldThreshold:kyt,tapHold:this.tapHoldHandler.bind(this)}),r.add(this.element,o.touchEndEvent,this.touchEndHandler,this)):r.add(this.element,"mouseover",this.targetHover,this))}r.add(document,"touchend",this.touchEnd,this);r.add(document,"scroll",this.scrollHandler,this);r.add(document,"keydown",this.keyDown,this)},e.prototype.getTriggerList=function(n){return n==="Auto"&&(n=o.isDevice?"Hover":"Hover Focus"),n.split(" ")},e.prototype.wireFocusEvents=function(){var u,n,i,f;if(t(this.target))r.add(this.element,"focus",this.targetHover,this);else for(u=[].slice.call(this.element.querySelectorAll(this.target)),n=0,i=u;n<i.length;n++)f=i[n],r.add(f,"focus",this.targetHover,this)},e.prototype.wireMouseEvents=function(n,t){this.tooltipEle&&(this.isSticky||(n.type==="focus"&&r.add(t,"blur",this.onMouseOut,this),n.type==="mouseover"&&r.add(t,"mouseleave",this.onMouseOut,this)),this.mouseTrail&&r.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},e.prototype.unwireEvents=function(n){for(var t,f=this.getTriggerList(n),i=0,u=f;i<u.length;i++){if(t=u[i],t==="Custom")return;t==="Focus"&&this.unwireFocusEvents();t==="Click"&&r.remove(this.element,o.touchStartEvent,this.targetClick);t==="Hover"&&(o.isDevice?(this.touchModule&&this.touchModule.destroy(),r.remove(this.element,o.touchEndEvent,this.touchEndHandler)):r.remove(this.element,"mouseover",this.targetHover))}r.remove(document,"touchend",this.touchEnd);r.remove(document,"scroll",this.scrollHandler);r.remove(document,"keydown",this.keyDown)},e.prototype.unwireFocusEvents=function(){var u,n,i,f;if(t(this.target))r.remove(this.element,"focus",this.targetHover);else for(u=[].slice.call(this.element.querySelectorAll(this.target)),n=0,i=u;n<i.length;n++)f=i[n],r.remove(f,"focus",this.targetHover)},e.prototype.unwireMouseEvents=function(n){var f,t,i,u;if(!this.isSticky)for(f=this.getTriggerList(this.opensOn),t=0,i=f;t<i.length;t++)u=i[t],u==="Focus"&&r.remove(n,"blur",this.onMouseOut),u!=="Hover"||o.isDevice||r.remove(n,"mouseleave",this.onMouseOut);this.mouseTrail&&r.remove(n,"mousemove touchstart mouseenter",this.onMouseMove)},e.prototype.findTarget=function(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")},e.prototype.getModuleName=function(){return"tooltip"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.onPropertyChanged=function(n,t){for(var o,f,s,c,i=this.findTarget(),r=0,e=Object.keys(n);r<e.length;r++){o=e[r];switch(o){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=g(n.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=g(n.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn);this.wireEvents(n.opensOn);break;case"position":this.formatPosition();this.tooltipEle&&i&&(f=this.tooltipEle.querySelector("."+ra),f.style.top=f.style.left=null,this.reposition(i));break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":this.tooltipEle&&(s=n.offsetX-t.offsetX,this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px");break;case"offsetY":this.tooltipEle&&(c=n.offsetY-t.offsetY,this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+c).toString()+"px");break;case"cssClass":this.tooltipEle&&(t.cssClass&&h([this.tooltipEle],t.cssClass.split(" ")),n.cssClass&&u([this.tooltipEle],n.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?u([this.tooltipEle],oit):h([this.tooltipEle],oit))}}},e.prototype.open=function(n,t){(t===void 0&&(t=this.animation.open),n.style.display!=="none")&&this.showTooltip(n,t)},e.prototype.close=function(n){n===void 0&&(n=this.animation.close);this.hideTooltip(n)},e.prototype.refresh=function(n){this.tooltipEle&&this.renderContent(n);this.popupObj&&n&&this.reposition(n)},e.prototype.destroy=function(){n.prototype.destroy.call(this);h([this.element],sw);this.unwireEvents(this.opensOn);this.popupObj&&this.popupObj.destroy();this.tooltipEle&&lt(this.tooltipEle);this.tooltipEle=null;this.popupObj=null},kt([i("auto")],e.prototype,"width",void 0),kt([i("auto")],e.prototype,"height",void 0),kt([i()],e.prototype,"content",void 0),kt([i()],e.prototype,"target",void 0),kt([i("TopCenter")],e.prototype,"position",void 0),kt([i(0)],e.prototype,"offsetX",void 0),kt([i(0)],e.prototype,"offsetY",void 0),kt([i(!0)],e.prototype,"showTipPointer",void 0),kt([i("Auto")],e.prototype,"tipPointerPosition",void 0),kt([i("Auto")],e.prototype,"opensOn",void 0),kt([i(!1)],e.prototype,"mouseTrail",void 0),kt([i(!1)],e.prototype,"isSticky",void 0),kt([nt({},ept)],e.prototype,"animation",void 0),kt([i(0)],e.prototype,"openDelay",void 0),kt([i(0)],e.prototype,"closeDelay",void 0),kt([i()],e.prototype,"cssClass",void 0),kt([i(!1)],e.prototype,"enableRtl",void 0),kt([f()],e.prototype,"beforeRender",void 0),kt([f()],e.prototype,"beforeOpen",void 0),kt([f()],e.prototype,"afterOpen",void 0),kt([f()],e.prototype,"beforeClose",void 0),kt([f()],e.prototype,"afterClose",void 0),kt([f()],e.prototype,"beforeCollision",void 0),kt([f()],e.prototype,"created",void 0),kt([f()],e.prototype,"destroyed",void 0),kt([vt],e)}(vi),yu={},lit=null,opt=null,spt=30,hpt=30,cpt=30,aw="e-spin-show",ea="e-spin-hide",lpt="e-spin-material",ait="e-spin-fabric",apt="e-spin-bootstrap",vit="e-spin-high-contrast",vw="e-spinner-pane",yw="e-spinner-inner",oa="e-path-circle",vpt="e-path-arc",ypt="e-spin-label",pw="e-spin-template";y={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"},function(n){function ot(n,r){var e=t(r)?ct:r,f={container:null,buttons:[],clearButton:null},o;if(t(n.floatLabelType)||n.floatLabelType==="Never"?(f.container=l(n,y.INPUTGROUP,y.INPUTCUSTOMTAG,"span",e),n.element.parentNode.insertBefore(f.container,n.element),u([n.element],y.INPUT),f.container.appendChild(n.element)):s(n,f,e),n.element.addEventListener("focus",function(){var n=i(this);n.classList.contains("e-input-group")&&n.classList.add("e-input-focus")}),n.element.addEventListener("blur",function(){var n=i(this);n.classList.contains("e-input-group")&&n.classList.remove("e-input-focus")}),t(n.properties)||t(n.properties.showClearButton)||!n.properties.showClearButton||(nt(n.properties.showClearButton,n.element,f,!0,e),f.container.classList.contains(y.FLOATINPUT)&&u([f.container],y.INPUTGROUP)),!t(n.buttons))for(o=0;o<n.buttons.length;o++)f.buttons.push(et(n.buttons[o],f.container,e));return lt(n,f)}function e(){var n=i(this).getElementsByClassName("e-float-text")[0];u([n],y.LABELTOP);n.classList.contains(y.LABELBOTTOM)&&h([n],y.LABELBOTTOM)}function o(){var t=i(this),n;t.getElementsByTagName("input")[0].value===""&&(n=t.getElementsByClassName("e-float-text")[0],n.classList.contains(y.LABELTOP)&&h([n],y.LABELTOP),u([n],y.LABELBOTTOM))}function st(n){n.addEventListener("focus",e);n.addEventListener("blur",o)}function ht(n){n.removeEventListener("focus",e);n.removeEventListener("blur",o)}function s(n,i,f){var o=t(f)?ct:f,s,e;n.floatLabelType==="Auto"&&st(n.element);t(i.container)?(i.container=l(n,y.FLOATINPUT,y.FLOATCUSTOMTAG,"div",o),n.element.parentNode.insertBefore(i.container,n.element)):(t(n.customTag)||i.container.classList.add(y.FLOATCUSTOMTAG),i.container.classList.add(y.FLOATINPUT));s=o("span",{className:y.FLOATLINE});e=o("label",{className:y.FLOATTEXT});t(n.element.id)||n.element.id===""||(e.id="label_"+n.element.id.replace(/ /g,"_"),v(n.element,{"aria-labelledby":e.id}));t(n.element.placeholder)||n.element.placeholder===""||(e.innerHTML=n.element.placeholder,n.element.removeAttribute("placeholder"));t(n.properties)||t(n.properties.placeholder)||n.properties.placeholder===""||(e.innerHTML=n.properties.placeholder);e.innerHTML||i.container.classList.add(y.NOFLOATLABEL);i.container.appendChild(n.element);i.container.appendChild(s);i.container.appendChild(e);r(n.element.value,e);n.floatLabelType==="Always"&&(e.classList.contains(y.LABELBOTTOM)&&h([e],y.LABELBOTTOM),u([e],y.LABELTOP));n.floatLabelType==="Auto"&&(n.element.addEventListener("input",function(){r(n.element.value,e)}),n.element.addEventListener("blur",function(){r(n.element.value,e)}));t(n.element.getAttribute("id"))||e.setAttribute("for",n.element.getAttribute("id"))}function lt(n,i){var r,u,f;if(!t(n.properties))for(r=0,u=Object.keys(n.properties);r<u.length;r++){f=u[r];switch(f){case"cssClass":p(n.properties.cssClass,[i.container]);break;case"enabled":g(n.properties.enabled,n.element,n.floatLabelType,i.container);break;case"enableRtl":d(n.properties.enableRtl,[i.container]);break;case"placeholder":w(n.properties.placeholder,n.element);break;case"readonly":b(n.properties.readonly,n.element)}}return i}function c(n,t){n?h([t],y.CLEARICONHIDE):u([t],y.CLEARICONHIDE)}function r(n,t){n?(u([t],y.LABELTOP),t.classList.contains(y.LABELBOTTOM)&&h([t],y.LABELBOTTOM)):(t.classList.contains(y.LABELTOP)&&h([t],y.LABELTOP),u([t],y.LABELBOTTOM))}function i(n){return n.parentNode}function at(n,i,r,f){var h=t(f)?ct:f,e=h("span",{className:y.CLEARICON}),o=i.container,s;return t(r)?(s=i.container.classList.contains(y.FLOATINPUT)?i.container.querySelector("."+y.FLOATTEXT):n,s.insertAdjacentElement("afterend",e)):o.appendChild(e),!t(o)&&o.classList.contains(y.FLOATINPUT)&&u([o],y.INPUTGROUP),u([e],y.CLEARICONHIDE),vt(n,e,o),e.setAttribute("aria-label","close"),e}function vt(n,t){t.addEventListener("click",function(i){n.classList.contains(y.DISABLE)||n.readOnly||(i.preventDefault(),n!==document.activeElement&&n.focus(),n.value="",u([t],y.CLEARICONHIDE))});n.addEventListener("input",function(){c(n.value,t)});n.addEventListener("focus",function(){c(n.value,t)});n.addEventListener("blur",function(){setTimeout(function(){u([t],y.CLEARICONHIDE)},200)})}function f(n,t){var f=i(n),u;f.classList.contains(y.FLOATINPUT)&&t==="Auto"&&(u=i(n).getElementsByClassName("e-float-text")[0],r(n.value,u))}function l(n,i,r,u,f){var o=t(f)?ct:f,e;return t(n.customTag)?e=o(u,{className:i}):(e=o(n.customTag,{className:i}),e.classList.add(r)),e.classList.add("e-control-wrapper"),e}function yt(n,r,e,o){if(r.value=n,t(e)||e!=="Auto"||f(r,e),!t(o)&&o){var s=i(r),c=s.getElementsByClassName(y.CLEARICON)[0];r.value&&s.classList.contains("e-input-focus")?h([c],y.CLEARICONHIDE):u([c],y.CLEARICONHIDE)}}function p(n,i,r){t(r)||r===""||h(i,r);t(n)||n===""||u(i,n)}function w(n,r){var u;u=i(r);u.classList.contains(y.FLOATINPUT)?t(n)||n===""?(u.classList.add(y.NOFLOATLABEL),u.getElementsByClassName(y.FLOATTEXT)[0].textContent=""):(u.getElementsByClassName(y.FLOATTEXT)[0].textContent=n,u.classList.remove(y.NOFLOATLABEL)):t(n)||n===""?(r.removeAttribute("placeholder"),r.removeAttribute("aria-placeholder")):v(r,{placeholder:n,"aria-placeholder":n})}function b(n,i,r){n?v(i,{readonly:""}):i.removeAttribute("readonly");t(r)||f(i,r)}function d(n,t){n?u(t,y.RTL):h(t,y.RTL)}function g(n,i,r,e){var o={disabled:"disabled","aria-disabled":"true"},s=t(e)?!1:!0;n?(i.classList.remove(y.DISABLE),tt(o,i),s&&h([e],y.DISABLE)):(i.classList.add(y.DISABLE),it(o,i),s&&u([e],y.DISABLE));t(r)||f(i,r)}function nt(n,i,r,u,f){var e=t(f)?ct:f;n?r.clearButton=at(i,r,u,e):(r.clearButton.remove(),r.clearButton=null)}function tt(n,t){for(var u,r,f=0,e=Object.keys(n);f<e.length;f++)u=e[f],r=void 0,r=i(t),u==="disabled"&&t.classList.remove(y.DISABLE),u==="disabled"&&r.classList.contains(y.INPUTGROUP)&&r.classList.remove(y.DISABLE),u==="placeholder"&&r.classList.contains(y.FLOATINPUT)?r.getElementsByClassName(y.FLOATTEXT)[0].textContent="":t.removeAttribute(u)}function it(n,t){for(var r,u,f=0,e=Object.keys(n);f<e.length;f++)r=e[f],u=void 0,u=i(t),r==="disabled"&&t.classList.add(y.DISABLE),r==="disabled"&&u.classList.contains(y.INPUTGROUP)&&u.classList.add(y.DISABLE),r==="placeholder"&&u.classList.contains(y.FLOATINPUT)?u.getElementsByClassName(y.FLOATTEXT)[0].textContent=n[r]:t.setAttribute(r,n[r])}function pt(n){var i=n.container;if(!t(i)&&i.classList.contains(y.FLOATINPUT)){var r=i.querySelector("input"),u=i.querySelector("."+y.FLOATTEXT).textContent,f=i.querySelector(".e-clear-icon")!==null;a(i.querySelector("."+y.FLOATLINE));a(i.querySelector("."+y.FLOATTEXT));ke(i,[y.INPUTGROUP],[y.FLOATINPUT]);ht(r);v(r,{placeholder:u});r.classList.add(y.INPUT);f||r.removeAttribute("required")}}function wt(n,i,r,u){var l=t(u)?ct:u,f=k(n,"."+y.INPUTGROUP),e,h,c;if(i!=="Never"){e=f.tagName;e=e!=="DIV"&&e!=="SPAN"?e:null;var a={element:n,floatLabelType:i,customTag:e,properties:{placeholder:r}},o=f.querySelector(".e-clear-icon"),v={container:f};n.classList.remove(y.INPUT);s(a,v,l);t(o)&&(o=f.querySelector(".e-input-group-icon"));t(o)?f.classList.remove(y.INPUTGROUP):(h=f.querySelector("."+y.FLOATLINE),c=f.querySelector("."+y.FLOATTEXT),f.insertBefore(n,o),f.insertBefore(h,o),f.insertBefore(c,o))}}function bt(n,t){for(var i=0;i<t.length;i++)rt(n,t[i].container)}function rt(n,i,r){var e=[],f,u;if(e.push(r),f=t(r)?i.querySelectorAll(".e-input-group-icon"):e,n&&f.length>0)for(u=0;u<f.length;u++)f[u].addEventListener("mousedown",ut,!1),f[u].addEventListener("mouseup",ft,!1);else if(f.length>0)for(u=0;u<f.length;u++)f[u].removeEventListener("mousedown",ut,this),f[u].removeEventListener("mouseup",ft,this)}function kt(n,t){n.classList.contains("e-disabled")||n.querySelector("input").readOnly||t.classList.add("e-input-btn-ripple")}function ut(){for(var t=this,n=this.parentElement;!n.classList.contains("e-input-group");)n=n.parentElement;kt(n,t)}function ft(){var n=this;setTimeout(function(){n.classList.remove("e-input-btn-ripple")},500)}function et(n,i,r){var f=t(r)?ct:r,u=f("span",{className:n});return u.classList.add("e-input-group-icon"),i.appendChild(u),i.classList.contains(y.INPUTGROUP)||i.classList.add(y.INPUTGROUP),rt(!0,i,u),u}n.createInput=ot;n.setValue=yt;n.setCssClass=p;n.setPlaceholder=w;n.setReadonly=b;n.setEnableRtl=d;n.setEnabled=g;n.setClearButton=nt;n.removeAttributes=tt;n.addAttributes=it;n.removeFloating=pt;n.addFloating=wt;n.setRipple=bt;n.appendSpan=et}(c||(c={}));var kwt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),fi=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},dwt="e-control-wrapper e-numeric",bw="e-input-group-icon",kw="e-spin-up",gwt="e-spin-down",dw="e-error",eh="increment",ac="decrement",nbt=new RegExp("^(-)?(\\d*)$"),tbt=".",ibt="e-numerictextbox",rbt="e-control",gw=function(n){function e(t,i){return n.call(this,t,i)||this}return kwt(e,n),e.prototype.preRender=function(){var i,t,n,r;if(this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1,i=p("ej2_instances",this.element),this.cloneElement=this.element.cloneNode(!0),h([this.cloneElement],[rbt,ibt]),this.angularTagName=null,this.element.tagName==="EJS-NUMERICTEXTBOX"){for(this.angularTagName=this.element.tagName,t=this.createElement("input"),n=0,n;n<this.element.attributes.length;n++)t.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id");this.element.classList.remove("e-control","e-numerictextbox");this.element.appendChild(t);this.element=t;ii("ej2_instances",i,this.element)}v(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"});r={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:""};this.l10n=new du("numerictextbox",r,this.locale);this.isValidState=!0;this.inputStyle=null;this.inputName=null;this.cultureInfo={};this.initCultureInfo();this.initCultureFunc();this.checkAttributes();this.prevValue=this.value;this.validateMinMax();this.validateStep();this.placeholder===null&&this.updatePlaceholder()},e.prototype.render=function(){this.element.tagName.toLowerCase()==="input"&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),t(this.width)||gt(this.container,{width:g(this.width)}),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(this.value===null||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),this.value===null||isNaN(this.value)||this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0))},e.prototype.checkAttributes=function(){for(var n,f,e,i,r=0,u=["value","min","max","step","disabled","readonly","style","name"];r<u.length;r++)if(n=u[r],!t(this.element.getAttribute(n)))switch(n){case"disabled":f=this.element.getAttribute(n)==="disabled"||this.element.getAttribute(n)==="true"?!1:!0;this.setProperties({enabled:f},!0);break;case"readonly":e=this.element.getAttribute(n)==="readonly"||this.element.getAttribute(n)==="true"?!0:!1;this.setProperties({readonly:e},!0);break;case"style":this.inputStyle=this.element.getAttribute(n);break;case"name":this.inputName=this.element.getAttribute(n);break;default:i=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(n));(i===null||isNaN(i))&&n!=="value"||this.setProperties(ii(n,i,{}),!0)}},e.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},e.prototype.initCultureFunc=function(){this.instance=new hi(this.locale)},e.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format;p("currency",this)!==null&&(ii("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},e.prototype.createWrapper=function(){var n=c.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=n;this.container=n.container;this.container.setAttribute("class",dwt+" "+this.container.getAttribute("class"));this.readonly&&v(this.element,{"aria-readonly":"true"});this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",validateHidden:"true"}});this.inputName=this.inputName!==null?this.inputName:this.element.id;this.element.removeAttribute("name");v(this.hiddenInput,{name:this.inputName});this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]);this.inputStyle!==null&&v(this.container,{style:this.inputStyle})},e.prototype.spinBtnCreation=function(){this.spinDown=c.appendSpan(bw+" "+gwt,this.container,this.createElement);v(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")});this.spinUp=c.appendSpan(bw+" "+kw,this.container,this.createElement);v(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")});this.wireSpinBtnEvents()},e.prototype.validateMinMax=function(){typeof this.min=="number"&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0);typeof this.max=="number"&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0);this.decimals!==null&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0));this.setProperties({min:this.min>this.max?this.max:this.min},!0);v(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})},e.prototype.formattedValue=function(n,t){return this.instance.getNumberFormat({maximumFractionDigits:n,minimumFractionDigits:n,useGrouping:!1})(t)},e.prototype.validateStep=function(){this.decimals!==null&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},e.prototype.action=function(n,t){this.isInteract=!0;var i=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(i,this.step,n));this.raiseChangeEvent(t)},e.prototype.checkErrorClass=function(){this.isValidState?h([this.container],dw):u([this.container],dw);v(this.element,{"aria-invalid":this.isValidState?"false":"true"})},e.prototype.bindClearEvent=function(){this.showClearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(n){n.preventDefault();this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.clear(n)},e.prototype.clear=function(){this.setProperties({value:null},!0);this.setElementValue("")},e.prototype.wireEvents=function(){r.add(this.element,"focus",this.focusIn,this);r.add(this.element,"blur",this.focusOut,this);r.add(this.element,"keydown",this.keyDownHandler,this);r.add(this.element,"keyup",this.keyUpHandler,this);r.add(this.element,"input",this.inputHandler,this);r.add(this.element,"keypress",this.keyPressHandler,this);r.add(this.element,"change",this.changeHandler,this);r.add(this.element,"paste",this.pasteHandler,this);this.enabled&&this.bindClearEvent()},e.prototype.wireSpinBtnEvents=function(){r.add(this.spinUp,o.touchStartEvent,this.mouseDownOnSpinner,this);r.add(this.spinDown,o.touchStartEvent,this.mouseDownOnSpinner,this);r.add(this.spinUp,o.touchEndEvent,this.mouseUpOnSpinner,this);r.add(this.spinDown,o.touchEndEvent,this.mouseUpOnSpinner,this);r.add(this.spinUp,o.touchMoveEvent,this.touchMoveOnSpinner,this);r.add(this.spinDown,o.touchMoveEvent,this.touchMoveOnSpinner,this)},e.prototype.unwireEvents=function(){r.remove(this.element,"focus",this.focusIn);r.remove(this.element,"blur",this.focusOut);r.remove(this.element,"keyup",this.keyUpHandler);r.remove(this.element,"input",this.inputHandler);r.remove(this.element,"keydown",this.keyDownHandler);r.remove(this.element,"keypress",this.keyPressHandler);r.remove(this.element,"change",this.changeHandler);r.remove(this.element,"paste",this.pasteHandler)},e.prototype.unwireSpinBtnEvents=function(){r.remove(this.spinUp,o.touchStartEvent,this.mouseDownOnSpinner);r.remove(this.spinDown,o.touchStartEvent,this.mouseDownOnSpinner);r.remove(this.spinUp,o.touchEndEvent,this.mouseUpOnSpinner);r.remove(this.spinDown,o.touchEndEvent,this.mouseUpOnSpinner);r.remove(this.spinUp,o.touchMoveEvent,this.touchMoveOnSpinner);r.remove(this.spinDown,o.touchMoveEvent,this.touchMoveOnSpinner)},e.prototype.changeHandler=function(n){this.element.value.length||this.setProperties({value:null},!0);var t=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(t,n)},e.prototype.raiseChangeEvent=function(n){if(this.prevValue!==this.value){var t={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteraction:this.isInteract,event:n};n&&(this.changeEventArgs.event=n);st(t,this.changeEventArgs);this.prevValue=this.value;this.isInteract=!1;this.trigger("change",t)}},e.prototype.pasteHandler=function(){var n=this,t=this.element.value;setTimeout(function(){n.numericRegex().test(n.element.value)||n.setElementValue(t)})},e.prototype.preventHandler=function(){var n=this,i=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(n.element.selectionStart>0){var o=n.element.selectionStart,r=n.element.selectionStart-1,e=0,u=void 0,f=n.element.value.split(""),s=yy(n.locale),h=p("decimal",s);u=h.charCodeAt(0);n.element.value[r]===" "&&n.element.selectionStart>0&&!i?(t(n.prevVal)?n.element.value=n.element.value.trim():r!==0?n.element.value=n.prevVal:r===0&&(n.element.value=n.element.value.trim()),n.element.setSelectionRange(r,r)):isNaN(parseFloat(n.element.value[n.element.selectionStart-1]))&&n.element.value[n.element.selectionStart-1].charCodeAt(0)!==45?(f.indexOf(n.element.value[n.element.selectionStart-1])!==f.lastIndexOf(n.element.value[n.element.selectionStart-1])&&n.element.value[n.element.selectionStart-1].charCodeAt(0)===u||n.element.value[n.element.selectionStart-1].charCodeAt(0)!==u)&&(n.element.value=n.element.value.substring(0,r)+n.element.value.substring(o,n.element.value.length),n.element.setSelectionRange(r,r),isNaN(parseFloat(n.element.value[n.element.selectionStart-1]))&&n.element.selectionStart>0&&n.element.value.length&&n.preventHandler()):isNaN(parseFloat(n.element.value[n.element.selectionStart-2]))&&n.element.selectionStart>1&&n.element.value[n.element.selectionStart-2].charCodeAt(0)!==45&&(f.indexOf(n.element.value[n.element.selectionStart-2])!==f.lastIndexOf(n.element.value[n.element.selectionStart-2])&&n.element.value[n.element.selectionStart-2].charCodeAt(0)===u||n.element.value[n.element.selectionStart-2].charCodeAt(0)!==u)&&(n.element.setSelectionRange(r,r),n.nextEle=n.element.value[n.element.selectionStart],n.cursorPosChanged=!0,n.preventHandler());n.cursorPosChanged===!0&&n.element.value[n.element.selectionStart]===n.nextEle&&isNaN(parseFloat(n.element.value[n.element.selectionStart-1]))&&(n.element.setSelectionRange(n.element.selectionStart+1,n.element.selectionStart+1),n.cursorPosChanged=!1,n.nextEle=null);n.element.value.trim()===""&&n.element.setSelectionRange(e,e);n.element.selectionStart>0&&n.element.value[n.element.selectionStart-1].charCodeAt(0)===45&&n.element.selectionStart>1&&(n.element.value=t(n.prevVal)?n.element.value:n.prevVal,n.element.setSelectionRange(n.element.selectionStart,n.element.selectionStart));n.prevVal=n.element.value}})},e.prototype.keyUpHandler=function(){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);!n&&o.isDevice&&this.preventHandler()},e.prototype.inputHandler=function(){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;(t||n)&&o.isDevice&&this.preventHandler()},e.prototype.keyDownHandler=function(n){if(!this.readonly)switch(n.keyCode){case 38:n.preventDefault();this.action(eh,n);break;case 40:n.preventDefault();this.action(ac,n)}},e.prototype.performAction=function(n,t,i){(n===null||isNaN(n))&&(n=0);var r=i===eh?n+t:n-t;return r=this.correctRounding(n,t,r),this.strictMode?this.trimValue(r):r},e.prototype.correctRounding=function(n,t,i){var r=new RegExp("[,.](.*)"),h=n.toString(),c=t.toString(),u=r.test(n.toString()),f=r.test(t.toString());if(u||f){var e=u?r.exec(n.toString())[0].length:0,o=f?r.exec(t.toString())[0].length:0,s=Math.max(e,o);return this.roundValue(i,s)}return i},e.prototype.roundValue=function(n,t){t=t||0;var i=Math.pow(10,t);return n*=i,n=Math.round(n)/i},e.prototype.updateValue=function(n,t){t&&(this.isInteract=!0);n===null||isNaN(n)||this.decimals&&(n=this.roundNumber(n,this.decimals));this.changeValue(n===null||isNaN(n)?null:this.strictMode?this.trimValue(n):n);this.raiseChangeEvent(t)},e.prototype.updateCurrency=function(n,t){ii(n,t,this.cultureInfo);this.updateValue(this.value)},e.prototype.changeValue=function(n){if(n||n===0){var t=void 0,i=n.toString().split(".")[1];t=!i||!i.length?0:i.length;this.decimals!==null&&(t=t<this.decimals?t:this.decimals);this.setProperties({value:this.roundNumber(n,t)},!0)}else n=null,this.setProperties({value:n},!0);this.modifyText();this.strictMode||this.validateState()},e.prototype.modifyText=function(){if(this.value||this.value===0){var n=this.formatNumber(),t=this.isFocused?n:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(t);v(this.element,{"aria-valuenow":n});this.hiddenInput.value=n}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},e.prototype.setElementValue=function(n,t){c.setValue(n,t?t:this.element,this.floatLabelType,this.showClearButton)},e.prototype.validateState=function(){this.isValidState=!0;(this.value||this.value===0)&&(this.isValidState=!(this.value>this.max||this.value<this.min));this.checkErrorClass()},e.prototype.formatNumber=function(){var n,i=this.value,t=i.toString().split(".")[1];return n=!t||!t.length?0:t.length,this.decimals!==null&&(n=n<this.decimals?n:this.decimals),this.instance.getNumberFormat({maximumFractionDigits:n,minimumFractionDigits:n,useGrouping:!1})(this.value)},e.prototype.trimValue=function(n){return n>this.max?this.max:n<this.min?this.min:n},e.prototype.roundNumber=function(n,t){var i=n,r=t||0,f=i.toString().split("e"),u;return i=Math.round(Number(f[0]+"e"+(f[1]?Number(f[1])+r:r))),u=i.toString().split("e"),i=Number(u[0]+"e"+(u[1]?Number(u[1])-r:-r)),Number(i.toFixed(r))},e.prototype.cancelEvent=function(n){return n.preventDefault(),!1},e.prototype.keyPressHandler=function(n){var i,r,t;return!o.isDevice&&o.info.version==="11.0"&&n.keyCode===13?(i=this.instance.getNumberParser({format:"n"})(this.element.value),this.updateValue(i,n),!0):n.which===0||n.metaKey||n.ctrlKey||n.keyCode===8||n.keyCode===13?!0:(r=String.fromCharCode(n.which),t=this.element.value,t=t.substring(0,this.element.selectionStart)+r+t.substring(this.element.selectionEnd),this.numericRegex().test(t)?!0:(n.preventDefault(),n.stopPropagation(),!1))},e.prototype.numericRegex=function(){var i=yy(this.locale),n=p("decimal",i),t="*";return(n===tbt&&(n="\\"+n),this.decimals===0&&this.validateDecimalOnType)?nbt:(this.decimals&&this.validateDecimalOnType&&(t="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+n+"\\d"+t+")?)|("+n+"\\d"+t+")))?$"))},e.prototype.mouseWheel=function(n){n.preventDefault();var t,i=n;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3);t>0?this.action(eh,n):t<0&&this.action(ac,n);this.cancelEvent(n)},e.prototype.focusIn=function(){var i=this,n,t;this.enabled&&!this.readonly&&(this.isFocused=!0,h([this.container],dw),this.prevValue=this.value,(this.value||this.value===0)&&(n=this.formatNumber(),this.setElementValue(n),this.isPrevFocused||(t=o.isDevice&&o.isIos?600:0,setTimeout(function(){i.element.setSelectionRange(0,n.length)},t))),o.isDevice||r.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this))},e.prototype.focusOut=function(n){var h=this,i,u,f,e,s,t;this.isPrevFocused?(n.preventDefault(),o.isDevice&&(i=this.element.value,this.element.focus(),this.isPrevFocused=!1,u=this.element,setTimeout(function(){h.setElementValue(i,u)},200))):(this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0),f=this.instance.getNumberParser({format:"n"})(this.element.value),this.updateValue(f),o.isDevice||r.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel));e=k(this.element,"form");e&&(s=this.element.nextElementSibling,t=document.createEvent("FocusEvent"),t.initEvent("focusout",!0,!0),s.dispatchEvent(t))},e.prototype.mouseDownOnSpinner=function(n){var t=this;if(this.isFocused&&(this.isPrevFocused=!0,n.preventDefault()),this.getElementData(n)){var f=this.getElementData(n),i=n.currentTarget,u=i.classList.contains(kw)?eh:ac;r.add(i,"mouseleave",this.mouseUpClick,this);this.timeOut=setInterval(function(){t.isCalled=!0;t.action(u,n)},150);r.add(document,"mouseup",this.mouseUpClick,this)}},e.prototype.touchMoveOnSpinner=function(n){var t=document.elementFromPoint(n.clientX,n.clientY);t.classList.contains(bw)||clearInterval(this.timeOut)},e.prototype.mouseUpOnSpinner=function(n){if(this.isPrevFocused&&(this.element.focus(),o.isDevice||(this.isPrevFocused=!1)),o.isDevice||n.preventDefault(),this.getElementData(n)){var t=n.currentTarget,i=t.classList.contains(kw)?eh:ac;r.remove(t,"mouseleave",this.mouseUpClick);this.isCalled||this.action(i,n);this.isCalled=!1;r.remove(document,"mouseup",this.mouseUpClick)}},e.prototype.getElementData=function(n){return n.which&&n.which===3||n.button&&n.button===2||!this.enabled||this.readonly?!1:(clearInterval(this.timeOut),!0)},e.prototype.floatLabelTypeUpdate=function(){c.removeFloating(this.inputWrapper);var n=this.hiddenInput;this.hiddenInput.remove();c.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement);this.container.insertBefore(n,this.container.childNodes[1])},e.prototype.mouseUpClick=function(n){n.stopPropagation();clearInterval(this.timeOut);this.isCalled=!1;r.remove(this.spinUp,"mouseleave",this.mouseUpClick);r.remove(this.spinDown,"mouseleave",this.mouseUpClick)},e.prototype.increment=function(n){n===void 0&&(n=this.step);this.isInteract=!1;this.changeValue(this.performAction(this.value,n,eh));this.raiseChangeEvent()},e.prototype.decrement=function(n){n===void 0&&(n=this.step);this.isInteract=!1;this.changeValue(this.performAction(this.value,n,ac));this.raiseChangeEvent()},e.prototype.destroy=function(){this.unwireEvents();a(this.hiddenInput);this.showSpinButton&&(this.unwireSpinBtnEvents(),a(this.spinUp),a(this.spinDown));this.container.parentElement.appendChild(this.cloneElement);a(this.container);n.prototype.destroy.call(this)},e.prototype.getText=function(){return this.element.value},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.onPropertyChanged=function(n,i){for(var r,e,o,u=0,f=Object.keys(n);u<f.length;u++){r=f[u];switch(r){case"width":gt(this.container,{width:g(n.width)});break;case"cssClass":c.setCssClass(n.cssClass,[this.container],i.cssClass);break;case"enabled":c.setEnabled(n.enabled,this.element);break;case"enableRtl":c.setEnableRtl(n.enableRtl,[this.container]);break;case"readonly":c.setReadonly(n.readonly,this.element);this.readonly?v(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"placeholder":c.setPlaceholder(n.placeholder,this.element);break;case"step":this.step=n.step;this.validateStep();break;case"showSpinButton":n.showSpinButton?this.spinBtnCreation():(a(this.spinUp),a(this.spinDown));break;case"showClearButton":c.setClearButton(n.showClearButton,this.element,this.inputWrapper,undefined,this.createElement);this.bindClearEvent();break;case"floatLabelType":this.floatLabelType=n.floatLabelType;this.floatLabelTypeUpdate();break;case"value":this.updateValue(n.value);break;case"min":case"max":ii(r,p(r,n),this);this.validateMinMax();this.updateValue(this.value);break;case"strictMode":this.strictMode=n.strictMode;this.updateValue(this.value);this.validateState();break;case"locale":this.initCultureFunc();this.l10n.setLocale(this.locale);t(this.spinDown)||v(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")});t(this.spinUp)||v(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")});this.updatePlaceholder();c.setPlaceholder(this.placeholder,this.element);this.updateValue(this.value);break;case"currency":e=p(r,n);this.setProperties({currencyCode:e},!0);this.updateCurrency(r,e);break;case"currencyCode":o=p(r,n);this.setProperties({currency:o},!0);this.updateCurrency("currency",o);break;case"format":ii(r,p(r,n),this);this.initCultureInfo();this.updateValue(this.value);break;case"decimals":this.decimals=n.decimals;this.updateValue(this.value)}}},e.prototype.getModuleName=function(){return"numerictextbox"},fi([i("")],e.prototype,"cssClass",void 0),fi([i(null)],e.prototype,"value",void 0),fi([i(-Number.MAX_VALUE)],e.prototype,"min",void 0),fi([i(Number.MAX_VALUE)],e.prototype,"max",void 0),fi([i(1)],e.prototype,"step",void 0),fi([i(null)],e.prototype,"width",void 0),fi([i(null)],e.prototype,"placeholder",void 0),fi([i(!0)],e.prototype,"showSpinButton",void 0),fi([i(!1)],e.prototype,"readonly",void 0),fi([i(!0)],e.prototype,"enabled",void 0),fi([i(!1)],e.prototype,"enableRtl",void 0),fi([i(!1)],e.prototype,"showClearButton",void 0),fi([i(!1)],e.prototype,"enablePersistence",void 0),fi([i("n2")],e.prototype,"format",void 0),fi([i(null)],e.prototype,"decimals",void 0),fi([i(null)],e.prototype,"currency",void 0),fi([i(null)],e.prototype,"currencyCode",void 0),fi([i(!0)],e.prototype,"strictMode",void 0),fi([i(!1)],e.prototype,"validateDecimalOnType",void 0),fi([i("Never")],e.prototype,"floatLabelType",void 0),fi([f()],e.prototype,"created",void 0),fi([f()],e.prototype,"destroyed",void 0),fi([f()],e.prototype,"change",void 0),fi([vt],e)}(vi),la="e-error",ubt="e-input-group",fbt="e-float-input",aa="e-label-top",ebt="e-label-bottom",obt={"0":"[0-9]","9":"[0-9 ]","#":"[0-9 +-]",L:"[A-Za-z]","?":"[A-Za-z ]","&":"[^ ]+",C:"[^]+",A:"[A-Za-z0-9]",a:"[A-Za-z0-9 ]"};var gbt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),lr=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},nkt="e-widget e-control-wrapper e-mask",tkt="e-input",ikt="e-maskedtextbox",rkt="e-control",nri=function(n){function r(t,i){return n.call(this,t,i)||this}return gbt(r,n),r.prototype.getModuleName=function(){return"maskedtextbox"},r.prototype.preRender=function(){var i,n,t;if(this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.regExpCollec=obt,this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.changeEventArgs={},this.focusEventArgs={},this.maskKeyPress=!1,this.isFocus=!1,this.isInitial=!1,this.isIosInvalid=!1,i=p("ej2_instances",this.element),this.cloneElement=this.element.cloneNode(!0),h([this.cloneElement],[rkt,ikt]),this.angularTagName=null,this.element.tagName==="EJS-MASKEDTEXTBOX"){for(this.angularTagName=this.element.tagName,n=this.createElement("input"),t=0;t<this.element.attributes.length;t++)n.setAttribute(this.element.attributes[t].nodeName,this.element.attributes[t].nodeValue),n.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id");this.element.classList.remove("e-control","e-maskedtextbox");this.element.classList.add("e-mask-container");this.element.appendChild(n);this.element=n;ii("ej2_instances",i,this.element)}},r.prototype.getPersistData=function(){return this.addOnPersist(["value"])},r.prototype.render=function(){this.element.tagName.toLowerCase()==="input"&&(this.floatLabelType==="Never"&&u([this.element],tkt),this.createWrapper(),this.element.name===""&&this.element.setAttribute("name",this.element.id),this.isInitial=!0,this.resetMaskedTextBox(),this.isInitial=!1,this.setMaskPlaceholder(!0,!1),this.setWidth(this.width),this.preEleVal=this.element.value)},r.prototype.resetMaskedTextBox=function(){this.promptMask="";this.hiddenMask="";this.escapeMaskValue="";this.customRegExpCollec=[];this.undoCollec=[];this.redoCollec=[];this.promptChar.length>1&&(this.promptChar=this.promptChar[0]);sbt.call(this);hbt.call(this);(this.mask===null||this.mask===""&&this.value!==undefined)&&bt.call(this,this.value);var n=go.call(this,this.element);this.prevValue=n;this.value=n;this.isInitial||git.call(this);cbt.call(this)},r.prototype.setMaskPlaceholder=function(n,t){(t||this.placeholder)&&(c.setPlaceholder(this.placeholder,this.element),this.element.value===this.promptMask&&n&&this.floatLabelType!=="Always"&&bt.call(this,""),this.floatLabelType==="Never"&&tb.call(this))},r.prototype.setCssClass=function(n,t){n&&u(t,n)},r.prototype.setWidth=function(n){t(n)||(this.element.style.width=g(n),this.inputObj.container.style.width=g(n))},r.prototype.createWrapper=function(){this.inputObj=c.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{enableRtl:this.enableRtl,cssClass:this.cssClass,enabled:this.enabled,placeholder:this.placeholder,showClearButton:this.showClearButton}},this.createElement);this.inputObj.container.setAttribute("class",nkt+" "+this.inputObj.container.getAttribute("class"))},r.prototype.onPropertyChanged=function(n,t){for(var f,e,u,i=0,r=Object.keys(n);i<r.length;i++){f=r[i];switch(f){case"value":va.call(this,this.value);this.placeholder&&this.setMaskPlaceholder(!1,!1);break;case"placeholder":this.setMaskPlaceholder(!0,!0);break;case"width":this.setWidth(n.width);break;case"cssClass":this.setCssClass(n.cssClass,[this.inputObj.container]);break;case"enabled":c.setEnabled(n.enabled,this.element);break;case"enableRtl":c.setEnableRtl(n.enableRtl,[this.inputObj.container]);break;case"customCharacters":this.customCharacters=n.customCharacters;this.resetMaskedTextBox();break;case"showClearButton":c.setClearButton(n.showClearButton,this.element,this.inputObj,undefined,this.createElement);nrt.call(this);break;case"floatLabelType":this.floatLabelType=n.floatLabelType;c.removeFloating(this.inputObj);c.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement);break;case"mask":e=this.value;this.mask=n.mask;this.updateValue(e);break;case"promptChar":n.promptChar.length>1&&(n.promptChar=n.promptChar[0]);this.promptChar=n.promptChar?n.promptChar:"_";u=this.element.value.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar);this.promptMask===this.element.value&&(u=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar));this.promptMask=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar);this.undoCollec=this.redoCollec=[];bt.call(this,u)}}},r.prototype.updateValue=function(n){this.resetMaskedTextBox();va.call(this,n)},r.prototype.getMaskedValue=function(){return vbt.call(this,this.element)},r.prototype.destroy=function(){git.call(this);this.inputObj.container.parentElement.appendChild(this.cloneElement);a(this.inputObj.container);n.prototype.destroy.call(this)},lr([i(null)],r.prototype,"cssClass",void 0),lr([i(null)],r.prototype,"width",void 0),lr([i(null)],r.prototype,"placeholder",void 0),lr([i("Never")],r.prototype,"floatLabelType",void 0),lr([i(!0)],r.prototype,"enabled",void 0),lr([i(!1)],r.prototype,"showClearButton",void 0),lr([i(!1)],r.prototype,"enablePersistence",void 0),lr([i(!1)],r.prototype,"enableRtl",void 0),lr([i(null)],r.prototype,"mask",void 0),lr([i("_")],r.prototype,"promptChar",void 0),lr([i(null)],r.prototype,"value",void 0),lr([i(null)],r.prototype,"customCharacters",void 0),lr([f()],r.prototype,"created",void 0),lr([f()],r.prototype,"destroyed",void 0),lr([f()],r.prototype,"change",void 0),lr([f()],r.prototype,"focus",void 0),lr([vt],r)}(vi),ya=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),et=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ukt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ya(t,n),et([i("None")],t.prototype,"placement",void 0),et([i(10)],t.prototype,"largeStep",void 0),et([i(1)],t.prototype,"smallStep",void 0),et([i(!1)],t.prototype,"showSmallTicks",void 0),et([i(null)],t.prototype,"format",void 0),t}(it),fkt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ya(t,n),et([i(!1)],t.prototype,"enabled",void 0),et([i(null)],t.prototype,"minStart",void 0),et([i(null)],t.prototype,"minEnd",void 0),et([i(null)],t.prototype,"maxStart",void 0),et([i(null)],t.prototype,"maxEnd",void 0),et([i(!1)],t.prototype,"startHandleFixed",void 0),et([i(!1)],t.prototype,"endHandleFixed",void 0),t}(it),ekt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ya(t,n),et([i("")],t.prototype,"cssClass",void 0),et([i("Before")],t.prototype,"placement",void 0),et([i("Focus")],t.prototype,"showOn",void 0),et([i(!1)],t.prototype,"isVisible",void 0),et([i(null)],t.prototype,"format",void 0),t}(it),ro=6,e={root:"e-slider",rtl:"e-rtl",sliderHiddenInput:"e-slider-input",controlWrapper:"e-control-wrapper",sliderHandle:"e-handle",rangeBar:"e-range",sliderButton:"e-slider-button",firstButton:"e-first-button",secondButton:"e-second-button",scale:"e-scale",tick:"e-tick",large:"e-large",tickValue:"e-tick-value",sliderTooltip:"e-slider-tooltip",sliderHover:"e-slider-hover",sliderFirstHandle:"e-handle-first",sliderSecondHandle:"e-handle-second",sliderDisabled:"e-disabled",sliderContainer:"e-slider-container",horizontalTooltipBefore:"e-slider-horizontal-before",horizontalTooltipAfter:"e-slider-horizontal-after",verticalTooltipBefore:"e-slider-vertical-before",verticalTooltipAfter:"e-slider-vertical-after",materialTooltip:"e-material-tooltip",materialTooltipOpen:"e-material-tooltip-open",materialTooltipActive:"e-tooltip-active",materialSlider:"e-material-slider",sliderTrack:"e-slider-track",sliderHandleFocused:"e-handle-focused",verticalSlider:"e-vertical",horizontalSlider:"e-horizontal",sliderHandleStart:"e-handle-start",sliderTooltipStart:"e-material-tooltip-start",sliderTabHandle:"e-tab-handle",sliderButtonIcon:"e-button-icon",sliderSmallSize:"e-small-size",sliderTickPosition:"e-tick-pos",sliderFirstTick:"e-first-tick",sliderLastTick:"e-last-tick",sliderButtonClass:"e-slider-btn",sliderTooltipWrapper:"e-tooltip-wrap",sliderTabTrack:"e-tab-track",sliderTabRange:"e-tab-range",sliderActiveHandle:"e-handle-active",sliderMaterialHandle:"e-material-handle",sliderMaterialRange:"e-material-range",sliderMaterialDefault:"e-material-default",materialTooltipShow:"e-material-tooltip-show",materialTooltipHide:"e-material-tooltip-hide",readonly:"e-read-only",limits:"e-limits",limitBarDefault:"e-limit-bar",limitBarFirst:"e-limit-first",limitBarSecond:"e-limit-second",dragHorizontal:"e-drag-horizontal",dragVertical:"e-drag-vertical"},art=function(n){function s(t,i){var r=n.call(this,t,i)||this;return r.horDir="left",r.verDir="bottom",r.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},r.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},r.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",r.customAriaText=null,r.drag=!0,r}return ya(s,n),s.prototype.preRender=function(){this.l10n=new du("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale);this.isElementFocused=!1;this.tickElementCollection=[];this.tooltipFormatInfo={};this.ticksFormatInfo={};this.initCultureInfo();this.initCultureFunc()},s.prototype.initCultureFunc=function(){this.internationalization=new hi(this.locale)},s.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=t(this.tooltip.format)?null:this.tooltip.format;this.ticksFormatInfo.format=t(this.ticks.format)?null:this.ticks.format},s.prototype.formatString=function(n,t){var i=null,r=null,u;return(n||n===0)&&(i=this.formatNumber(n),u=this.numberOfDecimals(n),r=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(n,u))),{elementVal:i,formatString:r}},s.prototype.formatNumber=function(n){var t=this.numberOfDecimals(n);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(n)},s.prototype.numberOfDecimals=function(n){var t=n.toString().split(".")[1];return!t||!t.length?0:t.length},s.prototype.makeRoundNumber=function(n,t){var i=t||0;return Number(n.toFixed(i))},s.prototype.fractionalToInteger=function(n){var t,i;for(n=this.numberOfDecimals(n)===0?Number(n).toFixed(this.noOfDecimals):n,t=1,i=0;i<this.noOfDecimals;i++)t*=10;return Number((n*t).toFixed(0))},s.prototype.render=function(){this.initialize();this.initRender();this.wireEvents();this.setZindex()},s.prototype.initialize=function(){u([this.element],e.root);this.setCSSClass()},s.prototype.setCSSClass=function(n){n&&h([this.element],n.split(" "));this.cssClass&&u([this.element],this.cssClass.split(" "))},s.prototype.setEnabled=function(){var n=this.type!=="Range"?[this.firstTooltipElement]:[this.firstTooltipElement,this.secondTooltipElement];this.enabled?(h([this.sliderContainer],[e.sliderDisabled]),this.tooltip.isVisible&&this.tooltip.showOn==="Always"&&n.forEach(function(n){n.classList.remove(e.sliderDisabled)}),this.wireEvents()):(u([this.sliderContainer],[e.sliderDisabled]),this.tooltip.isVisible&&this.tooltip.showOn==="Always"&&n.forEach(function(n){n.classList.add(e.sliderDisabled)}),this.unwireEvents())},s.prototype.getTheme=function(n){var t=window.getComputedStyle(n,":after").getPropertyValue("content");return t.replace(/['"]+/g,"")},s.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:e.sliderContainer+" "+e.controlWrapper});this.element.parentNode.insertBefore(this.sliderContainer,this.element);this.sliderContainer.appendChild(this.element);this.sliderTrack=this.createElement("div",{className:e.sliderTrack});this.element.appendChild(this.sliderTrack);this.element.tabIndex=-1;this.isMaterial=this.getTheme(this.sliderContainer)==="material";this.isBootstrap=this.getTheme(this.sliderContainer)==="bootstrap";this.setHandler();this.createRangeBar();this.limits.enabled&&this.createLimitBar();this.setOrientClass();this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:t(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(Math.random()*1e3).toFixed(0)+"slider","class":e.sliderHiddenInput}});this.hiddenInput.tabIndex=-1;this.sliderContainer.appendChild(this.hiddenInput);this.showButtons&&this.setButtons();this.setEnableRTL();this.type==="Range"?this.rangeValueUpdate():this.value=t(this.value)?parseFloat(g(this.min.toString())):this.value;this.previousVal=this.type!=="Range"?this.checkHandleValue(parseFloat(g(this.value.toString()))):[this.checkHandleValue(parseFloat(g(this.value[0].toString()))),this.checkHandleValue(parseFloat(g(this.value[1].toString())))];this.previousChanged=this.previousVal;t(this.element.hasAttribute("name"))||this.element.removeAttribute("name");this.setValue();this.limits.enabled&&this.setLimitBar();this.ticks.placement!=="None"&&this.renderScale();this.tooltip.isVisible&&this.renderTooltip();this.enabled?h([this.sliderContainer],[e.sliderDisabled]):u([this.sliderContainer],[e.sliderDisabled]);this.readonly?u([this.sliderContainer],[e.readonly]):h([this.sliderContainer],[e.readonly])},s.prototype.createRangeBar=function(){this.type!=="Default"&&(this.rangeBar=this.createElement("div",{attrs:{"class":e.rangeBar}}),this.element.appendChild(this.rangeBar),this.drag&&this.type==="Range"&&(this.orientation==="Horizontal"?this.rangeBar.classList.add(e.dragHorizontal):this.rangeBar.classList.add(e.dragVertical)))},s.prototype.createLimitBar=function(){var n=this.type!=="Range"?e.limitBarDefault:e.limitBarFirst;n+=" "+e.limits;this.limitBarFirst=this.createElement("div",{attrs:{"class":n}});this.element.appendChild(this.limitBarFirst);this.type==="Range"&&(this.limitBarSecond=this.createElement("div",{attrs:{"class":e.limitBarSecond+" "+e.limits}}),this.element.appendChild(this.limitBarSecond))},s.prototype.setOrientClass=function(){this.orientation!=="Vertical"?(this.sliderContainer.classList.remove(e.verticalSlider),this.sliderContainer.classList.add(e.horizontalSlider),this.firstHandle.setAttribute("aria-orientation","horizontal"),this.type==="Range"&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove(e.horizontalSlider),this.sliderContainer.classList.add(e.verticalSlider),this.firstHandle.setAttribute("aria-orientation","vertical"),this.type==="Range"&&this.secondHandle.setAttribute("aria-orientation","vertical"))},s.prototype.setAriaAttributes=function(n){var u=this,i=this.min,r=this.max,f;!t(this.customValues)&&this.customValues.length>0&&(i=this.customValues[0],r=this.customValues[this.customValues.length-1]);this.type!=="Range"?v(n,{"aria-valuemin":i.toString(),"aria-valuemax":r.toString()}):(f=!t(this.customValues)&&this.customValues.length>0?[[i.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),r.toString()]]:[[i.toString(),this.value[1].toString()],[this.value[0].toString(),r.toString()]],f.forEach(function(n,t){var i=t===0?u.firstHandle:u.secondHandle;i&&v(i,{"aria-valuemin":n[0],"aria-valuemax":n[1]})}))},s.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{"class":e.sliderHandle,role:"slider","aria-labelledby":this.element.id+"_title",tabIndex:"0"}});this.secondHandle.classList.add(e.sliderSecondHandle);this.element.appendChild(this.secondHandle);this.isMaterial&&this.tooltip.isVisible&&(this.secondMaterialHandle=this.createElement("div",{attrs:{"class":e.sliderHandle+" "+e.sliderMaterialHandle}}),this.element.appendChild(this.secondMaterialHandle))},s.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{"class":e.sliderHandle,role:"slider","aria-labelledby":this.element.id+"_title",tabIndex:"0"}});this.firstHandle.classList.add(e.sliderFirstHandle);this.element.appendChild(this.firstHandle);this.isMaterial&&this.tooltip.isVisible&&(this.firstMaterialHandle=this.createElement("div",{attrs:{"class":e.sliderHandle+" "+e.sliderMaterialHandle}}),this.element.appendChild(this.firstMaterialHandle))},s.prototype.wireFirstHandleEvt=function(n){n?(r.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),r.remove(this.firstHandle,"transitionend",this.transitionEnd),r.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),r.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(r.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),r.add(this.firstHandle,"transitionend",this.transitionEnd,this),r.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),r.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},s.prototype.wireSecondHandleEvt=function(n){n?(r.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),r.remove(this.secondHandle,"transitionend",this.transitionEnd),r.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),r.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(r.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),r.add(this.secondHandle,"transitionend",this.transitionEnd,this),r.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),r.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},s.prototype.handleStart=function(){var t=this.activeHandle===1?this.handlePos1:this.handlePos2,n=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement;t===0&&this.type!=="Range"&&(this.getHandle().classList.add(e.sliderHandleStart),this.isMaterial&&this.tooltip.isVisible&&(this.firstMaterialHandle.classList.add(e.sliderHandleStart),n&&n.classList.add(e.sliderTooltipStart)))},s.prototype.transitionEnd=function(n){if(this.handleStart(),this.getHandle().style.transition="none",this.type!=="Default"&&(this.rangeBar.style.transition="none"),this.tooltip.isVisible){var i=this.activeHandle===1?this.firstTooltipObj:this.secondTooltipObj,t=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement;this.isMaterial?t.classList.contains(e.materialTooltipOpen)||n.propertyName==="transform"?(this.type==="Default"&&(t.style.transition=this.transition.handle),this.refreshTooltip()):this.openMaterialTooltip():(i.animation={open:{effect:"None"},close:{effect:"FadeOut",duration:500}},this.tooltipAnimation())}this.tooltip.showOn!=="Always"&&this.closeTooltip()},s.prototype.handleFocusOut=function(){this.firstHandle.classList.contains(e.sliderHandleFocused)&&this.firstHandle.classList.remove(e.sliderHandleFocused);this.type==="Range"&&this.secondHandle.classList.contains(e.sliderHandleFocused)&&this.secondHandle.classList.remove(e.sliderHandleFocused)},s.prototype.handleFocus=function(n){n.currentTarget===this.firstHandle?this.firstHandle.classList.add(e.sliderHandleFocused):this.secondHandle.classList.add(e.sliderHandleFocused)},s.prototype.handleOver=function(n){if(this.tooltip.isVisible&&this.tooltip.showOn==="Hover"){this.tooltipValue();var t=n.currentTarget===this.firstHandle?this.firstTooltipObj:this.secondTooltipObj;t.animation={open:{effect:"None"},close:{effect:"FadeOut",duration:500}};n.currentTarget===this.firstHandle?this.firstTooltipObj.open(this.firstHandle):this.secondTooltipObj.open(this.secondHandle)}},s.prototype.handleLeave=function(n){if(this.tooltip.isVisible&&this.tooltip.showOn==="Hover"&&!n.currentTarget.classList.contains(e.sliderHandleFocused)&&!n.currentTarget.classList.contains(e.sliderTabHandle)){this.tooltipValue();var t=n.currentTarget===this.firstHandle?this.firstTooltipObj:this.secondTooltipObj;n.currentTarget===this.firstHandle?this.firstTooltipObj.close():this.secondTooltipObj.close();t.animation={open:{effect:"None"},close:{effect:"FadeOut",duration:500}}}},s.prototype.setHandler=function(){this.min>this.max&&(this.min=this.max);this.createFirstHandle();this.type==="Range"&&this.createSecondHandle()},s.prototype.setEnableRTL=function(){var n,t;this.enableRtl&&this.orientation!=="Vertical"?u([this.sliderContainer],e.rtl):h([this.sliderContainer],e.rtl);n=this.orientation!=="Vertical"?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom");t=this.orientation!=="Vertical"?this.horDir:this.verDir;n!==t&&this.orientation==="Horizontal"&&(gt(this.firstHandle,{right:"",left:"auto"}),this.type==="Range"&&gt(this.secondHandle,{top:"",left:"auto"}))},s.prototype.tooltipValue=function(){var t,n={value:this.value,text:""};this.setTooltipContent();n.text=t=this.firstTooltipObj.content;this.trigger("tooltipChange",n);this.addTooltipClass(n.text);t!==n.text&&(this.customAriaText=n.text,this.firstTooltipObj.content=n.text,this.setAriaAttrValue(this.firstHandle),this.type==="Range"&&(this.secondTooltipObj.content=n.text,this.setAriaAttrValue(this.secondHandle)))},s.prototype.setTooltipContent=function(){var n;this.type==="Range"?(n=this.formatContent(this.tooltipFormatInfo,!1),this.firstTooltipObj.content=n,this.secondTooltipObj.content=n):t(this.handleVal1)||(n=this.formatContent(this.tooltipFormatInfo,!1),this.firstTooltipObj.content=n)},s.prototype.formatContent=function(n,i){var f="",r=this.handleVal1,u=this.handleVal2;return!t(this.customValues)&&this.customValues.length>0&&(r=this.customValues[this.handleVal1],u=this.customValues[this.handleVal2]),i?(this.type==="Range"?f=this.enableRtl&&this.orientation!=="Vertical"?!t(this.tooltip)&&!t(this.tooltip.format)?this.formatString(u,n).elementVal+" - "+this.formatString(r,n).elementVal:u.toString()+" - "+r.toString():!t(this.tooltip)&&!t(this.tooltip.format)?this.formatString(r,n).elementVal+" - "+this.formatString(u,n).elementVal:r.toString()+" - "+u.toString():t(r)||(f=!t(this.tooltip)&&!t(this.tooltip.format)?this.formatString(r,n).elementVal:r.toString()),f):(this.type==="Range"?f=this.enableRtl&&this.orientation!=="Vertical"?t(n.format)?u.toString()+" - "+r.toString():this.formatString(u,n).formatString+" - "+this.formatString(r,n).formatString:t(n.format)?r.toString()+" - "+u.toString():this.formatString(r,n).formatString+" - "+this.formatString(u,n).formatString:t(r)||(f=t(n.format)?r.toString():this.formatString(r,n).formatString),f)},s.prototype.addTooltipClass=function(n){var t=this,i,r;this.isMaterial&&this.tooltip.isVisible&&(i=n.toString().length,r=this.type!=="Range"?[this.firstTooltipElement]:[this.firstTooltipElement,this.secondTooltipElement],r.forEach(function(n,r){if(n)i>4?(n.classList.remove(e.sliderMaterialDefault),n.classList.contains(e.sliderMaterialRange)||(n.classList.add(e.sliderMaterialRange),n.style.transform="scale(1)")):(n.classList.remove(e.sliderMaterialRange),n.classList.contains(e.sliderMaterialDefault)||(n.classList.add(e.sliderMaterialDefault),n.style.transform=t.getTooltipTransformProperties(t.previousTooltipClass).rotate));else{var u=i>4?e.sliderMaterialRange:e.sliderMaterialDefault;r?t.secondTooltipObj.cssClass=e.sliderTooltip+" "+u:t.firstTooltipObj.cssClass=e.sliderTooltip+" "+u}}))},s.prototype.tooltipPlacement=function(){var n;n=this.orientation==="Horizontal"?this.tooltip.placement==="Before"?"TopCenter":"BottomCenter":this.tooltip.placement==="Before"?"LeftCenter":"RightCenter";this.firstTooltipObj.position=n;this.type==="Range"&&(this.secondTooltipObj.position=n);this.isMaterial&&(this.firstTooltipObj.showTipPointer=!0,this.setProperties({tooltip:{showOn:"Always"}},!0),this.firstTooltipObj.height=30,this.type==="Range"&&(this.secondTooltipObj.showTipPointer=!0,this.secondTooltipObj.height=30))},s.prototype.tooltipBeforeOpen=function(n){var t=n.target===this.firstHandle?this.firstTooltipElement=n.element:this.secondTooltipElement=n.element,i;if(this.tooltip.cssClass!==""&&u([t],this.tooltip.cssClass.split(" ")),n.target.removeAttribute("aria-describedby"),this.isMaterial&&this.tooltip.isVisible&&(i=this.getTooltipTransformProperties(this.previousTooltipClass),t.firstChild.classList.add(e.materialTooltipHide),this.handleStart(),t.style.transform=t.firstElementChild.innerText.length>4?i.translate+" scale(0.01)":i.translate+" "+i.rotate+" scale(0.01)"),this.isBootstrap)switch(this.bootstrapCollisionArgs.collidedPosition){case"TopCenter":this.firstTooltipObj.setProperties({offsetY:-ro},!1);this.type==="Range"&&this.secondTooltipObj.setProperties({offsetY:-ro},!1);break;case"BottomCenter":this.firstTooltipObj.setProperties({offsetY:ro},!1);this.type==="Range"&&this.secondTooltipObj.setProperties({offsetY:ro},!1);break;case"LeftCenter":this.firstTooltipObj.setProperties({offsetX:-ro},!1);this.type==="Range"&&this.secondTooltipObj.setProperties({offsetX:-ro},!1);break;case"RightCenter":this.firstTooltipObj.setProperties({offsetX:ro},!1);this.type==="Range"&&this.secondTooltipObj.setProperties({offsetX:ro},!1)}},s.prototype.wireMaterialTooltipEvent=function(n){this.isMaterial&&this.tooltip.isVisible&&(n?(r.remove(this.firstTooltipElement,"mousedown touchstart",this.sliderDown),this.type==="Range"&&r.remove(this.secondTooltipElement,"mousedown touchstart",this.sliderDown)):(r.add(this.firstTooltipElement,"mousedown touchstart",this.sliderDown,this),this.type==="Range"&&r.add(this.secondTooltipElement,"mousedown touchstart",this.sliderDown,this)))},s.prototype.tooltipPositionCalculation=function(n){var t;switch(n){case"TopCenter":t=e.horizontalTooltipBefore;break;case"BottomCenter":t=e.horizontalTooltipAfter;break;case"LeftCenter":t=e.verticalTooltipBefore;break;case"RightCenter":t=e.verticalTooltipAfter}return t},s.prototype.getTooltipTransformProperties=function(n){var t;return this.firstTooltipElement?(t=void 0,t=this.orientation==="Horizontal"?this.firstTooltipElement.clientHeight+14-this.firstTooltipElement.clientHeight/2:this.firstTooltipElement.clientWidth+14-this.firstTooltipElement.clientWidth/2,this.orientation==="Horizontal"?n===e.horizontalTooltipBefore?{rotate:"rotate(45deg)",translate:"translateY("+t+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-t+"px)"}:n===e.verticalTooltipBefore?{rotate:"rotate(-45deg)",translate:"translateX("+t+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-t+"px)"}):undefined},s.prototype.openMaterialTooltip=function(){var i=this,n,t;this.refreshTooltip();n=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement;t=this.activeHandle===1?this.firstMaterialHandle:this.secondMaterialHandle;n.firstChild.classList.contains(e.materialTooltipHide)&&n.firstChild.classList.remove(e.materialTooltipHide);n.firstChild.classList.add(e.materialTooltipShow);this.getHandle().style.cursor="default";n.style.transition=this.scaleTransform;n.classList.add(e.materialTooltipOpen);t.style.transform="scale(0)";n.style.transform=n.firstElementChild.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate;this.type==="Default"?setTimeout(function(){n.style.transition=i.transition.handle},2500):setTimeout(function(){n.style.transition="none"},2500)},s.prototype.checkTooltipPosition=function(n){var i=n.target===this.firstHandle?this.firstHandleTooltipPosition:this.secondHandleTooltipPosition,t;this.isMaterial&&(i===undefined||i!==n.collidedPosition)&&(t=this.tooltipPositionCalculation(n.collidedPosition),n.element.classList.remove(this.previousTooltipClass),n.element.classList.add(t),this.previousTooltipClass=t,n.element.style.transform&&n.element.classList.contains(e.materialTooltipOpen)&&n.element.firstElementChild.innerText.length<4&&(n.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate),n.target===this.firstHandle?this.firstHandleTooltipPosition=n.collidedPosition:this.secondHandleTooltipPosition=n.collidedPosition);this.bootstrapCollisionArgs=n},s.prototype.renderTooltip=function(){this.tooltip.showOn==="Auto"&&this.setProperties({tooltip:{showOn:"Hover"}},!0);var n=this.isBootstrap?!0:!1;this.firstTooltipObj=new fa({showTipPointer:n,cssClass:e.sliderTooltip,animation:{open:{effect:"None"},close:{effect:"None"}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),afterClose:this.tooltipAfterClose.bind(this)});this.firstTooltipObj.appendTo(this.firstHandle);this.type==="Range"&&(this.secondTooltipObj=new fa({showTipPointer:n,cssClass:e.sliderTooltip,animation:{open:{effect:"None"},close:{effect:"None"}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),afterClose:this.tooltipAfterClose.bind(this)}),this.secondTooltipObj.appendTo(this.secondHandle));this.tooltipPlacement();this.firstHandle.style.transition="none";this.type!=="Default"&&(this.rangeBar.style.transition="none");this.type==="Range"&&(this.secondHandle.style.transition="none");this.isMaterial&&(this.sliderContainer.classList.add(e.materialSlider),this.tooltipValue(),this.firstTooltipObj.open(this.firstHandle),this.type==="Range"&&this.secondTooltipObj.open(this.secondHandle))},s.prototype.tooltipAfterClose=function(n){n.element===this.firstTooltipElement?this.firstTooltipElement=undefined:this.secondTooltipElement=undefined},s.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:e.sliderButton+" "+e.firstButton});this.firstBtn.appendChild(this.createElement("span",{className:e.sliderButtonIcon}));this.firstBtn.tabIndex=-1;this.secondBtn=this.createElement("div",{className:e.sliderButton+" "+e.secondButton});this.secondBtn.appendChild(this.createElement("span",{className:e.sliderButtonIcon}));this.secondBtn.tabIndex=-1;this.sliderContainer.classList.add(e.sliderButtonClass);this.sliderContainer.appendChild(this.firstBtn);this.sliderContainer.appendChild(this.secondBtn);this.sliderContainer.appendChild(this.element);this.buttonTitle()},s.prototype.buttonTitle=function(){var i=this.enableRtl&&this.orientation!=="Vertical",n,t;this.l10n.setLocale(this.locale);n=this.l10n.getConstant("decrementTitle");t=this.l10n.getConstant("incrementTitle");v(i?this.secondBtn:this.firstBtn,{"aria-label":n,title:n});v(i?this.firstBtn:this.secondBtn,{"aria-label":t,title:t})},s.prototype.buttonFocusOut=function(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")},s.prototype.repeatButton=function(n){var f=n.target.parentElement,u=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement,i,r,t;!u&&this.tooltip.isVisible&&this.openTooltip();i=this.handleValueUpdate();r=this.enableRtl&&this.orientation!=="Vertical";n.target.parentElement.classList.contains(e.firstButton)||n.target.classList.contains(e.firstButton)?t=r?this.add(i,parseFloat(this.step.toString()),!0):this.add(i,parseFloat(this.step.toString()),!1):(n.target.parentElement.classList.contains(e.secondButton)||n.target.classList.contains(e.secondButton))&&(t=r?this.add(i,parseFloat(this.step.toString()),!1):this.add(i,parseFloat(this.step.toString()),!0));this.limits.enabled&&(t=this.getLimitCorrectedValues(t));t>=this.min&&t<=this.max&&(this.changeHandleValue(t),this.refreshTooltipOnMove())},s.prototype.repeatHandlerMouse=function(n){n.preventDefault();(n.type==="mousedown"||n.type==="touchstart")&&(this.buttonClick(n),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,n))},s.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},s.prototype.repeatHandlerUp=function(){this.changeEvent("changed");this.tooltip.isVisible&&this.tooltip.showOn!=="Always"&&!this.isMaterial&&this.closeTooltip();clearInterval(this.repeatInterval);this.getHandle().focus()},s.prototype.customTickCounter=function(n){var i=4;return!t(this.customValues)&&this.customValues.length>0&&(n>4&&(i=3),n>7&&(i=2),n>14&&(i=1),n>28&&(i=0)),i},s.prototype.renderScale=function(){var u=this.orientation==="Vertical"?"v":"h",i,r,n,l,f,s,d,nt,tt,v,h;this.noOfDecimals=this.numberOfDecimals(this.step);this.ul=this.createElement("ul",{className:e.scale+" e-"+u+"-scale "+e.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});this.ul.style.zIndex="-1";o.isAndroid&&u==="h"&&this.ul.classList.add(e.sliderTickPosition);i=this.ticks.smallStep;this.ticks.showSmallTicks?i<=0&&(i=parseFloat(g(this.step))):i=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(g(this.max))-parseFloat(g(this.min));var y=this.fractionalToInteger(this.min),it=this.fractionalToInteger(this.max),rt=this.fractionalToInteger(i),c=!t(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,p=this.customTickCounter(c),w=!t(this.customValues)&&this.customValues.length>0?c*p+c:Math.abs((it-y)/rt);this.element.appendChild(this.ul);n=parseFloat(this.min.toString());u==="v"&&(n=parseFloat(this.max.toString()));l=0;s=100/w;s===Infinity&&(s=5);for(var a=0,b=!t(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,k=0;a<=w;a++){if(r=this.createElement("li",{attrs:{"class":e.tick,role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!t(this.customValues)&&this.customValues.length>0?(f=a%(p+1)==0,f&&(u==="h"?(n=this.customValues[k],k++):(n=this.customValues[b],b--),r.setAttribute("title",n.toString()))):(r.setAttribute("title",n.toString()),this.numberOfDecimals(this.max)===0&&this.numberOfDecimals(this.min)===0&&this.numberOfDecimals(this.step)===0?f=u==="h"?(n-parseFloat(this.min.toString()))%this.ticks.largeStep==0?!0:!1:Math.abs(n-parseFloat(this.max.toString()))%this.ticks.largeStep==0?!0:!1:(d=this.fractionalToInteger(this.ticks.largeStep),nt=this.fractionalToInteger(n),f=(nt-y)%d==0?!0:!1)),f&&r.classList.add(e.large),u==="h"?r.style.width=s+"%":r.style.height=s+"%",tt=f?this.ticks.placement==="Both"?2:1:0,f)for(v=0;v<tt;v++)this.createTick(r,n);else t(this.customValues)&&this.formatTicksValue(r,n);this.ul.appendChild(r);this.tickElementCollection.push(r);h=void 0;t(this.customValues)&&(h=this.numberOfDecimals(i)>this.numberOfDecimals(n)?this.numberOfDecimals(i):this.numberOfDecimals(n),n=u==="h"?this.makeRoundNumber(n+i,h):this.makeRoundNumber(n-i,h),l=this.makeRoundNumber(l+i,h))}this.tickesAlignment(u,s)},s.prototype.tickesAlignment=function(n,t){this.firstChild=this.ul.firstElementChild;this.lastChild=this.ul.lastElementChild;this.firstChild.classList.add(e.sliderFirstTick);this.lastChild.classList.add(e.sliderLastTick);this.sliderContainer.classList.add(e.scale+"-"+this.ticks.placement.toLowerCase());n==="h"?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%");var i={ticksWrapper:this.ul,tickElements:this.tickElementCollection};this.trigger("renderedTicks",i);this.scaleAlignment()},s.prototype.createTick=function(n,i){var r=this.createElement("span",{className:e.tickValue+" "+e.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});n.appendChild(r);r.innerHTML=t(this.customValues)?this.formatTicksValue(n,i):i},s.prototype.formatTicksValue=function(n,i){var u=this.formatNumber(i),f=!t(this.ticks)&&!t(this.ticks.format)?this.formatString(i,this.ticksFormatInfo).formatString:u,r={value:i,text:f,tickElement:n};return this.trigger("renderingTicks",r),n.setAttribute("title",r.text.toString()),r.text.toString()},s.prototype.scaleAlignment=function(){this.tickValuePosition();var n=this.orientation==="Vertical"?"v":"h";this.orientation==="Vertical"?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add(e.sliderSmallSize):this.sliderContainer.classList.remove(e.sliderSmallSize):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add(e.sliderSmallSize):this.sliderContainer.classList.remove(e.sliderSmallSize)},s.prototype.tickValuePosition=function(){var o=this.firstChild.getBoundingClientRect(),r,h=this.ticks.smallStep,s=Math.abs(parseFloat(g(this.max))-parseFloat(g(this.min)))/h,u,t,i,n,f;for(this.firstChild.children.length>0&&(r=this.firstChild.children[0].getBoundingClientRect()),u=[this.sliderContainer.querySelectorAll("."+e.tick+"."+e.large+" ."+e.tickValue)],t=this.ticks.placement==="Both"?[].slice.call(u[0],2):[].slice.call(u[0],1),i=this.orientation==="Vertical"?o.height*2:o.width*2,n=0;n<this.firstChild.children.length;n++)this.orientation==="Vertical"?this.firstChild.children[n].style.top=-(r.height/2)+"px":this.firstChild.children[n].style.left=this.enableRtl?(i-this.firstChild.children[n].getBoundingClientRect().width)/2+"px":-(r.width/2)+"px";for(n=0;n<t.length;n++)f=t[n].getBoundingClientRect(),this.orientation==="Vertical"?gt(t[n],{top:(i-f.height)/2+"px"}):gt(t[n],{left:(i-f.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&s!==0&&(this.lastChild.children[0].style.left=-(this.lastChild.getBoundingClientRect().width/2)+"px",this.ticks.placement==="Both"&&(this.lastChild.children[1].style.left=-(this.lastChild.getBoundingClientRect().width/2)+"px"));s===0&&(this.orientation==="Horizontal"&&(this.enableRtl?(this.firstChild.classList.remove(e.sliderLastTick),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px",this.ticks.placement==="Both"&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove(e.sliderLastTick),this.firstChild.style.left=this.firstHandle.style.left)),this.orientation==="Vertical"&&this.firstChild.classList.remove(e.sliderLastTick))},s.prototype.setAriaAttrValue=function(n){var r,f=!t(this.ticks)&&!t(this.ticks.format)?!0:!1,i=f?this.formatContent(this.tooltipFormatInfo,!1):this.formatContent(this.ticksFormatInfo,!1),u=f?this.formatContent(this.ticksFormatInfo,!0):this.formatContent(this.tooltipFormatInfo,!0);i=this.customAriaText?this.customAriaText:i;r=i.split(" - ").length===2?i.split(" - "):[i,i];this.setAriaAttributes(n);this.type!=="Range"?v(n,{"aria-valuenow":u,"aria-valuetext":i}):this.enableRtl?n===this.firstHandle?v(n,{"aria-valuenow":u.split(" - ")[1],"aria-valuetext":r[1]}):v(n,{"aria-valuenow":u.split(" - ")[0],"aria-valuetext":r[0]}):n===this.firstHandle?v(n,{"aria-valuenow":u.split(" - ")[0],"aria-valuetext":r[0]}):v(n,{"aria-valuenow":u.split(" - ")[1],"aria-valuetext":r[1]})},s.prototype.handleValueUpdate=function(){return this.type==="Range"?this.activeHandle===1?this.handleVal1:this.handleVal2:this.handleVal1},s.prototype.getLimitCorrectedValues=function(n){return this.type==="MinRange"||this.type==="Default"?this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd)[0]:this.activeHandle===1?this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(n,this.limits.maxStart,this.limits.maxEnd)[0]},s.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},s.prototype.buttonClick=function(n){this.focusSliderElement();var t,u=this.enableRtl&&this.orientation!=="Vertical",i=this.handleValueUpdate();n.keyCode===40||n.keyCode===37||n.currentTarget.classList.contains(e.firstButton)?t=u?this.add(i,parseFloat(this.step.toString()),!0):this.add(i,parseFloat(this.step.toString()),!1):n.keyCode===38||n.keyCode===39||n.currentTarget.classList.contains(e.secondButton)?t=u?this.add(i,parseFloat(this.step.toString()),!1):this.add(i,parseFloat(this.step.toString()),!0):n.keyCode===33||n.currentTarget.classList.contains(e.firstButton)?t=u?this.add(i,parseFloat(this.ticks.largeStep.toString()),!1):this.add(i,parseFloat(this.ticks.largeStep.toString()),!0):n.keyCode===34||n.currentTarget.classList.contains(e.secondButton)?t=u?this.add(i,parseFloat(this.ticks.largeStep.toString()),!0):this.add(i,parseFloat(this.ticks.largeStep.toString()),!1):n.keyCode===36?t=parseFloat(this.min.toString()):n.keyCode===35&&(t=parseFloat(this.max.toString()));this.limits.enabled&&(t=this.getLimitCorrectedValues(t));this.changeHandleValue(t);!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(e.sliderTabHandle)||this.materialChange();this.tooltipAnimation();this.getHandle().focus();n.currentTarget.classList.contains(e.firstButton)&&r.add(this.firstBtn,"mouseup touchend",this.buttonUp,this);n.currentTarget.classList.contains(e.secondButton)&&r.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},s.prototype.tooltipAnimation=function(){if(this.tooltip.isVisible){var n=this.activeHandle===1?this.firstTooltipObj:this.secondTooltipObj,t=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement;this.isMaterial?t.classList.contains(e.materialTooltipOpen)?this.refreshTooltip():this.openMaterialTooltip():(n.animation={open:{effect:"None"},close:{effect:"FadeOut",duration:500}},this.openTooltip())}},s.prototype.buttonUp=function(n){if(this.tooltip.isVisible&&!this.isMaterial){var t=this.activeHandle===1?this.firstTooltipObj:this.secondTooltipObj;t.animation={open:{effect:"None"},close:{effect:"None"}}}n.currentTarget.classList.contains(e.firstButton)&&r.remove(this.firstBtn,"mouseup touchend",this.buttonUp);n.currentTarget.classList.contains(e.secondButton)&&r.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},s.prototype.setRangeBar=function(){this.orientation==="Horizontal"?this.type==="MinRange"?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",gt(this.rangeBar,{width:t(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",gt(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):this.type==="MinRange"?(this.rangeBar.style.bottom="0px",gt(this.rangeBar,{height:t(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",gt(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))},s.prototype.checkValidValueAndPos=function(n){return n=this.checkHandleValue(n),this.checkHandlePosition(n)},s.prototype.setLimitBarPositions=function(n,t,i,r){this.orientation==="Horizontal"?this.enableRtl?(this.limitBarFirst.style.right=n+"px",this.limitBarFirst.style.width=t-n+"px"):(this.limitBarFirst.style.left=n+"px",this.limitBarFirst.style.width=t-n+"px"):(this.limitBarFirst.style.bottom=n+"px",this.limitBarFirst.style.height=t-n+"px");this.type==="Range"&&(this.orientation==="Horizontal"?this.enableRtl?(this.limitBarSecond.style.right=i+"px",this.limitBarSecond.style.width=r-i+"px"):(this.limitBarSecond.style.left=i+"px",this.limitBarSecond.style.width=r-i+"px"):(this.limitBarSecond.style.bottom=i+"px",this.limitBarSecond.style.height=r-i+"px"))},s.prototype.setLimitBar=function(){var n,t,i,r,u,f;this.type==="Default"||this.type==="MinRange"?(n=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0],n=this.checkValidValueAndPos(n),t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0],t=this.checkValidValueAndPos(t),this.setLimitBarPositions(n,t)):this.type==="Range"&&(i=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0],i=this.checkValidValueAndPos(i),r=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0],r=this.checkValidValueAndPos(r),u=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0],u=this.checkValidValueAndPos(u),f=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0],f=this.checkValidValueAndPos(f),this.setLimitBarPositions(i,r,u,f))},s.prototype.getLimitValueAndPosition=function(n,i,r,u){return t(i)&&(i=this.min,t(n)&&u&&(n=i)),t(r)&&(r=this.max,t(n)&&u&&(n=r)),n<i&&(n=i),n>r&&(n=r),[n,this.checkHandlePosition(n)]},s.prototype.setValue=function(){if(!t(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1),this.setAriaAttributes(this.firstHandle),this.handleVal1=t(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=t(this.activeHandle)?this.type==="Range"?2:1:this.activeHandle,this.type==="Default"||this.type==="MinRange"){if(this.limits.enabled){var n=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=n[0];this.handlePos1=n[1];this.preHandlePos1=this.handlePos1}this.setHandlePosition();this.handleStart();this.value=this.handleVal1;this.setAriaAttrValue(this.firstHandle);this.changeEvent("changed")}else this.validateRangeValue();this.type!=="Default"&&this.setRangeBar();this.limits.enabled&&this.setLimitBar()},s.prototype.rangeValueUpdate=function(){(this.value===null||typeof this.value!="object")&&(this.value=[parseFloat(g(this.min)),parseFloat(g(this.max))])},s.prototype.validateRangeValue=function(){this.rangeValueUpdate();this.setRangeValue()},s.prototype.modifyZindex=function(){this.type==="Range"?this.activeHandle===1?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+"",this.isMaterial&&this.tooltip.isVisible&&this.firstTooltipElement&&this.secondTooltipElement&&(this.firstTooltipElement.style.zIndex=this.zIndex+4+"",this.secondTooltipElement.style.zIndex=this.zIndex+3+"")):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+"",this.isMaterial&&this.tooltip.isVisible&&this.firstTooltipElement&&this.secondTooltipElement&&(this.firstTooltipElement.style.zIndex=this.zIndex+3+"",this.secondTooltipElement.style.zIndex=this.zIndex+4+"")):this.isMaterial&&this.tooltip.isVisible&&this.firstTooltipElement&&(this.firstTooltipElement.style.zIndex=this.zIndex+4+"")},s.prototype.setHandlePosition=function(){var r=this,i=this.activeHandle===1?this.handlePos1:this.handlePos2,u=this.activeHandle===1?this.handleVal1:this.handleVal2,n,t;this.isMaterial&&this.tooltip.isVisible?(t=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement,n=[this.getHandle(),this.activeHandle===1?this.firstMaterialHandle:this.secondMaterialHandle]):n=[this.getHandle()];this.tooltip.isVisible&&i===0&&this.type!=="Range"?(n[0].classList.add(e.sliderHandleStart),this.isMaterial&&(n[1].classList.add(e.sliderHandleStart),t&&t.classList.add(e.sliderTooltipStart))):(n[0].classList.remove(e.sliderHandleStart),this.tooltip.isVisible&&this.isMaterial&&(n[1].classList.remove(e.sliderHandleStart),t&&t.classList.remove(e.sliderTooltipStart)));n.forEach(function(n){r.orientation==="Horizontal"?r.enableRtl?n.style.right=i+"px":n.style.left=i+"px":n.style.bottom=i+"px"});this.changeEvent("change")},s.prototype.getHandle=function(){return this.activeHandle===1?this.firstHandle:this.secondHandle},s.prototype.setRangeValue=function(){var n=this.activeHandle;this.updateRangeValue();this.activeHandle=1;this.setHandlePosition();this.activeHandle=2;this.setHandlePosition();this.activeHandle=1},s.prototype.changeEvent=function(n){var t=n==="change"?this.previousVal:this.previousChanged,i;this.type!=="Range"?(this.setProperties({value:this.handleVal1},!0),t!==this.value&&(this.trigger(n,this.changeEventArgs(n)),this.setPreviousVal(n,this.value)),this.setAriaAttrValue(this.firstHandle)):(i=this.value=[this.handleVal1,this.handleVal2],this.setProperties({value:i},!0),(t.length===this.value.length&&this.value[0]!==t[0]||this.value[1]!==t[1])&&(this.trigger(n,this.changeEventArgs(n)),this.setPreviousVal(n,this.value)),this.setAriaAttrValue(this.getHandle()));this.hiddenInput.value=this.value.toString()},s.prototype.changeEventArgs=function(n){var i;return this.tooltip.isVisible&&this.firstTooltipObj?(this.tooltipValue(),i={value:this.value,previousValue:n==="change"?this.previousVal:this.previousChanged,action:n,text:this.firstTooltipObj.content}):i={value:this.value,previousValue:n==="change"?this.previousVal:this.previousChanged,action:n,text:t(this.ticksFormatInfo.format)?this.value.toString():this.type!=="Range"?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString},i},s.prototype.setPreviousVal=function(n,t){n==="change"?this.previousVal=t:this.previousChanged=t},s.prototype.updateRangeValue=function(){var t=this.value.toString().split(",").map(Number),n;this.value=this.enableRtl&&this.orientation!=="Vertical"||this.rtl?[t[1],t[0]]:[t[0],t[1]];this.enableRtl&&this.orientation!=="Vertical"?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1]));this.handlePos1=this.checkHandlePosition(this.handleVal1);this.handlePos2=this.checkHandlePosition(this.handleVal2);this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2);this.preHandlePos1=this.handlePos1;this.preHandlePos2=this.handlePos2;this.limits.enabled&&(this.activeHandle=1,n=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd),this.handleVal1=n[0],this.handlePos1=n[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,n=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=n[0],this.handlePos2=n[1],this.preHandlePos2=this.handlePos2)},s.prototype.checkHandlePosition=function(n){var t;return n=100*(n-parseFloat(g(this.min)))/(parseFloat(g(this.max))-parseFloat(g(this.min))),t=this.orientation==="Horizontal"?this.element.getBoundingClientRect().width*(n/100):this.element.getBoundingClientRect().height*(n/100),parseFloat(g(this.max))===parseFloat(g(this.min))&&(t=this.orientation==="Horizontal"?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t},s.prototype.checkHandleValue=function(n){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(g(this.max));var t=this.tempStartEnd();return n<t.start?n=t.start:n>t.end&&(n=t.end),n},s.prototype.onResize=function(){var n=this;this.firstHandle.style.transition="none";this.type!=="Default"&&(this.rangeBar.style.transition="none");this.type==="Range"&&(this.secondHandle.style.transition="none");this.handlePos1=this.checkHandlePosition(this.handleVal1);this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2));this.orientation==="Horizontal"?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterial&&this.tooltip.isVisible&&this.firstMaterialHandle&&(this.enableRtl?this.firstMaterialHandle.style.right=this.handlePos1+"px":this.firstMaterialHandle.style.left=this.handlePos1+"px"),this.type==="MinRange"?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",gt(this.rangeBar,{width:t(this.handlePos1)?0:this.handlePos1+"px"})):this.type==="Range"&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.isMaterial&&this.tooltip.isVisible&&this.secondMaterialHandle&&(this.enableRtl?this.secondMaterialHandle.style.right=this.handlePos2+"px":this.secondMaterialHandle.style.left=this.handlePos2+"px"),this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",gt(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterial&&this.tooltip.isVisible&&this.firstMaterialHandle&&(this.firstMaterialHandle.style.bottom=this.handlePos1+"px"),this.type==="MinRange"?(this.rangeBar.style.bottom="0px",gt(this.rangeBar,{height:t(this.handlePos1)?0:this.handlePos1+"px"})):this.type==="Range"&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.isMaterial&&this.tooltip.isVisible&&this.secondMaterialHandle&&(this.secondMaterialHandle.style.bottom=this.handlePos2+"px"),this.rangeBar.style.bottom=this.handlePos1+"px",gt(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"})));this.limits.enabled&&this.setLimitBar();this.ticks.placement!=="None"&&this.ul&&(this.removeElement(this.ul),this.renderScale());this.tooltip.isVisible||setTimeout(function(){n.firstHandle.style.transition=n.scaleTransform;n.type==="Range"&&(n.secondHandle.style.transition=n.scaleTransform)});this.refreshTooltip()},s.prototype.changeHandleValue=function(n){var t=null;this.activeHandle===1?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(n),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.type==="Range"&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(n),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.type==="Range"&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex());t!==null&&(this.type!=="Default"&&this.setRangeBar(),this.setHandlePosition())},s.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},s.prototype.xyToPosition=function(n){var r,u,i,t;return this.min===this.max?100:(this.orientation==="Horizontal"?(r=n.x-this.element.getBoundingClientRect().left,i=this.element.offsetWidth/100,this.val=r/i):(u=n.y-this.element.getBoundingClientRect().top,i=this.element.offsetHeight/100,this.val=100-u/i),t=this.stepValueCalculation(this.val),t<0?t=0:t>100&&(t=100),this.enableRtl&&this.orientation!=="Vertical"&&(t=100-t),this.orientation==="Horizontal"?this.element.getBoundingClientRect().width*(t/100):this.element.getBoundingClientRect().height*(t/100))},s.prototype.stepValueCalculation=function(n){this.step===0&&(this.step=1);var i=parseFloat(g(this.step))/((parseFloat(g(this.max))-parseFloat(g(this.min)))/100),t=n%Math.abs(i);return t!==0&&(i/2>t?n-=t:n+=Math.abs(i)-t),n},s.prototype.add=function(n,t,i){var u,r=Math.pow(10,u||3);return i?(Math.round(n*r)+Math.round(t*r))/r:(Math.round(n*r)-Math.round(t*r))/r},s.prototype.round=function(n){var t=this.step.toString().split(".");return t[1]?parseFloat(n.toFixed(t[1].length)):Math.round(n)},s.prototype.positionToValue=function(n){var t,i=parseFloat(g(this.max))-parseFloat(g(this.min));return t=this.orientation==="Horizontal"?n/this.element.getBoundingClientRect().width*i:n/this.element.getBoundingClientRect().height*i,this.add(t,parseFloat(this.min.toString()),!0)},s.prototype.sliderBarClick=function(n){var f,t,i,r,s,u,h,o;if(n.preventDefault(),n.type==="mousedown"||n.type==="click"?f={x:n.clientX,y:n.clientY}:n.type==="touchstart"&&(f={x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY}),t=this.xyToPosition(f),i=this.positionToValue(t),this.type==="Range"&&this.handlePos2-t<t-this.handlePos1?(this.activeHandle=2,this.limits.enabled&&this.limits.endHandleFixed||(this.limits.enabled&&(r=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd),i=r[0],t=r[1]),this.secondHandle.classList.add(e.sliderActiveHandle),this.handlePos2=this.preHandlePos2=t,this.handleVal2=i),this.modifyZindex(),this.secondHandle.focus()):(this.activeHandle=1,this.limits.enabled&&this.limits.startHandleFixed||(this.limits.enabled&&(r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd),i=r[0],t=r[1]),this.firstHandle.classList.add(e.sliderActiveHandle),this.handlePos1=this.preHandlePos1=t,this.handleVal1=i),this.modifyZindex(),this.firstHandle.focus()),this.isMaterial&&this.tooltip.isVisible&&(s=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement,s.classList.add(e.materialTooltipActive)),u=this.element.querySelector("."+e.sliderTabHandle),u&&this.getHandle()!==u&&u.classList.remove(e.sliderTabHandle),h=this.activeHandle===1?this.firstHandle:this.secondHandle,n.target===h){!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(e.sliderTabHandle)||this.materialChange();this.tooltipAnimation();return}this.checkRepeatedValue(i)&&(o=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition,this.getHandle().style.transition=o.handle,this.type!=="Default"&&(this.rangeBar.style.transition=o.rangeBar),this.setHandlePosition(),this.type!=="Default"&&this.setRangeBar())},s.prototype.refreshTooltipOnMove=function(){this.tooltip.isVisible&&(this.tooltipValue(),this.activeHandle===1?this.firstTooltipObj.refresh(this.firstHandle):this.secondTooltipObj.refresh(this.secondHandle))},s.prototype.sliderDown=function(n){var t,i,u,f;n.preventDefault();this.focusSliderElement();this.type==="Range"&&this.drag&&n.target===this.rangeBar?(t=void 0,i=void 0,n.type==="mousedown"?(u=[n.clientX,n.clientY],t=u[0],i=u[1]):n.type==="touchstart"&&(f=[n.changedTouches[0].clientX,n.changedTouches[0].clientY],t=f[0],i=f[1]),this.orientation==="Horizontal"?(this.firstPartRemain=t-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-t):(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-i),this.minDiff=this.handleVal2-this.handleVal1,this.getHandle().focus(),r.add(document,"mousemove touchmove",this.dragRangeBarMove,this),r.add(document,"mouseup touchend",this.dragRangeBarUp,this)):(this.sliderBarClick(n),r.add(document,"mousemove touchmove",this.sliderBarMove,this),r.add(document,"mouseup touchend",this.sliderBarUp,this))},s.prototype.handleValueAdjust=function(n,t,i){i===1?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):i===2&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff);this.handlePos1=this.checkHandlePosition(this.handleVal1);this.handlePos2=this.checkHandlePosition(this.handleVal2)},s.prototype.dragRangeBarMove=function(n){var u,t,i,r,f,o;n.type!=="touchmove"&&n.preventDefault();this.rangeBar.style.transition="none";this.firstHandle.style.transition="none";this.secondHandle.style.transition="none";n.type==="mousemove"?(f=[n.clientX,n.clientY],t=f[0],i=f[1]):(o=[n.changedTouches[0].clientX,n.changedTouches[0].clientY],t=o[0],i=o[1]);this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed||(u=this.enableRtl?{x:t+this.secondPartRemain,y:i+this.secondPartRemain}:{x:t-this.firstPartRemain,y:i+this.secondPartRemain},this.handlePos1=this.xyToPosition(u),this.handleVal1=this.positionToValue(this.handlePos1),u=this.enableRtl?{x:t-this.firstPartRemain,y:i-this.firstPartRemain}:{x:t+this.secondPartRemain,y:i-this.firstPartRemain},this.handlePos2=this.xyToPosition(u),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled&&(r=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd),this.handleVal1=r[0],this.handlePos1=r[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),r=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=r[0],this.handlePos2=r[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)),this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1));this.activeHandle=1;this.setHandlePosition();this.tooltip.isVisible&&(this.isMaterial?this.firstTooltipElement.classList.contains(e.materialTooltipOpen)?this.refreshTooltipOnMove():this.openMaterialTooltip():this.firstTooltipElement?this.refreshTooltipOnMove():this.openTooltip());this.activeHandle=2;this.setHandlePosition();this.tooltip.isVisible&&(this.isMaterial?this.secondTooltipElement.classList.contains(e.materialTooltipOpen)?this.refreshTooltipOnMove():this.openMaterialTooltip():this.secondTooltipElement?this.refreshTooltipOnMove():this.openTooltip());this.setRangeBar()},s.prototype.sliderBarUp=function(){var n,t;this.changeEvent("changed");this.handleFocusOut();this.firstHandle.classList.remove(e.sliderActiveHandle);this.type==="Range"&&this.secondHandle.classList.remove(e.sliderActiveHandle);this.tooltip.isVisible&&(this.tooltip.showOn!=="Always"&&this.closeTooltip(),this.isMaterial||(n=this.activeHandle===1?this.firstTooltipObj:this.secondTooltipObj,n.animation={open:{effect:"None"},close:{effect:"None"}}));this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.tooltip.isVisible&&(t=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement,t.classList.remove(e.materialTooltipActive)));r.remove(document,"mousemove touchmove",this.sliderBarMove);r.remove(document,"mouseup touchend",this.sliderBarUp)},s.prototype.sliderBarMove=function(n){var o,t,i,u,r,f;(n.type!=="touchmove"&&n.preventDefault(),o=n.type==="mousemove"?{x:n.clientX,y:n.clientY}:{x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY},t=this.xyToPosition(o),i=this.positionToValue(t),t=Math.round(t),this.type!=="Range"&&this.activeHandle===1&&(this.limits.enabled&&this.limits.startHandleFixed||(this.limits.enabled&&(u=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd),t=u[1],i=u[0]),this.handlePos1=t,this.handleVal1=i),this.firstHandle.classList.add(e.sliderActiveHandle)),this.type==="Range"&&(this.activeHandle===1?(this.firstHandle.classList.add(e.sliderActiveHandle),this.limits.enabled&&this.limits.startHandleFixed||(t>this.handlePos2&&(t=this.handlePos2,i=this.handleVal2),t!==this.preHandlePos1&&(this.limits.enabled&&(r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd),i=r[0],t=r[1]),this.handlePos1=this.preHandlePos1=t,this.handleVal1=i,this.activeHandle=1))):this.activeHandle===2&&(this.secondHandle.classList.add(e.sliderActiveHandle),this.limits.enabled&&this.limits.endHandleFixed||(t<this.handlePos1&&(t=this.handlePos1,i=this.handleVal1),t!==this.preHandlePos2&&(this.limits.enabled&&(r=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd),i=r[0],t=r[1]),this.handlePos2=this.preHandlePos2=t,this.handleVal2=i,this.activeHandle=2)))),this.checkRepeatedValue(i))&&(this.getHandle().style.transition=this.scaleTransform,this.type!=="Default"&&(this.rangeBar.style.transition="none"),this.setHandlePosition(),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(e.sliderTabHandle)||this.materialChange(),f=this.activeHandle===1?this.firstTooltipElement:this.secondTooltipElement,this.tooltip.isVisible&&(this.isMaterial?f.classList.contains(e.materialTooltipOpen)?this.refreshTooltipOnMove():this.openMaterialTooltip():f?this.refreshTooltipOnMove():this.openTooltip()),this.type!=="Default"&&this.setRangeBar())},s.prototype.dragRangeBarUp=function(){this.changeEvent("changed");this.tooltip.isVisible&&(this.tooltip.showOn==="Always"||this.isMaterial||(this.activeHandle=1,this.firstTooltipObj.animation={open:{effect:"None"},close:{effect:"FadeOut",duration:500}},this.closeTooltip(),this.activeHandle=2,this.secondTooltipObj.animation={open:{effect:"None"},close:{effect:"FadeOut",duration:500}},this.closeTooltip()));r.remove(document,"mousemove touchmove",this.dragRangeBarMove);r.remove(document,"mouseup touchend",this.dragRangeBarUp)},s.prototype.checkRepeatedValue=function(n){if(this.type==="Range"){var t=this.enableRtl&&this.orientation!=="Vertical"?this.activeHandle===1?this.previousVal[1]:this.previousVal[0]:this.activeHandle===1?this.previousVal[0]:this.previousVal[1];if(n===t)return 0}else if(n===this.previousVal)return 0;return 1},s.prototype.refreshTooltip=function(){this.tooltip.isVisible&&this.firstTooltipObj&&(this.tooltipValue(),this.firstTooltipObj.refresh(this.firstHandle),this.type==="Range"&&this.secondTooltipObj.refresh(this.secondHandle))},s.prototype.openTooltip=function(){this.tooltip.isVisible&&this.firstTooltipObj&&(this.tooltipValue(),this.isMaterial?this.openMaterialTooltip():this.activeHandle===1?this.firstTooltipObj.open(this.firstHandle):this.secondTooltipObj.open(this.secondHandle))},s.prototype.keyDown=function(n){switch(n.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:n.preventDefault();this.buttonClick(n);this.tooltip.isVisible&&this.tooltip.showOn!=="Always"&&!this.isMaterial&&this.closeTooltip()}},s.prototype.wireButtonEvt=function(n){n?(r.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),r.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),r.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),r.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),r.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),r.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),r.remove(this.firstBtn,"focusout",this.sliderFocusOut),r.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(r.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),r.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),r.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),r.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),r.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),r.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),r.add(this.firstBtn,"focusout",this.sliderFocusOut,this),r.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},s.prototype.wireEvents=function(){this.onresize=this.onResize.bind(this);window.addEventListener("resize",this.onresize);this.enabled&&!this.readonly&&(r.add(this.element,"mousedown touchstart",this.sliderDown,this),r.add(this.sliderContainer,"keydown",this.keyDown,this),r.add(this.sliderContainer,"keyup",this.keyUp,this),r.add(this.element,"focusout",this.sliderFocusOut,this),r.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),this.type==="Range"&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1))},s.prototype.unwireEvents=function(){r.remove(this.element,"mousedown touchstart",this.sliderDown);r.remove(this.sliderContainer,"keydown",this.keyDown);r.remove(this.sliderContainer,"keyup",this.keyUp);r.remove(this.element,"focusout",this.sliderFocusOut);r.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover);this.wireFirstHandleEvt(!0);this.type==="Range"&&this.wireSecondHandleEvt(!0);this.showButtons&&this.wireButtonEvt(!0);this.wireMaterialTooltipEvent(!0)},s.prototype.keyUp=function(n){if(n.keyCode===9&&n.target.classList.contains(e.sliderHandle)&&(this.focusSliderElement(),!n.target.classList.contains(e.sliderTabHandle))){this.element.querySelector("."+e.sliderTabHandle)&&this.element.querySelector("."+e.sliderTabHandle).classList.remove(e.sliderTabHandle);n.target.classList.add(e.sliderTabHandle);var t=n.target.parentElement;t===this.element&&(t.querySelector("."+e.sliderTrack).classList.add(e.sliderTabTrack),(this.type==="Range"||this.type==="MinRange")&&t.querySelector("."+e.rangeBar).classList.add(e.sliderTabRange));this.type==="Range"&&(this.activeHandle=n.target.previousSibling.classList.contains(e.sliderHandle)?2:1);this.getHandle().focus();this.tooltipAnimation();this.tooltip.isVisible&&this.tooltip.showOn!=="Always"&&!this.isMaterial&&this.closeTooltip()}this.changeEvent("changed")},s.prototype.hover=function(n){t(n)||(n.type==="mouseover"||n.type==="touchmove"||n.type==="mousemove"||n.type==="pointermove"||n.type==="touchstart"?this.sliderContainer.classList.add(e.sliderHover):this.sliderContainer.classList.remove(e.sliderHover))},s.prototype.sliderFocusOut=function(n){var r=this;if(n.relatedTarget!==this.secondHandle&&n.relatedTarget!==this.firstHandle&&n.relatedTarget!==this.element&&n.relatedTarget!==this.firstBtn&&n.relatedTarget!==this.secondBtn){if(this.isMaterial&&this.tooltip.isVisible){var t=this.getTooltipTransformProperties(this.previousTooltipClass),u=this.type!=="Range"?[this.firstTooltipElement]:[this.firstTooltipElement,this.secondTooltipElement],i=this.type!=="Range"?[this.firstHandle]:[this.firstHandle,this.secondHandle],f=this.type!=="Range"?[this.firstMaterialHandle]:[this.firstMaterialHandle,this.secondMaterialHandle];u.forEach(function(n,u){n&&(n.style.transition=r.scaleTransform,n.firstChild.classList.remove(e.materialTooltipShow),n.firstChild.classList.add(e.materialTooltipHide),i[u].style.cursor="-webkit-grab",i[u].style.cursor="grab",f[u].style.transform="scale(1)",n.classList.remove(e.materialTooltipOpen),n.style.transform=n.firstElementChild.innerText.length>4?t.translate+" scale(0.01)":t.translate+" "+t.rotate+" scale(0.01)",setTimeout(function(){n.style.transition="none"},2500))})}this.element.querySelector("."+e.sliderTabHandle)&&this.element.querySelector("."+e.sliderTabHandle).classList.remove(e.sliderTabHandle);this.element.querySelector("."+e.sliderTabTrack)&&(this.element.querySelector("."+e.sliderTabTrack).classList.remove(e.sliderTabTrack),(this.type==="Range"||this.type==="MinRange")&&this.element.querySelector("."+e.sliderTabRange)&&this.element.querySelector("."+e.sliderTabRange).classList.remove(e.sliderTabRange));this.hiddenInput.focus();this.hiddenInput.blur();this.isElementFocused=!1}},s.prototype.closeTooltip=function(){this.tooltip.isVisible&&(this.tooltipValue(),this.activeHandle===1?this.firstTooltipObj.close():this.secondTooltipObj.close())},s.prototype.removeElement=function(n){n.parentNode&&n.parentNode.removeChild(n)},s.prototype.changeSliderType=function(n){this.isMaterial&&this.firstMaterialHandle&&(this.sliderContainer.classList.remove(e.materialSlider),this.removeElement(this.firstMaterialHandle),this.firstTooltipElement=undefined,this.firstHandleTooltipPosition=undefined,this.secondMaterialHandle&&(this.removeElement(this.secondMaterialHandle),this.secondTooltipElement=undefined,this.secondHandleTooltipPosition=undefined));this.tooltip.isVisible&&this.isMaterial&&this.sliderContainer.classList.add(e.materialSlider);this.removeElement(this.firstHandle);n!=="Default"&&(n==="Range"&&this.removeElement(this.secondHandle),this.removeElement(this.rangeBar));this.tooltip.isVisible&&!t(this.firstTooltipObj)&&(this.firstTooltipObj.destroy(),n!=="Range"||t(this.secondTooltipObj)||this.secondTooltipObj.destroy());(this.limits.enabled&&n==="MinRange"||n==="Default")&&(t(this.limitBarFirst)||this.removeElement(this.limitBarFirst));n==="Range"&&this.limits.enabled&&(t(this.limitBarFirst)||t(this.limitBarSecond)||(this.removeElement(this.limitBarFirst),this.removeElement(this.limitBarSecond)));this.createRangeBar();this.limits.enabled&&this.createLimitBar();this.setHandler();this.setOrientClass();this.wireFirstHandleEvt(!1);this.type==="Range"&&this.wireSecondHandleEvt(!1);this.setValue();this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1));this.updateConfig()},s.prototype.changeRtl=function(){if(this.enableRtl||this.type!=="Range"||(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&(this.firstTooltipObj.refresh(this.firstHandle),this.type==="Range"&&this.secondTooltipObj.refresh(this.secondHandle)),this.showButtons){var n=this.enableRtl&&this.orientation!=="Vertical";v(n?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"});v(n?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},s.prototype.changeOrientation=function(){this.changeSliderType(this.type)},s.prototype.updateConfig=function(){this.setEnableRTL();this.setValue();this.tooltip.isVisible&&this.refreshTooltip();this.ticks.placement!=="None"&&this.ul&&(this.removeElement(this.ul),this.renderScale());this.limitsPropertyChange()},s.prototype.limitsPropertyChange=function(){this.limits.enabled?(t(this.limitBarFirst)&&this.type!=="Range"&&this.createLimitBar(),t(this.limitBarFirst)&&t(this.limitBarSecond)&&this.type==="Range"&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(t(this.limitBarFirst)||a(this.limitBarFirst),t(this.limitBarSecond)||a(this.limitBarSecond))},s.prototype.getPersistData=function(){return this.addOnPersist(["value"])},s.prototype.destroy=function(){n.prototype.destroy.call(this);this.unwireEvents();window.removeEventListener("resize",this.onresize);h([this.sliderContainer],[e.sliderDisabled]);this.firstHandle.removeAttribute("aria-orientation");this.type==="Range"&&this.secondHandle.removeAttribute("aria-orientation");this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer);a(this.sliderContainer);this.tooltip.isVisible&&(this.firstTooltipObj.destroy(),this.type!=="Range"||t(this.secondTooltipObj)||this.secondTooltipObj.destroy());this.element.innerHTML=""},s.prototype.onPropertyChanged=function(n,i){for(var o,r,s=this,u=0,f=Object.keys(n);u<f.length;u++){o=f[u];switch(o){case"cssClass":this.setCSSClass(i.cssClass);break;case"value":r=t(n.value)?this.type==="Range"?[this.min,this.max]:this.min:n.value;this.setProperties({value:r},!0);i.value.toString()!==r.toString()&&(this.setValue(),this.refreshTooltip(),this.type==="Range"&&(this.activeHandle=t(n.value)||i.value[1]===r[1]?1:2));break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":t(n.tooltip)||t(i.tooltip)||this.setTooltip();break;case"type":this.changeSliderType(i.type);this.setZindex();break;case"enableRtl":i.enableRtl!==n.enableRtl&&this.orientation!=="Vertical"&&(this.rtl=i.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":t(this.sliderContainer.querySelector("."+e.scale))||(a(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(n){n.match(/e-scale-/)&&s.sliderContainer.classList.remove(n)}));this.ticks.placement!=="None"&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":n.showButtons?(this.setButtons(),this.onResize(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.firstBtn=undefined,this.secondBtn=undefined);break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValue":this.setValue();this.onResize()}}},s.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add(e.readonly)):(this.wireEvents(),this.sliderContainer.classList.remove(e.readonly))},s.prototype.setMinMaxValue=function(){var n=this;this.setValue();this.refreshTooltip();t(this.sliderContainer.querySelector("."+e.scale))||this.ul&&(a(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(t){t.match(/e-scale-/)&&n.sliderContainer.classList.remove(t)}));this.ticks.placement!=="None"&&(this.renderScale(),this.setZindex())},s.prototype.setZindex=function(){this.zIndex=6;t(this.ticks)||this.ticks.placement==="None"||(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+"");this.isMaterial||t(this.ticks)||this.ticks.placement!=="Both"||(this.element.style.zIndex=this.zIndex+2+"");this.firstHandle.style.zIndex=this.zIndex+3+"";this.type==="Range"&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},s.prototype.setTooltip=function(){this.changeSliderType(this.type)},s.prototype.getModuleName=function(){return"slider"},et([i(null)],s.prototype,"value",void 0),et([i(null)],s.prototype,"customValues",void 0),et([i(1)],s.prototype,"step",void 0),et([i(0)],s.prototype,"min",void 0),et([i(100)],s.prototype,"max",void 0),et([i(!1)],s.prototype,"readonly",void 0),et([i("Default")],s.prototype,"type",void 0),et([nt({},ukt)],s.prototype,"ticks",void 0),et([nt({},fkt)],s.prototype,"limits",void 0),et([i(!0)],s.prototype,"enabled",void 0),et([i(!1)],s.prototype,"enableRtl",void 0),et([nt({},ekt)],s.prototype,"tooltip",void 0),et([i(!1)],s.prototype,"showButtons",void 0),et([i(!0)],s.prototype,"enableAnimation",void 0),et([i("Horizontal")],s.prototype,"orientation",void 0),et([i("")],s.prototype,"cssClass",void 0),et([f()],s.prototype,"created",void 0),et([f()],s.prototype,"change",void 0),et([f()],s.prototype,"changed",void 0),et([f()],s.prototype,"renderingTicks",void 0),et([f()],s.prototype,"renderedTicks",void 0),et([f()],s.prototype,"tooltipChange",void 0),et([vt],s)}(vi),okt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),br=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},skt=new RegExp("^[A-Za-z0-9._%+-]{3,}@[a-zA-Z0-9]{3,}([.]{1}[a-zA-Z]{2,5}|[.]{1}[a-zA-Z]{2,4}[.]{1}[a-zA-Z]{2,4})$"),hkt=new RegExp("^((ftp|http|https)://)?www.([A-z]{2,}).([A-z]{2,})$"),ckt=new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),lkt=new RegExp("^[0-9]*$"),akt=new RegExp("^[+]?[0-9]{9,13}$"),vkt=new RegExp("^\\d{13,16}$"),pa;(function(n){n[n.Message=0]="Message";n[n.Label=1]="Label"})(pa||(pa={}));var tri=function(n){function u(t,i){var r=n.call(this,i,t)||this;if(r.validated=[],r.errorRules=[],r.allowSubmit=!1,r.required="required",r.infoElement=null,r.inputElement=null,r.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",r.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},typeof r.rules=="undefined"&&(r.rules={}),t=typeof t=="string"?tt(t,document):t,r.element!=null)r.element.setAttribute("novalidate",""),r.inputElements=hu(r.selectQuery,r.element),r.createHTML5Rules(),r.wireEvents();else return undefined;return r}return okt(u,n),e=u,u.prototype.addRules=function(n,t){n&&(this.rules.hasOwnProperty(n)?b(this.rules[n],t,{}):this.rules[n]=t)},u.prototype.removeRules=function(n,i){if(n||i)if(this.rules[n]&&!i)delete this.rules[n];else{if(t(this.rules[n]&&i))return;for(var r=0;r<i.length;r++)delete this.rules[n][i[r]]}else this.rules={}},u.prototype.validate=function(n){var i=Object.keys(this.rules),t,r,u;if(n&&i.length)return this.validateRules(n),i.indexOf(n)!==-1&&this.errorRules.filter(function(t){return t.name===n}).length===0;for(t=0,r=i;t<r.length;t++)u=r[t],this.validateRules(u);return this.errorRules.length===0},u.prototype.reset=function(){this.element.reset();this.clearForm()},u.prototype.getInputElement=function(n){return this.inputElement=tt("[name="+n+"]",this.element),this.inputElement},u.prototype.destroy=function(){var r,t,i,u;for(this.reset(),this.unwireEvents(),this.rules={},r=hu("."+this.errorClass+", ."+this.validClass,this.element),t=0,i=r;t<i.length;t++)u=i[t],u.remove();n.prototype.destroy.call(this)},u.prototype.onPropertyChanged=function(){},u.prototype.getModuleName=function(){return"formValidator"},u.prototype.clearForm=function(){var r,t,i,u,n;for(this.errorRules=[],this.validated=[],r=hu(this.selectQuery,this.element),t=0,i=r;t<i.length;t++)u=i[t],n=u,n.removeAttribute("aria-invalid"),n.classList.remove(this.errorClass),n.name.length>0&&(this.getInputElement(n.name),this.getErrorElement(n.name),this.hideMessage(n.name)),n.classList.remove(this.validClass)},u.prototype.createHTML5Rules=function(){for(var n,i,r,f,t,o,s=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],h=["hidden","email","url","date","number","tel"],u=0,e=this.inputElements;u<e.length;u++){for(n=e[u],i={},r=0,f=s;r<f.length;r++)if(t=f[r],n.getAttribute(t)!==null)switch(t){case"required":this.defRule(n,i,t,n.required);break;case"data-validation":t=n.getAttribute(t);this.defRule(n,i,t,!0);break;case"type":h.indexOf(n.type)!==-1&&this.defRule(n,i,n.type,!0);break;case"rangeLength":case"range":this.defRule(n,i,t,JSON.parse(n.getAttribute(t)));break;case"equalTo":o=n.getAttribute(t);this.defRule(n,i,t,o);break;default:n.getAttribute("data-val")==="true"?this.annotationRule(n,i,t,n.getAttribute(t)):this.defRule(n,i,t,n.getAttribute(t))}Object.keys(i).length!==0&&this.addRules(n.name,i)}},u.prototype.annotationRule=function(n,t,i,r){var u=i.split("-"),e=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],o=u[u.length-1],s=u[u.length-2],h,c,f;if(e.indexOf(o)!==-1)switch(o){case"required":this.defRule(n,t,"required",r);break;case"creditcard":this.defRule(n,t,"creditcard",r);break;case"phone":this.defRule(n,t,"tel",r)}else if(e.indexOf(s)!==-1)switch(s){case"maxlength":this.defRule(n,t,"maxLength",r);break;case"minlength":this.defRule(n,t,"minLength",r);break;case"range":h=n.getAttribute("data-val-range-min");c=n.getAttribute("data-val-range-max");this.defRule(n,t,"range",[h,c]);break;case"equalto":f=n.getAttribute(i).split(".");this.defRule(n,t,"equalTo",f[f.length-1]);break;case"regex":this.defRule(n,t,"regex",r)}},u.prototype.defRule=function(n,t,i,r){var u=n.getAttribute("data-"+i+"-message"),f=n.getAttribute("data-val-"+i);u?r=[r,u]:f&&(r=[r,f]);t[i]=r},u.prototype.wireEvents=function(){for(var n,t=0,i=this.inputElements;t<i.length;t++)n=i[t],e.isCheckable(n)?r.add(n,"click",this.clickHandler,this):n.tagName==="SELECT"?r.add(n,"change",this.changeHandler,this):(r.add(n,"focusout",this.focusOutHandler,this),r.add(n,"keyup",this.keyUpHandler,this));r.add(this.element,"submit",this.submitHandler,this);r.add(this.element,"reset",this.resetHandler,this)},u.prototype.unwireEvents=function(){for(var i,n=0,t=this.inputElements;n<t.length;n++)i=t[n],r.clearEvents(i);r.remove(this.element,"submit",this.submitHandler);r.remove(this.element,"reset",this.resetHandler)},u.prototype.focusOutHandler=function(n){this.trigger("focusout",n);var t=n.target;this.rules[t.name]&&(this.rules[t.name][this.required]||t.value.length>0?this.validate(t.name):this.validated.indexOf(t.name)===-1&&this.validated.push(t.name))},u.prototype.keyUpHandler=function(n){this.trigger("keyup",n);var t=n.target;(n.which!==9||this.rules[t.name]&&(!this.rules[t.name]||this.rules[t.name][this.required]))&&this.validated.indexOf(t.name)!==-1&&this.rules[t.name]&&[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(n.which)===-1&&this.validate(t.name)},u.prototype.clickHandler=function(n){this.trigger("click",n);var t=n.target;t.type!=="submit"?this.validate(t.name):t.getAttribute("formnovalidate")!==null&&(this.allowSubmit=!0)},u.prototype.changeHandler=function(n){this.trigger("change",n);var t=n.target;this.validate(t.name)},u.prototype.submitHandler=function(n){this.trigger("submit",n);this.allowSubmit||this.validate()?this.allowSubmit=!1:n.preventDefault()},u.prototype.resetHandler=function(){this.clearForm()},u.prototype.validateRules=function(n){var r,s;if(this.rules[n]){var i=Object.keys(this.rules[n]),f=!1,c=!1,e=i.indexOf("validateHidden"),o=i.indexOf("hidden");if(this.getInputElement(n),o!==-1&&(f=!0),e!==-1&&(c=!0),!f||f&&c)for(e!==-1&&i.splice(e,1),o!==-1&&i.splice(o-1,1),this.getErrorElement(n),r=0,s=i;r<s.length;r++){var u=s[r],l=this.getErrorMessage(this.rules[n][u],u),h={name:n,message:l},t={inputName:n,element:this.inputElement,message:l};if(this.isValid(n,u)||this.inputElement.classList.contains(this.ignore))this.hideMessage(n),t.status="success",this.trigger("validationComplete",t);else{this.removeErrorRules(n);this.errorRules.push(h);this.inputElement.setAttribute("aria-invalid","true");this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info");this.inputElement.classList.add(this.errorClass);this.inputElement.classList.remove(this.validClass);this.infoElement?this.showMessage(h):this.createErrorElement(n,h.message,this.inputElement);t.errorElement=this.infoElement;t.status="failure";this.inputElement.classList.add(this.errorClass);this.inputElement.classList.remove(this.validClass);this.optionalValidationStatus(n,t);this.trigger("validationComplete",t);u==="required"&&this.inputElement.setAttribute("aria-required","true");break}}else return}},u.prototype.optionalValidationStatus=function(n,t){this.rules[n][this.required]||this.inputElement.value.length||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),t.status="",this.hideMessage(n))},u.prototype.isValid=function(n,t){var i=this.rules[n][t],o=i instanceof Array&&typeof i[1]=="string"?i[0]:i,r=this.rules[n][t],u={value:this.inputElement.value,param:o,element:this.inputElement,formElement:this.element},f;return this.trigger("validationBegin",u),r&&typeof r[0]=="function"?(f=r[0],f.call(this,{element:this.inputElement,value:this.inputElement.value})):e.isCheckable(this.inputElement)?t!=="required"?!0:hu("input[name="+n+"]:checked",this.element).length>0:e.checkValidator[t](u)},u.prototype.getErrorMessage=function(n,i){var u=n instanceof Array&&typeof n[1]=="string"?n[1]:this.defaultMessages[i],f=u.match(/{(\d)}/g),r,e;if(!t(f))for(r=0;r<f.length;r++)e=n instanceof Array?n[r]:n,u=u.replace(f[r],e);return u},u.prototype.createErrorElement=function(n,t,i){var r=ct(this.errorElement,{className:this.errorClass,innerHTML:t,attrs:{"for":n}}),u,f;this.errorOption===pa.Message&&(r.classList.remove(this.errorClass),r.classList.add("e-message"),r=ct(this.errorContainer,{className:this.errorClass,innerHTML:r.outerHTML}));r.id=this.inputElement.name+"-info";this.element.querySelector('[data-valmsg-for="'+i.id+'"]')?this.element.querySelector('[data-valmsg-for="'+i.id+'"]').appendChild(r):i.hasAttribute("data-msg-containerid")===!0?(u=i.getAttribute("data-msg-containerid"),f=this.element.querySelector("#"+u),f.appendChild(r)):this.customPlacement!=null?this.customPlacement.call(this,this.inputElement,r):this.inputElement.parentNode.insertBefore(r,this.inputElement.nextSibling);r.style.display="block";this.getErrorElement(n);this.validated.push(n);this.checkRequired(n)},u.prototype.getErrorElement=function(n){return this.infoElement=tt(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=tt(this.errorElement+"."+this.errorClass+'[for="'+n+'"]')),this.infoElement},u.prototype.removeErrorRules=function(n){for(var i,t=0;t<this.errorRules.length;t++)i=this.errorRules[t],i.name===n&&this.errorRules.splice(t,1)},u.prototype.showMessage=function(n){this.infoElement.style.display="block";this.infoElement.innerHTML=n.message;this.checkRequired(n.name)},u.prototype.hideMessage=function(n){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(n),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))},u.prototype.checkRequired=function(n){this.rules[n][this.required]||this.inputElement.value.length||(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(n))},u.isCheckable=function(n){var t=n.getAttribute("type");return t&&(t==="checkbox"||t==="radio"||t==="submit")},u.checkValidator={required:function(n){return n.value.length>0},email:function(n){return skt.test(n.value)},url:function(n){return hkt.test(n.value)},dateIso:function(n){return ckt.test(n.value)},tel:function(n){return akt.test(n.value)},creditcard:function(n){return vkt.test(n.value)},number:function(n){return!isNaN(Number(n.value))&&n.value.indexOf(" ")===-1},digits:function(n){return lkt.test(n.value)},maxLength:function(n){return n.value.length<=n.param},minLength:function(n){return n.value.length>=n.param},rangeLength:function(n){var t=n.param;return n.value.length>=t[0]&&n.value.length<=t[1]},range:function(n){var t=n.param;return!isNaN(Number(n.value))&&Number(n.value)>=t[0]&&Number(n.value)<=t[1]},date:function(n){return!isNaN(new Date(n.value).getTime())},max:function(n){return isNaN(Number(n.value))?new Date(n.value).getTime()<=new Date(JSON.parse(JSON.stringify(n.param))).getTime():+n.value<=n.param},min:function(n){return isNaN(Number(n.value))?new Date(n.value).getTime()>=new Date(JSON.parse(JSON.stringify(n.param))).getTime():+n.value>=n.param},regex:function(n){return new RegExp(n.param).test(n.value)},equalTo:function(n){var t=n.formElement.querySelector("#"+n.param);return n.param=t.value,n.param===n.value}},br([i("e-hidden")],u.prototype,"ignore",void 0),br([i()],u.prototype,"rules",void 0),br([i("e-error")],u.prototype,"errorClass",void 0),br([i("e-valid")],u.prototype,"validClass",void 0),br([i("label")],u.prototype,"errorElement",void 0),br([i("div")],u.prototype,"errorContainer",void 0),br([i(pa.Label)],u.prototype,"errorOption",void 0),br([f()],u.prototype,"focusout",void 0),br([f()],u.prototype,"keyup",void 0),br([f()],u.prototype,"click",void 0),br([f()],u.prototype,"change",void 0),br([f()],u.prototype,"submit",void 0),br([f()],u.prototype,"validationBegin",void 0),br([f()],u.prototype,"validationComplete",void 0),br([f()],u.prototype,"customPlacement",void 0),e=br([vt],u);var e}(fe),wa=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ot=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ykt="e-uploader",pkt="e-upload",wkt="e-file-select",vrt="e-file-drop",bkt="e-file-select-wrap",yrt="e-upload-files",prt="e-upload-file-list",fr="e-file-status",kkt="e-upload-actions",dkt="e-file-upload-btn e-css e-btn e-flat e-primary",gkt="e-file-clear-btn e-css e-btn e-flat",ndt="e-file-name",tdt="e-file-type",idt="e-file-size",iu="e-file-remove-btn",sf="e-file-delete-btn",li="e-file-abort-btn",wf="e-file-reload-btn",rb="e-upload-drag-hover",ns="e-upload-progress-wrap",ba="e-upload-progress-bar",ub="e-progress-bar-text",nf="e-upload-progress",hf="e-upload-success",tf="e-upload-fails",wrt="e-file-container",brt="e-validation-fails",krt="e-rtl",fb="e-disabled",rdt="e-rtl-container",uo="e-clear-icon-focus",udt="e-progress-inner-wrap",ru="e-file-pause-btn",ts="e-file-play-btn",fdt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return wa(t,n),ot([i("")],t.prototype,"name",void 0),ot([i(null)],t.prototype,"size",void 0),ot([i("")],t.prototype,"type",void 0),t}(it),edt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return wa(t,n),ot([i("Browse...")],t.prototype,"browse",void 0),ot([i("Upload")],t.prototype,"upload",void 0),ot([i("Clear")],t.prototype,"clear",void 0),t}(it),odt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return wa(t,n),ot([i("")],t.prototype,"saveUrl",void 0),ot([i("")],t.prototype,"removeUrl",void 0),ot([i(0)],t.prototype,"chunkSize",void 0),ot([i(3)],t.prototype,"retryCount",void 0),ot([i(500)],t.prototype,"retryAfterDelay",void 0),t}(it),iri=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.initialAttr={accept:null,multiple:!1,disabled:!1},r.fileList=[],r.filesData=[],r.uploadedFilesData=[],r.isForm=!1,r.allTypes=!1,r.pausedData=[],r.uploadMetaData=[],r.tabIndex="0",r}return wa(e,n),e.prototype.onPropertyChanged=function(n){for(var u,i=0,r=Object.keys(n);i<r.length;i++){u=r[i];switch(u){case"allowedExtensions":this.setExtensions(this.allowedExtensions);this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL();this.reRenderFileList();break;case"buttons":this.buttons.browse=t(this.buttons.browse)?"":this.buttons.browse;this.buttons.clear=t(this.buttons.clear)?"":this.buttons.clear;this.buttons.upload=t(this.buttons.upload)?"":this.buttons.upload;this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents();this.setDropArea();break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"minFileSize":case"maxFileSize":case"template":case"autoUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale);this.setLocalizedTexts();this.preLocaleObj=p("currentLocale",this.l10n)}}},e.prototype.setLocalizedTexts=function(){t(this.template)&&(typeof this.buttons.browse=="string"&&(this.browseButton.innerText=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper.querySelector("."+vrt).innerHTML=this.localizedTexts("dropFilesHint")),this.updateFileList())},e.prototype.getKeyValue=function(n){for(var i,r,t=0,u=Object.keys(this.preLocaleObj);t<u.length;t++)i=u[t],this.preLocaleObj[i]===n&&(r=i);return r},e.prototype.updateFileList=function(){var i,n;if(this.fileList.length>0&&!t(this.uploadWrapper.querySelector("."+yrt)))for(n=0;n<this.fileList.length;n++)i=this.fileList[n].querySelector(".e-file-status"),i.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[n].status)),this.filesData[n].status=this.localizedTexts(this.getKeyValue(this.filesData[n].status)),this.fileList[n].classList.contains(hf)&&this.fileList[n].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[n].querySelector(".e-file-play-btn")&&this.fileList[n].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[n].querySelector(".e-file-remove-btn")&&this.fileList[n].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[n].querySelector(".e-file-reload-btn")&&this.fileList[n].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText=this.buttons.upload==="Upload"?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText=this.buttons.clear==="Clear"?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))},e.prototype.reRenderFileList=function(){this.listParent&&(a(this.listParent),this.listParent=null,this.fileList=[],this.createFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))},e.prototype.preRender=function(){var n,i,r,u;if(this.cloneElement=this.element.cloneNode(!0),this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel","delete":"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled"},this.l10n=new du("uploader",this.localeText,this.locale),this.preLocaleObj=p("currentLocale",this.l10n),this.checkHTMLAttributes(),this.asyncSettings.saveUrl===""&&this.asyncSettings.removeUrl===""&&!this.autoUpload)for(n=this.element.parentElement;n&&n!==document.documentElement;n=n.parentElement)n.tagName==="FORM"&&(this.isForm=!0,this.formElement=n,n.setAttribute("enctype","multipart/form-data"),n.setAttribute("encoding","multipart/form-data"));if(i=p("ej2_instances",this.element),this.element.tagName==="EJS-UPLOADER"){for(r=this.createElement("input",{attrs:{type:"file"}}),u=0,u;u<this.element.attributes.length;u++)r.setAttribute(this.element.attributes[u].nodeName,this.element.attributes[u].nodeValue),r.innerHTML=this.element.innerHTML;r.hasAttribute("name")||r.setAttribute("name","UploadFiles");this.element.appendChild(r);this.element=r;ii("ej2_instances",i,this.element)}i[0].isPureReactComponent&&(t(i[0].props.name)?!t(i[0].props.id)&&t(i[0].props.name)?this.element.setAttribute("name",i[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",i[0].props.name));t(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id"));this.element.hasAttribute("type")||this.element.setAttribute("type","file");this.updateDirectoryAttributes();this.keyConfigs={previous:"shift+tab",enter:"enter",next:"tab"};this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex"))},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.getModuleName=function(){return"uploader"},e.prototype.updateDirectoryAttributes=function(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))},e.prototype.render=function(){this.renderBrowseButton();this.initializeUpload();this.wireEvents();this.setMultipleSelection();this.setExtensions(this.allowedExtensions);this.setRTL();this.renderPreLoadFiles();this.setControlStatus()},e.prototype.renderBrowseButton=function(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}});this.browseButton.setAttribute("tabindex",this.tabIndex);typeof this.buttons.browse=="string"?(this.browseButton.innerText=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse);this.element.setAttribute("aria-label","Uploader")},e.prototype.renderActionButtons=function(){this.element.setAttribute("tabindex","-1");this.actionButtons=this.createElement("div",{className:kkt});this.uploadButton=this.createElement("button",{className:dkt,attrs:{type:"button",tabindex:"-1"}});this.clearButton=this.createElement("button",{className:gkt,attrs:{type:"button",tabindex:"-1"}});this.actionButtons.appendChild(this.clearButton);this.actionButtons.appendChild(this.uploadButton);this.renderButtonTemplates();this.uploadWrapper.appendChild(this.actionButtons);this.browseButton.blur();this.uploadButton.focus();this.wireActionButtonEvents()},e.prototype.wireActionButtonEvents=function(){r.add(this.uploadButton,"click",this.uploadButtonClick,this);r.add(this.clearButton,"click",this.clearButtonClick,this)},e.prototype.unwireActionButtonEvents=function(){r.remove(this.uploadButton,"click",this.uploadButtonClick);r.remove(this.clearButton,"click",this.clearButtonClick)},e.prototype.removeActionButtons=function(){this.actionButtons&&(this.unwireActionButtonEvents(),a(this.actionButtons),this.actionButtons=null)},e.prototype.renderButtonTemplates=function(){var n,i;typeof this.buttons.browse=="string"?(this.browseButton.innerText=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse));this.uploadButton&&(n=void 0,n=t(this.buttons.upload)?"Upload":this.buttons.upload,this.buttons.upload=n,typeof this.buttons.upload=="string"?(this.uploadButton.innerText=this.buttons.upload==="Upload"?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.innerText)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload)));this.clearButton&&(i=void 0,i=t(this.buttons.clear)?"Clear":this.buttons.clear,this.buttons.clear=i,typeof this.buttons.clear=="string"?(this.clearButton.innerText=this.buttons.clear==="Clear"?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.innerText)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear)))},e.prototype.initializeUpload=function(){var n,t;this.element.setAttribute("tabindex","-1");n=this.createElement("span",{className:wkt});this.element.parentElement.insertBefore(n,this.element);this.dropAreaWrapper=this.createElement("div",{className:bkt});this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element);n.appendChild(this.element);this.dropAreaWrapper.appendChild(this.browseButton);this.dropAreaWrapper.appendChild(n);t=this.createElement("span",{className:vrt});t.innerHTML=this.localizedTexts("dropFilesHint");this.dropAreaWrapper.appendChild(t);this.uploadWrapper=this.createElement("div",{className:pkt,attrs:{"aria-activedescendant":"li-focused"}});this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper);this.uploadWrapper.appendChild(this.dropAreaWrapper);this.setDropArea()},e.prototype.renderPreLoadFiles=function(){var i,u,r,f,n,e;if(!t(this.files[0].size)&&t(this.template)){for(i=[].slice.call(this.files),u=[],this.multiple||(this.clearData(),i=[i[0]]),r=0,f=i;r<f.length;r++)n=f[r],e={name:n.name+"."+n.type.split(".")[n.type.split(".").length-1],rawFile:"",size:n.size,status:this.localizedTexts("uploadSuccessMessage"),type:n.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"},u.push(e),this.filesData.push(e);this.createFileList(u);this.autoUpload||!this.listParent||this.actionButtons||this.isForm||!this.showFileList||this.renderActionButtons();this.checkActionButtonStatus()}},e.prototype.checkActionButtonStatus=function(){if(this.actionButtons){var n=this.uploadWrapper.querySelectorAll("."+brt).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+hf).length+this.uploadWrapper.querySelectorAll("span."+nf).length;n>0&&n===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}},e.prototype.setDropArea=function(){var t=this.dropAreaWrapper.querySelector(".e-file-drop"),n,i;if(this.dropArea){for(this.dropZoneElement=typeof this.dropArea!="string"?this.dropArea:document.querySelector(this.dropArea),n=this.element,i=!1;n.parentNode;)n=n.parentNode,n===this.dropZoneElement&&(i=!0,t.textContent=this.localizedTexts("dropFilesHint"));i||(t.textContent="")}else this.dropZoneElement=this.uploadWrapper,t.textContent=this.localizedTexts("dropFilesHint");this.bindDropEvents()},e.prototype.setMultipleSelection=function(){if(this.multiple&&!this.element.hasAttribute("multiple")){var n=document.createAttribute("multiple");this.element.setAttributeNode(n)}else this.multiple||this.element.removeAttribute("multiple")},e.prototype.checkAutoUpload=function(n){this.autoUpload?(this.upload(n),this.removeActionButtons()):this.actionButtons||this.renderActionButtons();this.checkActionButtonStatus()},e.prototype.wireEvents=function(){r.add(this.browseButton,"click",this.browseButtonClick,this);r.add(this.element,"change",this.onSelectFiles,this);r.add(document,"click",this.removeFocus,this);this.keyboardModule=new ci(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"});this.isForm&&r.add(this.formElement,"reset",this.resetForm,this)},e.prototype.unWireEvents=function(){r.remove(this.browseButton,"click",this.browseButtonClick);r.remove(this.element,"change",this.onSelectFiles);r.remove(document,"click",this.removeFocus);this.keyboardModule.destroy()},e.prototype.resetForm=function(){this.clearAll()},e.prototype.keyActionHandler=function(n){var r=n.target,i;switch(n.action){case"next":n.target===this.browseButton&&t(this.listParent)?this.browseButton.blur():n.target===this.uploadButton?this.uploadButton.blur():(this.setTabFocus(n),n.preventDefault(),n.stopPropagation(),n.target===this.clearButton&&this.uploadButton.hasAttribute("disabled")&&this.clearButton.blur());break;case"previous":n.target===this.browseButton?this.browseButton.blur():(this.setReverseFocus(n),n.preventDefault(),n.stopPropagation());break;case"enter":n.target===this.clearButton?this.clearButtonClick():n.target===this.uploadButton?this.uploadButtonClick():n.target===this.browseButton?this.browseButtonClick():r.classList.contains(ru)?(i=this.getCurrentMetaData(null,n),i.file.statusCode="4",i.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(i,!1)):r.classList.contains(ts)?this.resumeUpload(this.getCurrentMetaData(null,n),n):r.classList.contains(wf)?(i=this.getCurrentMetaData(null,n),i.file.statusCode="1",i.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(i.file)):(this.removeFiles(n),r.classList.contains(li)||this.browseButton.focus());n.preventDefault();n.stopPropagation()}},e.prototype.getCurrentMetaData=function(n){var r,u,f,i;for(t(n)?(f=this.uploadWrapper.querySelector("."+uo).parentElement,r=this.filesData[this.fileList.indexOf(f)]):r=n,i=0;i<this.uploadMetaData.length;i++)this.uploadMetaData[i].file.name===r.name&&(u=this.uploadMetaData[i]);return u},e.prototype.setReverseFocus=function(n){var u=n.target,t,i,r;u===this.uploadButton?(this.uploadButton.blur(),this.clearButton.focus()):u===this.clearButton&&this.listParent&&this.listParent.querySelector(".e-icons")?(this.clearButton.blur(),t=[].slice.call(this.listParent.querySelectorAll("span.e-icons")),t[t.length-1].classList.add(uo),t[t.length-1].focus()):(i=[].slice.call(this.listParent.querySelectorAll("span.e-icons")),r=i.indexOf(u),r>0?(this.removeFocus(),i[r-1].classList.add(uo),i[r-1].focus()):(this.removeFocus(),this.browseButton.focus()))},e.prototype.setTabFocus=function(n){var r=n.target,t,i,u;if(r===this.clearButton){if(this.removeFocus(),this.uploadButton.hasAttribute("disabled"))return;this.uploadButton.focus()}else r.classList.contains("e-icons")?(t=[].slice.call(this.listParent.querySelectorAll("span.e-icons")),i=t.indexOf(r),i<t.length-1?(this.removeFocus(),t[i+1].classList.add(uo),t[i+1].focus()):(this.removeFocus(),this.clearButton.focus())):(this.browseButton.blur(),u=this.listParent.querySelectorAll("span.e-icons")[0],u.focus(),u.classList.add(uo))},e.prototype.removeFocus=function(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+uo)&&(document.activeElement.blur(),this.listParent.querySelector("."+uo).classList.remove(uo))},e.prototype.browseButtonClick=function(){this.element.click()},e.prototype.uploadButtonClick=function(){this.upload(this.filesData)},e.prototype.clearButtonClick=function(){this.clearAll()},e.prototype.bindDropEvents=function(){this.dropZoneElement&&(r.add(this.dropZoneElement,"drop",this.dropElement,this),r.add(this.dropZoneElement,"dragover",this.dragHover,this),r.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),r.add(this.dropZoneElement,"paste",this.onPasteFile,this))},e.prototype.unBindDropEvents=function(){this.dropZoneElement&&(r.remove(this.dropZoneElement,"drop",this.dropElement),r.remove(this.dropZoneElement,"dragover",this.dragHover),r.remove(this.dropZoneElement,"dragleave",this.onDragLeave))},e.prototype.onDragLeave=function(){this.dropZoneElement.classList.remove(rb)},e.prototype.dragHover=function(n){this.enabled&&(this.dropZoneElement.classList.add(rb),n.preventDefault(),n.stopPropagation())},e.prototype.dropElement=function(n){this.dropZoneElement.classList.remove(rb);this.onSelectFiles(n);n.preventDefault();n.stopPropagation()},e.prototype.onPasteFile=function(n){var i=n.clipboardData.items,t;i.length===1&&(t=[].slice.call(i)[0],t.kind==="file"&&t.type.match("^image/")&&this.renderSelectedFiles(n,[t.getAsFile()],!1,!0))},e.prototype.removeFiles=function(n){var i;if(this.enabled){var e=n.target.parentElement,r=this.fileList.indexOf(e),u=this.fileList[r],f=this.filesData[r];n.target.classList.contains(li)?(f.statusCode="5",t(u)||(i=u.querySelector("."+li),sa({target:i,width:"20px"}),ca(i))):this.remove(f,!1,!1,n);this.element.value="";this.checkActionButtonStatus()}},e.prototype.removeFilesData=function(n,i){var r,u;if(i){this.showFileList||(r=this.filesData.indexOf(n),this.filesData.splice(r,1));return}(u=this.getLiElement(n),t(u))||(a(u),r=this.fileList.indexOf(u),this.fileList.splice(r,1),this.filesData.splice(r,1),this.fileList.length!==0||t(this.listParent)||(a(this.listParent),this.listParent=null,this.removeActionButtons()))},e.prototype.removeUploadedFile=function(n,i,r,u){var s=this,f=n,c=this.element.getAttribute("name"),o=new ue(this.asyncSettings.removeUrl,"POST",!0,null),h=new FormData,e=this.getLiElement(n);o.beforeSend=function(n){if(i.currentRequest=o.httpRequest,r||s.trigger("removing",i),i.cancel){n.cancel=!0;return}if(!t(e)&&(!t(e.querySelector("."+sf))||!t(e.querySelector("."+iu)))){var u=void 0;u=e.querySelector("."+sf)?e.querySelector("."+sf):e.querySelector("."+iu);sa({target:u,width:"20px"});ca(u)}i.postRawFile&&!t(f.rawFile)&&f.rawFile!==""?h.append(c,f.rawFile):h.append(c,f.name);s.updateFormData(h,i.customFormData)};o.onLoad=function(n){return s.removeCompleted(n,f,u),{}};o.onError=function(n){return s.removeFailed(n,f,u),{}};o.send(h)},e.prototype.updateFormData=function(n,t){var r,i;if(t.length>0&&t[0])for(r=function(i){var r=t[i],u=Object.keys(r).map(function(n){return r[n]});n.append(Object.keys(r)[0],u)},i=0;i<t.length;i++)r(i)},e.prototype.removeCompleted=function(n,t,i){var u={e:n,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedSuccessMessage"),"2")},r;this.trigger("success",u);this.removeFilesData(t,i);r=this.uploadedFilesData.indexOf(t);this.uploadedFilesData.splice(r,1);this.trigger("change",{files:this.uploadedFilesData})},e.prototype.removeFailed=function(n,i,r){var h={e:n,operation:"remove",file:this.updateStatus(i,this.localizedTexts("removedFailedMessage"),"0")},o,u,e,f,s;r||(o=this.filesData.indexOf(i),u=this.fileList[o],u&&(e=u.querySelector("."+fr),u.classList.remove(hf),e.classList.remove(hf),u.classList.add(tf),e.classList.add(tf)),this.checkActionButtonStatus());this.trigger("failure",h);f=this.getLiElement(i);t(f)||t(f.querySelector("."+sf))||(s=f.querySelector("."+sf),fh(s),a(f.querySelector(".e-spinner-pane")))},e.prototype.getFilesFromFolder=function(n){var t,u,f,r,i;if(this.filesEntries=[],t=this.multiple?n.dataTransfer.items:[n.dataTransfer.items[0]],u=this.checkDirectoryUpload(t),u)for(f=function(i){var u=t[i].webkitGetAsEntry(),f;u.isFile?(f=[],u.file(function(n){var t=u.fullPath;f.push({path:t,file:n})}),r.renderSelectedFiles(n,f,!0)):u.isDirectory&&r.traverseFileTree(u,n)},r=this,i=0;i<t.length;i++)f(i)},e.prototype.checkDirectoryUpload=function(n){for(var i,t=0;t<n.length;t++)if(i=n[t].webkitGetAsEntry(),i.isDirectory)return!0;return!1},e.prototype.traverseFileTree=function(n,t){var i=this,r,f;if(typeof n=="boolean"){var u=[],e=function(n){o.filesEntries[n].file(function(t){var r=i.filesEntries[n].fullPath;u.push({path:r,file:t})})},o=this;for(r=0;r<this.filesEntries.length;r++)e(r);this.renderSelectedFiles(t,u,!0)}else n.isFile?this.filesEntries.push(n):n.isDirectory&&(f=n.createReader(),f.readEntries(function(n){for(var t=0;t<n.length;t++)i.traverseFileTree(n[t]);i.traverseFileTree(!0);i.filesEntries=[]}))},e.prototype.onSelectFiles=function(n){var t,i;this.enabled&&(n.type==="drop"?this.directoryUpload?this.getFilesFromFolder(n):(i=n.dataTransfer.files,t=this.multiple?this.sortFileList(i):[i[0]],this.renderSelectedFiles(n,t)):(t=[].slice.call(n.target.files),this.renderSelectedFiles(n,t)))},e.prototype.renderSelectedFiles=function(n,i,r,u){var e,s,f,c;if(!(i.length<1)){for(e=[],this.multiple||(this.clearData(!0),i=[i[0]]),s=0;s<i.length;s++){var h=r?i[s].file:i[s],l=r?i[s].path.substring(1,i[s].path.length):u?wr(h.name.substring(0,h.name.lastIndexOf(".")))+"."+this.getFileType(h.name):this.directoryUpload?i[s].webkitRelativePath:h.name,o={name:l,rawFile:h,size:h.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(h.name),validationMessages:this.validatedFileSize(h.size),statusCode:"1"};u&&(o.fileSource="paste");o.status=o.validationMessages.minSize!==""?this.localizedTexts("invalidMinFileSize"):o.validationMessages.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):o.status;(o.validationMessages.minSize!==""||o.validationMessages.maxSize!=="")&&(o.statusCode="0");e.push(o)}(f={event:n,cancel:!1,filesData:e,isModified:!1,modifiedFilesData:[],progressInterval:""},this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.allTypes||(e=this.checkExtension(e)),this.trigger("selected",f),f.cancel)||(this.showFileList?(f.isModified&&f.modifiedFilesData.length>0?(c=this.allTypes?f.modifiedFilesData:this.checkExtension(f.modifiedFilesData),this.updateSortedFileList(c),this.filesData=c,this.isForm||this.checkAutoUpload(c)):(this.createFileList(e),this.filesData=this.filesData.concat(e),this.isForm||this.checkAutoUpload(e)),t(f.progressInterval)||f.progressInterval===""||(this.progressInterval=f.progressInterval)):(this.filesData=this.filesData.concat(e),this.autoUpload&&this.upload(this.filesData,!0)))}},e.prototype.clearData=function(n){t(this.listParent)||(a(this.listParent),this.listParent=null);o.info.name==="msie"||n||(this.element.value="");this.fileList=[];this.filesData=[];this.removeActionButtons()},e.prototype.updateSortedFileList=function(n){var s=this.createElement("div",{id:"clonewrapper"}),h=-1,c,u,l,f,o,v,e,t,i;if(this.listParent){for(u=0;u<this.listParent.querySelectorAll("li").length;u++)l=this.listParent.querySelectorAll("li")[u],s.appendChild(l.cloneNode(!0));for(c=this.listParent.querySelectorAll("li"),f=0,o=c;f<o.length;f++)v=o[f],a(v);for(this.removeActionButtons(),e=[].slice.call(s.childNodes),a(this.listParent),this.listParent=null,this.fileList=[],this.createParentUL(),t=0;t<n.length;t++){for(i=0;i<this.filesData.length;i++)this.filesData[i].name===n[t].name&&(this.listParent.appendChild(e[i]),r.add(e[i].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(e[i]),h=t);h!==t&&this.createFileList([n[t]])}}else this.createFileList(n)},e.prototype.isBlank=function(n){return!n||/^\s*$/.test(n)},e.prototype.checkExtension=function(n){var o=n,r,f,i,u,e,t;if(!this.isBlank(this.allowedExtensions)){for(r=[],f=this.allowedExtensions.split(","),i=0,u=f;i<u.length;i++)e=u[i],r.push(e.trim().toLocaleLowerCase());for(t=0;t<n.length;t++)r.indexOf(("."+n[t].type).toLocaleLowerCase())===-1&&(n[t].status=this.localizedTexts("invalidFileType"),n[t].statusCode="0")}return o},e.prototype.validatedFileSize=function(n){var t="",i="";return n<this.minFileSize?t=this.localizedTexts("invalidMinFileSize"):n>this.maxFileSize?i=this.localizedTexts("invalidMaxFileSize"):(t="",i=""),{minSize:t,maxSize:i}},e.prototype.createCustomfileList=function(n){var t,r,u,i,f;for(this.createParentUL(),t=0,r=n;t<r.length;t++)u=r[t],i=this.createElement("li",{className:prt,attrs:{"data-file-name":u.name}}),this.uploadTemplateFn=this.templateComplier(this.template),this.listParent.appendChild(i),f=[].slice.call(this.uploadTemplateFn(u)),ir(f,i),this.fileList.push(i)},e.prototype.createParentUL=function(){t(this.listParent)&&(this.listParent=this.createElement("ul",{className:yrt}),this.uploadWrapper.appendChild(this.listParent))},e.prototype.createFileList=function(n){var s,v,l,a,y,f,u;if(this.createParentUL(),this.template===""||t(this.template))for(s=0,v=n;s<v.length;s++){var i=v[s],h=this.createElement("li",{className:prt,attrs:{"data-file-name":i.name}}),e=this.createElement("span",{className:wrt}),c=this.createElement("span",{className:ndt,attrs:{title:i.name}});c.innerHTML=this.getFileNameOnly(i.name);l=this.createElement("span",{className:tdt});l.innerHTML="."+this.getFileType(i.name);this.enableRtl?(a=this.createElement("span",{className:rdt}),a.appendChild(l),a.appendChild(c),e.appendChild(a)):(e.appendChild(c),e.appendChild(l));y=this.createElement("span",{className:idt});y.innerHTML=this.bytesToSize(i.size);e.appendChild(y);f=this.createElement("span",{className:fr});e.appendChild(f);f.innerHTML=i.status;h.appendChild(e);u=this.createElement("span",{className:" e-icons",attrs:{tabindex:"-1"}});o.info.name==="msie"&&u.classList.add("e-msie");u.setAttribute("title",this.localizedTexts("remove"));h.appendChild(u);r.add(u,"click",this.removeFiles,this);i.statusCode==="2"?(f.classList.add(hf),u.classList.add(sf),u.setAttribute("title",this.localizedTexts("delete"))):i.statusCode!=="1"&&(f.classList.remove(hf),f.classList.add(brt));this.autoUpload&&i.statusCode==="1"&&this.asyncSettings.saveUrl!==""&&(f.innerHTML="");u.classList.contains(sf)||u.classList.add(iu);this.listParent.appendChild(h);this.fileList.push(h);this.truncateName(c)}else this.createCustomfileList(n)},e.prototype.truncateName=function(n){var t=n,i;t.offsetWidth<t.scrollWidth&&(i=t.textContent,t.dataset.tail=i.slice(i.length-10))},e.prototype.getFileType=function(n){var t,i=n.lastIndexOf(".");return i>=0&&(t=n.substring(i+1)),t?t:""},e.prototype.getFileNameOnly=function(n){var t=this.getFileType(n),i=n.split("."+t);return i[0]},e.prototype.setInitialAttributes=function(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){var n=document.createAttribute("multiple");this.element.setAttributeNode(n)}},e.prototype.filterfileList=function(n){for(var i=[],r,t=0;t<n.length;t++)r=this.getLiElement(n[t]),r.classList.contains(hf)||i.push(n[t]);return i},e.prototype.updateStatus=function(n,i,r){i===""||t(i)||r===""||t(r)||(n.status=i,n.statusCode=r);var u=this.getLiElement(n);return t(u)||t(u.querySelector("."+fr))||i===""||t(i)||(u.querySelector("."+fr).textContent=i),n},e.prototype.getLiElement=function(n){for(var i,t=0;t<this.filesData.length;t++)this.filesData[t].name===n.name&&(i=t);return this.fileList[i]},e.prototype.createProgressBar=function(n){var t=this.createElement("span",{className:ns}),r=this.createElement("progressbar",{className:ba,attrs:{value:"0",max:"100"}}),u=this.createElement("span",{className:udt}),i;r.setAttribute("style","width: 0%");i=this.createElement("span",{className:ub});i.textContent="0%";u.appendChild(r);t.appendChild(u);t.appendChild(i);n.querySelector("."+wrt).appendChild(t)},e.prototype.updateProgressbar=function(n,i){if(!isNaN(Math.round(n.loaded/n.total*100))&&!t(i.querySelector("."+ba)))if(t(this.progressInterval)||this.progressInterval==="")this.changeProgressValue(i,Math.round(n.loaded/n.total*100).toString()+"%");else{var r=Math.round(n.loaded/n.total*100)%parseInt(this.progressInterval,10);(r===0||r===100)&&this.changeProgressValue(i,Math.round(n.loaded/n.total*100).toString()+"%")}},e.prototype.changeProgressValue=function(n,t){n.querySelector("."+ba).setAttribute("style","width:"+t);n.querySelector("."+ub).textContent=t},e.prototype.uploadInProgress=function(n,i,r,u){var f=this.getLiElement(i),e,o;(!t(f)||r)&&(t(f)?this.cancelUploadingFile(i,n,u):(i.statusCode==="5"&&this.cancelUploadingFile(i,n,u,f),f.querySelectorAll("."+ns).length>0||!f.querySelector("."+fr)||(f.querySelector("."+fr).classList.add(nf),this.createProgressBar(f),this.updateProgressBarClasses(f,nf),f.querySelector("."+fr).classList.remove(tf)),this.updateProgressbar(n,f),e=f.querySelector("."+iu),t(e)||(e.classList.add(li,nf),e.setAttribute("title",this.localizedTexts("abort")),e.classList.remove(iu))),o={e:n,operation:"upload",file:this.updateStatus(i,this.localizedTexts("inProgress"),"3")},this.trigger("progress",o))},e.prototype.cancelUploadingFile=function(n,i,r,u){var c=this,e,o,f,h,s;if(n.statusCode==="5"){if(e={event:i,fileData:n,cancel:!1},this.trigger("canceling",e),e.cancel){n.statusCode="3";t(u)||(o=u.querySelector("."+li),t(o)||(fh(o),a(u.querySelector(".e-spinner-pane"))));return}r.emitError=!1;r.httpRequest.abort();f=new FormData;n.statusCode==="5"&&(h=this.element.getAttribute("name"),f.append(h,n.name),f.append("cancel-uploading",n.name),s=new ue(this.asyncSettings.removeUrl,"POST",!0,null),s.onLoad=function(t){return c.removecanceledFile(t,n),{}},s.send(f))}},e.prototype.removecanceledFile=function(n,i){var r=this.getLiElement(i),u,f;r.querySelector("."+wf)||t(r.querySelector("."+li))||(this.updateStatus(i,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(n,i,r),u=r.querySelector("."+iu),t(r)||(fh(u),a(r.querySelector(".e-spinner-pane"))),f={event:n,operation:"cancel",file:i},this.trigger("success",f))},e.prototype.renderFailureState=function(n,i,r){var e=this,u,f;(this.updateProgressBarClasses(r,tf),this.removeProgressbar(r,"failure"),t(r.querySelector(".e-file-status"))||r.querySelector(".e-file-status").classList.add(tf),u=r.querySelector("."+li),t(u))||(u.classList.remove(li,nf),u.classList.add(iu),u.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:"-1"}}),r.insertBefore(this.pauseButton,u),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),f=r.querySelector("."+wf),f.addEventListener("click",function(n){e.reloadcanceledFile(n,i,r,!1)},!1))},e.prototype.reloadcanceledFile=function(n,i,r,u){i.statusCode="1";i.status=this.localizedTexts("readyToUploadMessage");u||(r.querySelector("."+fr).classList.remove(tf),t(r.querySelector("."+wf))||a(r.querySelector("."+wf)),this.pauseButton=null);this.upload([i])},e.prototype.uploadComplete=function(n,i,r){var e=n.target,u,f;if(e.readyState===4&&e.status>=200&&e.status<=299){if(u=this.getLiElement(i),t(u)&&(!r||t(r)))return;t(u)||(this.updateProgressBarClasses(u,hf),this.removeProgressbar(u,"success"),f=u.querySelector("."+li),t(f)||(f.classList.add(sf),f.setAttribute("title",this.localizedTexts("delete")),f.classList.remove(li),f.classList.remove(nf)));this.raiseSuccessEvent(n,i)}else this.uploadFailed(n,i)},e.prototype.raiseSuccessEvent=function(n,t){var i={e:n,operation:"upload",file:this.updateStatus(t,this.localizedTexts("uploadSuccessMessage"),"2")};this.trigger("success",i);this.uploadedFilesData.push(t);this.trigger("change",{file:this.uploadedFilesData});this.checkActionButtonStatus()},e.prototype.uploadFailed=function(n,i){var r=this.getLiElement(i),u={e:n,operation:"upload",file:this.updateStatus(i,this.localizedTexts("uploadFailedMessage"),"0")};t(r)||this.renderFailureState(n,i,r);this.trigger("failure",u);this.checkActionButtonStatus()},e.prototype.updateProgressBarClasses=function(n,i){var r=n.querySelector("."+ba);t(r)||r.classList.add(i)},e.prototype.removeProgressbar=function(n,i){var r=this;t(n.querySelector("."+ns))||(this.progressAnimation=new di({duration:1250}),this.progressAnimation.animate(n.querySelector("."+ns),{name:"FadeOut"}),this.progressAnimation.animate(n.querySelector("."+ub),{name:"FadeOut"}),setTimeout(function(){r.animateProgressBar(n,i)},750))},e.prototype.animateProgressBar=function(n,i){i==="success"?(n.classList.add(hf),t(n.querySelector("."+fr))||(n.querySelector("."+fr).classList.remove(nf),this.progressAnimation.animate(n.querySelector("."+fr),{name:"FadeIn"}),n.querySelector("."+fr).classList.add(hf))):t(n.querySelector("."+fr))||(n.querySelector("."+fr).classList.remove(nf),this.progressAnimation.animate(n.querySelector("."+fr),{name:"FadeIn"}),n.querySelector("."+fr).classList.add(tf));n.querySelector("."+ns)&&a(n.querySelector("."+ns))},e.prototype.setExtensions=function(n){this.element.setAttribute("accept",n)},e.prototype.templateComplier=function(n){if(n)try{if(document.querySelectorAll(n).length)return cu(document.querySelector(n).innerHTML.trim())}catch(t){return cu(n)}return undefined},e.prototype.setRTL=function(){this.enableRtl?u([this.uploadWrapper],krt):h([this.uploadWrapper],krt)},e.prototype.localizedTexts=function(n){return this.l10n.setLocale(this.locale),this.l10n.getConstant(n)},e.prototype.setControlStatus=function(){this.enabled?(this.uploadWrapper.classList.contains(fb)&&this.uploadWrapper.classList.remove(fb),!t(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!t(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!t(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(fb),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),t(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),t(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))},e.prototype.checkHTMLAttributes=function(){this.element.hasAttribute("accept")&&(this.allowedExtensions=this.element.getAttribute("accept"),this.initialAttr.accept=this.allowedExtensions);this.element.hasAttribute("multiple")&&(this.multiple=!0,this.initialAttr.multiple=!0);this.element.hasAttribute("disabled")&&(this.enabled=!1,this.initialAttr.disabled=!0)},e.prototype.chunkUpload=function(n,t){var i=0,r=Math.min(this.asyncSettings.chunkSize,n.size),u=n.rawFile.slice(i,r),f={chunkIndex:0,blob:u,file:n,start:i,end:r,retryCount:0,request:null};this.sendRequest(n,f,t)},e.prototype.sendRequest=function(n,t,i){var u=this,e=new FormData,s=n.rawFile.slice(t.start,t.end),o,r,f;e.append("chunkFile",s,n.name);e.append("chunk-index",t.chunkIndex.toString());o=Math.max(Math.ceil(n.size/this.asyncSettings.chunkSize),1);e.append("total-chunk",o.toString());r=new ue({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});r.onLoad=function(n){return u.chunkUploadComplete(n,t,i),{}};r.onUploadProgress=function(n){return u.chunkUploadInProgress(n,t,i),{}};f={fileData:n,customFormData:[],cancel:!1,chunkSize:this.asyncSettings.chunkSize===0?null:this.asyncSettings.chunkSize};r.beforeSend=function(i){t.chunkIndex===0&&(f.currentRequest=r.httpRequest,u.trigger("uploading",f),f.cancel?u.eventCancelByArgs(i,f,n):u.updateFormData(e,f.customFormData))};r.onError=function(n){return u.chunkUploadFailed(n,t,i),{}};r.send(e);t.request=r},e.prototype.eventCancelByArgs=function(n,t,i){var u=this,r;(n.cancel=!0,t.fileData.statusCode!=="5")&&(r=this.getLiElement(t.fileData),r.querySelector("."+fr).innerHTML=this.localizedTexts("fileUploadCancel"),r.querySelector("."+fr).classList.add(tf),t.fileData.statusCode="5",t.fileData.status=this.localizedTexts("fileUploadCancel"),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:"-1"}}),r.insertBefore(this.pauseButton,r.querySelector("."+iu)),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",function(n){u.reloadcanceledFile(n,i,r)},!1),this.checkActionButtonStatus())},e.prototype.checkChunkUpload=function(){return this.asyncSettings.chunkSize<=0||t(this.asyncSettings.chunkSize)?!1:!0},e.prototype.chunkUploadComplete=function(n,i,r){var p=this,f=n.target,u,e,v,s,h,o,y,c,l;if(f.readyState===4&&f.status>=200&&f.status<300)if(e=Math.max(Math.ceil(i.file.size/this.asyncSettings.chunkSize),1),v={event:n,file:i.file,chunkIndex:i.chunkIndex,totalChunk:e,chunkSize:this.asyncSettings.chunkSize},this.trigger("chunkSuccess",v),(t(r)||!r)&&(u=this.getLiElement(i.file)),this.updateMetaData(i),i.end===i.file.size&&(i.file.statusCode="3"),i.file.statusCode==="5"){if(s={event:n,fileData:i.file,cancel:!1},this.trigger("canceling",s),s.cancel){i.file.statusCode="3";h=u.querySelector("."+li);t(u)||t(h)||(fh(h),a(u.querySelector(".e-spinner-pane")));this.sendNextRequest(i);return}i.request.emitError=!1;f.abort();o=new FormData;y=this.element.getAttribute("name");o.append(y,i.file.name);o.append("cancel-uploading",i.file.name);c=new ue(this.asyncSettings.removeUrl,"POST",!0,null);c.onLoad=function(n){return p.removeChunkFile(n,i,r),{}};c.send(o)}else{if(e-1===i.chunkIndex&&e>i.chunkIndex){l=this.pausedData.indexOf(i);l>=0&&this.pausedData.splice(l,1);t(this.template)&&(t(r)||!r)&&u&&(u&&a(u.querySelector("."+ru)),this.removeChunkProgressBar(i));this.raiseSuccessEvent(n,i.file);return}this.sendNextRequest(i)}else this.chunkUploadFailed(n,i)},e.prototype.sendNextRequest=function(n){n.start=n.end;n.end+=this.asyncSettings.chunkSize;n.end=Math.min(n.end,n.file.size);n.chunkIndex+=1;this.sendRequest(n.file,n)},e.prototype.removeChunkFile=function(n,i,r){var e;if(t(this.template)&&t(r)&&!r){var u=this.getLiElement(i.file),f=u.querySelector("."+li),o=f;this.updateStatus(i.file,this.localizedTexts("fileUploadCancel"),"5");this.updateProgressBarClasses(u,tf);this.removeProgressbar(u,"failure");f.classList.remove(li);f.classList.add(iu);f.setAttribute("title",this.localizedTexts("remove"));e=u.querySelector("."+ru);e.classList.add(wf);e.classList.remove(ru);e.setAttribute("title",this.localizedTexts("retry"));t(u)||t(f)||(fh(o),a(u.querySelector(".e-spinner-pane")))}},e.prototype.pauseUpload=function(n,t,i){n.file.statusCode="4";n.file.status=this.localizedTexts("pause");this.updateMetaData(n);var r={event:t?t:null,file:n.file,chunkIndex:n.chunkIndex,chunkCount:Math.round(n.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(n,i,r)},e.prototype.abortUpload=function(n,i,r){var e,u,f;for(n.request.emitError=!1,n.request.httpRequest.abort(),e=this.getLiElement(n.file),t(this.template)&&(t(i)||!i)&&(u=e.querySelector("."+ru),u.classList.remove(ru),u.classList.add(ts),u.setAttribute("title",this.localizedTexts("resume")),u.nextElementSibling.classList.add(iu),u.nextElementSibling.classList.remove(li),u.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))),f=0;f<this.pausedData.length;f++)this.pausedData[f].file.name===n.file.name&&this.pausedData.splice(f,1);this.pausedData.push(n);this.trigger("pausing",r)},e.prototype.resumeUpload=function(n,i,r){var e=this.getLiElement(n.file),f,o,u;for(t(e)||(f=e.querySelector("."+ts)),t(f)||!t(r)&&r||(f.classList.remove(ts),f.classList.add(ru),f.setAttribute("title",this.localizedTexts("pause")),f.nextElementSibling.classList.remove(iu),f.nextElementSibling.classList.add(li),f.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),n.file.status=this.localizedTexts("inProgress"),n.file.statusCode="3",this.updateMetaData(n),o={event:i?i:null,file:n.file,chunkIndex:n.chunkIndex,chunkCount:Math.round(n.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize},this.trigger("resuming",o),u=0;u<this.pausedData.length;u++)this.pausedData[u].end===this.pausedData[u].file.size?this.chunkUploadComplete(i,n,r):this.pausedData[u].file.name===n.file.name&&(this.pausedData[u].start=this.pausedData[u].end,this.pausedData[u].end=this.pausedData[u].end+this.asyncSettings.chunkSize,this.pausedData[u].end=Math.min(this.pausedData[u].end,this.pausedData[u].file.size),this.pausedData[u].chunkIndex=this.pausedData[u].chunkIndex+1,this.sendRequest(this.pausedData[u].file,this.pausedData[u],r))},e.prototype.updateMetaData=function(n){this.uploadMetaData.indexOf(n)===-1?this.uploadMetaData.push(n):(this.uploadMetaData.splice(this.uploadMetaData.indexOf(n),1),this.uploadMetaData.push(n))},e.prototype.removeChunkProgressBar=function(n){var r=this.getLiElement(n.file),i;t(r)||(this.updateProgressBarClasses(r,hf),this.removeProgressbar(r,"success"),i=r.querySelector("."+li),t(i)||(i.classList.add(sf),i.setAttribute("title",this.localizedTexts("delete")),i.classList.remove(li,nf)))},e.prototype.chunkUploadFailed=function(n,i,r){var v=this,y=Math.max(Math.ceil(i.file.size/this.asyncSettings.chunkSize),1),u,o,s,h,e,f,c,l;t(this.template)&&(t(r)||!r)&&(u=this.getLiElement(i.file));o={event:n,file:i.file,chunkIndex:i.chunkIndex,totalChunk:y,chunkSize:this.asyncSettings.chunkSize,cancel:!1};this.trigger("chunkFailure",o);s=o;h=Object.keys(s).map(function(n){return s[n]});h[h.length-2]||(i.retryCount<this.asyncSettings.retryCount?setTimeout(function(){v.retryRequest(u,i,r)},this.asyncSettings.retryAfterDelay):(t(u)||(e=u.querySelector("."+ru)?u.querySelector("."+ru):u.querySelector("."+ts),t(e)||(e.classList.add(wf),e.classList.remove(ru,ts)),this.updateProgressBarClasses(u,tf),this.removeProgressbar(u,"failure"),u.querySelector(".e-icons").classList.remove(nf),f=u.querySelector("."+li),f.classList.remove(li),t(u.querySelector("."+ru))||a(u.querySelector("."+ru)),i.start>0?(f.classList.add(sf),f.setAttribute("title",this.localizedTexts("delete"))):(f.classList.add(iu),f.setAttribute("title",this.localizedTexts("remove")))),i.retryCount=0,c=i.file,l={e:n,operation:"upload",file:this.updateStatus(c,this.localizedTexts("uploadFailedMessage"),"0")},this.trigger("failure",l)))},e.prototype.retryRequest=function(n,i,r){t(this.template)&&(t(r)||!r)&&n&&this.updateProgressBarClasses(n,tf);i.retryCount+=1;this.sendRequest(i.file,i)},e.prototype.checkPausePlayAction=function(n){var i=n.target,r=n.target.parentElement,u=this.fileList.indexOf(r),f=this.filesData[u],t=this.getCurrentMetaData(f);i.classList.contains(ru)?this.pauseUpload(t,n):i.classList.contains(ts)?this.resumeUpload(t,n):i.classList.contains(wf)&&(t.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(t,!1):this.retryUpload(t,!0))},e.prototype.retryUpload=function(n,t){t?(n.end=n.end+this.asyncSettings.chunkSize,n.start=n.start+this.asyncSettings.chunkSize,this.sendRequest(n.file,n)):(n.file.statusCode="1",n.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(n.file))},e.prototype.chunkUploadInProgress=function(n,i){var c=this,r,u,e,f,s,h;i.file.statusCode!=="4"&&((i.file.statusCode!=="4"&&i.file.statusCode!=="5"&&(i.file.statusCode="3",i.file.status=this.localizedTexts("inProgress")),this.updateMetaData(i),r=this.getLiElement(i.file),t(r))||(u=r.querySelector("."+wf),t(u)||(u.classList.add(ru),u.setAttribute("title",this.localizedTexts("pause")),u.classList.remove(wf)),t(r)||(r.querySelectorAll("."+ns).length>0||(e=r.querySelector("."+fr),t(this.template)&&(e.classList.add(nf),e.classList.remove(tf),this.createProgressBar(r),this.updateProgressBarClasses(r,nf)),f=r.querySelector("."+iu)?r.querySelector("."+iu):r.querySelector("."+sf),t(f)||(f.classList.add(li),f.setAttribute("title",this.localizedTexts("abort")),f.classList.remove(iu))),!isNaN(Math.round(n.loaded/n.total*100))&&t(this.template)&&i.file.statusCode!=="4"&&(s=i.chunkIndex*this.asyncSettings.chunkSize,h=Math.min((s+n.loaded)/i.file.size*100,100),this.changeProgressValue(r,Math.round(h).toString()+"%")),i.chunkIndex===0&&this.checkActionButtonStatus()),t(r.querySelector("."+ru))&&t(this.template)&&(this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:"-1"}}),o.info.name==="msie"&&this.pauseButton.classList.add("e-msie"),r.insertBefore(this.pauseButton,r.querySelector("."+li)),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",function(n){c.checkPausePlayAction(n)},!1))))},e.prototype.bytesToSize=function(n){var t=-1;if(!n)return"0.0 KB";do n=n/1024,t++;while(n>99);return t>=2&&(n=n*1024,t=1),Math.max(n,0).toFixed(1)+" "+["KB","MB"][t]},e.prototype.sortFileList=function(n){for(var o,u,r,f,s,i=n,e=[],t=0;t<i.length;t++)e.push(i[t].name);for(o=e.sort(),u=[],r=0,f=o;r<f.length;r++)for(s=f[r],t=0;t<i.length;t++)s===i[t].name&&u.push(i[t]);return u},e.prototype.destroy=function(){this.element.value=null;this.clearAll();this.unWireEvents();this.unBindDropEvents();this.multiple&&this.element.removeAttribute("multiple");this.enabled||this.element.removeAttribute("disabled");this.element.removeAttribute("accept");this.setInitialAttributes();this.uploadWrapper.parentElement.appendChild(this.cloneElement);this.cloneElement.classList.remove("e-control",ykt);a(this.uploadWrapper);this.uploadWrapper=null;n.prototype.destroy.call(this)},e.prototype.upload=function(n,t){var i=this.validateFileType(n);this.uploadFiles(i,t)},e.prototype.validateFileType=function(n){var t=[];return n instanceof Array?t=n:t.push(n),t},e.prototype.uploadFiles=function(n,i){var u=this,r=[],o,e;if(this.asyncSettings.saveUrl!==""&&!t(this.asyncSettings.saveUrl)){!i||t(i)?this.multiple?r=this.filterfileList(n):(o=[],o.push(n[0]),r=this.filterfileList(o)):r=n;var s=this.checkChunkUpload(),h=function(n){var t=new ue(f.asyncSettings.saveUrl,"POST",!0,null),e={fileData:r[n],customFormData:[],cancel:!1},o=new FormData,h;t.beforeSend=function(i){e.currentRequest=t.httpRequest;u.trigger("uploading",e);e.cancel&&u.eventCancelByArgs(i,e,r[n]);u.updateFormData(o,e.customFormData)};r[n].statusCode==="1"&&(h=f.element.getAttribute("name"),o.append(h,r[n].rawFile,r[n].name),s&&r[n].size>f.asyncSettings.chunkSize?f.chunkUpload(r[n],i):(t.onLoad=function(t){return u.uploadComplete(t,r[n],i),{}},t.onUploadProgress=function(f){return u.uploadInProgress(f,r[n],i,t),{}},t.onError=function(t){return u.uploadFailed(t,r[n]),{}},t.send(o)))},f=this;for(e=0;e<r.length;e++)h(e)}},e.prototype.remove=function(n,i,r,u){var f={event:u,cancel:!1,filesData:[],customFormData:[],postRawFile:!0},e,h,l,s,c,o;if(this.isForm){f.filesData=this.getFilesData();this.trigger("removing",f);f.cancel||this.clearAll();return}for(e=[],n=t(n)?this.filesData:n,n instanceof Array?e=n:e.push(n),f.filesData=e,h=this.asyncSettings.removeUrl,l=h===""||t(h)?!1:!0,s=0,c=e;s<c.length;s++)if(o=c[s],(o.statusCode==="2"||o.statusCode==="4")&&l)this.removeUploadedFile(o,f,r,i);else{if(r||this.trigger("removing",f),f.cancel)return;this.removeFilesData(o,i)}},e.prototype.clearAll=function(){if(t(this.listParent)){o.info.name!=="msie"&&(this.element.value="");this.filesData=[];return}var n={cancel:!1,filesData:this.filesData};(this.trigger("clearing",n),n.cancel)||this.clearData()},e.prototype.getFilesData=function(){return this.filesData},e.prototype.pause=function(n,t){var i=this.validateFileType(n);this.pauseUploading(i,t)},e.prototype.pauseUploading=function(n,t){for(var r=this.getFiles(n),i=0;i<r.length;i++)r[i].statusCode==="3"&&this.pauseUpload(this.getCurrentMetaData(r[i],null),null,t)},e.prototype.getFiles=function(n){var i=[];return t(n)||n instanceof Array?i=n:i.push(n),i},e.prototype.resume=function(n,t){var i=this.validateFileType(n);this.resumeFiles(i,t)},e.prototype.resumeFiles=function(n,t){for(var r=this.getFiles(n),i=0;i<r.length;i++)r[i].statusCode==="4"&&this.resumeUpload(this.getCurrentMetaData(r[i],null),null,t)},e.prototype.retry=function(n,t,i){var r=this.validateFileType(n);this.retryFailedFiles(r,t,i)},e.prototype.retryFailedFiles=function(n,t,i){for(var f,u=this.getFiles(n),r=0;r<u.length;r++)(u[r].statusCode==="5"||u[r].statusCode==="0")&&(this.asyncSettings.chunkSize>0?this.retryUpload(this.getCurrentMetaData(u[r],null),t):(f=void 0,i||(f=this.fileList[this.filesData.indexOf(u[r])]),this.reloadcanceledFile(null,u[r],f,i)))},e.prototype.cancel=function(n){var t=this.validateFileType(n);this.cancelUpload(t)},e.prototype.cancelUpload=function(n){var i=this.getFiles(n),r,t;if(this.asyncSettings.chunkSize>0)for(t=0;t<i.length;t++)i[t].statusCode==="3"&&(r=this.getCurrentMetaData(i[t],null),r.file.statusCode="5",r.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(r),this.showHideUploadSpinner(i[t]));else for(t=0;t<i.length;t++)i[t].statusCode==="3"&&(i[t].statusCode="5",i[t].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(i[t]))},e.prototype.showHideUploadSpinner=function(n){var r=this.getLiElement(n),i;!t(r)&&t(this.template)&&(i=r.querySelector("."+li),sa({target:i,width:"20px"}),ca(i))},ot([nt({saveUrl:"",removeUrl:""},odt)],e.prototype,"asyncSettings",void 0),ot([i(!1)],e.prototype,"enableRtl",void 0),ot([i(!0)],e.prototype,"enabled",void 0),ot([i(null)],e.prototype,"template",void 0),ot([i(!0)],e.prototype,"multiple",void 0),ot([i(!0)],e.prototype,"autoUpload",void 0),ot([nt({},edt)],e.prototype,"buttons",void 0),ot([i("")],e.prototype,"allowedExtensions",void 0),ot([i(0)],e.prototype,"minFileSize",void 0),ot([i(3e7)],e.prototype,"maxFileSize",void 0),ot([i(null)],e.prototype,"dropArea",void 0),ot([ff([{}],fdt)],e.prototype,"files",void 0),ot([i(!0)],e.prototype,"showFileList",void 0),ot([i(!1)],e.prototype,"directoryUpload",void 0),ot([f()],e.prototype,"created",void 0),ot([f()],e.prototype,"selected",void 0),ot([f()],e.prototype,"uploading",void 0),ot([f()],e.prototype,"success",void 0),ot([f()],e.prototype,"failure",void 0),ot([f()],e.prototype,"removing",void 0),ot([f()],e.prototype,"clearing",void 0),ot([f()],e.prototype,"progress",void 0),ot([f()],e.prototype,"change",void 0),ot([f()],e.prototype,"chunkSuccess",void 0),ot([f()],e.prototype,"chunkFailure",void 0),ot([f()],e.prototype,"canceling",void 0),ot([f()],e.prototype,"pausing",void 0),ot([f()],e.prototype,"resuming",void 0),ot([vt],e)}(vi),sdt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),vc=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};var drt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return sdt(t,n),vc([i("")],t.prototype,"iconCss",void 0),vc([i("")],t.prototype,"id",void 0),vc([i(!1)],t.prototype,"separator",void 0),vc([i("")],t.prototype,"text",void 0),vc([i("")],t.prototype,"url",void 0),t}(it),hdt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),uu=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},kr={DISABLED:"e-disabled",FOCUS:"e-focused",ICON:"e-menu-icon",ITEM:"e-item",POPUP:"e-dropdown-popup",RTL:"e-rtl",SEPARATOR:"e-separator",VERTICAL:"e-vertical"},grt=function(n){function t(t,i){return n.call(this,t,i)||this}return hdt(t,n),t.prototype.preRender=function(){},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.closePopup()},t.prototype.render=function(){this.initialize();this.disabled||this.wireEvents()},t.prototype.createPopup=function(){var t=this.createElement("div",{className:kr.POPUP,id:this.element.id+"-popup"}),n;document.body.appendChild(t);this.dropDown=new to(t,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl});this.dropDown.element.style.position==="fixed"&&this.dropDown.refreshPosition(this.element);this.dropDown.hide();v(this.element,(n={},n.role="menu",n["aria-haspopup"]=this.items.length||this.target?"true":"false",n["aria-expanded"]="false",n["aria-owns"]=this.getPopUpElement().id,n.type="button",n));this.cssClass&&u([t],this.cssClass.split(" "))},t.prototype.getTargetElement=function(){return typeof this.target=="string"?tt(this.target):this.target},t.prototype.createItems=function(n){for(var o=this.hasIcon(n,"iconCss"),u,t,i,f,e=this.createElement("ul",{attrs:{tabindex:"0"}}),r=0;r<n.length;r++)t=n[r],i=this.createElement("li",{innerHTML:t.url?"":t.text,className:t.separator?kr.ITEM+" "+kr.SEPARATOR:kr.ITEM,attrs:{role:"menuItem",tabindex:"-1"},id:t.id?t.id:wr("e-"+this.getModuleName()+"-item")}),t.iconCss?(u=this.createElement("span",{className:kr.ICON+" "+t.iconCss}),i.insertBefore(u,i.childNodes[0])):o&&!t.separator&&i.classList.add("e-blank-icon"),t.url&&i.appendChild(this.createAnchor(t)),f={item:t,element:i},this.trigger("beforeItemRender",f),e.appendChild(i);return e},t.prototype.hasIcon=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i][t])return!0;return!1},t.prototype.createAnchor=function(n){return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:n.text,attrs:{href:n.url}})},t.prototype.initialize=function(){this.button=new ae({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence});this.button.createElement=this.createElement;this.button.appendTo(this.element);this.element.id||(this.element.id=wr("e-"+this.getModuleName()));this.appendArrowSpan();this.createPopup();this.setActiveElem([this.element])},t.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(kr.VERTICAL)>-1?"bottom":"right")+" e-caret"}))},t.prototype.setActiveElem=function(n){this.activeElem=n},t.prototype.getModuleName=function(){return"dropdown-btn"},t.prototype.canOpen=function(){return this.getPopUpElement().classList.contains("e-popup-close")},t.prototype.destroy=function(){var i=this,t;this.element.querySelector("span.e-caret")&&a(this.element.querySelector("span.e-caret"));n.prototype.destroy.call(this);this.button.destroy();["role","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(n){i.element.removeAttribute(n)});h([this.element],["e-btn"]);h(this.activeElem,["e-active"]);this.dropDown.destroy();t=document.getElementById(this.getPopUpElement().id);t&&(h([t],["e-popup-open","e-popup-close"]),a(t));this.disabled||this.unWireEvents()},t.prototype.getPopUpElement=function(){return this.dropDown.element},t.prototype.getULElement=function(){return this.getPopUpElement().children[0]},t.prototype.wireEvents=function(){var n=this.getPopUpElement();this.delegateMousedownHandler=this.mousedownHandler.bind(this);r.add(document,"mousedown touchstart",this.delegateMousedownHandler,this);r.add(this.element,"click",this.clickHandler,this);r.add(n,"click",this.clickHandler,this);r.add(this.element,"keydown",this.keyBoardHandler,this);r.add(n,"keydown",this.keyBoardHandler,this);this.rippleFn=si(n,{selector:"."+kr.ITEM})},t.prototype.keyBoardHandler=function(n){if(n.target!==this.element||n.keyCode!==9&&(n.altKey||n.keyCode!==40)&&n.keyCode!==38)switch(n.keyCode){case 38:case 40:n.altKey&&(n.keyCode===38||n.keyCode===40)?this.keyEventHandler(n):this.upDownKeyHandler(n);break;case 9:case 13:case 27:case 32:this.keyEventHandler(n)}},t.prototype.upDownKeyHandler=function(n){var r,o;if(!this.target||n.keyCode!==38&&n.keyCode!==40){n.preventDefault();var i=this.getULElement(),e=n.keyCode===40?0:i.childElementCount-1,t=e,f=null;for(this.removeCustomSelection(),r=0,o=i.children.length;r<o;r++)i.children[r].classList.contains(kr.FOCUS)&&(f=i.children[r],t=r,f.classList.remove(kr.FOCUS),n.keyCode===40?t++:t--,t===(n.keyCode===40?i.childElementCount:-1)&&(t=e));f=i.children[t];t=this.isValidLI(f,t,n.keyCode);t!==-1&&(u([i.children[t]],kr.FOCUS),i.children[t].focus())}},t.prototype.removeCustomSelection=function(){var n=this.getULElement().querySelector(".e-selected");n&&n.classList.remove("e-selected")},t.prototype.isValidLI=function(n,t,i,r){if(r===void 0&&(r=0),(n.classList.contains(kr.SEPARATOR)||n.classList.contains(kr.DISABLED))&&(t===(i===40?this.items.length-1:0)?t=i===40?0:this.items.length-1:i===40?t++:t--),n=this.getULElement().children[t],n.classList.contains(kr.SEPARATOR)||n.classList.contains(kr.DISABLED)){if(r++,r===this.items.length)return-1;t=this.isValidLI(n,t,i,r)}return t},t.prototype.keyEventHandler=function(n){this.target&&(n.keyCode===13||n.keyCode===9)||(n.keyCode!==9&&n.preventDefault(),n.keyCode===27||n.keyCode===38||n.keyCode===9?this.canOpen()||this.closePopup(n,this.element):this.clickHandler(n))},t.prototype.getLI=function(n){return n.tagName==="LI"?n:k(n,"li")},t.prototype.mousedownHandler=function(n){var t=n.target;this.canOpen()||k(t,"#"+this.getPopUpElement().id)||k(t,"#"+this.element.id)||this.closePopup(n)},t.prototype.clickHandler=function(n){var t=n.target,e=this.canOpen();if(k(t,"#"+this.element.id))e?this.openPopUp(n):this.closePopup(n,this.activeElem[0]);else if(k(t,"#"+this.getPopUpElement().id)){var u=void 0,f=void 0,i=void 0,r=this.getLI(t);r&&(f=Array.prototype.indexOf.call(this.getULElement().children,r),i=this.items[f],i&&(u={element:r,item:i},this.trigger("select",u)),this.closePopup(n,this.activeElem[0]))}},t.prototype.openPopUp=function(n){var t,i,r;n===void 0&&(n=null);this.target||this.getPopUpElement().appendChild(this.createItems(this.items));t=this.getULElement();i={element:t,items:this.items,event:n,cancel:!1};this.trigger("beforeOpen",i);i.cancel||(this.dropDown.show(null,this.element),u([this.element],"e-active"),this.element.setAttribute("aria-expanded","true"),t.focus(),r={element:t,items:this.items},this.trigger("open",r))},t.prototype.closePopup=function(n,t){var i,r,u;n===void 0&&(n=null);i=this.getULElement();r={element:i,items:this.items,event:n,cancel:!1};this.trigger("beforeClose",r);r.cancel||(this.removeCustomSelection(),this.dropDown.hide(),h(this.activeElem,"e-active"),this.element.setAttribute("aria-expanded","false"),t&&t.focus(),u={element:i,items:this.items},this.trigger("close",u),!this.target&&i&&a(i))},t.prototype.unWireEvents=function(){r.remove(document,"mousedown touchstart",this.delegateMousedownHandler);r.remove(this.element,"click",this.clickHandler);r.remove(this.getPopUpElement(),"click",this.clickHandler);r.remove(this.element,"keydown",this.keyBoardHandler);r.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler);this.rippleFn()},t.prototype.onPropertyChanged=function(n,t){var i,r,f,e,o;for(this.button.setProperties(ka(n,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),i=this.getPopUpElement(),r=0,f=Object.keys(n);r<f.length;r++){e=f[r];switch(e){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":n.disabled?(this.unWireEvents(),this.canOpen()||this.closePopup()):this.wireEvents();break;case"cssClass":n.cssClass.indexOf(kr.VERTICAL)>-1&&(o=this.element.querySelector("span.e-caret"),ke(o,["e-icon-bottom"],["e-icon-right"]));t.cssClass&&h([i],t.cssClass.split(" "));n.cssClass&&u([i],n.cssClass.split(" "));break;case"enableRtl":i.classList.toggle(kr.RTL);break;case"target":this.target=n.target;a(this.getULElement());i.appendChild(this.getTargetElement());this.dropDown.content=this.getTargetElement();break;case"items":this.dropDown.refresh();i.classList.contains("e-popup-open")&&ke(i,["e-popup-close"],["e-popup-open"])}}},uu([i("")],t.prototype,"content",void 0),uu([i("")],t.prototype,"cssClass",void 0),uu([i(!1)],t.prototype,"disabled",void 0),uu([i("")],t.prototype,"iconCss",void 0),uu([i("Left")],t.prototype,"iconPosition",void 0),uu([ff([],drt)],t.prototype,"items",void 0),uu([i("")],t.prototype,"target",void 0),uu([f()],t.prototype,"beforeItemRender",void 0),uu([f()],t.prototype,"beforeOpen",void 0),uu([f()],t.prototype,"beforeClose",void 0),uu([f()],t.prototype,"close",void 0),uu([f()],t.prototype,"open",void 0),uu([f()],t.prototype,"select",void 0),uu([f()],t.prototype,"created",void 0),uu([vt],t)}(vi),cdt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),dr=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},da="e-rtl",eb="EJS-SPLITBUTTON",ldt=function(n){function t(t,i){return n.call(this,t,i)||this}return cdt(t,n),t.prototype.preRender=function(){var n=this.element,t,u;if(n.tagName===eb){var f=p("ej2_instances",n),r=this.createElement("button",{attrs:{type:"button"}}),i=this.createElement(eb,{className:"e-"+this.getModuleName()+"-wrapper"});for(t=0,u=n.attributes.length;t<u;t++)r.setAttribute(n.attributes[t].nodeName,n.attributes[t].nodeValue);n.parentNode.insertBefore(i,n);a(n);n=r;i.appendChild(n);ii("ej2_instances",f,n);this.wrapper=i;this.element=n}this.element.id||(this.element.id=wr("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper();this.createPrimaryButton();this.createSecondaryButton();this.setActiveElem([this.element,this.secondaryBtnObj.element]);this.setAria();this.wireEvents()},t.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element));this.element.classList.remove("e-"+this.getModuleName());this.enableRtl&&this.wrapper.classList.add(da);this.cssClass&&u([this.wrapper],this.cssClass.split(" "))},t.prototype.createPrimaryButton=function(){var n={cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled};this.primaryBtnObj=new ae(n);this.primaryBtnObj.createElement=this.createElement;this.primaryBtnObj.appendTo(this.element);this.element.classList.add("e-"+this.getModuleName());this.element.type="button";this.wrapper.appendChild(this.element)},t.prototype.createSecondaryButton=function(){var n=this,t=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"}),i;this.wrapper.appendChild(t);i={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,beforeItemRender:function(t){n.trigger("beforeItemRender",t)},beforeOpen:function(t){n.trigger("beforeOpen",t)},beforeClose:function(t){n.trigger("beforeClose",t)},open:function(t){n.trigger("open",t)},close:function(t){n.trigger("close",t)},select:function(t){n.trigger("select",t)}};this.secondaryBtnObj=new grt(i);this.secondaryBtnObj.createElement=this.createElement;this.secondaryBtnObj.appendTo(t);this.secondaryBtnObj.dropDown.relateTo=this.wrapper;this.dropDown=this.secondaryBtnObj.dropDown;this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element];r.remove(this.getPopUpElement(),"keydown",this.secondaryBtnObj.keyBoardHandler);this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")},t.prototype.setAria=function(){v(this.element,{role:"listbox","aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.secondaryBtnObj.dropDown.element.id})},t.prototype.getModuleName=function(){return"split-btn"},t.prototype.toggle=function(){this.secondaryBtnObj.toggle()},t.prototype.destroy=function(){var t=this,n;this.primaryBtnObj.destroy();this.secondaryBtnObj.destroy();n=document.getElementById(this.element.id);n&&n.parentElement===this.wrapper&&(this.wrapper.tagName===eb?(this.wrapper.innerHTML="",h([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),h([this.wrapper],this.cssClass.split(" "))):(h([this.element],["e-"+this.getModuleName(),da]),["role","aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(n){t.element.removeAttribute(n)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),lt(this.wrapper)),this.unWireEvents())},t.prototype.wireEvents=function(){r.add(this.element,"click",this.primaryBtnClickHandler,this);r.add(this.getPopUpElement(),"keydown",this.keyBoardHandler,this);new ci(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})},t.prototype.unWireEvents=function(){r.remove(this.element,"click",this.primaryBtnClickHandler);po(this.element,ci).destroy()},t.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},t.prototype.btnKeyBoardHandler=function(n){switch(n.action){case"altdownarrow":this.clickHandler(n)}},t.prototype.onPropertyChanged=function(n,t){var r=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"],i,f,e;for(this.primaryBtnObj.setProperties(ka(n,r)),r=["items","beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl"],this.secondaryBtnObj.setProperties(ka(n,r)),i=0,f=Object.keys(n);i<f.length;i++){e=f[i];switch(e){case"cssClass":t.cssClass&&h([this.wrapper],t.cssClass.split(" "));u([this.wrapper],n.cssClass.split(" "));break;case"enableRtl":n.enableRtl?u([this.wrapper],da):h([this.wrapper],da)}}},dr([i("")],t.prototype,"content",void 0),dr([i("")],t.prototype,"cssClass",void 0),dr([i(!1)],t.prototype,"disabled",void 0),dr([i("")],t.prototype,"iconCss",void 0),dr([i("Left")],t.prototype,"iconPosition",void 0),dr([ff([],drt)],t.prototype,"items",void 0),dr([i("")],t.prototype,"target",void 0),dr([f()],t.prototype,"beforeItemRender",void 0),dr([f()],t.prototype,"beforeOpen",void 0),dr([f()],t.prototype,"beforeClose",void 0),dr([f()],t.prototype,"click",void 0),dr([f()],t.prototype,"close",void 0),dr([f()],t.prototype,"open",void 0),dr([f()],t.prototype,"select",void 0),dr([f()],t.prototype,"created",void 0),dr([vt],t)}(grt),adt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ar=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ob="e-hide-spinner",ga="e-progress",nv="e-progress-active",oh="e-btn-content",rri=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.step=1,r}return adt(t,n),t.prototype.preRender=function(){n.prototype.preRender.call(this)},t.prototype.render=function(){n.prototype.render.call(this);this.init();this.wireEvents();this.setAria()},t.prototype.start=function(n){this.isPaused=!1;this.startProgress(n?n:this.percent,this.progressTime)},t.prototype.stop=function(){this.isPaused=!0;cancelAnimationFrame(this.timerId)},t.prototype.getModuleName=function(){return"progress-btn"},t.prototype.destroy=function(){n.prototype.destroy.call(this);this.unWireEvents();this.element.innerHTML="";h([this.element],[ob,nv,"e-round-corner","e-"+n.prototype.getModuleName.call(this)])},t.prototype.init=function(){this.element.classList.add("e-"+n.prototype.getModuleName.call(this));this.setContent();this.createSpinner();this.enableProgress&&this.createProgress()},t.prototype.createSpinner=function(){var n=this.createElement("span",{className:"e-spinner"});this.setSpinPosition(n);sa({target:n,width:this.spinSettings.width||16,template:this.spinSettings.template},this.createElement)},t.prototype.setSpinPosition=function(n){var t=this.spinSettings.position||"Left";t==="Left"||t==="Top"?this.element.insertBefore(n,this.element.getElementsByClassName(oh)[0]):this.element.appendChild(n);this.element.classList.add("e-spin-"+t.toLowerCase())},t.prototype.createProgress=function(){this.element.appendChild(this.createElement("span",{className:ga}))},t.prototype.setContent=function(){var n=this.element.innerHTML;this.element.innerHTML="";this.element.appendChild(this.createElement("span",{className:oh,innerHTML:n}))},t.prototype.clickHandler=function(){this.element.classList.contains(nv)||this.startProgress()},t.prototype.startProgress=function(n,t){var r=this,i=this.element.classList,u=i.contains("e-vertical");i.add(nv);i.contains(ob)||(ca(this.element),this.enableProgress||setTimeout(function(){r.hideSpin()},this.duration));this.enableProgress&&this.startAnimate(Date.now(),t?t:0,t?Date.now()-this.duration/100:Date.now(),n?n:0,0,this.step,0,u);this.startContAnimate()},t.prototype.startAnimate=function(n,t,i,r,u,f,e,o){var h=this;try{var s,c=n-i,l=this.duration*f/100,a=c?c<l?c-l:c%l:0;this.progressTime=t=t+c-a;i=n-a;r=r+(c-a)/this.duration*100;u=(t-e)%l==0||r===100?r:u;s={percent:u,currentDuration:t,step:f};r===0?this.trigger("begin",s):r===100||t===this.duration?this.trigger("end",s):this.trigger("progress",s);r!==s.percent&&s.percent!==u&&(r=s.percent);this.percent=r;this.step=s.step;((t-e)%(this.duration*s.step/100)==0||r===100)&&(this.timerId=requestAnimationFrame(function(){h.element.getElementsByClassName(ga)[0].style[o?"height":"width"]=r+"%";h.element.setAttribute("aria-valuenow",r.toString())}),u=r,e=t);this.isPaused||(t<this.duration&&r<100?setTimeout(function(){h.startAnimate(Date.now(),t,i,r,u,s.step,e,o)},this.duration/100-a):setTimeout(function(){h.progressTime=h.percent=0;h.element.getElementsByClassName(ga)[0].style[o?"height":"width"]="0%";h.element.setAttribute("aria-valuenow","0");h.hideSpin()},100))}catch(v){cancelAnimationFrame(this.timerId);this.trigger("fail",v)}},t.prototype.startContAnimate=function(){var n=this,t=this.element.getElementsByClassName(oh)[0];this.animationSettings.effect!=="None"?new di({}).animate(t,{duration:this.animationSettings.duration,name:"Progress"+this.animationSettings.effect,timingFunction:this.animationSettings.easing,begin:function(){n.spinSettings.position==="Center"&&n.setSpinnerSize()},end:function(){t.classList.add("e-animate-end")}}):this.spinSettings.position==="Center"&&this.setSpinnerSize()},t.prototype.setSpinnerSize=function(){var t=this.element.getElementsByClassName(oh)[0],n=this.element.getElementsByClassName("e-spinner")[0];n.style.width=Math.max(n.offsetWidth,t.offsetWidth)+"px";n.style.height=Math.max(n.offsetHeight,t.offsetHeight)+"px";t.classList.add("e-cont-animate")},t.prototype.hideSpin=function(){var t=this.element.getElementsByClassName(oh)[0],n;this.element.classList.contains(ob)||fh(this.element);this.element.classList.remove(nv);this.animationSettings.effect!=="None"&&t.classList.remove("e-animate-end");this.spinSettings.position==="Center"&&(n=this.element.getElementsByClassName("e-spinner")[0],t.classList.remove("e-cont-animate"),n.style.width="auto",n.style.height="auto")},t.prototype.setIconSpan=function(){var n=this.element.getElementsByClassName(oh)[0],t=this.element.getElementsByClassName("e-btn-icon")[0];n.childNodes[0]&&(this.iconPosition==="Left"||this.iconPosition==="Top")?n.insertBefore(t,n.childNodes[0]):n.appendChild(t)},t.prototype.setAria=function(){v(this.element,{"aria-label":this.element.textContent+" progress","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"})},t.prototype.wireEvents=function(){r.add(this.element,"click",this.clickHandler,this)},t.prototype.unWireEvents=function(){r.remove(this.element,"click",this.clickHandler)},t.prototype.onPropertyChanged=function(t,i){var r,u,f;for(n.prototype.onPropertyChanged.call(this,t,i),r=0,u=Object.keys(t);r<u.length;r++){f=u[r];switch(f){case"content":this.setContent();this.createSpinner();this.enableProgress&&this.createProgress();this.element.setAttribute("aria-label",this.element.textContent+" progress");break;case"iconCss":i.iconCss||this.setIconSpan();break;case"iconPosition":this.setIconSpan();break;case"enableProgress":t.enableProgress?this.createProgress():lt(this.element.getElementsByClassName(ga)[0])}}},ar([i(!1)],t.prototype,"enableProgress",void 0),ar([i(2e3)],t.prototype,"duration",void 0),ar([i("Left")],t.prototype,"iconPosition",void 0),ar([i("")],t.prototype,"iconCss",void 0),ar([i(!1)],t.prototype,"disabled",void 0),ar([i(!1)],t.prototype,"isPrimary",void 0),ar([i("")],t.prototype,"cssClass",void 0),ar([i("")],t.prototype,"content",void 0),ar([i(!1)],t.prototype,"isToggle",void 0),ar([i({template:null,width:16,position:"Left"})],t.prototype,"spinSettings",void 0),ar([i({duration:400,effect:"None",easing:"ease"})],t.prototype,"animationSettings",void 0),ar([f()],t.prototype,"created",void 0),ar([f()],t.prototype,"begin",void 0),ar([f()],t.prototype,"progress",void 0),ar([f()],t.prototype,"end",void 0),ar([f()],t.prototype,"fail",void 0),ar([vt],t)}(ae),vdt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ai=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},tv="e-apply",sb="e-cancel",hb="e-current",ydt="e-container",cb="e-ctrl-btn",sh="e-switch-ctrl-btn",nut="e-disabled",tut="e-value-switch-btn",iut="e-handler",rut="e-hex",lb="e-hide-hex-value",ab="e-hide-opacity",hh="e-hide-switchable-value",is="e-hide-value",uut="e-hide-valueswitcher",yc="e-hsv-color",fut="e-hsv-container",ch="e-selected-value",iv="e-mode-switch-btn",vb="e-nocolor-item",yb="e-opacity-value",pc="e-palette",rv="e-color-palette",pb="e-color-picker",uv="e-preview-container",fv="e-previous",pdt="e-rtl",lh="e-show-value",wc="e-selected",wb="e-split-preview",ev="e-tile",wdt={"default":["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"]},uri=function(n){function e(t,i){return n.call(this,t,i)||this}return vdt(e,n),e.prototype.preRender=function(){this.l10n=new du("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale)},e.prototype.render=function(){this.initWrapper();this.inline?this.createWidget():this.createSplitBtn();this.enableOpacity||u([this.container.parentElement],ab)},e.prototype.initWrapper=function(){var n=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),t;this.element.parentNode.insertBefore(n,this.element);n.appendChild(this.element);v(this.element,{tabindex:"-1",spellcheck:"false"});this.container=this.createElement("div",{className:ydt});this.getWrapper().appendChild(this.container);t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.element.value=t.slice(0,7);this.setProperties({value:t},!0);this.enableRtl&&n.classList.add(pdt);this.cssClass&&u([n],this.cssClass.split(" "));this.tileRipple=si(this.container,{selector:"."+ev});this.ctrlBtnRipple=si(this.container,{selector:".e-btn"})},e.prototype.getWrapper=function(){return this.element.parentElement},e.prototype.createWidget=function(){this.mode==="Palette"?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus());this.isRgb=!0;this.createInput();this.createCtrlBtn();this.disabled||this.wireEvents();this.inline&&this.disabled&&this.toggleDisabled(!0);o.isDevice&&this.refreshPopupPos()},e.prototype.createSplitBtn=function(){var t=this,r=this.createElement("button",{className:"e-split-colorpicker"}),f,i,n;this.getWrapper().appendChild(r);this.splitBtn=new ldt({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,beforeOpen:this.beforeOpenFn.bind(this),open:this.onOpen.bind(this),beforeClose:this.beforePopupClose.bind(this),click:function(){t.trigger("change",{currentValue:{hex:t.value.slice(0,7),rgba:t.convertToRgbString(t.hexToRgb(t.value))},previousValue:{hex:null,rgba:null}})}});this.splitBtn.createElement=this.createElement;this.splitBtn.appendTo(r);f=this.createElement("span",{className:wb});tt(".e-selected-color",r).appendChild(f);f.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));i=this.getPopupEle();u([i],"e-colorpicker-popup");this.cssClass&&u([i],this.cssClass.split(" "));o.isDevice&&(n=this.getPopupInst(),n.relateTo=document.body,n.position={X:"center",Y:"center"},n.targetType="container",n.collision={X:"fit",Y:"fit"},n.offsetY=4,i.style.zIndex=na(this.splitBtn.element).toString())},e.prototype.onOpen=function(){this.trigger("open",{element:this.container})},e.prototype.getPopupInst=function(){return po(this.getPopupEle(),to)},e.prototype.beforeOpenFn=function(n){var i={element:this.container,event:n.event,cancel:!1},t;this.trigger("beforeOpen",i);n.cancel=i.cancel;n.cancel||(t=this.getPopupEle(),t.style.top=g(0+pageYOffset),t.style.left=g(0+pageXOffset),t.style.display="block",this.createWidget(),t.style.display="",o.isDevice&&(this.modal=this.createElement("div"),this.modal.className="e-"+this.getModuleName()+" e-modal",this.modal.style.display="none",document.body.insertBefore(this.modal,t),document.body.className+=" e-colorpicker-overflow",this.modal.style.display="block",this.modal.style.zIndex=(Number(t.style.zIndex)-1).toString()))},e.prototype.beforePopupClose=function(n){if(!t(n.event)){var i={element:this.container,event:n.event,cancel:!1};this.trigger("beforeClose",i);o.isDevice&&n.event.target===this.modal&&(i.cancel=!0);n.cancel=i.cancel;n.cancel||this.onPopupClose()}},e.prototype.onPopupClose=function(){this.unWireEvents();this.destroyOtherComp();this.container.style.width="";tt("."+wb,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));this.container.innerHTML="";h([this.container],[pb,rv]);o.isDevice&&this.modal&&(h([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},e.prototype.createPalette=function(){var t,n,i,f,r;if(ke(this.container,[rv],[pb]),this.presetColors){if(t=this.createElement("div",{className:"e-custom-palette"}),this.appendElement(t),n=Object.keys(this.presetColors),n.length===1)this.appendPalette(this.presetColors[n[0]],n[0],t);else for(i=0,f=n.length;i<f;i++)this.appendPalette(this.presetColors[n[i]],n[i],t);hu(".e-row",t).length>10&&u([t],"e-palette-group")}else this.appendPalette(wdt.default,"default");this.mode==="Palette"&&!this.modeSwitcher&&this.noColor&&this.setNoColor();r=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=g(this.container.children[0].offsetWidth+r+r);this.rgb=this.hexToRgb(this.roundValue(this.value));this.hsv=this.rgbToHsv.apply(this,this.rgb)},e.prototype.firstPaletteFocus=function(){tt("."+wc,this.container.children[0])||hu("."+pc,this.container)[0].focus()},e.prototype.appendPalette=function(n,t,i){var f=this.createElement("div",{className:pc,attrs:{tabindex:"0"}}),o,u,e,r,s;for(i?i.appendChild(f):this.appendElement(f),r=0,s=n.length;r<s;r++)(r===0||r%this.columns==0)&&(o=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),f.appendChild(o)),e=this.roundValue(n[r]).toLowerCase(),u=this.createElement("span",{className:ev,attrs:{role:"gridcell","aria-label":e,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:u,presetName:t,value:n[r]}),o.appendChild(u),this.value===e&&(this.addTileSelection(u),f.focus()),u.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e))},e.prototype.setNoColor=function(){var n=hu(".e-row")[0].children[0];n.classList.add(vb);this.value||(n.classList.add(wc),k(n,"."+pc).focus());["aria-selected","aria-label"].forEach(function(t){n.removeAttribute(t)});n.style.backgroundColor=""},e.prototype.appendElement=function(n,t){t===void 0&&(t=0);var i=this.container.children[t];i?this.container.insertBefore(n,i):this.container.appendChild(n)},e.prototype.addTileSelection=function(n){n.classList.add(wc);n.setAttribute("aria-selected","true")},e.prototype.createPicker=function(){var n,t;ke(this.container,[pb],[rv]);n=this.createElement("div",{className:fut});this.appendElement(n);n.appendChild(this.createElement("div",{className:yc}));t=this.createElement("span",{className:iut,attrs:{tabindex:"0"}});n.appendChild(t);this.rgb=this.hexToRgb(this.value);this.hsv=this.rgbToHsv.apply(this,this.rgb);this.setHsvContainerBg();this.setHandlerPosition();this.createSlider();this.createDragTooltip()},e.prototype.setHsvContainerBg=function(n){n===void 0&&(n=this.hsv[0]);this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(n,100,100,1))},e.prototype.getHsvContainer=function(){return tt("."+fut,this.container)},e.prototype.setHandlerPosition=function(){var t=this.getDragHandler(),n=tt("."+yc,this.container);t.style.left=this.enableRtl?g(n.offsetWidth*Math.abs(100-this.hsv[1])/100):g(n.offsetWidth*this.hsv[1]/100);t.style.top=g(n.offsetHeight*(100-this.hsv[2])/100)},e.prototype.createSlider=function(){var t=this.createElement("div",{className:"e-slider-preview"}),i,n;this.appendElement(t,1);this.createPreview(t);i=this.createElement("div",{className:"e-colorpicker-slider"});t.insertBefore(i,t.children[0]);n=this.createElement("div",{className:"e-hue-slider"});i.appendChild(n);this.hueSlider=new art({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)});this.hueSlider.createElement=this.createElement;this.hueSlider.appendTo(n);this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),i.appendChild(n),this.createOpacitySlider(n))},e.prototype.createOpacitySlider=function(n){this.opacitySlider=new art({value:this.rgb[3]*100,min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)});this.opacitySlider.createElement=this.createElement;this.opacitySlider.appendTo(n);var t=this.createElement("div",{className:"e-opacity-empty-track"});n.appendChild(t);this.updateOpacitySliderBg()},e.prototype.updateOpacitySliderBg=function(){var n=this.enableRtl?"to left":"to right";tt(".e-slider-track",this.opacitySlider.element).style.background="linear-gradient("+n+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)"},e.prototype.hueChange=function(n){this.hsv[0]=n.value;this.setHsvContainerBg();this.convertToOtherFormat()},e.prototype.opacityChange=function(n){var t=n.value,u=this.rgbToHex(this.rgb),r,i;this.hsv[3]=t/100;this.rgb[3]=t/100;r=this.rgbToHex(this.rgb);this.getWrapper().classList.contains(is)||(po(tt("."+yb,this.container),gw).value=t);i=this.convertToRgbString(this.rgb);this.updatePreview(i);this.triggerEvent(r,u,i)},e.prototype.createPreview=function(n){var i=this.createElement("div",{className:uv}),t,r;n.appendChild(i);t=this.createElement("span",{className:"e-preview "+hb});i.appendChild(t);r=this.convertToRgbString(this.rgb);t.style.backgroundColor=r;t=this.createElement("span",{className:"e-preview "+fv});i.appendChild(t);t.style.backgroundColor=r},e.prototype.isPicker=function(){return!this.container.classList.contains(rv)},e.prototype.getPopupEle=function(){return this.container.parentElement},e.prototype.createNumericInput=function(n,t,i,r){var f=this,u=new gw({value:t,placeholder:i,min:0,max:r,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:this.isPicker()?!1:!0,change:function(n){n.event&&f.inputHandler(n.event)}});u.createElement=this.createElement;u.appendTo(n)},e.prototype.createInput=function(){var o=this.isPicker(),t=this.getWrapper(),i,r,u,f,e,s,n;if((o&&!t.classList.contains(is)||!o&&t.classList.contains(lh))&&(i=this.createElement("div",{className:ch}),o?this.appendElement(i,2):this.appendElement(i,1),r=this.createElement("div",{className:"e-input-container"}),i.appendChild(r),t.classList.contains(uut)||this.appendValueSwitchBtn(i),t.classList.contains(lb)||(u=this.createElement("input",{className:rut,attrs:{maxlength:"7",spellcheck:"false"}}),r.appendChild(u),c.createInput({element:u,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:this.isPicker()?!1:!0}},this.createElement),c.setValue(this.value.slice(0,7),u),u.addEventListener("input",this.inputHandler.bind(this))),!t.classList.contains(hh))){for(f=void 0,e=void 0,this.isRgb?(f="RGB",e=this.rgb):(f="HSV",e=this.hsv),s=["rh","gs","bv"],n=0;n<3;n++)this.createNumericInput(r.appendChild(this.createElement("input",{className:"e-"+s[n]+"-value"})),e[n],f[n],255);this.enableOpacity&&this.appendOpacityValue(r)}},e.prototype.appendOpacityValue=function(n){this.createNumericInput(n.appendChild(this.createElement("input",{className:yb})),this.rgb[3]*100,"A",100)},e.prototype.appendValueSwitchBtn=function(n){var t=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+tut});n.appendChild(t);this.isPicker()&&!this.getWrapper().classList.contains(hh)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))},e.prototype.createCtrlBtn=function(){var t,n,i,r;(this.modeSwitcher||this.showButtons)&&(this.l10n.setLocale(this.locale),t=this.createElement("div",{className:sh}),this.container.appendChild(t),this.showButtons&&(n=this.createElement("div",{className:cb}),t.appendChild(n),i=this.l10n.getConstant("Apply"),n.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-flat e-primary e-small "+tv,attrs:{title:i}})),r=this.l10n.getConstant("Cancel"),n.appendChild(this.createElement("button",{innerHTML:r,className:"e-btn e-flat e-small "+sb,attrs:{title:r}}))),this.modeSwitcher&&this.appendModeSwitchBtn())},e.prototype.appendModeSwitchBtn=function(){var n=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+iv,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});tt("."+sh,this.container).insertBefore(n,tt("."+cb,this.container))},e.prototype.createDragTooltip=function(){var t=this,n=new fa({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:function(n){t.tooltipEle=n.element},animation:{open:{effect:"None"},close:{effect:"None"}}});n.createElement=this.createElement;n.appendTo(this.container);n.open(this.container);this.tooltipEle.style.zIndex=na(this.tooltipEle).toString();tt(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},e.prototype.getTooltipInst=function(){return po(this.container,fa)},e.prototype.setTooltipOffset=function(n){this.getTooltipInst().offsetY=n},e.prototype.toggleDisabled=function(n){n?this.getWrapper().classList.add(nut):this.getWrapper().classList.remove(nut);this.showButtons&&[].slice.call(hu(".e-btn",this.container)).forEach(function(t){n?v(t,{disabled:""}):t.removeAttribute("disabled")})},e.prototype.convertToRgbString=function(n){return n.length?n.length===4?"rgba("+n.join()+")":"rgb("+n.join()+")":""},e.prototype.convertToHsvString=function(n){return n.length===4?"hsva("+n.join()+")":"hsv("+n.join()+")"},e.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1];this.hsv[2]=this.hsv[2]>100?100:this.hsv[2];this.setHandlerPosition()},e.prototype.convertToOtherFormat=function(n){var r,t,i;n===void 0&&(n=!1);r=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);t=this.rgbToHex(this.rgb);i=this.convertToRgbString(this.rgb);this.updatePreview(i);this.updateInput(t);this.triggerEvent(t,r,i,n)},e.prototype.updateInput=function(n){var t=this.getWrapper();t.classList.contains(is)||(t.classList.contains(lb)||c.setValue(n.substr(0,7),tt("."+rut,this.container)),t.classList.contains(hh)||(this.isRgb?this.updateValue(this.rgb,!1):this.updateValue(this.hsv,!1)))},e.prototype.updatePreview=function(n){this.enableOpacity&&this.updateOpacitySliderBg();tt(".e-tip-transparent",this.tooltipEle).style.backgroundColor=n;tt("."+uv+" ."+hb,this.container).style.backgroundColor=n;tt("."+uv+" ."+fv,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},e.prototype.getDragHandler=function(){return tt("."+iut,this.container)},e.prototype.removeTileSelection=function(){var n=[].slice.call(hu("."+wc,this.container.children[0]));n.forEach(function(n){n.classList.remove(wc);n.setAttribute("aria-selected","false")})},e.prototype.convertRgbToNumberArray=function(n){return n.slice(n.indexOf("(")+1,n.indexOf(")")).split(",").map(function(n,t){return t!==3?parseInt(n,10):parseFloat(n)})},e.prototype.getValue=function(n,t){var i,r,u;return n||(n=this.value),t=t?t.toLowerCase():"hex",n[0]==="r"?(i=this.convertRgbToNumberArray(n),t==="hex"||t==="hexa"?(r=this.rgbToHex(i),t==="hex"?r.slice(0,7):r):t==="hsv"?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):t==="hsva"?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"):n[0]==="h"?(i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(n)),t==="rgba"?this.convertToRgbString(i):t==="hex"||t==="hexa"?(r=this.rgbToHex(i),t==="hex"?r.slice(0,7):r):t==="rgb"?this.convertToRgbString(i.slice(0,3)):"null"):(n=this.roundValue(n),u=this.hexToRgb(n),(t==="rgb"||t==="hsv")&&(u=u.slice(0,3)),t==="rgba"||t==="rgb"?this.convertToRgbString(u):t==="hsva"||t==="hsv"?this.convertToHsvString(this.rgbToHsv.apply(this,u)):t==="hex"?n.slice(0,7):t==="a"?u[3].toString():"null")},e.prototype.toggle=function(){this.splitBtn.toggle()},e.prototype.getModuleName=function(){return"colorpicker"},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.wireEvents=function(){if(this.isPicker()){var n=this.getDragHandler();r.add(n,"keydown",this.pickerKeyDown,this);r.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this);(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent();r.add(tt("."+fv,this.container),"click",this.previewHandler,this)}else r.add(this.container,"click",this.paletteClickHandler,this),r.add(this.container,"keydown",this.paletteKeyDown,this)},e.prototype.addCtrlSwitchEvent=function(){r.add(tt("."+sh,this.container),"click",this.btnClickHandler,this)},e.prototype.pickerKeyDown=function(n){switch(n.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,n);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,n);break;case 38:this.handlerDragPosition(2,1,n);break;case 40:this.handlerDragPosition(2,-1,n);break;case 13:n.preventDefault();var t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,n)}},e.prototype.enterKeyHandler=function(n,t){this.triggerChangeEvent(n);this.inline||(this.closePopup(t),this.splitBtn.element.focus())},e.prototype.closePopup=function(n){var t={element:this.container,event:n,cancel:!1};this.trigger("beforeClose",t);t.cancel||(this.toggle(),this.onPopupClose())},e.prototype.triggerChangeEvent=function(n){var t=n.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))}});this.setProperties({value:n},!0);this.element.value=t?t:"#000000"},e.prototype.handlerDragPosition=function(n,t,i){i.preventDefault();this.hsv[n]+=t*(i.ctrlKey?1:3);this.hsv[n]<0&&(this.hsv[n]=0);this.updateHsv();this.convertToOtherFormat(!0)},e.prototype.handlerDown=function(n){n.preventDefault();n.type==="mousedown"?(this.clientX=Math.abs(n.pageX-pageXOffset),this.clientY=Math.abs(n.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(n.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(n.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8));this.setHsv(this.clientX,this.clientY);this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)";this.updateHsv();this.convertToOtherFormat();this.getDragHandler().focus();r.add(document,"mousemove touchmove",this.handlerMove,this);r.add(document,"mouseup touchend",this.handlerEnd,this)},e.prototype.handlerMove=function(n){var i,r;n.type!=="touchmove"&&n.preventDefault();n.type==="mousemove"?(i=Math.abs(n.pageX-pageXOffset),r=Math.abs(n.pageY-pageYOffset)):(i=Math.abs(n.changedTouches[0].pageX-pageXOffset),r=Math.abs(n.changedTouches[0].pageY-pageYOffset));this.setHsv(i,r);var t=this.getDragHandler(),u=parseInt(t.style.left,10),f=parseInt(t.style.top,10);this.updateHsv();this.convertToOtherFormat();this.getTooltipInst().refresh(t);this.tooltipEle.style.transform||(Math.abs(this.clientX-i)>8||Math.abs(this.clientY-r)>8)&&(tt("."+yc,this.container).style.cursor="pointer",t.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",t.classList.add("e-hide-handler"))},e.prototype.setHsv=function(n,t){var i=tt("."+yc,this.container),r=i.getBoundingClientRect();n=this.enableRtl?n>r.right?0:Math.abs(n-r.right):n>r.left?Math.abs(n-r.left):0;t=t>r.top?Math.abs(t-r.top):0;this.hsv[2]=Math.round(Number(100*(i.offsetHeight-Math.max(0,Math.min(i.offsetHeight,t-i.offsetTop)))/i.offsetHeight)*10)/10;this.hsv[1]=Math.round(Number(100*Math.max(0,Math.min(i.offsetWidth,n-i.offsetLeft))/i.offsetWidth)*10)/10},e.prototype.handlerEnd=function(n){n.type!=="touchend"&&n.preventDefault();r.remove(document,"mousemove touchmove",this.handlerMove);r.remove(document,"mouseup touchend",this.handlerEnd);var t=this.getDragHandler();tt("."+yc,this.container).style.cursor="";this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler"));this.inline||this.showButtons||this.closePopup(n)},e.prototype.btnClickHandler=function(n){var t=n.target;k(t,"."+iv)?(n.stopPropagation(),this.switchToPalette()):(t.classList.contains(tv)||t.classList.contains(sb))&&this.ctrlBtnClick(t,n)},e.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"});this.unWireEvents();this.destroyOtherComp();a(tt(".e-slider-preview",this.container));this.getWrapper().classList.contains(is)||lt(tt("."+ch,this.container));a(this.getHsvContainer());this.createPalette();this.firstPaletteFocus();this.createInput();this.refreshPopupPos();this.wireEvents()},e.prototype.refreshPopupPos=function(){if(!this.inline){var n=this.getPopupEle();n.style.left=g(0+pageXOffset);n.style.top=g(0+pageYOffset);this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},e.prototype.formatSwitchHandler=function(n){var t=n.target.parentElement;this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},e.prototype.updateValue=function(n,t,i,r){for(var e=["e-rh-value","e-gs-value","e-bv-value"],f,u=0,o=e.length;u<o;u++)f=po(tt("."+e[u],this.container),gw),f.value=Math.round(n[u]),t&&(f.placeholder=e[u].substr(i,1).toUpperCase(),f.max=r?r[u]:255),f.dataBind()},e.prototype.previewHandler=function(n){var r=n.target,u=this.rgbToHex(this.rgb),i,t;this.rgb=this.convertRgbToNumberArray(r.style.backgroundColor);this.rgb[3]||(this.rgb[3]=1);i=this.rgbToHex(this.rgb);t=this.rgbToHsv.apply(this,this.rgb);t[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:t[0]},!0),this.hueSlider.refresh());this.setHsvContainerBg(t[0]);this.enableOpacity&&t[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:t[3]*100},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg());this.hsv=t;this.setHandlerPosition();this.updateInput(i);tt("."+uv+" ."+hb,this.container).style.backgroundColor=this.convertToRgbString(this.rgb);this.triggerEvent(i,u,this.convertToRgbString(this.rgb))},e.prototype.paletteClickHandler=function(n){var t,i,r;n.preventDefault();t=n.target;t.classList.contains(ev)?(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(vb)?this.noColorTile():(i=t.getAttribute("aria-label"),r=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(this.roundValue(i)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(lh)&&this.updateInput(i),this.triggerEvent(i,r,this.convertToRgbString(this.rgb))),this.inline||this.showButtons||this.closePopup(n)):k(t,"."+iv)?this.switchToPicker():t.classList.contains(tv)||t.classList.contains(sb)?this.ctrlBtnClick(t,n):this.getWrapper().classList.contains(lh)&&k(t,"."+tut)&&this.formatSwitchHandler(n)},e.prototype.noColorTile=function(n){n===void 0&&(n=!1);var t=this.rgbToHex(this.rgb);this.rgb=[];this.hsv=[];this.triggerEvent("",t,"",n)},e.prototype.switchToPicker=function(){var t=this.getWrapper(),n;this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"});this.unWireEvents();[].slice.call(hu("."+pc,this.container)).forEach(function(n){a(n)});t.classList.contains(lh)&&a(tt("."+ch,this.container));this.container.style.width="";n=tt(".e-custom-palette",this.container);this.presetColors&&lt(n);this.createPicker();this.getDragHandler().focus();this.createInput();this.refreshPopupPos();this.wireEvents()},e.prototype.ctrlBtnClick=function(n,t){if(n.classList.contains(tv)){var i=this.rgbToHex(this.rgb);this.triggerChangeEvent(i)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())},e.prototype.paletteKeyDown=function(n){var e=n.target,u,r,t,i,f;if(e.classList.contains(pc)){t=[].slice.call(hu("."+ev,e));i=t.filter(function(n){return n.classList.contains("e-selected")}).pop();switch(!n.altKey&&n.keyCode){case 39:n.preventDefault();u=i?t[this.tilePosition(t,i,this.enableRtl?-1:1)]:t[this.enableRtl?t.length-1:0];this.keySelectionChanges(u);break;case 37:n.preventDefault();u=i?t[this.tilePosition(t,i,this.enableRtl?1:-1)]:t[this.enableRtl?0:t.length-1];this.keySelectionChanges(u);break;case 38:n.preventDefault();r=i?this.tilePosition(t,i,-this.columns):0;u=t[r]?t[r]:t[r-this.columns];this.keySelectionChanges(u);break;case 40:n.preventDefault();r=i?this.tilePosition(t,i,this.columns):t.length-1;t[r]?u=t[r]:(r%=t.length,r+=t[t.length-1].parentElement.childElementCount,u=t[r]);this.keySelectionChanges(u);break;case 13:n.preventDefault();i&&(f=i.getAttribute("aria-label"),this.enterKeyHandler(f?f:"",n))}}},e.prototype.keySelectionChanges=function(n){if(this.removeTileSelection(),this.addTileSelection(n),n.classList.contains(vb))this.noColorTile(!0);else{var t=n.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t);this.hsv=this.rgbToHsv.apply(this,this.rgb);this.getWrapper().classList.contains(lh)&&this.updateInput(t);this.triggerEvent(t,i,this.convertToRgbString(this.rgb),!0)}},e.prototype.tilePosition=function(n,t,i){n=Array.prototype.slice.call(n);var u=n.length,f=this.columns-n[u-1].parentElement.childElementCount,r=n.indexOf(t);return r+=i,r<0?r+=u+f:r%=u+f,r},e.prototype.inputHandler=function(n){var t=n.target,r,i,f,u;if(t.value.length){f=tt(".e-float-text",t.parentElement).textContent;switch(f){case"HEX":if(u="",(t.value[0]==="#"&&t.value.length!==5||t.value[0]!=="#"&&t.value.length!==4)&&(u=this.roundValue(t.value)),u.length===9)i=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(u+u.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),i,t.value);else return;break;case"R":this.rgb[0]!==Number(t.value)&&(i=this.rgbToHex(this.rgb),this.rgb[0]=Number(t.value),r=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(r,i));break;case"G":this.rgb[1]!==Number(t.value)&&(i=this.rgbToHex(this.rgb),this.rgb[1]=Number(t.value),r=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(r,i));break;case"B":this.rgb[2]!==Number(t.value)&&(i=this.rgbToHex(this.rgb),this.rgb[2]=Number(t.value),r=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(r,i));break;case"H":this.hueSlider.value=Number(t.value);break;case"S":this.hsv[1]!==Number(t.value)&&(this.hsv[1]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(t.value)&&(this.hsv[2]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(t.value)}}},e.prototype.inputValueChange=function(n,t,i){var r,u;n[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:n[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(n[0]));this.hsv=n;r=this.rgbToHex(this.rgb);this.setHandlerPosition();this.updateInput(i?i:r);u=this.convertToRgbString(this.rgb);this.updatePreview(u);this.triggerEvent(r,t,u)},e.prototype.triggerEvent=function(n,t,i,r){r===void 0&&(r=!1);var u=n.slice(0,7),f={currentValue:{hex:u,rgba:i},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}};this.showButtons||r?this.trigger("select",f):(f.previousValue={hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},this.trigger("change",f),this.setProperties({value:n},!0),this.element.value=u?u:"#000000")},e.prototype.destroy=function(){var i=this,t=this.getWrapper();n.prototype.destroy.call(this);["tabindex","spellcheck"].forEach(function(n){i.element.removeAttribute(n)});this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null);this.tileRipple();this.tileRipple=null;this.ctrlBtnRipple();this.ctrlBtnRipple=null;a(this.element.nextElementSibling);t.parentElement.insertBefore(this.element,t);a(t);this.container=null},e.prototype.destroyOtherComp=function(){if(this.isPicker()){this.hueSlider.destroy();this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null);this.hueSlider=null;var n=this.getTooltipInst();n.close();n.destroy();this.tooltipEle=null}},e.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},e.prototype.unWireEvents=function(){if(this.isPicker()){var t=this.getWrapper(),n=this.getDragHandler();r.remove(n,"keydown",this.pickerKeyDown);r.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown);(this.modeSwitcher||this.showButtons)&&r.remove(tt("."+sh,this.container),"click",this.btnClickHandler);r.remove(tt("."+fv,this.container),"click",this.previewHandler)}else r.remove(this.container,"click",this.paletteClickHandler),r.remove(this.container,"keydown",this.paletteKeyDown)},e.prototype.roundValue=function(n){var t,r,i,u;if(!n)return"";if(n[0]!=="#"&&(n="#"+n),t=n.length,t===4&&(n+="f",t=5),t===5){for(r="",i=1,u=n.length;i<u;i++)r+=n.charAt(i)+n.charAt(i);n="#"+r;t=9}return t===7&&(n+="ff"),n},e.prototype.hexToRgb=function(n){var r,i,t;return n?(n=n.trim(),n.length!==9&&(n=this.roundValue(n)),r=Number((parseInt(n.slice(-2),16)/255).toFixed(2)),n=n.slice(1,7),i=parseInt(n,16),t=[],t.push(i>>16&255),t.push(i>>8&255),t.push(i&255),t.push(r),t):[]},e.prototype.rgbToHsv=function(n,i,r,u){var s;if(this.rgb&&!this.rgb.length)return[];n/=255;i/=255;r/=255;var f=Math.max(n,i,r),h=Math.min(n,i,r),e,c,l=f,o=f-h;if(c=f===0?0:o/f,f===h)e=0;else{switch(f){case n:e=(i-r)/o+(i<r?6:0);break;case i:e=(r-n)/o+2;break;case r:e=(n-i)/o+4}e/=6}return s=[Math.round(e*360),Math.round(c*1e3)/10,Math.round(l*1e3)/10],t(u)||s.push(u),s},e.prototype.hsvToRgb=function(n,i,r,u){var f,e,o,l,a,s,h,c,v;if(i/=100,r/=100,i===0)return f=e=o=r,[Math.round(f*255),Math.round(e*255),Math.round(o*255),u];n/=60;l=Math.floor(n);a=n-l;s=r*(1-i);h=r*(1-i*a);c=r*(1-i*(1-a));switch(l){case 0:f=r;e=c;o=s;break;case 1:f=h;e=r;o=s;break;case 2:f=s;e=r;o=c;break;case 3:f=s;e=h;o=r;break;case 4:f=c;e=s;o=r;break;default:f=r;e=s;o=h}return v=[Math.round(f*255),Math.round(e*255),Math.round(o*255)],t(u)||v.push(u),v},e.prototype.rgbToHex=function(n){return n.length?"#"+this.hex(n[0])+this.hex(n[1])+this.hex(n[2])+(t(n[3])?"":n[3]!==0?(Math.round(n[3]*255)+65536).toString(16).substr(-2):"00"):""},e.prototype.hex=function(n){return("0"+n.toString(16)).slice(-2)},e.prototype.changeModeSwitcherProp=function(n){var t=tt("."+sh,this.container);n?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?a(tt("."+iv,t)):lt(t))},e.prototype.changeShowBtnProps=function(n){var t=tt("."+sh,this.container);n?(t&&lt(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?a(tt("."+cb,t)):lt(t)},e.prototype.changeValueProp=function(n){this.isPicker()?(this.rgb=this.hexToRgb(n),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),a(k(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(n)):(this.removeTileSelection(),this.addTileSelection(tt('span[aria-label="'+this.roundValue(n)+'"]',this.container)));this.element.value=n.slice(0,7)},e.prototype.setInputEleProps=function(){lt(tt("."+ch,this.container));this.createInput()},e.prototype.changeDisabledProp=function(n){this.isPicker()&&(this.hueSlider.enabled=!n,this.opacitySlider.enabled=!n,this.setInputEleProps(n));n?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},e.prototype.changeCssClassProps=function(n,t){var i=this.getWrapper(),r=this.getPopupEle();t&&h([i,r],t.split(" "));n&&u([i,r],n.split(" "))},e.prototype.changeRtlProps=function(n){n?u([this.getWrapper()],"e-rtl"):h([this.getWrapper()],"e-rtl")},e.prototype.changePaletteProps=function(){a(this.container.children[0]);this.container.style.width="";this.createPalette()},e.prototype.changeOpacityProps=function(n){var t=this.getWrapper();n?(h([this.container.parentElement],ab),this.createOpacitySlider(tt(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),t.classList.contains(is)||t.classList.contains(hh)||this.appendOpacityValue(tt(".e-input-container",this.container))):(u([this.container.parentElement],ab),this.opacitySlider.destroy(),lt(this.opacitySlider.element),this.opacitySlider=null,t.classList.contains(is)||t.classList.contains(hh)||lt(tt("."+yb,this.container).parentElement))},e.prototype.onPropertyChanged=function(n,i){var f=this,c=this.getWrapper(),o,s,r,u,e,h;if(!this.inline&&t(n.inline)&&(o=["disabled","enableRtl"],this.splitBtn.setProperties(ka(n,o)),!this.isPopupOpen())){n.value&&(tt("."+wb,this.splitBtn.element).style.backgroundColor=n.value);this.changeCssClassProps(n.cssClass,i.cssClass);this.changeRtlProps(n.enableRtl);return}for(s=function(t){var u,e;switch(t){case"inline":n.inline?(r.getWrapper().appendChild(r.container),r.splitBtn.destroy(),a(r.element.nextElementSibling),r.container.children.length||r.createWidget()):(r.destroyOtherComp(),r.unWireEvents(),r.container.innerHTML="",r.createSplitBtn());break;case"cssClass":r.changeCssClassProps(n.cssClass,i.cssClass);u=n.cssClass.split(" ").concat(i.cssClass.split(" "));u=u.reduce(function(n,t){return n.indexOf(t)<0&&n.push(t),n},[]);e=0;u.forEach(function(n){if(e===0&&(n===is||n===uut||n===lh||n===lb||n===hh)){var t=tt("."+ch,f.container);t&&lt(tt("."+ch,f.container));f.createInput();e++}});break;case"enableRtl":r.isPicker()&&(r.hueSlider.enableRtl=n.enableRtl,r.enableOpacity&&(r.opacitySlider.enableRtl=n.enableRtl),r.setInputEleProps(n.enableRtl));r.changeRtlProps(n.enableRtl);break;case"disabled":r.changeDisabledProp(n.disabled);break;case"value":r.changeValueProp(n.value);break;case"showButtons":r.changeShowBtnProps(n.showButtons);break;case"mode":n.mode==="Picker"?r.switchToPicker():r.switchToPalette();break;case"modeSwitcher":r.changeModeSwitcherProp(n.modeSwitcher);break;case"columns":case"presetColors":r.isPicker()||r.changePaletteProps();break;case"noColor":n.noColor?r.mode!=="Palette"||r.modeSwitcher||r.setNoColor():r.changePaletteProps();break;case"enableOpacity":r.changeOpacityProps(n.enableOpacity)}},r=this,u=0,e=Object.keys(n);u<e.length;u++)h=e[u],s(h)},ai([i("#008000ff")],e.prototype,"value",void 0),ai([i("")],e.prototype,"cssClass",void 0),ai([i(!1)],e.prototype,"disabled",void 0),ai([i(!1)],e.prototype,"enableRtl",void 0),ai([i("Picker")],e.prototype,"mode",void 0),ai([i(!0)],e.prototype,"modeSwitcher",void 0),ai([i(null)],e.prototype,"presetColors",void 0),ai([i(!0)],e.prototype,"showButtons",void 0),ai([i(10)],e.prototype,"columns",void 0),ai([i(!1)],e.prototype,"inline",void 0),ai([i(!1)],e.prototype,"noColor",void 0),ai([i(!1)],e.prototype,"enablePersistence",void 0),ai([i(!0)],e.prototype,"enableOpacity",void 0),ai([f()],e.prototype,"select",void 0),ai([f()],e.prototype,"change",void 0),ai([f()],e.prototype,"beforeTileRender",void 0),ai([f()],e.prototype,"beforeOpen",void 0),ai([f()],e.prototype,"open",void 0),ai([f()],e.prototype,"beforeClose",void 0),ai([f()],e.prototype,"beforeModeSwitch",void 0),ai([f()],e.prototype,"created",void 0),ai([vt],e)}(vi),bdt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),vr=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},kdt="e-textbox",ddt="e-control",gdt="e-clear-icon-hide",fri=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.previousValue=null,r}return bdt(t,n),t.prototype.onPropertyChanged=function(n){for(var r,u,t=0,i=Object.keys(n);t<i.length;t++){r=i[t];switch(r){case"floatLabelType":c.removeFloating(this.textboxWrapper);c.addFloating(this.element,this.floatLabelType,this.placeholder);break;case"enabled":c.setEnabled(this.enabled,this.element,this.floatLabelType,this.textboxWrapper.container);break;case"value":u=this.isProtectedOnChange;this.isProtectedOnChange=!0;this.isBlank(this.value)||(this.value=this.value.toString());this.isProtectedOnChange=u;c.setValue(this.value,this.element,this.floatLabelType,this.showClearButton);this.raiseChangeEvent();break;case"readonly":c.setReadonly(this.readonly,this.element);break;case"type":this.element.setAttribute("type",this.type);this.raiseChangeEvent();break;case"showClearButton":c.setClearButton(this.showClearButton,this.element,this.textboxWrapper);this.bindClearEvent();break;case"enableRtl":c.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":c.setPlaceholder(this.placeholder,this.element);break;case"cssClass":c.setCssClass(this.cssClass,[this.textboxWrapper.container]);break;case"locale":this.globalize=new hi(this.locale);this.l10n.setLocale(this.locale);this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0);c.setPlaceholder(this.placeholder,this.element)}}},t.prototype.getModuleName=function(){return"textbox"},t.prototype.isBlank=function(n){return!n||/^\s*$/.test(n)},t.prototype.preRender=function(){var i,r;if(this.cloneElement=this.element.cloneNode(!0),this.element.tagName==="EJS-TEXTBOX"){var u=p("ej2_instances",this.element),t=this.createElement("input"),n=0;for(n;n<this.element.attributes.length;n++)t.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML;this.element.appendChild(t);this.element=t;ii("ej2_instances",u,this.element)}i=this.element.attributes;this.checkAttributes(i);this.element.setAttribute("type",this.type);this.globalize=new hi(this.locale);r={placeholder:this.placeholder};this.l10n=new du("textbox",r,this.locale);this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0);this.element.hasAttribute("id")||this.element.setAttribute("id",wr("textbox"))},t.prototype.checkAttributes=function(n){for(var i,t=0;t<n.length;t++)i=n[t].nodeName,i==="disabled"?this.setProperties({enabled:!1},!0):i==="readonly"?this.setProperties({readonly:!0},!0):i==="placeholder"&&this.setProperties({placeholder:n[t].nodeValue},!0)},t.prototype.render=function(){this.textboxWrapper=c.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:this.cssClass,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}});this.wireEvents()},t.prototype.wireEvents=function(){r.add(this.element,"focus",this.focusHandler,this);r.add(this.element,"blur",this.focusOutHandler,this);r.add(this.element,"input",this.inputHandler,this);r.add(this.element,"change",this.changeHandler,this);this.enabled&&this.bindClearEvent()},t.prototype.focusHandler=function(n){var t={container:this.textboxWrapper.container,event:n,value:this.value};this.trigger("focus",t)},t.prototype.focusOutHandler=function(n){this.previousValue===null&&this.value===null&&this.element.value===""||this.previousValue===this.element.value||this.raiseChangeEvent(n,!0);var t={container:this.textboxWrapper.container,event:n,value:this.value};this.trigger("blur",t)},t.prototype.inputHandler=function(n){var t={event:n,value:this.element.value,previousValue:this.value,container:this.textboxWrapper.container};this.trigger("input",t)},t.prototype.changeHandler=function(n){this.setProperties({value:this.element.value},!0);this.raiseChangeEvent(n,!0)},t.prototype.raiseChangeEvent=function(n,t){var i={event:n,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t?t:!1};this.trigger("change",i);this.previousValue=this.value},t.prototype.bindClearEvent=function(){this.showClearButton&&r.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this)},t.prototype.resetInputHandler=function(n){n.preventDefault();this.textboxWrapper.clearButton.classList.contains(gdt)||c.setValue("",this.element,this.floatLabelType,this.showClearButton)},t.prototype.unWireEvents=function(){r.remove(this.element,"focus",this.focusHandler);r.remove(this.element,"blur",this.focusOutHandler);r.remove(this.element,"input",this.inputHandler);r.remove(this.element,"change",this.changeHandler)},t.prototype.destroy=function(){this.unWireEvents();this.textboxWrapper.container.parentElement.appendChild(this.cloneElement);a(this.textboxWrapper.container);this.textboxWrapper=null;this.cloneElement.classList.remove(kdt,ddt);n.prototype.destroy.call(this)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.addAttributes=function(n){for(var t,i=0,r=Object.keys(n);i<r.length;i++)t=r[i],t==="disabled"?(this.setProperties({enabled:!1},!0),c.setEnabled(this.enabled,this.element,this.floatLabelType,this.textboxWrapper.container)):t==="readonly"?(this.setProperties({readonly:!0},!0),c.setReadonly(this.readonly,this.element)):t==="class"?this.element.classList.add(n[t]):t==="placeholder"?(this.setProperties({placeholder:n[t]},!0),c.setPlaceholder(this.placeholder,this.element)):this.element.setAttribute(t,n[t])},t.prototype.removeAttributes=function(n){for(var t,i=0,r=n;i<r.length;i++)t=r[i],t==="disabled"?(this.setProperties({enabled:!0},!0),c.setEnabled(this.enabled,this.element,this.floatLabelType,this.textboxWrapper.container)):t==="readonly"?(this.setProperties({readonly:!1},!0),c.setReadonly(this.readonly,this.element)):t==="placeholder"?(this.setProperties({placeholder:null},!0),c.setPlaceholder(this.placeholder,this.element)):this.element.removeAttribute(t)},vr([i("text")],t.prototype,"type",void 0),vr([i(!1)],t.prototype,"readonly",void 0),vr([i(null)],t.prototype,"value",void 0),vr([i("Never")],t.prototype,"floatLabelType",void 0),vr([i("")],t.prototype,"cssClass",void 0),vr([i(null)],t.prototype,"placeholder",void 0),vr([i(!1)],t.prototype,"enableRtl",void 0),vr([i(!0)],t.prototype,"enabled",void 0),vr([i(!1)],t.prototype,"showClearButton",void 0),vr([i(!1)],t.prototype,"enablePersistence",void 0),vr([f()],t.prototype,"created",void 0),vr([f()],t.prototype,"destroyed",void 0),vr([f()],t.prototype,"change",void 0),vr([f()],t.prototype,"blur",void 0),vr([f()],t.prototype,"focus",void 0),vr([f()],t.prototype,"input",void 0),vr([vt],t)}(vi),ngt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),nr=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},tgt="e-date-wrapper",bb="e-datepicker",eut="e-popup-wrapper",igt="e-input-group-icon",rgt="e-popup",ugt="e-input-group",kb="e-input-focus",fgt="e-input",db="e-error",ov="e-active",out="e-date-overflow",egt="e-date-icon",ogt="e-icons",sgt=300,hgt=4,sut=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.previousElementValue="",r.isDateIconClicked=!1,r.keyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",tab:"tab"},r.calendarKeyConfigs={escape:"escape",enter:"enter",tab:"tab"},r}return ngt(e,n),e.prototype.render=function(){this.initialize();this.bindEvents()},e.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):v(this.inputElement,{readonly:""})},e.prototype.initialize=function(){this.createInput();this.setAllowEdit();this.updateInput();this.previousElementValue=this.inputElement.value;this.previousDate=new Date(+this.value)},e.prototype.createInput=function(){var t={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},n;this.getModuleName()==="datepicker"&&(n={placeholder:null},this.globalize=new hi(this.locale),this.l10n=new du("datepicker",n,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0));this.inputWrapper=c.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[igt+" "+egt+" "+ogt]},this.createElement);this.setWidth(this.width);this.inputElement.name!==""?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id);v(this.inputElement,t);this.enabled?this.inputElement.setAttribute("aria-disabled","false"):this.inputElement.setAttribute("aria-disabled","true");c.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]);u([this.inputWrapper.container],tgt)},e.prototype.updateInput=function(){var r,i,f;if(this.value&&!this.isCalendar()&&this.disabledDates(),+new Date(""+this.value)?typeof this.value=="string"&&(this.value=this.checkDateValue(new Date(""+this.value)),r=void 0,r=this.getModuleName()==="datetimepicker"?{format:t(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}:{format:this.format,type:"dateTime",skeleton:"yMd"},i=this.globalize.formatDate(this.value,r),this.setProperties({value:this.globalize.parseDate(i,r)},!0)):this.setProperties({value:null},!0),this.strictMode&&(n.prototype.validateDate.call(this),this.minMaxUpdates(),n.prototype.minMaxUpdate.call(this)),!t(this.value)){var u=this.value,i=void 0,e=t(this.format)?this.dateTimeFormat:this.format;i=this.getModuleName()==="datetimepicker"?this.globalize.formatDate(this.value,{format:e,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.value,{format:this.format,type:"dateTime",skeleton:"yMd"});+u<=+this.max&&+u>=+this.min?c.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton):(f=+u>=+this.max||!+this.value||!+this.value||+u<=+this.min,!this.strictMode&&f&&c.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton))}t(this.value)&&this.strictMode&&c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton);this.changedArgs={value:this.value};this.errorClass()},e.prototype.minMaxUpdates=function(){!t(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!t(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},e.prototype.bindEvents=function(){this.enabled?(r.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),r.add(this.inputElement,"focus",this.inputFocusHandler,this),r.add(this.inputElement,"blur",this.inputBlurHandler,this),r.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&r.add(this.formElement,"reset",this.resetFormHandler,this)):(r.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),r.remove(this.inputElement,"focus",this.inputFocusHandler),r.remove(this.inputElement,"blur",this.inputBlurHandler),r.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&r.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&r.remove(this.formElement,"reset",this.resetFormHandler));this.keyboardModules=new ci(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.keyConfigs})},e.prototype.resetFormHandler=function(){this.inputElement.getAttribute("value")?this.value=this.checkDateValue(new Date(""+this.element.getAttribute("value"))):(this.value=null,this.inputElement&&(c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),v(this.inputElement,{"aria-invalid":"false"}),h([this.inputWrapper.container],db)))},e.prototype.inputChangeHandler=function(n){n.stopPropagation()},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(n){n.preventDefault();this.clear(n)},e.prototype.clear=function(n){this.setProperties({value:null},!0);c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton);this.updateInput();this.changeEvent(n)},e.prototype.dateIconHandler=function(n){o.isDevice&&this.element.setAttribute("readonly","readonly");n.preventDefault();this.readonly||(this.isCalendar()?this.hide(n):(this.isDateIconClicked=!0,this.show(null,n),this.getModuleName()==="datetimepicker"&&this.inputElement.focus(),this.inputElement.focus(),u([this.inputWrapper.container],[kb]),u(this.inputWrapper.buttons,ov)))},e.prototype.CalendarKeyActionHandle=function(n){switch(n.action){case"escape":this.isCalendar()?this.hide(n):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,n);this.getModuleName()==="datetimepicker"&&this.inputElement.focus();break;case"tab":this.hide(n)}},e.prototype.inputFocusHandler=function(){var n={model:this};this.isDateIconClicked=!1;this.trigger("focus",n)},e.prototype.inputBlurHandler=function(n){if(this.strictModeUpdate(),this.updateInput(),this.changeTrigger(n),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(n),this.getModuleName()==="datepicker"){var t={model:this};this.trigger("blur",t)}this.isCalendar()&&(this.calendarKeyboardModules=new ci(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.CalendarKeyActionHandle.bind(this),keyConfigs:this.calendarKeyConfigs}))},e.prototype.documentHandler=function(n){n.type!=="touchstart"&&n.preventDefault();var t=n.target;k(t,".e-datepicker.e-popup-wrapper")||k(t,"."+ugt)===this.inputWrapper.container||t.classList.contains("e-day")||this.hide(n)},e.prototype.inputKeyActionHandle=function(i){switch(i.action){case"altUpArrow":this.hide(i);this.inputElement.focus();break;case"altDownArrow":this.strictModeUpdate();this.updateInput();this.changeTrigger(i);this.getModuleName()==="datepicker"&&this.show(null,i);break;case"escape":this.hide(i);break;case"enter":this.strictModeUpdate();this.updateInput();this.changeTrigger(i);this.errorClass();this.isCalendar()||document.activeElement!==this.inputElement||this.hide(i);this.isCalendar()&&i.preventDefault();break;case"tab":this.strictModeUpdate();this.updateInput();this.changeTrigger(i);this.errorClass();this.hide(i);break;default:this.previousDate=!t(this.value)&&new Date(+this.value)||null;this.isCalendar()&&n.prototype.keyActionHandle.call(this,i)}},e.prototype.strictModeUpdate=function(){var n,u,r,i;n=this.getModuleName()==="datetimepicker"?t(this.format)?this.dateTimeFormat:this.format:t(this.format)?this.format:this.format.replace("dd","d");t(n)||(u=n.split("M").length-1,u<3&&(n=n.replace("MM","M")));r=this.getModuleName()==="datetimepicker"?{format:t(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd"};i=this.getModuleName()==="datetimepicker"?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,r))?this.globalize.parseDate(this.inputElement.value,r):this.globalize.parseDate(this.inputElement.value,{type:"dateTime",skeleton:"yMd"}):this.globalize.parseDate(this.inputElement.value,r);this.strictMode&&i?(c.setValue(this.globalize.formatDate(i,r),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:i},!0);this.strictMode&&!i&&this.inputElement.value===""&&this.setProperties({value:null},!0);isNaN(+this.value)&&this.setProperties({value:null},!0);t(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},e.prototype.createCalendar=function(){var n=this;this.popupWrapper=this.createElement("div",{className:""+bb+" "+eut});t(this.cssClass)||this.popupWrapper.classList.add(this.cssClass);o.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=""+bb+" e-date-modal",document.body.className+=" "+out,this.modal.style.display="block",document.body.appendChild(this.modal));this.calendarElement.querySelector("table tbody").className="";this.popupObj=new to(this.popupWrapper,{content:this.calendarElement,relateTo:o.isDevice?document.body:this.inputWrapper.container,position:o.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:hgt,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:o.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){n.getModuleName()!=="datetimepicker"&&document.activeElement!==n.inputElement&&(n.calendarElement.children[1].firstElementChild.focus(),n.calendarKeyboardModules=new ci(n.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:n.CalendarKeyActionHandle.bind(n),keyConfigs:n.calendarKeyConfigs}),n.calendarKeyboardModules=new ci(n.inputWrapper.container.children[n.index],{eventName:"keydown",keyAction:n.CalendarKeyActionHandle.bind(n),keyConfigs:n.calendarKeyConfigs}))},close:function(){n.isDateIconClicked&&n.inputWrapper.container.children[n.index].focus();n.value&&n.disabledDates();n.popupObj&&n.popupObj.destroy();a(n.popupWrapper);n.popupObj=n.popupWrapper=null;n.setAriaAttributes()}});this.popupObj.element.classList.add(this.cssClass);this.setAriaAttributes()},e.prototype.modelHeader=function(){var n=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),t=this.createElement("div"),r=this.createElement("span",{className:"e-model-day"}),u=this.createElement("span",{className:"e-model-month"});i.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"y",skeleton:"dateTime"});r.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"E",skeleton:"dateTime"})+", ";u.textContent=""+this.globalize.formatDate(this.value||new Date,{format:"MMM d",skeleton:"dateTime"});n.appendChild(i);t.appendChild(r);t.appendChild(u);n.appendChild(t);this.calendarElement.insertBefore(n,this.calendarElement.firstElementChild)},e.prototype.changeTrigger=function(n){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.changedArgs.value=this.value,this.changedArgs.event=n||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!t(n),this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=new Date(""+this.value))},e.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},e.prototype.changeEvent=function(n){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(n),this.changedArgs.event=n?n:null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!t(n),this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.hide(n),this.previousElementValue=this.inputElement.value,this.errorClass())},e.prototype.selectCalendar=function(){var n,i;i=this.getModuleName()==="datetimepicker"?t(this.format)?this.dateTimeFormat:this.format:this.format;this.value&&(n=this.getModuleName()==="datetimepicker"?this.globalize.formatDate(this.changedArgs.value,{format:i,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.changedArgs.value,{format:this.format,type:"dateTime",skeleton:"yMd"}));t(n)||c.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.isCalendar=function(){return this.popupWrapper&&this.popupWrapper.classList.contains(""+eut)?!0:!1},e.prototype.setWidth=function(n){this.inputWrapper.container.style.width=typeof n=="number"?g(this.width):typeof n=="string"?n.match(/px|%|em/)?this.width:g(this.width):"100%"},e.prototype.show=function(i,f){var s,e,h;this.enabled&&this.readonly||!this.enabled||this.popupObj||(s=!0,e=void 0,t(this.value)||+this.value>=+this.min&&+this.value<=+this.max?e=this.value||null:(e=new Date(""+this.value),this.setProperties({value:null},!0)),this.isCalendar()||(n.prototype.render.call(this),this.setProperties({value:e||null},!0),this.previousDate=e,this.createCalendar()),this.preventArgs={preventDefault:function(){s=!1},popup:this.popupObj,event:f||null,cancel:!1,appendTo:document.body},this.trigger("open",this.preventArgs),s&&!this.preventArgs.cancel?(u(this.inputWrapper.buttons,ov),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement),h={name:"FadeIn",duration:o.isDevice?0:sgt},this.zIndex===1e3?this.popupObj.show(new di(h),this.element):this.popupObj.show(new di(h),null),this.setAriaAttributes()):(this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),r.add(document,"mousedown touchstart",this.documentHandler,this))},e.prototype.hide=function(n){if(!t(this.popupWrapper)){var i=!0;this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,event:n||null,cancel:!1};h(this.inputWrapper.buttons,ov);h([document.body],out);this.isCalendar()&&this.trigger("close",this.preventArgs);this.isCalendar()&&i&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.keyboardModule.destroy(),h(this.inputWrapper.buttons,ov));this.setAriaAttributes();this.previousElementValue=this.inputElement.value;o.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);r.remove(document,"mousedown touchstart",this.documentHandler)}o.isDevice&&this.element.removeAttribute("readonly")},e.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){this.inputElement.focus();u([this.inputWrapper.container],[kb]);var n={model:this};this.trigger("focus",n)}},e.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur();h([this.inputWrapper.container],[kb]);var n={model:this};this.trigger("blur",n)}},e.prototype.currentView=function(){var t;return this.calendarElement&&(t=n.prototype.currentView.call(this)),t},e.prototype.navigateTo=function(t,i){this.calendarElement&&n.prototype.navigateTo.call(this,t,i)},e.prototype.destroy=function(){n.prototype.destroy.call(this);this.keyboardModules.destroy();this.popupObj&&this.popupObj.element.classList.contains(rgt)&&n.prototype.destroy.call(this);var t={"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.inputElement&&(c.removeAttributes(t,this.inputElement),r.remove(this.inputElement,"blur",this.inputBlurHandler),r.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute());this.isCalendar()&&(this.popupWrapper&&a(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy());this.ngTag===null&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),h([this.inputElement],[fgt])),h([this.element],[bb]),a(this.inputWrapper.container));this.formElement&&r.remove(this.formElement,"reset",this.resetFormHandler)},e.prototype.ensureInputAttribute=function(){for(var i,n=0;n<this.inputElement.attributes.length;n++)i=this.inputElement.attributes[n].name,t(this.inputEleCopy.getAttribute(i))&&((i.toLowerCase()==="value"||t(this.inputEleCopy.getAttribute("value")))&&(this.inputElement.value=""),this.inputElement.removeAttribute(i))},e.prototype.preRender=function(){this.inputEleCopy=this.element.cloneNode(!0);this.inputElement=this.element;this.formElement=k(this.inputElement,"form");this.index=this.showClearButton?2:1;this.ngTag=null;(this.element.tagName==="EJS-DATEPICKER"||this.element.tagName==="EJS-DATETIMEPICKER")&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement));this.element.getAttribute("id")?this.ngTag!==null&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):this.getModuleName()==="datetimepicker"?(this.element.id=wr("ej2-datetimepicker"),this.ngTag!==null&&v(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=wr("ej2-datepicker"),this.ngTag!==null&&v(this.inputElement,{id:this.element.id+"_input"}));this.ngTag!==null&&this.validationAttribute(this.element,this.inputElement);this.checkHtmlAttributes();n.prototype.preRender.call(this)},e.prototype.validationAttribute=function(n,i){var e=n.getAttribute("name")?n.getAttribute("name"):n.getAttribute("id"),u,r,f;for(i.setAttribute("name",e),n.removeAttribute("name"),u=["required","aria-required","form"],r=0;r<u.length;r++)t(n.getAttribute(u[r]))||(f=n.getAttribute(u[r]),i.setAttribute(u[r],f),n.removeAttribute(u[r]))},e.prototype.checkHtmlAttributes=function(){var u,f,i,r,n,e,o,h,s;for(this.globalize=new hi(this.locale),u=["value","min","max","disabled","readonly","style","name","placeholder","type"],f=this.getModuleName()==="datetimepicker"?{format:t(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}:{format:this.format,type:"dateTime",skeleton:"yMd"},i=0,r=u;i<r.length;i++)if(n=r[i],!t(this.inputElement.getAttribute(n)))switch(n){case"disabled":e=this.inputElement.getAttribute(n)==="disabled"||this.inputElement.getAttribute(n)==="";this.setProperties({enabled:!e},!0);break;case"readonly":o=this.inputElement.getAttribute(n)==="readonly"||this.inputElement.getAttribute(n)==="";this.setProperties({readonly:o},!0);break;case"placeholder":this.placeholder===null&&(h=this.inputElement.getAttribute(n),this.setProperties({placeholder:this.inputElement.getAttribute(n)},!0));break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"value":this.value||(s=this.inputElement.getAttribute(n),this.setProperties(ii(n,this.globalize.parseDate(s,f),{}),!0));break;case"min":+this.min==+new Date(1900,0,1)&&this.setProperties(ii(n,this.globalize.parseDate(this.inputElement.getAttribute(n)),{}),!0);break;case"max":+this.max==+new Date(2099,11,31)&&this.setProperties(ii(n,this.globalize.parseDate(this.inputElement.getAttribute(n)),{}),!0);break;case"type":this.inputElement.getAttribute(n)!=="text"&&this.inputElement.setAttribute("type","text")}},e.prototype.getModuleName=function(){return"datepicker"},e.prototype.disabledDates=function(){var i,u,f,r,e;i=this.checkDateValue(this.value)?new Date(+this.value):new Date(""+this.value);u=this.previousDate;this.minMaxUpdates();n.prototype.render.call(this);this.previousDate=u;f=i&&+i;r='*[id^="/id"]'.replace("/id",""+f);this.strictMode||(typeof this.value=="string"||typeof this.value=="object"&&+this.value!=+i)&&this.setProperties({value:i},!0);t(this.calendarElement.querySelectorAll(r)[0])||this.calendarElement.querySelectorAll(r)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0))));e=this.getModuleName()==="datetimepicker"?this.globalize.formatDate(i,{format:t(this.format)?this.dateTimeFormat:this.format,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(i,{format:this.format,type:"dateTime",skeleton:"yMd"});c.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},e.prototype.setAriaAttributes=function(){this.isCalendar()?(c.addAttributes({"aria-expanded":"true"},this.inputElement),v(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(c.addAttributes({"aria-expanded":"false"},this.inputElement),v(this.inputElement,{"aria-activedescendant":"null"}))},e.prototype.errorClass=function(){var n='*[id^="/id"]'.replace("/id",""+ +this.value),i=this.calendarElement&&this.calendarElement.querySelectorAll(n)[0]&&this.calendarElement.querySelectorAll(n)[0].classList.contains("e-disabled");(t(this.value)||+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)&&(this.strictMode||this.inputElement.value===""||!t(this.value))&&!i?h([this.inputWrapper.container],db):u([this.inputWrapper.container],db)},e.prototype.onPropertyChanged=function(i,r){for(var o,s={format:this.format,type:"dateTime",skeleton:"yMd"},f=0,e=Object.keys(i);f<e.length;f++){o=e[f];switch(o){case"value":typeof i.value=="string"&&(i.value=this.checkDateValue(new Date(""+i.value)),this.setProperties({value:i.value},!0));this.previousElementValue=this.inputElement.value;t(this.value)&&(c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.currentDate=new Date((new Date).setHours(0,0,0,0)));this.updateInput();this.changeTrigger(null);break;case"format":this.updateInput();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":c.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":c.setReadonly(this.readonly,this.inputElement);break;case"enabled":c.setEnabled(this.enabled,this.inputElement);this.enabled?this.inputElement.setAttribute("aria-disabled","false"):this.inputElement.setAttribute("aria-disabled","true");this.bindEvents();break;case"locale":this.globalize=new hi(this.locale);this.l10n.setLocale(this.locale);this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0);c.setPlaceholder(this.placeholder,this.inputElement);this.updateInput();break;case"enableRtl":c.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:i.zIndex},!0);break;case"cssClass":c.setCssClass(i.cssClass,[this.inputWrapper.container]);this.popupWrapper&&u([this.popupWrapper],[i.cssClass]);break;case"showClearButton":c.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper);this.bindClearEvent();break;case"strictMode":this.updateInput();break;case"width":this.setWidth(i.width);break;case"floatLabelType":this.floatLabelType=i.floatLabelType;c.removeFloating(this.inputWrapper);c.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:this.calendarElement&&n.prototype.onPropertyChanged.call(this,i,r)}this.hide(null)}},nr([i(null)],e.prototype,"width",void 0),nr([i(null)],e.prototype,"cssClass",void 0),nr([i(!1)],e.prototype,"strictMode",void 0),nr([i(null)],e.prototype,"format",void 0),nr([i(!0)],e.prototype,"enabled",void 0),nr([i(!0)],e.prototype,"showClearButton",void 0),nr([i(!0)],e.prototype,"allowEdit",void 0),nr([i(!1)],e.prototype,"enableRtl",void 0),nr([i(!1)],e.prototype,"enablePersistence",void 0),nr([i(1e3)],e.prototype,"zIndex",void 0),nr([i(!1)],e.prototype,"readonly",void 0),nr([i(null)],e.prototype,"placeholder",void 0),nr([i("Never")],e.prototype,"floatLabelType",void 0),nr([f()],e.prototype,"open",void 0),nr([f()],e.prototype,"close",void 0),nr([f()],e.prototype,"blur",void 0),nr([f()],e.prototype,"focus",void 0),nr([f()],e.prototype,"created",void 0),nr([f()],e.prototype,"destroyed",void 0),nr([vt],e)}(svt),wi=function(){function n(n){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="",typeof n=="string"?this.fromTable=n:n&&n instanceof Array&&(this.lookups=n),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return n.prototype.setKey=function(n){return this.key=n,this},n.prototype.using=function(n){return this.dataManager=n,this},n.prototype.execute=function(n,t,i,r){return(n=n||this.dataManager,n)?n.executeQuery(this,t,i,r):l.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},n.prototype.executeLocal=function(n){return(n=n||this.dataManager,n)?n.executeLocal(this):l.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},n.prototype.clone=function(){var t=new n;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t},n.prototype.from=function(n){return this.fromTable=n,this},n.prototype.addParams=function(n,t){return typeof t=="function"?this.params.push({key:n,fn:t}):this.params.push({key:n,value:t}),this},n.prototype.distinct=function(n){return this.distincts=typeof n=="string"?[].slice.call([n],0):n.slice(0),this},n.prototype.expand=function(n){return this.expands=typeof n=="string"?[].slice.call([n],0):n.slice(0),this},n.prototype.where=function(n,t,i,r,u){t=t?t.toLowerCase():null;var f=null;return typeof n=="string"?f=new ah(n,t,i,r,u):n instanceof ah&&(f=n),this.queries.push({fn:"onWhere",e:f}),this},n.prototype.search=function(n,t,i,r,u){typeof t=="string"&&(t=[t]);i=i||"contains";var f=l.fnOperators[i];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:n,ignoreCase:r,ignoreAccent:u,comparer:f}}),this},n.prototype.sortBy=function(t,i,r){var s="ascending",o,u,e,f;if(typeof t=="string"&&l.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),i="descending"),i&&typeof i!="string"||(s=i?i.toLowerCase():"ascending",i=l.fnSort(i)),r)for(o=n.filterQueries(this.queries,"onSortBy"),e=0;e<o.length;e++)if(u=o[e].e.fieldName,typeof u=="string"){if(u===t)return this}else if(u instanceof Array)for(f=0;f<u.length;f++)if(u[f]===t||t.toLowerCase()===u[f]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:i,direction:s}}),this},n.prototype.sortByDesc=function(n){return this.sortBy(n,"descending")},n.prototype.group=function(n,t,i){return this.sortBy(n,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:n,comparer:t?t:null,format:i?i:null}}),this},n.prototype.page=function(n,t){return this.queries.push({fn:"onPage",e:{pageIndex:n,pageSize:t}}),this},n.prototype.range=function(n,t){return this.queries.push({fn:"onRange",e:{start:n,end:t}}),this},n.prototype.take=function(n){return this.queries.push({fn:"onTake",e:{nos:n}}),this},n.prototype.skip=function(n){return this.queries.push({fn:"onSkip",e:{nos:n}}),this},n.prototype.select=function(n){return typeof n=="string"&&(n=[].slice.call([n],0)),this.queries.push({fn:"onSelect",e:{fieldNames:n}}),this},n.prototype.hierarchy=function(n,t){return this.subQuerySelector=t,this.subQuery=n,this},n.prototype.foreignKey=function(n){return this.fKey=n,this},n.prototype.requiresCount=function(){return this.isCountRequired=!0,this},n.prototype.aggregate=function(n,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:n}}),this},n.filterQueries=function(n,t){return n.filter(function(n){return n.fn===t})},n.filterQueryLists=function(n,t){for(var r=n.filter(function(n){return t.indexOf(n.fn)!==-1}),u={},i=0;i<r.length;i++)u[r[i].fn]||(u[r[i].fn]=r[i].e);return u},n}(),ah=function(){function n(t,i,r,u,f){return u===void 0&&(u=!1),this.ignoreAccent=!1,this.isComplex=!1,typeof t=="string"?(this.field=t,this.operator=i.toLowerCase(),this.value=r,this.ignoreCase=u,this.ignoreAccent=f,this.isComplex=!1,this.comparer=l.fnOperators.processOperator(this.operator)):(t instanceof n&&r instanceof n||r instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[t],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r)),this}return n.and=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return n.combinePredicates([].slice.call(i,0),"and")},n.prototype.and=function(t,i,r,u,f){return n.combine(this,t,i,r,"and",u,f)},n.or=function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return n.combinePredicates([].slice.call(i,0),"or")},n.prototype.or=function(t,i,r,u,f){return n.combine(this,t,i,r,"or",u,f)},n.fromJson=function(n){var i,t,r,u;if(n instanceof Array){for(i=[],t=0,r=n.length;t<r;t++)i.push(this.fromJSONData(n[t]));return i}return u=n,this.fromJSONData(u)},n.prototype.validate=function(n){var u=this.predicates?this.predicates:[],i,r,t;if(!this.isComplex&&this.comparer)return this.comparer.call(this,l.getObject(this.field,n),this.value,this.ignoreCase,this.ignoreAccent);for(i=this.condition==="and",t=0;t<u.length;t++)if(r=u[t].validate(n),i){if(!r)return!1}else if(r)return!0;return i},n.prototype.toJson=function(){var t,i,n;if(this.isComplex)for(t=[],i=this.predicates,n=0;n<i.length;n++)t.push(i[n].toJson());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t}},n.combinePredicates=function(t,i){if(t.length===1){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new n(t[0],i,t.slice(1))},n.combine=function(t,i,r,u,f,e,o){return i instanceof n?n[f](t,i):typeof i=="string"?n[f](t,new n(i,r,u,e,o)):l.throwError("Predicate - "+f+" : invalid arguments")},n.fromJSONData=function(t){for(var u=t.predicates||[],f=u.length,i=[],r=0;r<f;r++)i.push(this.fromJSONData(u[r]));return t.isComplex?new n(i[0],t.condition,i.slice(1)):new n(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},n}(),hut={GroupGuid:"{271bbba0-1ee7}"},l=function(){function n(){}return n.getValue=function(n,t){return typeof n=="function"?n.call(t||{}):n},n.endsWith=function(n,t){return n.slice(-t.length)===t},n.startsWith=function(n,t){return n.slice(0,t.length)===t},n.fnSort=function(t){return(t=t?n.toLowerCase(t):"ascending",t==="ascending")?this.fnAscending:this.fnDescending},n.fnAscending=function(n,t){return t===null||t===undefined?-1:typeof n=="string"?n.localeCompare(t):n===null||n===undefined?1:n-t},n.fnDescending=function(n,t){return t===null||t===undefined?1:typeof n=="string"?n.localeCompare(t)*-1:n===null||n===undefined?-1:t-n},n.extractFields=function(n,t){for(var r={},i=0;i<t.length;i++)r=this.setValue(t[i],this.getObject(t[i],n),r);return r},n.select=function(n,t){for(var r=[],i=0;i<n.length;i++)r.push(this.extractFields(n[i],t));return r},n.group=function(i,r,u,f,e,o){var s,v,p,y,a,c,h,w,b,k,l;if(f=f||1,s=i,v="GroupGuid",s.GroupGuid===hut[v]){for(p=function(n){if(t(e))s[n].items=y.group(s[n].items,r,u,s.level+1,null,o),s[n].count=s[n].items.length;else{var i=-1,f=e.filter(function(t){return t.key===s[n].key});i=e.indexOf(f[0]);s[n].items=y.group(s[n].items,r,u,s.level+1,e[i].items,o);s[n].count=e[i].count}},y=this,a=0;a<s.length;a++)p(a);return s.childLevels+=1,s}for(c={},h=[],h.GroupGuid=hut[v],h.level=f,h.childLevels=0,h.records=s,w=function(n){var i=b.getVal(s,n,r),u;t(o)||(i=o(i,r));c[i]||(c[i]={key:i,count:0,items:[],aggregates:{},field:r},h.push(c[i]),t(e)||(u=e.filter(function(n){return n.key===c[i].key}),c[i].count=u[0].count));c[i].count=t(e)?c[i].count+=1:c[i].count;c[i].items.push(s[n])},b=this,l=0;l<s.length;l++)w(l);if(u&&u.length)for(k=function(i){for(var c,s={},o=void 0,f=u,r=0;r<u.length;r++)o=n.aggregates[u[r].type],t(e)?o&&(s[f[r].field+" - "+f[r].type]=o(h[i].items,f[r].field)):(c=e.filter(function(n){return n.key===h[i].key}),o&&(s[f[r].field+" - "+f[r].type]=o(c[0].items,f[r].field)));h[i].aggregates=s},l=0;l<h.length;l++)k(l);return s.length&&h||s},n.buildHierarchy=function(n,t,i,r,u){var f,o={},s,e;for(r.result&&(r=r.result),r.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),f=0;f<r.length;f++)e=this.getObject(n,r[f]),s=o[e]||(o[e]=[]),s.push(r[f]);for(f=0;f<i.length;f++)e=this.getObject(u||n,i[f]),i[f][t]=o[e]},n.getFieldList=function(n,t,i){var u,o,f,e,r;if(i===undefined&&(i=""),t===undefined||t===null)return this.getFieldList(n,[],i);for(u=n,o=Object.keys(n),f=0,e=o;f<e.length;f++)r=e[f],typeof u[r]!="object"||u[r]instanceof Array?t.push(i+r):this.getFieldList(u[r],t,i+r+".");return t},n.getObject=function(n,t){var i,u,r;if(!n)return t;if(!t)return undefined;if(n.indexOf(".")===-1)return t[n];for(i=t,u=n.split("."),r=0;r<u.length;r++){if(i==null)break;i=i[u[r]]}return i},n.setValue=function(n,i,r){for(var o=n.toString().split("."),s=r||{},u=s,h=o.length,e,f=0;f<h;f++)e=o[f],f+1===h?u[e]=i===undefined?undefined:i:t(u[e])&&(u[e]={}),u=u[e];return s},n.sort=function(n,t,i){if(n.length<=1)return n;var f=parseInt((n.length/2).toString(),10),r=n.slice(0,f),u=n.slice(f);return r=this.sort(r,t,i),u=this.sort(u,t,i),this.merge(r,u,t,i)},n.ignoreDiacritics=function(t){if(typeof t!="string")return t;var i=t.split(""),r=i.map(function(t){return t in n.diacritics?n.diacritics[t]:t});return r.join("")},n.merge=function(n,t,i,r){for(var u=[],f;n.length>0||t.length>0;)f=n.length>0&&t.length>0?r?r(this.getVal(n,0,i),this.getVal(t,0,i))<=0?n:t:n[0][i]<n[0][i]?n:t:n.length>0?n:t,u.push(f.shift());return u},n.getVal=function(n,t,i){return i?this.getObject(i,n[t]):n[t]},n.toLowerCase=function(n){return n?typeof n=="string"?n.toLowerCase():n.toString():n===0||n===!1?n.toString():""},n.callAdaptorFunction=function(n,i,r,u){if(i in n){var f=n[i](r,u);t(f)||(r=f)}return r},n.isPlainObject=function(n){return!!n&&n.constructor===Object},n.isCors=function(){var n=null;try{n=new window["XMLHttpRequest"]}catch(t){}return!!n&&"withCredentials"in n},n.getGuid=function(n){var i="0123456789abcdef",t;return(n||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){if("crypto"in window&&"getRandomValues"in crypto){var u=new Uint8Array(1);window.crypto.getRandomValues(u);t=u[0]%16|0}else t=Math.random()*16|0;return i[r===19?t&3|8:t]})},n.isNull=function(n){return n===undefined||n===null},n.getItemFromComparer=function(i,r,u){var e,o,s,f=0,h=typeof n.getVal(i,0,r)=="string";if(i.length)while(t(e)&&f<i.length)e=n.getVal(i,f,r),s=i[f++];for(;f<i.length;f++)(o=n.getVal(i,f,r),t(o))||(h&&(e=+e,o=+o),u(e,o)>0&&(e=o,s=i[f]));return s},n.distinct=function(i,r,u){u=t(u)?!1:u;var e=[],f,o={};return i.forEach(function(t,s){f=n.getVal(i,s,r);f in o||(e.push(u?i[s]:f),o[f]=1)}),e},n.serverTimezoneOffset=null,n.throwError=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}},n.aggregates={sum:function(t,i){for(var f=0,r,e=typeof n.getVal(t,0,i)!="number",u=0;u<t.length;u++)r=n.getVal(t,u,i),isNaN(r)||r===null||(e&&(r=+r),f+=r);return f},average:function(t,i){return n.aggregates.sum(t,i)/t.length},min:function(t,i){var r;return typeof i=="function"&&(r=i,i=null),n.getObject(i,n.getItemFromComparer(t,i,r||n.fnAscending))},max:function(t,i){var r;return typeof i=="function"&&(r=i,i=null),n.getObject(i,n.getItemFromComparer(t,i,r||n.fnDescending))},truecount:function(n,t){return new bf(n).executeLocal((new wi).where(t,"equal",!0,!0)).length},falsecount:function(n,t){return new bf(n).executeLocal((new wi).where(t,"equal",!1,!0)).length},count:function(n){return n.length}},n.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},n.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},n.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},n.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},n.diacritics={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"},n.fnOperators={equal:function(t,i,r,u){return(u&&(t=n.ignoreDiacritics(t),i=n.ignoreDiacritics(i)),r)?n.toLowerCase(t)===n.toLowerCase(i):t===i},notequal:function(t,i,r,u){return u&&(t=n.ignoreDiacritics(t),i=n.ignoreDiacritics(i)),!n.fnOperators.equal(t,i,r)},lessthan:function(t,i,r){return r?n.toLowerCase(t)<n.toLowerCase(i):t<i},greaterthan:function(t,i,r){return r?n.toLowerCase(t)>n.toLowerCase(i):t>i},lessthanorequal:function(t,i,r){return r?n.toLowerCase(t)<=n.toLowerCase(i):t<=i},greaterthanorequal:function(t,i,r){return r?n.toLowerCase(t)>=n.toLowerCase(i):t>=i},contains:function(i,r,u,f){return(f&&(i=n.ignoreDiacritics(i),r=n.ignoreDiacritics(r)),u)?!t(i)&&!t(r)&&n.toLowerCase(i).indexOf(n.toLowerCase(r))!==-1:!t(i)&&!t(r)&&i.toString().indexOf(r)!==-1},notnull:function(n){return n!==null},isnull:function(n){return n===null},startswith:function(t,i,r,u){return(u&&(t=n.ignoreDiacritics(t),i=n.ignoreDiacritics(i)),r)?t&&i&&n.startsWith(n.toLowerCase(t),n.toLowerCase(i)):t&&i&&n.startsWith(t,i)},endswith:function(t,i,r,u){return(u&&(t=n.ignoreDiacritics(t),i=n.ignoreDiacritics(i)),r)?t&&i&&n.endsWith(n.toLowerCase(t),n.toLowerCase(i)):t&&i&&n.endsWith(t,i)},processSymbols:function(t){var i=n.operatorSymbols[t];return i?n.fnOperators[i]:n.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var i=n.fnOperators[t];return i?i:n.fnOperators.processSymbols(t)}},n.parse={parseJson:function(t){return typeof t=="string"?t=JSON.parse(t,n.parse.jsonReviver):t instanceof Array?n.parse.iterateAndReviveArray(t):typeof t=="object"&&n.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var i=0;i<t.length;i++)typeof t[i]=="object"?n.parse.iterateAndReviveJson(t[i]):t[i]=typeof t[i]!="string"||/^[\s]*\[|^[\s]*\{|\"/g.test(t[i])?n.parse.parseJson(t[i]):n.parse.jsonReviver("",t[i])},iterateAndReviveJson:function(t){for(var r,i,e=Object.keys(t),u=0,f=e;u<f.length;u++)(r=f[u],n.startsWith(r,"__"))||(i=t[r],typeof i=="object"?i instanceof Array?n.parse.iterateAndReviveArray(i):i&&n.parse.iterateAndReviveJson(i):t[r]=n.parse.jsonReviver(t[r],i))},jsonReviver:function(t,i){var f=i,u,r;if(typeof i=="string"){if(u=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i),u)return n.dateParse.toTimeZone(new Date(parseInt(u[1],10)),n.serverTimezoneOffset,!0);/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)&&(r=f.split(/[^0-9]/),i=n.dateParse.toTimeZone(new Date(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)),n.serverTimezoneOffset,!0))}return i},isJson:function(t){return typeof t[0]=="string"?t:n.parse.parseJson(t)},isGuid:function(n){var t=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(n);return t!=null},replacer:function(t,i){return n.isPlainObject(t)?n.parse.jsonReplacer(t,i):t instanceof Array?n.parse.arrayReplacer(t):t instanceof Date?n.parse.jsonReplacer({val:t},i).val:t},jsonReplacer:function(t){for(var u,e,i,o=Object.keys(t),r=0,f=o;r<f.length;r++)(u=f[r],i=t[u],i instanceof Date)&&(e=i,t[u]=n.dateParse.toTimeZone(n.dateParse.addSelfOffset(e),n.serverTimezoneOffset).toJSON());return t},arrayReplacer:function(t){for(var i=0;i<t.length;i++)n.isPlainObject(t[i])?t[i]=n.parse.jsonReplacer(t[i]):t[i]instanceof Date&&(t[i]=n.parse.jsonReplacer({date:t[i]}).date);return t}},n.dateParse={addSelfOffset:function(n){return new Date(+n-n.getTimezoneOffset()*6e4)},toUTC:function(n){return new Date(+n+n.getTimezoneOffset()*6e4)},toTimeZone:function(t,i,r){if(i===null)return t;var u=r?n.dateParse.toUTC(t):t;return new Date(+u-i*36e5)},toLocalTime:function(n){var t=n,r=-t.getTimezoneOffset(),u=r>=0?"+":"-",i=function(n){var t=Math.floor(Math.abs(n));return(t<10?"0":"")+t};return t.getFullYear()+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())+"T"+i(t.getHours())+":"+i(t.getMinutes())+":"+i(t.getSeconds())+u+i(r/60)+":"+i(r%60)}},n}(),fo=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),cut=function(){function n(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"};this.type=n;this.dataSource=t;this.pvt={}}return n.prototype.processResponse=function(n){return n},n}(),gb=function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return fo(i,n),i.prototype.processQuery=function(n,t){for(var r=n.dataSource.json.slice(0),e=r.length,o=!0,u,i,s={},f=0;f<t.queries.length;f++)i=t.queries[f],u=this[i.fn].call(this,r,i.e,t),i.fn==="onAggregates"?s[i.e.field+" - "+i.e.type]=u:r=u!==undefined?u:r,(i.fn==="onPage"||i.fn==="onSkip"||i.fn==="onTake"||i.fn==="onRange")&&(o=!1),o&&(e=r.length);return t.isCountRequired&&(r={result:r,count:e,aggregates:s}),r},i.prototype.batchRequest=function(n,t,i){for(var r=0;r<t.addedRecords.length;r++)this.insert(n,t.addedRecords[r]);for(r=0;r<t.changedRecords.length;r++)this.update(n,i.key,t.changedRecords[r]);for(r=0;r<t.deletedRecords.length;r++)this.remove(n,i.key,t.deletedRecords[r]);return t},i.prototype.onWhere=function(n,t){return!n||!n.length?n:n.filter(function(n){if(t)return t.validate(n)})},i.prototype.onAggregates=function(n,t){var i=l.aggregates[t.type];return!n||!i||n.length===0?null:i(n,t.field)},i.prototype.onSearch=function(n,t){return!n||!n.length?n:(t.fieldNames.length===0&&l.getFieldList(n[0],t.fieldNames),n.filter(function(n){for(var i=0;i<t.fieldNames.length;i++)if(t.comparer.call(n,l.getObject(t.fieldNames[i],n),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))},i.prototype.onSortBy=function(n,t,i){var f,r,u;if(!n||!n.length)return n;if(r=l.getValue(t.fieldName,i),!r)return n.sort(t.comparer);if(r instanceof Array){for(r=r.slice(0),u=r.length-1;u>=0;u--)r[u]&&(f=t.comparer,l.endsWith(r[u]," desc")&&(f=l.fnSort("descending"),r[u]=r[u].replace(" desc","")),n=l.sort(n,r[u],f));return n}return l.sort(n,r,t.comparer)},i.prototype.onGroup=function(n,t,i){var r,e,u,f;if(!n||!n.length)return n;if(r=wi.filterQueries(i.queries,"onAggregates"),e=[],r.length)for(u=void 0,f=0;f<r.length;f++)u=r[f].e,e.push({type:u.type,field:l.getValue(u.field,i)});return l.group(n,l.getValue(t.fieldName,i),e,null,null,t.comparer)},i.prototype.onPage=function(n,t,i){var r=l.getValue(t.pageSize,i),u=(l.getValue(t.pageIndex,i)-1)*r,f=u+r;return!n||!n.length?n:n.slice(u,f)},i.prototype.onRange=function(n,t){return!n||!n.length?n:n.slice(l.getValue(t.start),l.getValue(t.end))},i.prototype.onTake=function(n,t){return!n||!n.length?n:n.slice(0,l.getValue(t.nos))},i.prototype.onSkip=function(n,t){return!n||!n.length?n:n.slice(l.getValue(t.nos))},i.prototype.onSelect=function(n,t){return!n||!n.length?n:l.select(n,l.getValue(t.fieldNames))},i.prototype.insert=function(n,i,r,u,f){return t(f)?n.dataSource.json.push(i):n.dataSource.json.splice(f,0,i)},i.prototype.remove=function(n,t,i){var u=n.dataSource.json,r;for(typeof i=="object"&&(i=i[t]),r=0;r<u.length;r++)if(u[r][t]===i)break;return r!==u.length?u.splice(r,1):null},i.prototype.update=function(n,t,i){for(var u=n.dataSource.json,f=i[t],r=0;r<u.length;r++)if(u[r][t]===f)break;return r<u.length?st(u[r],i):null},i}(cut),bc=function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return fo(i,n),i.prototype.processQuery=function(n,t,i){var e=this.getQueryRequest(t),h=wi.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),tt=t.params,w=n.dataSource.url,r,c,a=null,v=this.options,o={sorts:[],groups:[],filters:[],searches:[],aggregates:[]},g,y,b,u,f,nt,p,k,s,d;for(("onPage"in h)?(r=h.onPage,c=l.getValue(r.pageIndex,t),a=l.getValue(r.pageSize,t),c=(c-1)*a):("onRange"in h)&&(r=h.onRange,c=r.start,a=r.end-r.start),u=0;u<e.sorts.length;u++)r=l.getValue(e.sorts[u].e.fieldName,t),o.sorts.push(l.callAdaptorFunction(this,"onEachSort",{name:r,direction:e.sorts[u].e.direction},t));for(i&&(r=this.getFiltersFrom(i,t),r&&o.filters.push(l.callAdaptorFunction(this,"onEachWhere",r.toJson(),t))),u=0;u<e.filters.length;u++)for(o.filters.push(l.callAdaptorFunction(this,"onEachWhere",e.filters[u].e.toJson(),t)),g=typeof o.filters[u]=="object"?Object.keys(o.filters[u]):[],y=0,b=g;y<b.length;y++)s=b[y],l.isNull(o[s])&&delete o[s];for(u=0;u<e.searches.length;u++)r=e.searches[u].e,o.searches.push(l.callAdaptorFunction(this,"onEachSearch",{fields:r.fieldNames,operator:r.operator,key:r.searchKey,ignoreCase:r.ignoreCase},t));for(u=0;u<e.groups.length;u++)o.groups.push(l.getValue(e.groups[u].e.fieldName,t));for(u=0;u<e.aggregates.length;u++)r=e.aggregates[u].e,o.aggregates.push({type:r.type,field:l.getValue(r.field,t)});for(f={},this.getRequestQuery(v,t,h,o,f),l.callAdaptorFunction(this,"addParams",{dm:n,query:t,params:tt,reqParams:f}),nt=Object.keys(f),p=0,k=nt;p<k.length;p++)s=k[p],(l.isNull(f[s])||f[s]===""||f[s].length===0)&&delete f[s];return(v.skip in f&&v.take in f||a===null||(f[v.skip]=l.callAdaptorFunction(this,"onSkip",c,t),f[v.take]=l.callAdaptorFunction(this,"onTake",a,t)),d=this.pvt,this.pvt={},this.options.requestType==="json")?{data:JSON.stringify(f),url:w,pvtData:d,type:"POST",contentType:"application/json; charset=utf-8"}:(r=this.convertToQueryString(f,t,n),r=(n.dataSource.url.indexOf("?")!==-1?"&":"/")+r,{type:"GET",url:r.length?w.replace(/\/*$/,r):w,pvtData:d})},i.prototype.getRequestQuery=function(n,t,i,r,u){var f=u;f[n.from]=t.fromTable;n.apply&&t.distincts.length&&(f[n.apply]="onDistinct"in this?l.callAdaptorFunction(this,"onDistinct",t.distincts):"");n.expand&&(f[n.expand]="onExpand"in this&&"onSelect"in i?l.callAdaptorFunction(this,"onExpand",{selects:l.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands);f[n.select]="onSelect"in i?l.callAdaptorFunction(this,"onSelect",l.getValue(i.onSelect.fieldNames,t),t):"";f[n.count]=t.isCountRequired?l.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"";f[n.search]=r.searches.length?l.callAdaptorFunction(this,"onSearch",r.searches,t):"";f[n.skip]="onSkip"in i?l.callAdaptorFunction(this,"onSkip",l.getValue(i.onSkip.nos,t),t):"";f[n.take]="onTake"in i?l.callAdaptorFunction(this,"onTake",l.getValue(i.onTake.nos,t),t):"";f[n.where]=r.filters.length||r.searches.length?l.callAdaptorFunction(this,"onWhere",r.filters,t):"";f[n.sortBy]=r.sorts.length?l.callAdaptorFunction(this,"onSortBy",r.sorts,t):"";f[n.group]=r.groups.length?l.callAdaptorFunction(this,"onGroup",r.groups,t):"";f[n.aggregates]=r.aggregates.length?l.callAdaptorFunction(this,"onAggregates",r.aggregates,t):"";f["param"]=[]},i.prototype.convertToQueryString=function(){return""},i.prototype.processResponse=function(n,t,i,r,u,f){var s=u,h=s.pvtData||{},c=n.groupDs,o,e;return r&&r.getResponseHeader("Content-Type")&&r.getResponseHeader("Content-Type").indexOf("xml")!==-1?i.isCountRequired?{result:[],count:0}:[]:(o=JSON.parse(s.data),o&&o.action==="batch"&&n.addedRecords)?(f.addedRecords=n.addedRecords,f):(n.d&&(n=n.d),e={},"count"in n&&(e.count=n.count),e.result=n.result?n.result:n,this.getAggregateResult(h,n,e,c,i),l.isNull(e.count)?e.result:{result:e.result,count:e.count,aggregates:e.aggregates})},i.prototype.onGroup=function(n){return this.pvt.groups=n,n},i.prototype.onAggregates=function(n){this.pvt.aggregates=n},i.prototype.batchRequest=function(n,t,i){var r,u;return{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.removeUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[r],key:i[u]})}},i.prototype.beforeSend=function(){},i.prototype.insert=function(n,t,i){return{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},i.prototype.remove=function(n,t,i,r){return{type:"POST",url:n.dataSource.removeUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({key:i,keyColumn:t,table:r,action:"remove"})}},i.prototype.update=function(n,t,i,r){return{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},i.prototype.getFiltersFrom=function(n,t){var r=t.fKey,u,f=r,o=t.key,e=[],i;for(typeof n[0]!="object"&&(f=null),i=0;i<n.length;i++)u=typeof n[0]=="object"?l.getObject(o||f,n[i]):n[i],e.push(new ah(r,"equal",u));return ah.or(e)},i.prototype.getAggregateResult=function(n,i,r,u,f){var o=i,h,e,y,p;if(i&&i.result&&(o=i.result),n&&n.aggregates&&n.aggregates.length){var s=n.aggregates,c=void 0,a=o,v={};for(i.aggregate&&(a=i.aggregate),e=0;e<s.length;e++)c=l.aggregates[s[e].type],c&&(v[s[e].field+" - "+s[e].type]=c(a,s[e].field));r.aggregates=v}if(n&&n.groups&&n.groups.length){for(h=n.groups,e=0;e<h.length;e++)y=null,t(u)||(u=l.group(u,h[e])),p=wi.filterQueries(f.queries,"onGroup")[e].e,o=l.group(o,h[e],n.aggregates,y,u,p.comparer);r.result=o}return r},i.prototype.getQueryRequest=function(n){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=wi.filterQueries(n.queries,"onSortBy"),t.groups=wi.filterQueries(n.queries,"onGroup"),t.filters=wi.filterQueries(n.queries,"onWhere"),t.searches=wi.filterQueries(n.queries,"onSearch"),t.aggregates=wi.filterQueries(n.queries,"onAggregates"),t},i.prototype.addParams=function(n){var i=n.reqParams,r,u,t;for(n.params.length&&(i.params={}),r=0,u=n.params;r<u.length;r++){if(t=u[r],i[t.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");i[t.key]=t.value;t.fn&&(i[t.key]=t.fn.call(n.query,t.key,n.query,n.dm));i.params[t.key]=i[t.key]}},i}(cut),vh=function(n){function i(t){var i=n.call(this)||this;return i.options=b({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),i.getModuleName=p("getModulename",i),b(i.options,t||{}),i}return fo(i,n),i.prototype.onPredicate=function(n,r,u){var e="",s,h,f=n.value,a=typeof f,o=n.field?i.getField(n.field):null,c;return(f instanceof Date&&(f="datetime'"+l.parse.replacer(f)+"'"),a==="string"&&(f="'"+f+"'",u&&(o="cast("+o+", 'Edm.String')"),l.parse.isGuid(f)&&(h="guid"),n.ignoreCase&&(h||(o="tolower("+o+")"),f=f.toLowerCase())),s=l.odBiOperator[n.operator],s)?(e+=o,e+=s,h&&(e+=h),e+f):(t(this.getModuleName)?s=l.odUniOperator[n.operator]:this.getModuleName()==="ODataV4Adaptor"&&(s=l.odv4UniOperator[n.operator]),s==="substringof"&&(c=f,f=o,o=c),e+=s+"(",e+=o+",",h&&(e+=h),e+(f+")"))},i.prototype.addParams=function(t){n.prototype.addParams.call(this,t);delete t.reqParams.params},i.prototype.onComplexPredicate=function(n,t,i){for(var u=[],r=0;r<n.predicates.length;r++)u.push("("+this.onEachWhere(n.predicates[r],t,i)+")");return u.join(" "+n.condition+" ")},i.prototype.onEachWhere=function(n,t,i){return n.isComplex?this.onComplexPredicate(n,t,i):this.onPredicate(n,t,i)},i.prototype.onWhere=function(n){return this.pvt.search&&n.push(this.onEachWhere(this.pvt.search,null,!0)),n.join(" and ")},i.prototype.onEachSearch=function(n){var i,t;for(n.fields&&n.fields.length===0&&l.throwError("Query() - Search : oData search requires list of field names to search"),i=this.pvt.search||[],t=0;t<n.fields.length;t++)i.push(new ah(n.fields[t],n.operator,n.key,n.ignoreCase));this.pvt.search=i},i.prototype.onSearch=function(){return this.pvt.search=ah.or(this.pvt.search),""},i.prototype.onEachSort=function(n){var r=[],t;if(n.name instanceof Array)for(t=0;t<n.name.length;t++)r.push(i.getField(n.name[t])+(n.direction==="descending"?" desc":""));else r.push(i.getField(n.name)+(n.direction==="descending"?" desc":""));return r.join(",")},i.prototype.onSortBy=function(n){return n.reverse().join(",")},i.prototype.onGroup=function(n){return this.pvt.groups=n,[]},i.prototype.onSelect=function(n){for(var t=0;t<n.length;t++)n[t]=i.getField(n[t]);return n.join(",")},i.prototype.onAggregates=function(n){return this.pvt.aggregates=n,""},i.prototype.onCount=function(n){return n===!0?"allpages":""},i.prototype.beforeSend=function(n,t,i){l.endsWith(i.url,this.options.batch)&&i.type.toLowerCase()==="post"?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept);t.setRequestHeader("DataServiceVersion","2.0");t.setRequestHeader("MaxDataServiceVersion","2.0")},i.prototype.processResponse=function(n,i,r,u,f,e){var s,v,h,p,y,c,o;if(!t(n.d)&&(s=r&&r.isCountRequired?n.d.results:n.d,v="__metadata",!t(s)))for(h=0;h<s.length;h++)t(s[h][v])||delete s[h][v];if(p=f&&f["pvtData"],y=this.processBatchResponse(n,r,u,f,e),y)return y;var w=u&&f.getResponseHeader("DataServiceVersion"),a=null,b=w&&parseInt(w,10)||2;return r&&r.isCountRequired&&(c="__count",(n[c]||n["odata.count"])&&(a=n[c]||n["odata.count"]),n.d&&(n=n.d),(n[c]||n["odata.count"])&&(a=n[c]||n["odata.count"])),b===3&&n.value&&(n=n.value),n.d&&(n=n.d),b<3&&n.results&&(n=n.results),o={},o.count=a,o.result=n,this.getAggregateResult(p,n,o,null,r),l.isNull(a)?o.result:{result:o.result,count:o.count,aggregates:o.aggregates}},i.prototype.convertToQueryString=function(n,t,i){var r=[],s="table",f=n[s]||"",h,u,e,o;for(delete n[s],i.dataSource.requiresFormat&&(n["$format"]="json"),h=Object.keys(n),u=0,e=h;u<e.length;u++)o=e[u],r.push(o+"="+n[o]);return(r=r.join("&"),i.dataSource.url&&i.dataSource.url.indexOf("?")!==-1&&!f)?r:r.length?f+"?"+r:f||""},i.prototype.localTimeReplacer=function(n,i){for(var u,r=0,f=t(i)?[]:Object.keys(i);r<f.length;r++)u=f[r],i[u]instanceof Date&&(i[u]=l.dateParse.toLocalTime(i[u]));return i},i.prototype.insert=function(n,t,i){return{url:n.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},i.prototype.remove=function(n,t,i,r){var u;return u=typeof i!="string"||l.parse.isGuid(i)?"("+i+")":"('"+i+"')",{type:"DELETE",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+u}},i.prototype.update=function(n,i,r,u,f,e){this.options.updateType!=="PATCH"||t(e)||(r=this.compareAndRemove(r,e,i));var o;return o=typeof r[i]!="string"||l.parse.isGuid(r[i])?"("+r[i]+")":"('"+r[i]+"')",{type:this.options.updateType,url:n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+o,data:JSON.stringify(r,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},i.prototype.batchRequest=function(n,t,i,r,u){var o=i.guid=l.getGuid(this.options.batchPre),s=n.dataSource.url.replace(/\/*$/,"/"+this.options.batch),e={url:i.url,key:i.key,cid:1,cSet:l.getGuid(this.options.changeSet)},f="--"+o+"\n";return f+="Content-Type: multipart/mixed; boundary="+e.cSet.replace("--","")+"\n",this.pvt.changeSet=0,f+=this.generateInsertRequest(t.addedRecords,e),f+=this.generateUpdateRequest(t.changedRecords,e,u?u.changedRecords:[]),f+=this.generateDeleteRequest(t.deletedRecords,e),f+=e.cSet+"--\n",f+="--"+o+"--",{type:"POST",url:s,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:f}},i.prototype.generateDeleteRequest=function(n,t){if(!n)return"";var i="",r={method:"DELETE ",url:function(n,t,i){return"("+n[t][i]+")"},data:function(){return""}};return i=this.generateBodyContent(n,t,r),i+"\n"},i.prototype.generateInsertRequest=function(n,t){if(!n)return"";var i={method:"POST ",url:function(){return""},data:function(n,t){return JSON.stringify(n[t])+"\n\n"}};return this.generateBodyContent(n,t,i)},i.prototype.generateUpdateRequest=function(n,t,i){var u=this,f,r;return n?(f="",n.forEach(function(n){return n=u.compareAndRemove(n,i.filter(function(i){return l.getObject(t.key,i)===l.getObject(t.key,n)})[0],t.key)}),r={method:this.options.updateType+" ",url:function(n,t,i){return"("+n[t][i]+")"},data:function(n,t){return JSON.stringify(n[t])+"\n\n"}},this.generateBodyContent(n,t,r)):""},i.getField=function(n){return n.replace(/\./g,"/")},i.prototype.generateBodyContent=function(n,i,r){for(var u="",f=0;f<n.length;f++)u+="\n"+i.cSet+"\n",u+=this.options.changeSetContent+"\n\n",u+=r.method,u+=i.url+r.url(n,f,i.key)+" HTTP/1.1\n",u+="Accept: "+this.options.accept+"\n",u+="Content-Id: "+this.pvt.changeSet+++"\n",u+=this.options.batchChangeSetContentType+"\n",t(n[f]["@odata.etag"])?u+="\n":(u+="If-Match: "+n[f]["@odata.etag"]+"\n\n",delete n[f]["@odata.etag"]),u+=r.data(n,f);return u},i.prototype.processBatchResponse=function(n,t,i,r,u){var o,a,e;if(i&&i.getResponseHeader("Content-Type")&&i.getResponseHeader("Content-Type").indexOf("xml")!==-1)return t.isCountRequired?{result:[],count:0}:[];if(r&&this.options.batch&&l.endsWith(r.url,this.options.batch)&&r.type.toLowerCase()==="post"){var s=i.getResponseHeader("Content-Type"),h=void 0,c=void 0,f=n+"";if(s=s.substring(s.indexOf("=batchresponse")+1),f=f.split(s),f.length<2)return{};for(f=f[1],o=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(f),o&&f.replace(o[0],""),a=o?o[1]:"",f=f.split(a),e=f.length;e>-1;e--)/\bContent-ID:/i.test(f[e])&&/\bHTTP.+201/.test(f[e])&&(h=parseInt(/\bContent-ID: (\d+)/i.exec(f[e])[1],10),u.addedRecords[h]&&(c=l.parse.parseJson(/^\{.+\}/m.exec(f[e])[0]),b({},u.addedRecords[h],this.processResponse(c))));return u}return null},i.prototype.compareAndRemove=function(n,i,r){var u=this;return t(i)?n:(Object.keys(n).forEach(function(t){if(t!==r&&t!=="@odata.etag")if(l.isPlainObject(n[t])){u.compareAndRemove(n[t],i[t]);var f=Object.keys(n[t]).filter(function(n){return n!=="@odata.etag"});f.length===0&&delete n[t]}else n[t]===i[t]?delete n[t]:n[t]&&i[t]&&n[t].valueOf()===i[t].valueOf()&&delete n[t]}),n)},i}(bc),eri=function(n){function i(t){var i=n.call(this,t)||this;return i.options=b({},i.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),p("getModulename",i.getModulename()),b(i.options,t||{}),i}return fo(i,n),i.prototype.getModulename=function(){return"ODataV4Adaptor"},i.prototype.onCount=function(n){return n===!0?"true":""},i.prototype.onPredicate=function(t,i,r){var u="",f=t.value,e=f instanceof Date;return u=n.prototype.onPredicate.call(this,t,i,r),e&&(u=u.replace(/datetime'(.*)'$/,"$1")),u},i.prototype.onEachSearch=function(n){var t=this.pvt.searches||[];t.push(n.key);this.pvt.searches=t},i.prototype.onSearch=function(){return this.pvt.searches.join(" OR ")},i.prototype.onExpand=function(n){var f=this,t={},i={},r=n.expands.slice(),u=[],e=n.selects.filter(function(n){return n.indexOf(".")>-1});return e.forEach(function(n){var i=n.split(".");i[0]in t||(t[i[0]]=[]);t[i[0]].push(i[1])}),Object.keys(t).forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r.forEach(function(n){i[n]=n in t?n+"("+f.options.select+"="+t[n].join(",")+")":n}),Object.keys(i).forEach(function(n){return u.push(i[n])}),u.join(",")},i.prototype.onDistinct=function(n){var t=n.map(function(n){return vh.getField(n)}).join(",");return"groupby(("+t+"))"},i.prototype.onSelect=function(t){return n.prototype.onSelect.call(this,t.filter(function(n){return n.indexOf(".")===-1}))},i.prototype.beforeSend=function(n,t,i){(i.type==="POST"||i.type==="PUT"||i.type==="PATCH")&&t.setRequestHeader("Prefer","return=representation");t.setRequestHeader("Accept",this.options.accept)},i.prototype.processResponse=function(i,r,u,f,e,o){var v=e&&e["pvtData"],a=n.prototype.processBatchResponse.call(this,i,u,f,e,o),h,c,s;return a?a:(h=null,c="@odata.count",u&&u.isCountRequired&&c in i&&(h=i[c]),i=t(i.value)?i:i.value,s={},s.count=h,s.result=i,this.getAggregateResult(v,i,s,null,u),l.isNull(h)?s.result:{result:s.result,count:h,aggregates:s.aggregates})},i}(vh),ori=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return fo(t,n),t.prototype.insert=function(n,t){return{type:"POST",url:n.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(n,t,i){return{type:"DELETE",url:n.dataSource.url+"/"+i,data:JSON.stringify(i)}},t.prototype.update=function(n,t,i){return{type:"PUT",url:n.dataSource.url,data:JSON.stringify(i)}},t.prototype.beforeSend=function(n,t){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(n,t,i,r,u){var h=u&&u["pvtData"],e=null,f={},o,s;return u&&u.type.toLowerCase()!=="post"&&(o=r&&u.getResponseHeader("DataServiceVersion"),s=o&&parseInt(o,10)||2,i&&i.isCountRequired&&(l.isNull(n.Count)||(e=n.Count)),s<3&&n.Items&&(n=n.Items),f.count=e,f.result=n,this.getAggregateResult(h,n,f,null,i)),f.result=f.result||n,l.isNull(e)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},t}(vh),sri=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return fo(t,n),t.prototype.processQuery=function(n,t,i){var f=(new bc).processQuery(n,t,i),r=l.parse.parseJson(f["data"]),e={},u,o,s,h,c;if(r.param)for(u=0;u<r.param.length;u++)o=r.param[u],s=Object.keys(o)[0],e[s]=o[s];return e["value"]=r,h="pvtData",c="url",{data:JSON.stringify(e),url:f[c],pvtData:f[h],type:"POST",contentType:"application/json; charset=utf-8"}},t}(bc),cgt=function(n){function t(){var t=n.call(this)||this;return ii("beforeSend",bc.prototype.beforeSend,t),t}return fo(t,n),t.prototype.insert=function(n,t,i){return this.updateType="add",{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},t.prototype.remove=function(t,i,r,u){return n.prototype.remove.call(this,t,i,r),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify({key:r,keyColumn:i,table:u,action:"remove"})}},t.prototype.update=function(n,t,i,r){return this.updateType="update",this.updateKey=t,{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},t.prototype.processResponse=function(t,i,r,u,f,e,o){var s;if(this.updateType==="add"&&n.prototype.insert.call(this,i,t),this.updateType==="update"&&n.prototype.update.call(this,i,this.updateKey,t),t.added)for(s=0;s<t.added.length;s++)n.prototype.insert.call(this,i,t.added[s]);if(t.changed)for(s=0;s<t.changed.length;s++)n.prototype.update.call(this,i,o.key,t.changed[s]);if(t.deleted)for(s=0;s<t.deleted.length;s++)n.prototype.remove.call(this,i,o.key,t.deleted[s]);return t},t.prototype.batchRequest=function(n,t,i){return{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key})}},t}(gb),lgt=function(n){function i(i,r,u){var f=n.call(this)||this,o,e;return f.isCrudAction=!1,f.isInsertAction=!1,t(i)||(f.cacheAdaptor=i),f.pageSize=u,f.guidId=l.getGuid("cacheAdaptor"),o={keys:[],results:[]},window.localStorage.setItem(f.guidId,JSON.stringify(o)),e=f.guidId,t(r)||setInterval(function(){var t,i,u,f,n;for(t=l.parse.parseJson(window.localStorage.getItem(e)),i=[],n=0;n<t.results.length;n++)u=+new Date,f=+new Date(t.results[n].timeStamp),t.results[n].timeStamp=u-f,u-f>r&&i.push(n);for(n=0;n<i.length;n++)t.results.splice(i[n],1),t.keys.splice(i[n],1);window.localStorage.removeItem(e);window.localStorage.setItem(e,JSON.stringify(t))},r),f}return fo(i,n),i.prototype.generateKey=function(n,t){var u=this.getQueryRequest(t),s=wi.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=n,h="onPage",f,i,e,o;for((h in s)&&(r+=s[h].pageIndex),u.sorts.forEach(function(n){r+=n.e.direction+n.e.fieldName}),u.groups.forEach(function(n){r+=n.e.fieldName}),u.searches.forEach(function(n){r+=n.e.searchKey}),f=0;f<u.filters.length;f++)if(i=u.filters[f],i.e.isComplex){for(e=t.clone(),e.queries=[],o=0;o<i.e.predicates.length;o++)e.queries.push({fn:"onWhere",e:i.e.predicates[o],filter:t.queries.filter});r+=i.e.condition+this.generateKey(n,e)}else r+=i.e.field+i.e.operator+i.e.value;return r},i.prototype.processQuery=function(n,t){var u=this.generateKey(n.dataSource.url,t),i,r;return(i=l.parse.parseJson(window.localStorage.getItem(this.guidId)),r=i?i.results[i.keys.indexOf(u)]:null,r!=null&&!this.isCrudAction&&!this.isInsertAction)?r:(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0)))},i.prototype.processResponse=function(n,t,i,r,u,f){var o,e,s;if(this.isInsertAction||u&&this.cacheAdaptor.options.batch&&l.endsWith(u.url,this.cacheAdaptor.options.batch)&&u.type.toLowerCase()==="post")return this.cacheAdaptor.processResponse(n,t,i,r,u,f);for(n=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0)),o=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,e={},e=l.parse.parseJson(window.localStorage.getItem(this.guidId)),s=e.keys.indexOf(o),s!==-1&&(e.results.splice(s,1),e.keys.splice(s,1)),e.results[e.keys.push(o)-1]={keys:o,result:n.result,timeStamp:new Date,count:n.count};e.results.length>this.pageSize;)e.results.splice(0,1),e.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(e)),n},i.prototype.beforeSend=function(n,t,i){l.endsWith(i.url,this.cacheAdaptor.options.batch)&&i.type.toLowerCase()==="post"&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept);n.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},i.prototype.update=function(n,t,i,r){return this.isCrudAction=!0,this.cacheAdaptor.update(n,t,i,r)},i.prototype.insert=function(n,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(n,t,i)},i.prototype.remove=function(n,t,i,r){return this.isCrudAction=!0,this.cacheAdaptor.remove(n,t,i,r)},i.prototype.batchRequest=function(n,t,i){return this.cacheAdaptor.batchRequest(n,t,i)},i}(bc),bf=function(){function n(n,i,r){var f=this,u;return this.dateParse=!0,this.requests=[],n||this.dataSource||(n=[]),r=r||n.adaptor,n instanceof Array?u={json:n,offline:!0}:typeof n=="object"?(n.json||(n.json=[]),u={url:n.url,insertUrl:n.insertUrl,removeUrl:n.removeUrl,updateUrl:n.updateUrl,crudUrl:n.crudUrl,batchUrl:n.batchUrl,json:n.json,headers:n.headers,accept:n.accept,data:n.data,timeTillExpiration:n.timeTillExpiration,cachingPageSize:n.cachingPageSize,enableCaching:n.enableCaching,requestType:n.requestType,key:n.key,crossDomain:n.crossDomain,jsonp:n.jsonp,dataType:n.dataType,offline:n.offline!==undefined?n.offline:n.adaptor instanceof cgt?!1:n.url?!1:!0,requiresFormat:n.requiresFormat}):l.throwError("DataManager: Invalid arguments"),u.requiresFormat!==undefined||l.isCors()||(u.requiresFormat=t(u.crossDomain)?!0:u.crossDomain),u.dataType===undefined&&(u.dataType="json"),this.dataSource=u,this.defaultQuery=i,u.url&&u.offline&&!u.json.length?(this.isDataAvailable=!1,this.adaptor=r||new vh,this.dataSource.offline=!1,this.ready=this.executeQuery(i||new wi),this.ready.then(function(n){f.dataSource.offline=!0;f.isDataAvailable=!0;u.json=n.result;f.adaptor=new gb})):this.adaptor=u.offline?new gb:new vh,!u.jsonp&&this.adaptor instanceof vh&&(u.jsonp="callback"),this.adaptor=r||this.adaptor,u.enableCaching&&(this.adaptor=new lgt(this.adaptor,u.timeTillExpiration,u.cachingPageSize)),this}return n.prototype.setDefaultQuery=function(n){return this.defaultQuery=n,this},n.prototype.executeLocal=function(t){var u,i;if(this.defaultQuery||t instanceof wi||l.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||l.throwError("DataManager - executeLocal() : Json data is required to execute"),t=t||this.defaultQuery,u=this.adaptor.processQuery(this,t),t.subQuery){var f=t.subQuery.fromTable,e=t.subQuery.lookups,r=t.isCountRequired?u.result:u;for(e&&e instanceof Array&&l.buildHierarchy(t.subQuery.fKey,f,r,e,t.subQuery.key),i=0;i<r.length;i++)r[i][f]instanceof Array&&(r[i]=b({},{},r[i]),r[i][f]=this.adaptor.processResponse(t.subQuery.using(new n(r[i][f].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(u,this,t)},n.prototype.executeQuery=function(t,i,r,u){var s=this,f,e,o;return typeof t=="function"&&(u=r,r=i,i=t,t=null),t||(t=this.defaultQuery),t instanceof wi||l.throwError("DataManager - executeQuery() : A query is required to execute"),f=new sv,e={query:t},this.dataSource.offline||this.dataSource.url===undefined||this.dataSource.url===""?n.nextTick(function(){var i=s.executeLocal(t);e=n.getDeferedArgs(t,i,e);f.resolve(e)}):(o=this.adaptor.processQuery(this,t),this.makeRequest(o,f,e,t)),(i||r)&&f.promise.then(i,r),u&&f.promise.then(u,u),f.promise},n.getDeferedArgs=function(n,t,i){return n.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i},n.nextTick=function(n){(window.setImmediate||window.setTimeout)(n,0)},n.prototype.extendRequest=function(n,t,i){return b({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},n)},n.prototype.makeRequest=function(n,t,i,r){var u=this,f=!!r.subQuerySelector,a=function(n){i.error=n;t.reject(i)},h=function(n,r,u,f,e,o,s){i.xhr=u;i.count=r?parseInt(r.toString(),10):0;i.result=n;i.request=f;i.aggregates=o;i.actual=e;i.virtualSelectRecords=s;t.resolve(i)},v=function(n,t){var e=new sv,c={parent:i},o,s;return r.subQuery.isChild=!0,o=u.adaptor.processQuery(u,r.subQuery,n?u.adaptor.processResponse(n):t),s=u.makeRequest(o,e,c,r.subQuery),f||e.then(function(t){n&&(l.buildHierarchy(r.subQuery.fKey,r.subQuery.fromTable,n,t,r.subQuery.key),h(n,t.count,t.xhr))},a),s},y=function(n,t){t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")===-1&&u.dateParse&&(n=l.parse.parseJson(n));var i=u.adaptor.processResponse(n,u,r,t.httpRequest,t),e=0,o=null,s=n["virtualSelectRecords"];if(r.isCountRequired&&(e=i.count,o=i.aggregates,i=i.result),!r.subQuery){h(i,e,t.httpRequest,t.type,n,o,s);return}f||v(i,t)},e=this.extendRequest(n,y,a),o=new ue(e),c,s;return o.beforeSend=function(){u.beforeSend(o.httpRequest,o)},e=o.send(),e.catch(function(){return!0}),this.requests.push(o),f&&(c=void 0,s=r.subQuerySelector.call(this,{query:r.subQuery,parent:r}),s&&s.length?(c=Promise.all([e,v(null,s)]),c.then(function(){for(var t,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=o[0],n=u.adaptor.processResponse(s[0],u,r,u.requests[0].httpRequest,u.requests[0]),e=0;r.isCountRequired&&(e=n.count,n=n.result);t=u.adaptor.processResponse(s[1],u,r.subQuery,u.requests[1].httpRequest,u.requests[1]);e=0;r.subQuery.isCountRequired&&(e=t.count,t=t.result);l.buildHierarchy(r.subQuery.fKey,r.subQuery.fromTable,n,t,r.subQuery.key);f=!1;h(n,e,u.requests[0].httpRequest)})):f=!1),e},n.prototype.beforeSend=function(n,t){var i,o,r,s,u,e,f;for(this.adaptor.beforeSend(this,n,t),i=this.dataSource.headers,r=0;i&&r<i.length;r++)for(o=[],s=Object.keys(i[r]),u=0,e=s;u<e.length;u++)f=e[u],o.push(f),n.setRequestHeader(f,i[r][f])},n.prototype.saveChanges=function(n,t,i,r,u){var o=this,s,h,e,f;return(i instanceof wi&&(r=i,i=null),s={url:i,key:t||this.dataSource.key},h=this.adaptor.batchRequest(this,n,s,r,u),this.dataSource.offline)?h:(e=new sv,f=new ue(h),f.beforeSend=function(){o.beforeSend(f.httpRequest,f)},f.onSuccess=function(t,i){e.resolve(o.adaptor.processResponse(l.parse.parseJson(t),o,null,i.httpRequest,i,n,s))},f.onFailure=function(n){e.reject([{error:n}])},f.send().catch(function(){return!0}),e.promise)},n.prototype.insert=function(n,t,i,r){t instanceof wi&&(i=t,t=null);var u=this.adaptor.insert(this,n,t,i,r);return this.dataSource.offline?u:this.doAjaxRequest(u)},n.prototype.remove=function(n,t,i,r){typeof t=="object"&&(t=t[n]);i instanceof wi&&(r=i,i=null);var u=this.adaptor.remove(this,n,t,i,r);return this.dataSource.offline?u:this.doAjaxRequest(u)},n.prototype.update=function(n,t,i,r,u){i instanceof wi&&(r=i,i=null);var f=this.adaptor.update(this,n,t,i,r,u);return this.dataSource.offline?f:this.doAjaxRequest(f)},n.prototype.doAjaxRequest=function(n){var i=this,r=new sv,t;return n=b({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},n),t=new ue(n),t.beforeSend=function(){i.beforeSend(t.httpRequest,t)},t.onSuccess=function(n,t){try{l.parse.parseJson(n)}catch(u){n=[]}n=i.adaptor.processResponse(l.parse.parseJson(n),i,null,t.httpRequest,t);r.resolve(n)},t.onFailure=function(n){r.reject([{error:n}])},t.send().catch(function(){return!0}),r.promise},n}(),sv=function(){function n(){var n=this;this.promise=new Promise(function(t,i){n.resolve=t;n.reject=i});this.then=this.promise.then.bind(this.promise);this.catch=this.promise.catch.bind(this.promise)}return n}(),yt={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper"},yr;(function(n){function rt(n,t,u,f){var h=b({},i,u),c=b({},r,h.ariaAttributes),e=s(t).typeof;return e==="string"||e==="number"?l(n,t,f,u):o(n,t,u,c.level,f)}function l(n,t,i,r){var u=a(n,t,i,r);return c(n,u,null,r)}function a(n,r,u,o){var a=[],h=b({},i,o),v,s,c,l;for(yt=e(h.moduleName),v=f(),s=0;s<r.length;s++)t(r[s])||(c=void 0,h.itemCreating&&typeof h.itemCreating=="function"&&(l={dataSource:r,curData:r[s],text:r[s],options:h},h.itemCreating(l)),c=u?nt(n,r[s],undefined,null,null,[],null,v,s,o):it(n,r[s],undefined,null,null,o),h.itemCreated&&typeof h.itemCreated=="function"&&(l={dataSource:r,curData:r[s],text:r[s],item:c,options:h},h.itemCreated(l)),a.push(c));return a}function y(u,o,c,l,a){var p=b({},i,c),v,g,ut,ft,w,k,y,tt,d,et,rt;for(yt=e(p.moduleName),v=b({},n.defaultMappedFields,p.fields),g=b({},r,p.ariaAttributes),l&&(g.level=l),ft=[],o&&o.length&&!t(s(o).item)&&!s(o).item.hasOwnProperty(v.id)&&(ut=f()),k=0;k<o.length;k++)(y=or(o[k],v),t(o[k]))||(p.itemCreating&&typeof p.itemCreating=="function"&&(rt={dataSource:o,curData:o[k],text:y[v.text],options:p,fields:v},p.itemCreating(rt)),tt=o[k],p.itemCreating&&typeof p.itemCreating=="function"&&(y=or(o[k],v)),y.hasOwnProperty(v.id)&&!t(y[v.id])&&(ut=y.id),d=[],p.showCheckBox&&d.push(u("input",{className:yt.check,attrs:{type:"checkbox"}})),a===!0?(p.showIcon&&y.hasOwnProperty(v.iconCss)&&!t(y[v.iconCss])&&d.push(u("span",{className:yt.icon+" "+y[v.iconCss]})),w=nt(u,tt,y,v,p.itemClass,d,tt.hasOwnProperty("isHeader")&&tt.isHeader?!0:!1,ut,k,c)):(w=it(u,tt,y,v,p.itemClass,c),w.classList.add(yt.level+"-"+g.level),w.setAttribute("aria-level",g.level.toString()),y.hasOwnProperty(v.tooltip)&&w.setAttribute("title",y[v.tooltip]),y.hasOwnProperty(v.htmlAttributes)&&y[v.htmlAttributes]&&h(w,y[v.htmlAttributes]),y.hasOwnProperty(v.enabled)&&y[v.enabled]===!1&&w.classList.add(yt.disabled),y.hasOwnProperty(v.isVisible)&&y[v.isVisible]===!1&&(w.style.display="none"),y.hasOwnProperty(v.imageUrl)&&!t(y[v.imageUrl])&&(et={src:y[v.imageUrl]},st(et,y[v.imageAttributes]),ku([u("img",{className:yt.image,attrs:et})],w.firstElementChild)),p.showIcon&&y.hasOwnProperty(v.iconCss)&&!t(y[v.iconCss])&&!p.template&&ku([u("div",{className:yt.icon+" "+y[v.iconCss]})],w.firstElementChild),d.length&&ku(d,w.firstElementChild),ht(u,y,v,o,p,w,g.level)),p.itemCreated&&typeof p.itemCreated=="function"&&(rt={dataSource:o,curData:o[k],text:y[v.text],item:w,options:p,fields:v},p.itemCreated(rt)),ft.push(w));return ft}function o(n,t,r,u,f){var e=b({},i,r),o=y(n,t,r,u,f);return c(n,o,e.listClass,r)}function ut(n,t,r){if(yt=e(i.moduleName),!n||!n.length)return void 0;for(var o=Array.prototype.slice.call(n),f=t?p(t,o):r===!0?o.length:-1,u=o[f+(r===!0?-1:1)];u&&(!cl(u)||u.classList.contains(yt.disabled));)f=f+(r===!0?-1:1),u=o[f];return u}function p(n,t){if(t&&n){var i=t;return i=Array.prototype.slice.call(t),i.indexOf(n)}return void 0}function ft(t,i,r){var h,o,f,u,s;for(r===void 0&&(r="None"),h=b({},n.defaultMappedFields,i),o=(new wi).group(h.groupBy),o=w(r,"key",o),f=k(t,o),t=[],u=0;u<f.length;u++){var c=f[u].items,e={};for(e[h.text]=f[u].key,e["isHeader"]=!0,e.id="group-list-item-"+(f[u].key?f[u].key.toString().trim():"undefined"),e.items=c,t.push(e),s=0;s<c.length;s++)t.push(c[s])}return t}function w(n,t,i){if(i===void 0&&(i=new wi),n==="Ascending")i.sortBy(t,"ascending",!0);else if(n==="Descending")i.sortBy(t,"descending",!0);else for(var r=0;r<i.queries.length;r++)i.queries[r].fn==="onSortBy"&&i.queries.splice(r,1);return i}function k(n,t){return new bf(n).executeLocal(t)}function d(t,r){var nt=b({},i,r),o=b({},n.defaultMappedFields,nt.fields),v=t.cloneNode(!0),p=[],y,h,s,e;for(v.classList.add("json-parent"),y=v.querySelectorAll(".json-parent>li"),v.classList.remove("json-parent"),h=0;h<y.length;h++){var c=y[h],l=c.querySelector("a"),w=c.querySelector("ul"),u={},a=l?l.childNodes:c.childNodes,k=Object.keys(a);for(s=0;s<a.length;s++)a[Number(k[s])].hasChildNodes()||(u[o.text]=a[Number(k[s])].textContent);u[o.id]=f();e=g(c);Object.keys(e).length&&(u[o.htmlAttributes]=e);l&&(e=g(l),Object.keys(e).length&&(u[o.urlAttributes]=e));w&&(u[o.child]=d(w,r));p.push(u)}return p}function s(n){for(var i=0;i<n.length;i++)if(!t(n[i]))return{"typeof":typeof n[i],item:n[i]};return{"typeof":null,item:null}}function h(n,t){var i={};st(i,t);i.class&&(u([n],i.class.split(" ")),delete i.class);v(n,i)}function g(n){for(var r={},i=n.attributes,t=0;t<i.length;t++)r[i[t].nodeName]=i[t].nodeValue;return r}function et(t,r,u,o,s){var l,a,w;yt=e(i.moduleName);var k=t("ul",{className:yt.ul,attrs:{role:"presentation"}}),h=b({},i,s),c=b({},n.defaultMappedFields,o),nt=cu(r),d=[],tt=f();for(l=0;l<u.length;l++){var v=or(u[l],c),y=u[l],g=y.isHeader,p=v[c.value];h.itemCreating&&typeof h.itemCreating=="function"&&(w={dataSource:u,curData:y,text:p,options:h,fields:c},h.itemCreating(w));h.itemCreating&&typeof h.itemCreating=="function"&&(v=or(u[l],c),p=v[c.value]);a=t("li",{id:tt+"-"+l,className:g?yt.group:yt.li,attrs:{role:"presentation"}});g?a.innerText=v[c.text]:(ir(nt(y),a),a.setAttribute("data-value",p),a.setAttribute("role","option"));h.itemCreated&&typeof h.itemCreated=="function"&&(w={dataSource:u,curData:y,text:p,item:a,options:h,fields:c},h.itemCreated(w));d.push(a)}return ir(d,k),k}function ot(t,i,r,u){for(var f,o,h=cu(t),c=b({},n.defaultMappedFields,r),l=c.groupBy,e=0,s=u;e<s.length;e++)f=s[e],o={},o[l]=f.textContent,f.innerHTML="",ir(h(o),f);return u}function f(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function ht(n,t,i,r,u,f,e){var s=t[i.child]||[],h=t[i.hasChildren],c,l;s.length&&(h=!0,f.classList.add(yt.hasChild),u.processSubChild&&(c=o(n,s,u,++e),f.appendChild(c)));!u.expandCollapse||!h||u.template||(f.firstElementChild.classList.add(yt.iconWrapper),l=u.expandIconPosition==="Left"?ku:ir,l([n("div",{className:"e-icons "+u.expandIconClass})],f.querySelector("."+yt.textContent)))}function nt(n,u,f,e,o,s,c,l,a,v){var nt=b({},i,v),w=b({},r,nt.ariaAttributes),k=u,d=u,p,g,y;return typeof u!="string"&&typeof u!="number"&&typeof u!="boolean"&&(p=u,k=typeof f[e.text]=="boolean"||typeof f[e.text]=="number"?f[e.text]:f[e.text]||"",d=f[e.value]),g=t(p)||t(f[e.id])||f[e.id]===""?l+"-"+a:l,y=n("li",{className:(c===!0?yt.group:yt.li)+" "+(t(o)?"":o),id:g,attrs:w.groupItemRole!==""&&w.itemRole!==""?{role:c===!0?w.groupItemRole:w.itemRole}:{}}),p&&f.hasOwnProperty(e.enabled)&&f[e.enabled].toString()==="false"&&y.classList.add(yt.disabled),c?y.innerText=k:(t(d)||y.setAttribute("data-value",d),y.setAttribute("role","option"),p&&f.hasOwnProperty(e.htmlAttributes)&&f[e.htmlAttributes]&&h(y,f[e.htmlAttributes]),s.length&&ir(s,y),p&&f.hasOwnProperty(e.url)&&f[e.url]?y.appendChild(tt(n,p,e,k)):y.appendChild(document.createTextNode(k))),y}function e(n){return{li:"e-"+n+"-item",ul:"e-"+n+"-parent e-ul",group:"e-"+n+"-group-item",icon:"e-"+n+"-icon",text:"e-"+n+"-text",check:"e-"+n+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+n+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+n+"-img",iconWrapper:"e-icon-wrapper"}}function tt(n,t,i,r){var u=or(t,i),e={href:u[i.url]},f;return u.hasOwnProperty(i.urlAttributes)&&u[i.urlAttributes]&&st(e,u[i.urlAttributes]),f=n("a",{className:yt.text+" "+yt.url,innerHTML:r}),h(f,e),f}function it(n,u,e,o,s,h){var d=b({},i,h),c=b({},r,d.ariaAttributes),p=u,w,a,k,l,v,y;return typeof u!="string"&&typeof u!="number"&&(k=u,p=e[o.text]||"",w=e[o.id],a=u.hasOwnProperty("isHeader")&&u.isHeader?!0:!1),l=n("li",{className:(a===!0?yt.group:yt.li)+" "+(t(s)?"":s),attrs:c.groupItemRole!==""&&c.itemRole!==""?{role:a===!0?c.groupItemRole:c.itemRole}:{}}),t(w)?l.setAttribute("data-uid",f()):l.setAttribute("data-uid",w),a&&h&&h.groupTemplate?(v=cu(h.groupTemplate),ir(v(u),l)):!a&&h&&h.template?(v=cu(h.template),ir(v(u),l)):(y=n("div",{className:yt.textContent,attrs:c.wrapperRole!==""?{role:c.wrapperRole}:{}}),k&&e.hasOwnProperty(o.url)&&e[o.url]?y.appendChild(tt(n,k,o,p)):y.appendChild(n("span",{className:yt.text,innerHTML:p,attrs:c.itemText!==""?{role:c.itemText}:{}})),l.appendChild(y)),l}function c(n,u,f,o){var h=b({},i,o),c=b({},r,h.ariaAttributes),s;return yt=e(h.moduleName),s=n("ul",{className:yt.ul+" "+(t(f)?"":f),attrs:c.listRole!==""?{role:c.listRole}:{}}),ir(u,s),s}function ct(n,r,u,f){var o=b({},i,f),s;return yt=e(o.moduleName),s=o.expandIconPosition==="Left"?ku:ir,s([n("div",{className:"e-icons "+o.expandIconClass+" "+(t(u)?"":u)})],r.querySelector("."+yt.textContent)),r}n.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var r={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},i={showCheckBox:!1,showIcon:!1,expandCollapse:!1,fields:n.defaultMappedFields,ariaAttributes:r,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right"};n.createList=rt;n.createListFromArray=l;n.createListItemFromArray=a;n.createListItemFromJson=y;n.createListFromJson=o;n.getSiblingLI=ut;n.indexOf=p;n.groupDataSource=ft;n.addSorting=w;n.getDataSource=k;n.createJsonFromElement=d;n.renderContentTemplate=et;n.renderGroupTemplate=ot;n.generateId=f;n.generateUL=c;n.generateIcon=ct})(yr||(yr={}));var lut=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),at=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},aut={None:[],SlideLeft:["SlideRightOut","SlideLeftOut","SlideLeftIn","SlideRightIn"],SlideDown:["SlideTopOut","SlideBottomOut","SlideBottomIn","SlideTopIn"],Zoom:["FadeOut","FadeZoomOut","FadeZoomIn","FadeIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},agt={None:[],SlideLeft:["SlideLeftOut","SlideRightOut","SlideRightIn","SlideLeftIn"],SlideDown:["SlideBottomOut","SlideTopOut","SlideTopIn","SlideBottomIn"],Zoom:["FadeZoomOut","FadeOut","FadeIn","FadeZoomIn"],Fade:["FadeOut","FadeOut","FadeIn","FadeIn"]},s={root:"e-listview",hover:"e-hover",selected:"e-active",focused:"e-focused",parentItem:"e-list-parent",listItem:"e-list-item",listIcon:"e-list-icon",textContent:"e-text-content",listItemText:"e-list-text",groupListItem:"e-list-group-item",hasChild:"e-has-child",view:"e-view",header:"e-list-header",headerText:"e-headertext",headerTemplateText:"e-headertemplate-text",text:"e-text",disable:"e-disabled",content:"e-content",icon:"e-icons",backIcon:"e-icon-back",checkboxWrapper:"e-checkbox-wrapper",checkbox:"e-checkbox",checked:"e-check",checklist:"e-checklist",checkboxIcon:"e-frame",checkboxRight:"e-checkbox-right",checkboxLeft:"e-checkbox-left",listviewCheckbox:"e-listview-checkbox",itemCheckList:"e-checklist"},vgt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return lut(t,n),at([i("id")],t.prototype,"id",void 0),at([i("text")],t.prototype,"text",void 0),at([i("isChecked")],t.prototype,"isChecked",void 0),at([i("isVisible")],t.prototype,"isVisible",void 0),at([i("enabled")],t.prototype,"enabled",void 0),at([i("iconCss")],t.prototype,"iconCss",void 0),at([i("child")],t.prototype,"child",void 0),at([i("tooltip")],t.prototype,"tooltip",void 0),at([i("groupBy")],t.prototype,"groupBy",void 0),at([i("text")],t.prototype,"sortBy",void 0),at([i("htmlAttributes")],t.prototype,"htmlAttributes",void 0),at([i("tableName")],t.prototype,"tableName",void 0),t}(it),hri=function(n){function e(t,i){return n.call(this,t,i)||this}return lut(e,n),e.prototype.onPropertyChanged=function(n,t){for(var u,i=0,r=Object.keys(n);i<r.length;i++){u=r[i];switch(u){case"htmlAttributes":this.setHTMLAttribute();break;case"cssClass":this.setCSSClass(t.cssClass);break;case"enable":this.setEnable();break;case"width":case"height":this.setSize();break;case"enableRtl":this.setEnableRTL();break;case"fields":this.listBaseOption.fields=this.fields.properties;this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"headerTitle":this.curDSLevel.length||this.header(this.headerTitle,!1);break;case"showHeader":this.header(this.headerTitle,!1);break;case"enableVirtualization":a(this.contentContainer);this.refresh();break;case"showCheckBox":case"checkBoxPosition":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.setCheckbox();break;case"dataSource":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():this.reRender();break;case"sortOrder":case"showIcon":this.enableVirtualization?this.virtualizationModule.reRenderUiVirtualization():(this.listBaseOption.showIcon=this.showIcon,this.curViewDS=this.getSubDS(),this.resetCurrentList())}}},e.prototype.setHTMLAttribute=function(){Object.keys(this.htmlAttributes).length&&v(this.element,this.htmlAttributes)},e.prototype.setCSSClass=function(n){this.cssClass&&u([this.element],this.cssClass.split(" "));n&&h([this.element],n.split(" "))},e.prototype.setSize=function(){this.element.style.height=g(this.height);this.element.style.width=g(this.width);this.isWindow=this.element.getBoundingClientRect().height?!1:!0},e.prototype.setEnable=function(){this.enableElement(this.element,this.enable)},e.prototype.setEnableRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},e.prototype.enableElement=function(n,t){t?n.classList.remove(s.disable):n.classList.add(s.disable)},e.prototype.header=function(n,t){var f,u,i,r;if(this.headerEle===undefined&&this.showHeader){this.headerEle=this.createElement("div",{className:s.header});var e=this.createElement("span",{className:s.headerText,innerHTML:this.headerTitle}),i=this.createElement("div",{className:s.text,innerHTML:e.outerHTML}),r=this.createElement("div",{className:s.icon+" "+s.backIcon+" e-but-back",attrs:{style:"display:none;"}});this.headerEle.appendChild(r);this.headerEle.appendChild(i);this.headerTemplate&&(f=cu(this.headerTemplate),u=this.createElement("div",{className:s.headerTemplateText}),ir(f({}),u),ir([u],this.headerEle));this.headerTemplate&&this.headerTitle&&i.classList.add("header");this.element.classList.add("e-has-header");ku([this.headerEle],this.element)}else this.headerEle&&(this.showHeader?(this.headerEle.style.display="",i=this.headerEle.querySelector("."+s.headerText),r=this.headerEle.querySelector("."+s.backIcon),i.innerHTML=n,this.headerTemplate&&t&&(i.parentElement.classList.remove("header"),this.headerEle.querySelector("."+s.headerTemplateText).classList.add("nested-header")),this.headerTemplate&&!t&&(i.parentElement.classList.add("header"),this.headerEle.querySelector("."+s.headerTemplateText).classList.remove("nested-header"),this.headerEle.querySelector("."+s.headerTemplateText).classList.add("header")),r.style.display=t===!0?"":"none"):this.headerEle.style.display="none")},e.prototype.switchView=function(n,t,i){var f=this,e,o,r,u,s;n&&t&&(e=n.style.position,o=this.element.style.overflow!=="hidden"?this.element.style.overflow:"",n.style.position="absolute",n.classList.add("e-view"),r=void 0,u=this.animation.duration,this.animation.effect?r=this.enableRtl?agt[this.animation.effect]:aut[this.animation.effect]:(s="SlideLeft",r=aut[s],i=this.enableRtl,u=0),this.element.style.overflow="hidden",this.aniObj.animate(n,{name:i===!0?r[0]:r[1],duration:u,timingFunction:this.animation.easing,end:function(){n.style.display="none";f.element.style.overflow=o;n.style.position=e;n.classList.remove("e-view")}}),t.style.display="",this.aniObj.animate(t,{name:i===!0?r[2]:r[3],duration:u,timingFunction:this.animation.easing,end:function(){f.trigger("actionComplete")}}),this.curUL=t)},e.prototype.preRender=function(){this.listBaseOption={template:this.template,headerTemplate:this.headerTemplate,groupTemplate:this.groupTemplate,expandCollapse:!0,listClass:"",ariaAttributes:{itemRole:"listitem",listRole:"list",itemText:"",groupItemRole:"group",wrapperRole:"presentation"},fields:this.fields.properties,sortOrder:this.sortOrder,showIcon:this.showIcon,itemCreated:this.renderCheckbox.bind(this)};this.initialization()},e.prototype.initialization=function(){this.curDSLevel=[];this.animateOptions={};this.curViewDS=[];this.currentLiElements=[];this.isNestedList=!1;this.selectedData=[];this.selectedId=[];this.aniObj=new di(this.animateOptions)},e.prototype.renderCheckbox=function(n){var t,i,r;n.item.classList.contains(s.hasChild)&&(this.isNestedList=!0);this.showCheckBox&&this.isValidLI(n.item)&&(t=void 0,i=void 0,t=kvt(this.createElement,!1,{checked:!1,enableRtl:this.enableRtl,cssClass:s.listviewCheckbox}),t.setAttribute("role","checkbox"),r=t.querySelector("."+s.checkboxIcon),n.item.classList.add(s.itemCheckList),n.item.firstElementChild.classList.add(s.checkbox),typeof this.dataSource[0]!="string"&&typeof this.dataSource[0]!="number"?(i=or(n.curData,this.listBaseOption.fields),i[this.listBaseOption.fields.isChecked]&&this.checkInternally(n,t)):(typeof this.dataSource[0]=="string"||typeof this.dataSource[0]=="number")&&this.selectedData.indexOf(n.text)!==-1&&this.checkInternally(n,t),t.setAttribute("aria-checked",r.classList.contains(s.checked)?"true":"false"),this.checkBoxPosition==="Left"?(t.classList.add(s.checkboxLeft),n.item.firstElementChild.classList.add(s.checkboxLeft),n.item.firstElementChild.insertBefore(t,n.item.firstElementChild.childNodes[0])):(t.classList.add(s.checkboxRight),n.item.firstElementChild.classList.add(s.checkboxRight),n.item.firstElementChild.appendChild(t)),this.currentLiElements.push(n.item))},e.prototype.checkInternally=function(n,t){n.item.classList.add(s.selected);n.item.setAttribute("aria-selected","true");t.querySelector("."+s.checkboxIcon).classList.add(s.checked);t.setAttribute("aria-checked","true")},e.prototype.checkItem=function(n){this.toggleCheckBase(n,!0)},e.prototype.toggleCheckBase=function(n,i){var r,u;this.showCheckBox&&(r=n,n instanceof Object&&n.constructor!==HTMLLIElement&&(r=this.getLiFromObjOrElement(n)),t(r)||(u=r.querySelector("."+s.checkboxIcon),i?r.classList.add(s.selected):r.classList.remove(s.selected),r.setAttribute("aria-selected",i?"true":"false"),i?u.classList.add(s.checked):u.classList.remove(s.checked),u.parentElement.setAttribute("aria-checked",i?"true":"false")),this.setSelectedItemData(r))},e.prototype.uncheckItem=function(n){this.toggleCheckBase(n,!1)},e.prototype.checkAllItems=function(){this.toggleAllCheckBase(!0)},e.prototype.uncheckAllItems=function(){this.toggleAllCheckBase(!1)},e.prototype.toggleAllCheckBase=function(n){var t,i;if(this.showCheckBox){for(t=0;t<this.liCollection.length;t++)i=this.liCollection[t].querySelector("."+s.checkboxIcon),i&&(n?i.classList.contains(s.checked)||this.checkItem(this.liCollection[t]):i.classList.contains(s.checked)&&this.uncheckItem(this.liCollection[t]));this.enableVirtualization&&this.virtualizationModule.checkedItem(n)}},e.prototype.setCheckbox=function(){var t=this,n,i;this.showCheckBox?(i=Array.prototype.slice.call(this.element.querySelectorAll("."+s.listItem)),n={item:undefined,curData:undefined,dataSource:undefined,fields:undefined,options:undefined,text:""},i.forEach(function(i){n.item=i;n.curData=t.getItemData(i);i.querySelector("."+s.checkboxWrapper)&&t.removeElement(i.querySelector("."+s.checkboxWrapper));t.renderCheckbox(n);n.item.classList.contains(s.selected)&&t.checkInternally(n,n.item.querySelector("."+s.checkboxWrapper))})):(i=Array.prototype.slice.call(this.element.querySelectorAll("."+s.itemCheckList)),i.forEach(function(n){n.classList.remove(s.selected);n.firstElementChild.classList.remove(s.checkbox);t.removeElement(n.querySelector("."+s.checkboxWrapper))}),this.selectedItems&&this.selectedItems.item.classList.add(s.selected))},e.prototype.clickHandler=function(n){var r=n.target,e=r.classList,i,u,f,o;e.contains(s.backIcon)||e.contains(s.headerText)?(this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back()):(i=k(r.parentNode,"."+s.listItem),i===null&&(i=r),this.removeFocus(),this.enable&&this.showCheckBox&&this.isValidLI(i)?n.target.classList.contains(s.checkboxIcon)?(i.classList.add(s.focused),t(i.querySelector("."+s.checked))?(u={curData:undefined,dataSource:undefined,fields:undefined,options:undefined,text:undefined,item:i},this.checkInternally(u,u.item.querySelector("."+s.checkboxWrapper))):(this.uncheckItem(i),i.classList.add(s.focused)),n&&(f=this.selectEventData(i,n),o=i.querySelector("."+s.checkboxIcon),st(f,{isChecked:o.classList.contains(s.checked)}),this.trigger("select",f))):i.classList.contains(s.hasChild)?(this.removeHover(),this.removeSelect(),this.removeSelect(i),this.setSelectLI(i,n),i.classList.remove(s.selected)):this.setCheckboxLI(i,n):this.setSelectLI(i,n))},e.prototype.removeElement=function(n){return n&&n.parentNode&&n.parentNode.removeChild(n)},e.prototype.hoverHandler=function(n){var t=k(n.target.parentNode,"."+s.listItem);this.setHoverLI(t)},e.prototype.leaveHandler=function(){this.removeHover()},e.prototype.homeKeyHandler=function(n,t){var i,r,u;Object.keys(this.dataSource).length&&this.curUL&&(i=this.curUL.querySelectorAll("."+s.listItem),r=this.curUL.querySelector("."+s.focused)||this.curUL.querySelector("."+s.selected),r&&(r.classList.remove(s.focused),this.showCheckBox||r.classList.remove(s.selected)),u=t?i.length-1:0,i[u].classList.contains(s.hasChild)||this.showCheckBox?i[u].classList.add(s.focused):this.setSelectLI(i[u],n))},e.prototype.onArrowKeyDown=function(n,i){var r,u,f=t(this.curUL.querySelector("."+s.hasChild))?!1:!0;return f||this.showCheckBox?(u=this.curUL.querySelector("."+s.focused)||this.curUL.querySelector("."+s.selected),r=yr.getSiblingLI(this.curUL.querySelectorAll("."+s.listItem),u,i),t(r)||(u&&(u.classList.remove(s.focused),this.showCheckBox||u.classList.remove(s.selected)),r.classList.contains(s.hasChild)||this.showCheckBox?r.classList.add(s.focused):this.setSelectLI(r,n))):(u=this.curUL.querySelector("."+s.selected),r=yr.getSiblingLI(this.curUL.querySelectorAll("."+s.listItem),u,i),this.setSelectLI(r,n)),r},e.prototype.arrowKeyHandler=function(n,t){var l=this,u,h,f,v,c;if(Object.keys(this.dataSource).length&&this.curUL){var e=this.onArrowKeyDown(n,t),o=this.element.getBoundingClientRect().top,y=this.element.getBoundingClientRect().height,a=this.curUL.querySelector("."+s.listItem).getBoundingClientRect(),i=void 0,r=void 0;this.fields.groupBy&&(r=this.curUL.querySelector("."+s.groupListItem).getBoundingClientRect());e?(u=e.getBoundingClientRect().top,h=e.getBoundingClientRect().height,t?(i=this.isWindow?u:u-o,i<0&&(this.isWindow?window.scrollTo(0,pageYOffset+i):this.element.scrollTo(0,this.element.scrollTop+i))):(f=this.isWindow?window.innerHeight:y,i=this.isWindow?u+h:u-o+h,i>f&&(this.isWindow?window.scrollTo(0,pageYOffset+(i-f)):this.element.scrollTo(0,this.element.scrollTop+(i-f))))):this.enableVirtualization&&t&&this.virtualizationModule.uiFirstIndex?(this.onUIScrolled=function(){l.onArrowKeyDown(n,t);l.onUIScrolled=undefined},i=this.virtualizationModule.listItemHeight,this.isWindow?window.scrollTo(0,pageYOffset-i):this.element.scrollTo(0,this.element.scrollTop-i)):t&&(this.showHeader&&this.headerEle?(v=r?r.top:a.top,c=this.headerEle.getBoundingClientRect(),i=c.top<0?c.height-v:0,this.isWindow?window.scrollTo(0,pageYOffset-i):this.element.scrollTo(0,0)):this.fields.groupBy&&(i=this.isWindow?r.top<0?r.top:0:o-a.top+r.height,this.isWindow?window.scrollTo(0,pageYOffset+i):this.element.scrollTo(0,this.element.scrollTop-i)))}},e.prototype.enterKeyHandler=function(n){if(Object.keys(this.dataSource).length&&this.curUL){var r=t(this.curUL.querySelector("."+s.hasChild))?!1:!0,i=this.curUL.querySelector("."+s.focused);r&&i&&(i.classList.remove(s.focused),this.showCheckBox&&(this.removeSelect(),this.removeSelect(i),this.removeHover()),this.setSelectLI(i,n))}},e.prototype.spaceKeyHandler=function(){var n,i;this.enable&&this.showCheckBox&&Object.keys(this.dataSource).length&&this.curUL&&(n=this.curUL.querySelector("."+s.focused),!t(n)&&t(n.querySelector("."+s.checked))?(i={curData:undefined,dataSource:undefined,fields:undefined,options:undefined,text:undefined,item:n},this.checkInternally(i,i.item.querySelector("."+s.checkboxWrapper))):this.uncheckItem(n))},e.prototype.keyActionHandler=function(n){n.preventDefault();switch(n.keyCode){case 36:this.homeKeyHandler(n);break;case 35:this.homeKeyHandler(n,!0);break;case 40:this.arrowKeyHandler(n);break;case 38:this.arrowKeyHandler(n,!0);break;case 13:this.enterKeyHandler(n);break;case 8:this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems();this.back();break;case 9:this.tabFocus(n);break;case 32:this.spaceKeyHandler(n)}},e.prototype.swipeActionHandler=function(n){n.swipeDirection==="Right"&&(this.showCheckBox&&this.curDSLevel[this.curDSLevel.length-1]&&this.uncheckAllItems(),this.back())},e.prototype.focusout=function(){if(Object.keys(this.dataSource).length&&this.curUL){var n=this.curUL.querySelector("."+s.focused),t=this.curUL.querySelector("[aria-selected = true]");n&&!this.showCheckBox&&(n.classList.remove(s.focused),t&&t.classList.add(s.selected))}},e.prototype.wireEvents=function(){r.add(this.element,"keydown",this.keyActionHandler,this);r.add(this.element,"click",this.clickHandler,this);this.enableVirtualization||(r.add(this.element,"mouseover",this.hoverHandler,this),r.add(this.element,"mouseout",this.leaveHandler,this));r.add(this.element,"focusout",this.focusout,this);this.touchModule=new by(this.element,{swipe:this.swipeActionHandler.bind(this)})},e.prototype.unWireEvents=function(){r.remove(this.element,"click",this.clickHandler);this.enableVirtualization||(r.remove(this.element,"mouseover",this.hoverHandler),r.remove(this.element,"mouseout",this.leaveHandler));r.remove(this.element,"mouseover",this.hoverHandler);r.remove(this.element,"mouseout",this.leaveHandler);this.touchModule.destroy()},e.prototype.tabFocus=function(n){var r,i,u;Object.keys(this.dataSource).length&&this.curUL&&(r=this.curUL.querySelector("."+s.selected),(!r&&this.curUL||this.showCheckBox)&&(i=this.curUL.querySelector("."+s.listItem),i.classList.contains(s.hasChild)||this.showCheckBox?(u=this.curUL.querySelector("."+s.focused),t(u)&&i.classList.add(s.focused)):this.setSelectLI(i,n)))},e.prototype.removeFocus=function(){for(var i,r=this.element.querySelectorAll("."+s.focused),n=0,t=r;n<t.length;n++)i=t[n],i.classList.remove(s.focused)},e.prototype.removeHover=function(){var n=this.element.querySelector("."+s.hover);n&&n.classList.remove(s.hover)},e.prototype.removeSelect=function(n){var f,i,u,r;if(t(n))for(f=this.element.querySelectorAll("."+s.selected),i=0,u=f;i<u.length;i++)if(r=u[i],this.showCheckBox&&r.querySelector("."+s.checked))continue;else r.setAttribute("aria-selected","false"),r.classList.remove(s.selected);else n.classList.remove(s.selected),n.setAttribute("aria-selected","false")},e.prototype.isValidLI=function(n){return n&&n.classList.contains(s.listItem)&&!n.classList.contains(s.groupListItem)&&!n.classList.contains(s.disable)},e.prototype.setCheckboxLI=function(n,t){var r,i,u;this.isValidLI(n)&&this.enable&&this.showCheckBox&&(this.curUL.querySelector("."+s.focused)&&this.curUL.querySelector("."+s.focused).classList.remove(s.focused),n.classList.add(s.focused),r=n.querySelector("."+s.checkboxWrapper),i=r.querySelector("."+s.checkboxIcon+"."+s.icon),this.removeHover(),i.classList.contains(s.checked)?(i.classList.remove(s.checked),n.classList.remove(s.selected),n.setAttribute("aria-selected","false")):(i.classList.add(s.checked),n.classList.add(s.selected),n.setAttribute("aria-selected","true")),r.setAttribute("aria-checked",i.classList.contains(s.checked)?"true":"false"),t&&(u=this.selectEventData(n,t),st(u,{isChecked:i.classList.contains(s.checked)}),this.enableVirtualization&&this.virtualizationModule.setCheckboxLI(n,t),this.trigger("select",u)),this.setSelectedItemData(n),this.renderSubList(n))},e.prototype.selectEventData=function(n,i){var u=this.getItemData(n),f=or(u,this.listBaseOption.fields),e,r;return e=(t(u)||typeof this.dataSource[0]!="string")&&typeof this.dataSource[0]!="number"?{item:n,text:f&&f[this.listBaseOption.fields.text],data:u}:{item:n,text:n&&n.innerText.trim(),data:this.dataSource},r={},st(r,e),i&&st(r,{isInteracted:!0,event:i,index:Array.prototype.indexOf.call(this.curUL.children,n)}),r},e.prototype.setSelectedItemData=function(n){var i=this.getItemData(n),r=or(i,this.listBaseOption.fields);this.selectedItems=t(i)||typeof this.dataSource[0]!="string"&&typeof this.dataSource[0]!="number"?{item:n,text:r&&r[this.listBaseOption.fields.text],data:i}:{item:n,text:n&&n.innerText.trim(),data:this.dataSource}},e.prototype.setSelectLI=function(n,t){if(this.isValidLI(n)&&!n.classList.contains(s.selected)&&this.enable){this.showCheckBox||this.removeSelect();n.classList.add(s.selected);n.setAttribute("aria-selected","true");this.removeHover();this.setSelectedItemData(n);this.enableVirtualization&&this.virtualizationModule.setSelectLI(n,t);var i=this.selectEventData(n,t);this.trigger("select",i);this.selectedLI=n;this.renderSubList(n)}},e.prototype.setHoverLI=function(n){if(this.isValidLI(n)&&!n.classList.contains(s.hover)&&this.enable){var t=this.element.querySelectorAll("."+s.hover);t&&t.length&&h(t,s.hover);(!n.classList.contains(s.selected)||this.showCheckBox)&&n.classList.add(s.hover)}},e.prototype.hoverSiblingLI=function(n){var t=this.curUL.querySelector("."+s.hover),i,r;t||(t=this.curUL.querySelector("."+s.selected));t?i=yr.getSiblingLI(this.curUL.querySelectorAll("."+s.listItem),t,n):n?(r=this.curUL.querySelectorAll("."+s.listItem),i=r[r.length-1]):i=this.curUL.querySelector("."+s.listItem);this.setHoverLI(i)},e.prototype.getSubDS=function(){var u=this.curDSLevel,n,t,i,f,r,e;if(u.length){for(n=this.localData,t=0,i=u;t<i.length;t++)f=i[t],r={},r[this.fields.id]=f,this.curDSJSON=this.findItemFromDS(n,r),e=or(this.curDSJSON,this.listBaseOption.fields),n=this.curDSJSON?e[this.fields.child]:n;return n}return this.localData},e.prototype.getItemData=function(n){var r=this.dataSource instanceof bf?this.localData:this.dataSource,u=this.getElementUID(n),i;return i=t(this.element.querySelector("."+s.hasChild))&&this.fields.groupBy?this.curViewDS:r,this.findItemFromDS(i,u)},e.prototype.findItemFromDS=function(n,i,r){var u=this,f;return n&&n.length&&i?n.some(function(e){var o=or(e,u.listBaseOption.fields),s;return!(i[u.fields.id]||i[u.fields.text])||i[u.fields.id]&&(!t(o[u.fields.id])&&o[u.fields.id].toString())!==i[u.fields.id].toString()||i[u.fields.text]&&o[u.fields.text]!==i[u.fields.text]?typeof e!="object"&&n.indexOf(e)!==-1?f=r?n:e:!t(i[u.fields.id])&&t(o[u.fields.id])?(s=u.element.querySelector('[data-uid="'+i[u.fields.id]+'"]'),s&&s.innerText.trim()===o[u.fields.text]&&(f=e)):o.hasOwnProperty(u.fields.child)&&o[u.fields.child].length&&(f=u.findItemFromDS(o[u.fields.child],i,r)):f=r?n:e,!!f}):f=n,f},e.prototype.getQuery=function(){var i=[],r=this.query?this.query:new wi,t,u,n;if(!this.query){for(t=0,u=Object.keys(this.fields.properties);t<u.length;t++)n=u[t],n==="tableName"||!this.fields[n]||this.fields[n]===yr.defaultMappedFields[n]||i.indexOf(this.fields[n])!==-1||i.push(this.fields[n]);r.select(i);this.fields.properties.hasOwnProperty("tableName")&&r.from(this.fields.tableName)}return r},e.prototype.setViewDataSource=function(n){n===void 0&&(n=this.localData);this.curViewDS=n&&this.fields.groupBy?yr.groupDataSource(n,this.listBaseOption.fields,this.sortOrder):n&&this.sortOrder!=="None"?yr.getDataSource(n,yr.addSorting(this.sortOrder,this.fields.sortBy)):n},e.prototype.isInAnimation=function(){return this.curUL.classList.contains(".e-animate")},e.prototype.setLocalData=function(){var n=this,t;this.trigger("actionBegin");this.dataSource instanceof bf?this.dataSource.executeQuery(this.getQuery()).then(function(t){n.isDestroyed||(n.localData=t.result,n.renderList(),n.trigger("actionComplete",t))}).catch(function(t){n.isDestroyed||n.trigger("actionFailure",t)}):this.dataSource&&this.dataSource.length?(this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData})):(t=this.element.querySelector("ul"),t&&(lt(t),this.setProperties({dataSource:yr.createJsonFromElement(t)},!0),this.localData=this.dataSource,this.renderList(),this.trigger("actionComplete",{data:this.localData})))},e.prototype.reRender=function(){this.element.innerHTML="";this.headerEle=this.ulElement=this.liCollection=undefined;this.setLocalData();this.header()},e.prototype.resetCurrentList=function(){this.setViewDataSource(this.curViewDS);this.contentContainer.innerHTML="";this.createList();this.renderIntoDom(this.curUL)},e.prototype.createList=function(){this.currentLiElements=[];this.isNestedList=!1;this.ulElement=this.curUL=yr.createList(this.createElement,this.curViewDS,this.listBaseOption);this.liCollection=this.curUL.querySelectorAll("."+s.listItem)},e.prototype.renderSubList=function(n){var i=n.getAttribute("data-uid"),r,t,u,f;n.classList.contains(s.hasChild)&&i&&(r=k(n.parentNode,"."+s.parentItem),t=this.element.querySelector("[pid='"+i+"']"),this.curDSLevel.push(i),this.setViewDataSource(this.getSubDS()),t||(u=this.curViewDS,t=yr.createListFromJson(this.createElement,u,this.listBaseOption,this.curDSLevel.length),t.setAttribute("pID",i),t.style.display="none",this.renderIntoDom(t)),this.switchView(r,t),this.liCollection=this.curUL.querySelectorAll("."+s.listItem),this.selectedItems&&(f=or(this.selectedItems.data,this.listBaseOption.fields),this.header(f[this.listBaseOption.fields.text],!0)),this.selectedLI=undefined)},e.prototype.renderIntoDom=function(n){this.contentContainer.appendChild(n)},e.prototype.renderList=function(n){this.setViewDataSource(n);this.enableVirtualization&&Object.keys(this.dataSource).length?((this.template||this.groupTemplate)&&(this.listBaseOption.template=null,this.listBaseOption.groupTemplate=null,this.listBaseOption.itemCreated=this.virtualizationModule.createUIItem.bind(this.virtualizationModule)),this.virtualizationModule.uiVirtualization()):(this.createList(),this.contentContainer=this.createElement("div",{className:s.content}),this.element.appendChild(this.contentContainer),this.renderIntoDom(this.ulElement))},e.prototype.getElementUID=function(n){var t={};return n instanceof Element?t[this.fields.id]=n.getAttribute("data-uid"):t=n,t},e.prototype.render=function(){this.element.classList.add(s.root);v(this.element,{role:"list",tabindex:"0"});this.setCSSClass();this.setEnableRTL();this.setEnable();this.setSize();this.wireEvents();this.header();this.setLocalData();this.setHTMLAttribute();this.rippleFn=si(this.element,{selector:"."+s.listItem})},e.prototype.destroy=function(){this.unWireEvents();var t=[s.root,this.cssClass,s.disable,"e-rtl","e-has-header","e-control"];h([this.element],t);this.rippleFn();this.element.removeAttribute("role");this.element.removeAttribute("tabindex");this.element.innerHTML="";this.curUL=this.ulElement=this.liCollection=this.headerEle=undefined;n.prototype.destroy.call(this)},e.prototype.back=function(){var i=this.curDSLevel[this.curDSLevel.length-1],n,r,u,f,t;i===undefined||this.isInAnimation()||(this.curDSLevel.pop(),this.setViewDataSource(this.getSubDS()),n=this.element.querySelector("[data-uid='"+i+"']"),r=this.curUL,n?n=n.parentElement:(this.createList(),this.renderIntoDom(this.ulElement),n=this.curUL),u=or(this.curDSJSON,this.listBaseOption.fields),f=u[this.fields.text],this.switchView(r,n,!0),this.removeFocus(),t=this.element.querySelector("[data-uid='"+i+"']"),t.classList.add(s.focused),this.showCheckBox&&t.querySelector("."+s.checkboxIcon).classList.contains(s.checked)?t.setAttribute("aria-selected","true"):(t.classList.remove(s.selected),t.setAttribute("aria-selected","false")),this.liCollection=this.curUL.querySelectorAll("."+s.listItem),this.header(this.curDSLevel.length?f:this.headerTitle,this.curDSLevel.length?!0:!1))},e.prototype.selectItem=function(n){t(n)||(this.enableVirtualization?this.virtualizationModule.selectItem(n):this.showCheckBox?this.setCheckboxLI(this.getLiFromObjOrElement(n)):this.setSelectLI(this.getLiFromObjOrElement(n)))},e.prototype.getLiFromObjOrElement=function(n){var r,o=this.dataSource instanceof bf?this.localData:this.dataSource,h,f,e,u,i;if(!t(n))if(typeof o[0]=="string"||typeof o[0]=="number")if(n instanceof Element){for(h=n.getAttribute("data-uid").toString(),i=0;i<this.liCollection.length;i++)if(this.liCollection[i].getAttribute("data-uid").toString()===h){r=this.liCollection[i];break}}else Array.prototype.some.call(this.curUL.querySelectorAll("."+s.listItem),function(t){return t.innerText.trim()===n.toString()?(r=t,!0):!1});else if(f=this.getItemData(n),e=or(f,this.listBaseOption.fields),f&&(r=this.element.querySelector('[data-uid="'+e[this.fields.id]+'"]'),t(r)))for(u=this.element.querySelectorAll("."+s.listItem),i=0;i<u.length;i++)u[i].innerText.trim()===e[this.fields.text]&&(r=u[i]);return r},e.prototype.selectMultipleItems=function(n){if(!t(n))for(var i=0;i<n.length;i++)t(n[i])||this.selectItem(n[i])},e.prototype.getParentId=function(){var t=[],n;if(this.isNestedList)for(n=this.curDSLevel.length-1;n>=0;n--)t.push(this.curDSLevel[n]);return t},e.prototype.getSelectedItems=function(){var n,h,e,o,r,i;if(this.selectedId=[],n=this.dataSource instanceof bf?this.localData:this.dataSource,this.enableVirtualization)return this.virtualizationModule.getSelectedItems();if(this.showCheckBox){var u=this.curUL.getElementsByClassName(s.selected),f=[],c=[];for(this.selectedId=[],h=[],e=0;e<u.length;e++)typeof n[0]=="string"||typeof n[0]=="number"?f.push(u[e].innerText.trim()):(o=this.getItemData(u[e]),i=or(o,this.listBaseOption.fields),this.isNestedList?h.push({data:o,parentId:this.getParentId()}):c.push(o),i?(f.push(i[this.listBaseOption.fields.text]),this.selectedId.push(i[this.listBaseOption.fields.id])):(f.push(undefined),this.selectedId.push(undefined)));return typeof n[0]=="string"||typeof n[0]=="number"?{item:u,data:n,text:f}:this.isNestedList?{item:u,data:h,text:f}:{item:u,data:c,text:f}}return r=this.element.getElementsByClassName(s.selected)[0],i=or(this.getItemData(r),this.listBaseOption.fields),typeof n[0]=="string"||typeof n[0]=="number"?t(r)?undefined:{item:r,data:n,text:r.innerText.trim()}:t(i)||t(r)?undefined:(this.selectedId.push(i[this.listBaseOption.fields.id]),{text:i[this.listBaseOption.fields.text],item:r,data:this.getItemData(r)})},e.prototype.findItem=function(n){return this.getItemData(n)},e.prototype.enableItem=function(n){this.setItemState(n,!0);this.enableVirtualization&&this.virtualizationModule.enableItem(n)},e.prototype.disableItem=function(n){this.setItemState(n,!1);this.enableVirtualization&&this.virtualizationModule.disableItem(n)},e.prototype.setItemState=function(n,t){var r=this.getItemData(n),u=or(r,this.listBaseOption.fields),i;r&&(i=this.element.querySelector('[data-uid="'+u[this.fields.id]+'"]'),t?(i&&i.classList.remove(s.disable),delete r[this.fields.enabled]):t||(i&&i.classList.add(s.disable),r[this.fields.enabled]=!1))},e.prototype.showItem=function(n){this.showHideItem(n,!1,"");this.enableVirtualization&&this.virtualizationModule.showItem(n)},e.prototype.hideItem=function(n){this.showHideItem(n,!0,"none");this.enableVirtualization&&this.virtualizationModule.hideItem(n)},e.prototype.showHideItem=function(n,t,i){var r=this.getItemData(n),f=or(r,this.listBaseOption.fields),u;r&&(u=this.element.querySelector('[data-uid="'+f[this.fields.id]+'"]'),u&&(u.style.display=i),t?r[this.fields.isVisible]=!1:delete r[this.fields.isVisible])},e.prototype.addItem=function(n,t){var i=this;if(t===void 0&&(t=undefined),!(this.dataSource instanceof bf)&&n instanceof Array)if(this.enableVirtualization)this.virtualizationModule.addItem(n,t);else{var u=this.findItemFromDS(this.dataSource,t),f=or(u,this.listBaseOption.fields),r=f[this.fields.child];r||(r=[]);r=r.concat(n);u instanceof Array?(n.forEach(function(n){var r,t;i.dataSource.push(n);i.setViewDataSource(i.dataSource);i.ulElement?(r=i.curViewDS.indexOf(n),i.addListItem(n,r),t=i.curViewDS[r-1],t&&t.isHeader&&t.items.length===1&&i.addListItem(t,r-1)):i.reRender()}),this.liCollection=this.curUL.querySelectorAll("."+s.listItem)):(u[this.fields.child]=r,this.reRender())}},e.prototype.addListItem=function(n,t){var i=this.getLiFromObjOrElement(this.curViewDS[t+1])||this.getLiFromObjOrElement(this.curViewDS[t+2])||null,r=yr.createListItemFromJson(this.createElement,[n],this.listBaseOption);this.ulElement.insertBefore(r[0],i)},e.prototype.removeItem=function(n){this.dataSource instanceof bf||(this.enableVirtualization?this.virtualizationModule.removeItem(n):this.removeItemFromList(n))},e.prototype.removeItemFromList=function(n){var o=n instanceof Element?this.getElementUID(n):n,r,u,h;if(r=this.findItemFromDS(this.dataSource,o,!0),r){u=void 0;u=this.findItemFromDS(r,o);var f=this.curViewDS.indexOf(u),i=this.getLiFromObjOrElement(n),e=void 0;this.fields.groupBy&&this.curViewDS[f-1]&&this.curViewDS[f-1].isHeader&&this.curViewDS[f-1].items.length===1&&i&&i.previousElementSibling.classList.contains(s.groupListItem)&&(t(i.nextElementSibling)||i.nextElementSibling&&i.nextElementSibling.classList.contains(s.groupListItem))&&(e=i.previousElementSibling);i&&a(i);e&&a(e);h=r.indexOf(u);r.splice(h,1);this.setViewDataSource(this.dataSource);this.liCollection=Array.prototype.slice.call(this.element.querySelectorAll("."+s.listItem))}},e.prototype.removeMultipleItems=function(n){if(!(this.dataSource instanceof bf)&&n.length)for(var t=0;t<n.length;t++)this.enableVirtualization?this.removeItem(n[t]):this.removeItemFromList(n[t])},e.prototype.getModuleName=function(){return"listview"},e.prototype.requiredModules=function(){var n=[];return this.enableVirtualization&&n.push({args:[this],member:"virtualization"}),n},e.prototype.getPersistData=function(){return this.addOnPersist(["cssClass","enableRtl","htmlAttributes","enable","fields","animation","headerTitle","sortOrder","showIcon","height","width","showCheckBox","checkBoxPosition"])},at([i()],e.prototype,"cssClass",void 0),at([i(!1)],e.prototype,"enableVirtualization",void 0),at([i({})],e.prototype,"htmlAttributes",void 0),at([i(!0)],e.prototype,"enable",void 0),at([i([])],e.prototype,"dataSource",void 0),at([i()],e.prototype,"query",void 0),at([nt(yr.defaultMappedFields,vgt)],e.prototype,"fields",void 0),at([i({effect:"SlideLeft",duration:400,easing:"ease"})],e.prototype,"animation",void 0),at([i("None")],e.prototype,"sortOrder",void 0),at([i(!1)],e.prototype,"showIcon",void 0),at([i(!1)],e.prototype,"showCheckBox",void 0),at([i("Left")],e.prototype,"checkBoxPosition",void 0),at([i("")],e.prototype,"headerTitle",void 0),at([i(!1)],e.prototype,"showHeader",void 0),at([i("")],e.prototype,"height",void 0),at([i("")],e.prototype,"width",void 0),at([i(null)],e.prototype,"template",void 0),at([i(null)],e.prototype,"headerTemplate",void 0),at([i(null)],e.prototype,"groupTemplate",void 0),at([f()],e.prototype,"select",void 0),at([f()],e.prototype,"actionBegin",void 0),at([f()],e.prototype,"actionComplete",void 0),at([f()],e.prototype,"actionFailure",void 0),at([vt],e)}(vi),vut=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ft=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ygt="e-date-range-wrapper",pgt="e-input-group",wgt="e-input-group-icon e-range-icon e-icons",nk="e-popup",bi="e-left-calendar",sr="e-right-calendar",bgt="e-left-container",kgt="e-right-container",hv="e-daterangepicker",tk="e-error",dt="e-active",dgt="e-start-end",pr="e-start-date",rf="e-end-date",yut="e-start-btn",rs="e-input-focus",ggt="e-end-btn",eo="e-range-hover",yh="e-other-month",cv="e-start-label",lv="e-end-label",ht="e-disabled",kf="e-selected",ei="e-calendar",av="e-next",vv="e-prev",gr="e-header",us="e-title",ik="e-icon-container",rk="e-date-range-container",nnt="e-range-header",kc="e-presets",tnt="e-footer",int="e-range-border",put="e-today",fs="e-focused-date",ph="e-content",dc="e-day-span",gc="e-week-number",oo="e-date-disabled",nu="e-icon-disabled",rnt="e-calendar-container",unt="e-separator",fnt="e-apply",ent="e-cancel",wut="e-device",fu="e-overlay",ont="e-change-icon e-icons",df=yt.li,snt="e-rtl",eu="e-hover",but="e-range-overflow",hnt=4,cnt="e-primary",kut="e-flat",dut="e-css",lnt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return vut(t,n),ft([i()],t.prototype,"label",void 0),ft([i()],t.prototype,"start",void 0),ft([i()],t.prototype,"end",void 0),t}(it),cri=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.isCustomRange=!1,r.isCustomWindow=!1,r.presetsItem=[],r.liCollections=[],r.previousEleValue="",r.isKeyPopup=!1,r.dateDisabled=!1,r.isRangeIconClicked=!1,r.isMaxDaysClicked=!1,r.disabledDays=[],r.preventBlur=!1,r.preventFocus=!1,r}return vut(e,n),e.prototype.render=function(){this.initialize();this.setProperties({startDate:this.startValue},!0);this.setProperties({endDate:this.endValue},!0);this.setModelValue()},e.prototype.preRender=function(){this.presetKeyConfig={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",tab:"tab",spacebar:"space"};this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"};this.defaultConstant={placeholder:"",startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"};this.isMobile=window.matchMedia("(max-width:550px)").matches;this.inputElement=this.element;this.angularTag=null;this.element.tagName==="EJS-DATERANGEPICKER"&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement));this.cloneElement=this.element.cloneNode(!0);this.element.getAttribute("id")?this.angularTag!==null&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=wr("ej2-datetimepicker"),this.angularTag!==null&&v(this.inputElement,{id:this.element.id+"_input"}));this.initProperty();n.prototype.preRender.call(this);this.navNextFunction=this.navNextMonth.bind(this);this.navPrevFunction=this.navPrevMonth.bind(this);this.deviceNavNextFunction=this.deviceNavNext.bind(this);this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this);this.initStartDate=this.checkDateValue(this.startValue);this.initEndDate=this.checkDateValue(this.endValue)},e.prototype.updateValue=function(){var n={format:this.format,type:"date",skeleton:"yMd"};this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):typeof this.value[0]=="string"?(this.setProperties({startDate:new Date(""+this.value[0])},!0),this.startValue=new Date(""+this.value[0])):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):typeof this.value[1]=="string"?(this.setProperties({endDate:new Date(""+this.value[1])},!0),this.endValue=new Date(""+this.value[1]),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):typeof this.value.start=="string"?(this.setProperties({startDate:new Date(""+this.value.start)},!0),this.startValue=new Date(""+this.value.start)):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):typeof this.value.end=="string"?(this.setProperties({endDate:new Date(""+this.value.end)},!0),this.endValue=new Date(""+this.value.end),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):t(this.value)&&(this.endValue=this.checkDateValue(new Date(""+this.endDate)),this.startValue=this.checkDateValue(new Date(""+this.startDate)),this.setValue())},e.prototype.initProperty=function(){this.globalize=new hi(this.locale);(t(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0);this.updateValue()},e.prototype.initialize=function(){this.angularTag!==null&&this.validationAttribute(this.element,this.inputElement);this.checkHtmlAttributes();st(this.keyConfigs,{shiftTab:"shift+tab"});this.setProperties({startDate:this.checkDateValue(new Date(""+this.startValue))},!0);this.setProperties({endValue:this.checkDateValue(new Date(""+this.endValue))},!0);this.setValue();this.setProperties({min:this.checkDateValue(new Date(""+this.min))},!0);this.setProperties({max:this.checkDateValue(new Date(""+this.max))},!0);this.l10n=new du("daterangepicker",this.defaultConstant,this.locale);this.l10n.setLocale(this.locale);this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0);this.processPresets();this.createInput();this.setRangeAllowEdit();this.bindEvents()},e.prototype.setRangeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):v(this.inputElement,{readonly:""})},e.prototype.validationAttribute=function(n,i){var e=n.getAttribute("name")?n.getAttribute("name"):n.getAttribute("id"),u,r,f;for(i.setAttribute("name",e),n.removeAttribute("name"),u=["required","aria-required","form"],r=0;r<u.length;r++)t(n.getAttribute(u[r]))||(f=n.getAttribute(u[r]),i.setAttribute(u[r],f),n.removeAttribute(u[r]))},e.prototype.processPresets=function(){var f,i,r,n,u,e,o;if(this.presetsItem=[],f=0,!d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(i=0,r=this.presets;i<r.length;i++)n=r[i],u=n.label.replace(/\s+/g,"")+"_"+ ++f,typeof n.end=="string"?this.presetsItem.push({id:u,text:n.label,end:new Date(""+n.end),start:new Date(""+n.start)}):this.presetsItem.push({id:u,text:n.label,start:n.start,end:n.end});e=t(this.startValue)?null:new Date(+this.startValue);o=t(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:e,end:o});t(this.startValue)||t(this.endValue)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},e.prototype.bindEvents=function(){var n=k(this.element,"form");this.enabled?(r.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),r.add(this.inputElement,"focus",this.inputFocusHandler,this),r.add(this.inputElement,"blur",this.inputBlurHandler,this),r.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.isMobile||(this.inputKeyboardModule=new ci(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),n&&r.add(n,"reset",this.formResetHandler.bind(this))):(r.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),r.remove(this.inputElement,"blur",this.inputBlurHandler),r.remove(this.inputElement,"focus",this.inputFocusHandler),r.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&r.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||t(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),n&&r.remove(n,"reset",this.formResetHandler.bind(this)))},e.prototype.updateHiddenInput=function(){if(this.firstHiddenChild&&this.secondHiddenChild){var n={type:"datetime",skeleton:"yMd"};typeof this.startDate=="string"&&(this.startDate=this.globalize.parseDate(this.startDate,n));typeof this.endDate=="string"&&(this.endDate=this.globalize.parseDate(this.endDate,n));this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,n)||this.inputElement.value;this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,n)||this.inputElement.value;this.dispatchEvent(this.firstHiddenChild,"focusout");this.dispatchEvent(this.firstHiddenChild,"change")}},e.prototype.inputChangeHandler=function(n){n.stopPropagation();this.updateHiddenInput()},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},e.prototype.resetHandler=function(n){this.valueType=this.value;n.preventDefault();this.clear();this.changeTrigger(n);this.clearRange();this.hide(n)},e.prototype.formResetHandler=function(){this.value=null;this.inputElement&&(c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),v(this.inputElement,{"aria-invalid":"false"}),h([this.inputWrapper.container],tk))},e.prototype.clear=function(){this.startValue!==null&&(this.startValue=null);this.endValue!==null&&(this.endValue=null);this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0);this.value!==null&&this.value.length>0&&this.setProperties({value:null},!0);c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton);t(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0);this.removeSelection()},e.prototype.rangeIconHandler=function(n){this.isMobile&&this.element.setAttribute("readonly","readonly");n.preventDefault();this.targetElement=null;this.isPopupOpen()?this.applyFunction(n):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,n),this.isMobile||t(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),u([this.inputWrapper.container],[rs]))},e.prototype.checkHtmlAttributes=function(){var e,r,u,f,n,o,s,i;for(this.globalize=new hi(this.locale),e=["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type"],r={format:this.format,type:"date",skeleton:"yMd"},u=0,f=e;u<f.length;u++)if(n=f[u],!t(this.inputElement.getAttribute(n)))switch(n){case"disabled":o=this.inputElement.getAttribute(n)==="disabled"||this.inputElement.getAttribute(n)==="";this.setProperties({enabled:!o},!0);break;case"readonly":s=this.inputElement.getAttribute(n)==="readonly"||this.inputElement.getAttribute(n)==="";this.setProperties({readonly:s},!0);break;case"placeholder":(t(this.placeholder)||this.placeholder.trim()==="")&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!0);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(n));break;case"min":(t(this.min)||+this.min==+new Date(1900,0,1))&&(i=this.globalize.parseDate(this.inputElement.getAttribute(n),r),this.setProperties(ii(n,i,{}),!0));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(n));break;case"max":(t(this.max)||+this.max==+new Date(2099,11,31))&&(i=this.globalize.parseDate(this.inputElement.getAttribute(n),r),this.setProperties(ii(n,i,{}),!0));break;case"startDate":t(this.startDate)&&(i=this.globalize.parseDate(this.inputElement.getAttribute(n),r),this.startValue=i,this.setValue());break;case"endDate":t(this.endDate)&&(i=this.globalize.parseDate(this.inputElement.getAttribute(n),r),this.endValue=i,this.setValue());break;case"minDays":t(this.minDays)&&this.setProperties(ii(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"maxDays":t(this.maxDays)&&this.setProperties(ii(n,parseInt(this.inputElement.getAttribute(n),10),{}),!0);break;case"type":this.inputElement.getAttribute(n)!=="text"&&this.inputElement.setAttribute("type","text")}},e.prototype.createPopup=function(){for(var t,i,r,n=0;n<this.presetsItem.length;n++)n!==this.presetsItem.length-1&&this.presetsItem[n].id==="custom_range"&&this.presetsItem.splice(n,1);for(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0,n=0;n<=this.presetsItem.length-2;n++)t=this.presetsItem[n].start,i=this.presetsItem[n].end,this.startValue&&this.endValue&&+t.setMilliseconds(0)==+this.startValue.setMilliseconds(0)&&+i.setMilliseconds(0)==+this.endValue.setMilliseconds(0)&&(this.activeIndex=n,this.isCustomRange=!1);this.popupWrapper=ct("div",{id:this.element.id+"_popup",className:hv+" "+nk});r=!this.isCustomRange||this.isMobile;!d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&r?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},e.prototype.renderControl=function(){this.createControl();this.bindCalendarEvents();this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]);t(this.endValue)||t(this.startValue)||this.disabledDateRender();this.updateHeader()},e.prototype.clearCalendarEvents=function(){r.clearEvents(this.leftCalPrevIcon);r.clearEvents(this.leftCalNextIcon);r.clearEvents(this.rightCalPrevIcon);r.clearEvents(this.rightCalNextIcon)},e.prototype.updateNavIcons=function(){this.currentView()!=="Year"&&this.currentView()!=="Decade"&&(this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.leftCalNextIcon,this.nextIconHandler(this.compareMonths(new Date(""+this.leftCalCurrentDate),this.rightCalCurrentDate)<1),this.previousIconHandler(this.compareMonths(new Date(""+this.leftCalCurrentDate),this.rightCalCurrentDate)<1))},e.prototype.calendarIconEvent=function(){this.clearCalendarEvents();this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(ht)&&r.add(this.leftCalPrevIcon,"mousedown touchstart",this.navPrevFunction);this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(ht)&&r.add(this.leftCalNextIcon,"mousedown touchstart",this.navNextFunction);this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(ht)&&r.add(this.rightCalPrevIcon,"mousedown touchstart",this.navPrevFunction);this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(ht)&&r.add(this.rightCalNextIcon,"mousedown touchstart",this.navNextFunction)},e.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),r.add(this.startButton.element,"click touchstart",this.deviceHeaderClick,this),r.add(this.endButton.element,"click touchstart",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+sr+" ."+gr+" ."+us),this.headerTitleElement=this.popupObj.element.querySelector("."+bi+" ."+gr+" ."+us),this.leftKeyboardModule=new ci(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs}),this.rightKeyboardModule=new ci(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.keyConfigs}));this.bindCalendarCellEvents();this.removeFocusedDate()},e.prototype.calendarIconRipple=function(){si(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0});si(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0});si(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0});si(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},e.prototype.deviceCalendarEvent=function(){r.clearEvents(this.nextIcon);r.clearEvents(this.previousIcon);si(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0});si(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0});this.nextIcon&&!this.nextIcon.classList.contains(ht)&&r.add(this.nextIcon,"mousedown",this.deviceNavNextFunction);this.previousIcon&&!this.previousIcon.classList.contains(ht)&&r.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},e.prototype.deviceNavNext=function(n){var t=k(n.target,"."+ei);this.updateDeviceCalendar(t);this.navigateNext(n);this.deviceNavigation()},e.prototype.deviceNavPrevious=function(n){var t=k(n.target,"."+ei);this.updateDeviceCalendar(t);this.navigatePrevious(n);this.deviceNavigation()},e.prototype.updateDeviceCalendar=function(n){n&&(this.previousIcon=n.querySelector("."+vv),this.nextIcon=n.querySelector("."+av),this.calendarElement=n,this.deviceCalendar=n,this.contentElement=n.querySelector("."+ph),this.tableBodyElement=tt("."+ph+" tbody",n),this.table=n.querySelector("."+ph).getElementsByTagName("table")[0],this.headerTitleElement=n.querySelector("."+gr+" ."+us),this.headerElement=n.querySelector("."+gr))},e.prototype.deviceHeaderClick=function(n){var r=n.currentTarget,i;r.classList.contains(yut)&&!t(this.startValue)?(this.endButton.element.classList.remove(dt),this.startButton.element.classList.add(dt),i=this.popupObj.element.querySelector("."+ei),this.updateDeviceCalendar(i),t(this.calendarElement.querySelector("."+pr+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),lt(this.tableBodyElement),this.renderMonths(),this.deviceNavigation()),this.removeClassDisabled()):t(this.startValue)||t(this.endValue)||(this.startButton.element.classList.remove(dt),this.endButton.element.classList.add(dt),i=this.popupObj.element.querySelector("."+ei),this.updateDeviceCalendar(i),t(this.calendarElement.querySelector("."+rf+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),lt(this.tableBodyElement),this.renderMonths(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+ei)),this.selectableDates())},e.prototype.inputFocusHandler=function(){this.preventBlur=!1;var n={model:this};this.preventFocus||(this.preventFocus=!0,this.trigger("focus",n));this.updateHiddenInput()},e.prototype.inputBlurHandler=function(n){var i,r,u;if(!this.preventBlur){if(i=this.inputElement.value,t(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!t(i)&&i.trim()!=="")if(r=i.split(" "+this.separator+" "),r.length>1){var o={format:this.format,type:"date",skeleton:"yMd"},f=this.globalize.parseDate(r[0].trim(),o),e=this.globalize.parseDate(r[1].trim(),o);if(t(f)||isNaN(+f)||t(e)||isNaN(+e))this.strictMode||(this.startValue=null,this.endValue=null,this.setValue());else{this.startValue=f;this.endValue=e;this.setValue();this.refreshControl();this.changeTrigger(n);this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,u={model:this},this.trigger("blur",u));this.updateHiddenInput();return}}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue());this.strictMode?(c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(this.clearRange(),this.startValue=null,this.endValue=null,this.setValue());this.errorClass();this.changeTrigger(n);this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,u={model:this},this.trigger("blur",u))}this.updateHiddenInput()},e.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null;this.currentDate=null},e.prototype.errorClass=function(){var n=this.inputElement.value.trim();(t(this.endValue)&&t(this.startValue)&&n!==""||!t(this.startValue)&&+this.startValue<+this.min||!t(this.startValue)&&!t(this.endValue)&&+this.startValue>+this.endValue||!t(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&n!==""?(u([this.inputWrapper.container],tk),v(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(h([this.inputWrapper.container],tk),v(this.inputElement,{"aria-invalid":"false"}))},e.prototype.keyCalendarUpdate=function(n,t){return this.removeFocusedDate(),n?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t},e.prototype.navInCalendar=function(n,i,r,u,f){var e=this.getViewNumber(this.currentView()),o,s=this.min,h=t(this.maxDays)||!this.isMaxDaysClicked||t(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1)));switch(n.action){case"moveRight":o=new Date(+this.currentDate);this.addDay(o,1,n,h,s);i&&+o==+u&&(f=this.keyCalendarUpdate(!1,f));this.KeyboardNavigate(1,e,n,h,s);this.keyNavigation(f,n);break;case"moveLeft":o=new Date(+this.currentDate);this.addDay(o,-1,n,h,s);i||+o==+r&&(f=this.keyCalendarUpdate(!0,f));this.KeyboardNavigate(-1,e,n,h,s);this.keyNavigation(f,n);break;case"moveUp":e===0?(o=new Date(+this.currentDate),this.addDay(o,-7,n,h,s),+o<=+r&&!i&&(f=this.keyCalendarUpdate(!0,f)),this.KeyboardNavigate(-7,e,n,h,s)):this.KeyboardNavigate(-4,e,n,this.max,this.min);this.keyNavigation(f,n);break;case"moveDown":e===0?(o=new Date(+this.currentDate),this.addDay(o,7,n,h,s),i&&+o>=+u&&(f=this.keyCalendarUpdate(!1,f)),this.KeyboardNavigate(7,e,n,h,s)):this.KeyboardNavigate(4,e,n,this.max,this.min);this.keyNavigation(f,n);break;case"home":this.currentDate=this.firstDay(this.currentDate);lt(this.tableBodyElement);e===0?this.renderMonths(n):e===1?this.renderYears(n):this.renderDecades(n);this.keyNavigation(f,n);break;case"end":this.currentDate=this.lastDay(this.currentDate,e);lt(this.tableBodyElement);e===0?this.renderMonths(n):e===1?this.renderYears(n):this.renderDecades(n);this.keyNavigation(f,n)}},e.prototype.keyInputHandler=function(n,i){var f,s=this.getViewNumber(this.currentView()),h=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),c=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),r=k(n.target,"."+sr),e,a,v;r=t(r)?this.leftCalendar:r;e=r.classList.contains(bi);this.updateCalendarElement(r);var l=this.tableBodyElement.querySelector("tr td.e-selected"),o=r.querySelector("tr td."+fs),y=r.querySelector("tr td."+pr),g=r.querySelector("tr td."+rf),p=this.getViewNumber(this.depth),w=s===p&&this.getViewNumber(this.start)>=p,b=k(n.target,"."+bi),d=k(n.target,"."+sr),nt=k(n.target,"."+kc);t(o)?t(g)||this.dateDisabled?t(y)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate;this.effect="";switch(n.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(n),this.preventFocus=!0,this.inputElement.focus(),u([this.inputWrapper.container],[rs]));break;case"select":s===0?(a=t(o)?y:o,t(a)||a.classList.contains(ht)||this.selectRange(null,a)):(t(l)||w)&&t(o)||(t(this.value)||(i=this.calendarElement.classList.contains(bi)?this.startDate:this.endDate),this.controlDown=n,this.contentClick(null,--s,o||l,i));n.preventDefault();break;case"controlHome":v=new Date(this.currentDate.getFullYear(),0,1);!e&&+v<+c&&(r=this.keyCalendarUpdate(!0,r));this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1));this.keyNavigation(r,n);break;case"altRightArrow":t(b)?t(d)?t(nt)||this.cancelButton.element.focus():t(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus();n.preventDefault();break;case"altLeftArrow":t(b)?t(d)||this.leftCalendar.children[1].firstElementChild.focus():this.applyButton.element.disabled!==!0?this.applyButton.element.focus():this.cancelButton.element.focus();n.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(bi)?this.calendarNavigation(n,this.calendarElement):this.calendarNavigation(n,this.calendarElement);n.preventDefault();break;case"controlDown":(t(l)||w)&&t(o)||(t(this.value)||(i=this.calendarElement.classList.contains(bi)?this.startDate:this.endDate),this.controlDown=n,this.contentClick(null,--s,l||o,i));n.preventDefault();break;case"controlEnd":v=new Date(this.currentDate.getFullYear(),11,31);e&&+v>+h&&(r=this.keyCalendarUpdate(!1,r));this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31));this.keyNavigation(r,n);break;case"pageUp":f=new Date(+this.currentDate);this.addMonths(f,-1);!e&&+f<=+c&&(r=this.keyCalendarUpdate(!0,r));this.addMonths(this.currentDate,-1);this.navigateTo("Month",this.currentDate);this.keyNavigation(r,n);break;case"pageDown":f=new Date(+this.currentDate);this.addMonths(f,1);e&&+f>=+h&&(r=this.keyCalendarUpdate(!1,r));this.addMonths(this.currentDate,1);this.navigateTo("Month",this.currentDate);this.keyNavigation(r,n);break;case"shiftPageUp":f=new Date(+this.currentDate);this.addYears(f,-1);!e&&+f<=+c&&(r=this.keyCalendarUpdate(!0,r));this.addYears(this.currentDate,-1);this.navigateTo("Month",this.currentDate);this.keyNavigation(r,n);break;case"shiftPageDown":f=new Date(+this.currentDate);this.addYears(f,1);e&&+f>=+h&&(r=this.keyCalendarUpdate(!1,r));this.addYears(this.currentDate,1);this.navigateTo("Month",this.currentDate);this.keyNavigation(r,n);break;case"shiftTab":t(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate());n.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(n);break;default:this.navInCalendar(n,e,c,h,r);this.checkMinMaxDays()}this.presetHeight()},e.prototype.keyNavigation=function(n,t){this.bindCalendarCellEvents(n);n.classList.contains(bi)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate);this.updateNavIcons();this.calendarIconEvent();this.updateRange([n]);this.dateDisabled=this.isDateDisabled(this.currentDate);t.preventDefault()},e.prototype.inputHandler=function(n){switch(n.action){case"altDownArrow":this.isPopupOpen()||(this.inputElement.value===""&&(this.clear(),this.changeTrigger(n),this.clearRange()),this.show(null,n),this.isRangeIconClicked=!1,this.isMobile||t(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(n);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(n),this.hide(n));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(n),n.preventDefault())}},e.prototype.bindCalendarCellEvents=function(n){var e,i,u,t,f;for(e=n?n.querySelectorAll("."+ei+" td"):this.popupObj.element.querySelectorAll("."+ei+" td"),i=0,u=e;i<u.length;i++)t=u[i],r.clearEvents(t),f=void 0,f=t.classList.contains(ht)||t.classList.contains(oo),f||t.classList.contains(gc)||(this.isMobile||r.add(t,"mouseover touchstart",this.hoverSelection,this),r.add(t,"mousedown touchstart",this.selectRange,this))},e.prototype.removeFocusedDate=function(){var f=!t(this.startValue)||!t(this.endValue),u,i,r,n;if(u=this.popupObj.element.querySelectorAll("."+ei+" ."+fs),this.leftCalendar&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||this.calendarElement&&this.calendarElement.querySelector(".e-content").classList.contains("e-month"))for(i=0,r=u;i<r.length;i++)n=r[i],(!n.classList.contains(put)||n.classList.contains(put)&&f)&&(n.classList.remove(fs),n.classList.contains(pr)||n.classList.contains(rf)||n.removeAttribute("aria-label"))},e.prototype.hoverSelection=function(n,i){var l=i||n.currentTarget,a=this.getIdValue(null,l),e,f,o,r,s;if(!t(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&t(this.endValue)&&t(this.startValue)||!t(this.startValue)&&t(this.endValue)))for(e=void 0,e=this.popupObj.element.querySelectorAll("."+ei+" td"),f=0,o=e;f<o.length;f++)if(r=o[f],s=!r.classList.contains(ht)||r.classList.contains(oo),!r.classList.contains(gc)&&s){var c=this.getIdValue(null,r),v=new Date(+this.startValue),y=new Date(+c);y.setHours(0,0,0,0)>=v.setHours(0,0,0,0)&&+c<=+a?u([r],eo):h([r],[eo])}},e.prototype.updateRange=function(n){var f,s,y,p,e,c,i,o,l,a,r,v;if(!t(this.startValue))for(f=0,s=n;f<s.length;f++)for(y=s[f],p=y.querySelectorAll("."+ei+" td"),e=0,c=p;e<c.length;e++)i=c[e],i.classList.contains(gc)||i.classList.contains(ht)||(o=this.getIdValue(null,i),l=this.getIdValue(null,i),t(this.endValue)?h([i],[eo]):this.currentView()==="Month"&&+l.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+l.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&+new Date(+this.startValue).setHours(0,0,0,0)!=+new Date(+this.endValue).setHours(0,0,0,0)&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&u([i],eo),i.classList.contains(yh)||(a=new Date(+this.startValue),r=new Date(+o),this.currentView()==="Month"&&+r.setHours(0,0,0,0)==+a.setHours(0,0,0,0)&&+r.setHours(0,0,0,0)>=+a.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&(u([i],[pr,kf]),this.addSelectedAttributes(i,this.startValue,!0)),v=new Date(+this.endValue),this.currentView()==="Month"&&!t(this.endValue)&&+r.setHours(0,0,0,0)==+v.setHours(0,0,0,0)&&+r.setHours(0,0,0,0)<=+v.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&(u([i],[rf,kf]),this.addSelectedAttributes(i,this.startValue,!1)),+o!=+this.startValue||t(this.endValue)||+o!=+this.endValue||this.addSelectedAttributes(i,this.endValue,!1,!0)))},e.prototype.checkMinMaxDays=function(){(!t(this.minDays)&&this.minDays>0||!t(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+ei)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+bi)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+sr))))},e.prototype.rangeArgs=function(n){var i,r,u=t(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.format,type:"date",skeleton:"yMd"}),f=t(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.format,type:"date",skeleton:"yMd"});return t(this.endValue)||t(this.startValue)?(i="",r=0):(i=u+" "+this.separator+" "+f,r=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:r,event:n||null,element:this.element,isInteracted:!t(n),text:i}},e.prototype.otherMonthSelect=function(n,i,r){var e=+this.getIdValue(null,n),o='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+e),f=this.popupObj&&this.popupObj.element.querySelector(o);t(f)||(i?(u([f],[pr,kf]),this.addSelectedAttributes(f,this.startValue,!0)):(u([f],[rf,kf]),this.addSelectedAttributes(f,this.endValue,!0)),r&&this.addSelectedAttributes(n,this.endValue,!1,!0))},e.prototype.selectRange=function(n,i){var y,p,f,r,o,s,l,e,c,a,v;if(n&&n.preventDefault(),f=t(n)?this.getIdValue(null,i):this.getIdValue(n,null),t(this.endValue)||t(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(dt)&&this.removeSelection():this.isMobile&&(!this.isMobile||this.endButton.element.classList.contains(dt))||this.removeSelection(),r=i||n.currentTarget,t(this.startValue))t(this.previousStartValue)||(f.setHours(this.previousStartValue.getHours()),f.setMinutes(this.previousStartValue.getMinutes()),f.setSeconds(this.previousStartValue.getSeconds())),this.startValue=new Date(""+f),this.endValue=null,this.setValue(),u([r],pr),this.addSelectedAttributes(r,this.startValue,!0),r.classList.contains(yh)&&this.otherMonthSelect(r,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(dt),this.startButton.element.classList.remove(dt),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(n));else if(+f==+this.startValue||+f>+this.startValue){if(+f==+this.startValue&&!t(this.minDays)&&this.minDays>1)return;if(this.endValue=null,this.setValue(),(this.isMobile||i)&&this.hoverSelection(n,i),t(this.previousEndValue)||(f.setHours(this.previousEndValue.getHours()),f.setMinutes(this.previousEndValue.getMinutes()),f.setSeconds(this.previousEndValue.getSeconds())),this.endValue=new Date(""+f),this.setValue(),o=this.popupObj.element.querySelectorAll("."+rf),this.isMobile)for(this.startButton.element.classList.remove(dt),this.endButton.element.classList.add(dt),s=0,l=o;s<l.length;s++)e=l[s],e.removeAttribute("aria-label"),e.classList.contains(pr)?(this.addSelectedAttributes(e,this.startValue,!0),h([e],[rf])):(e.setAttribute("aria-selected","false"),h([e],[rf,kf]));for(u([r],rf),+this.endValue==+this.startValue?this.addSelectedAttributes(r,this.endValue,!1,!0):this.addSelectedAttributes(r,this.endValue,!1),r.classList.contains(yh)&&(+this.endValue==+this.startValue?this.otherMonthSelect(r,!1,!0):this.otherMonthSelect(r,!1)),o=this.popupObj.element.querySelectorAll("."+rf),c=0,a=o;c<a.length;c++)v=a[c],v.classList.contains(pr)&&h([v],[eo]);this.applyButton.disabled=!1;this.applyButton.element.disabled=!1;this.isMobile||this.removeClassDisabled();this.disabledDateRender();this.trigger("select",this.rangeArgs(n))}else+f<+this.startValue&&(this.removeClassDisabled(),this.startValue=new Date(""+f),this.setValue(),this.removeSelectedAttributes(),h(this.popupObj.element.querySelectorAll("."+pr),[pr,kf]),u([r],pr),this.addSelectedAttributes(r,this.startValue,!0),r.classList.contains(yh)&&this.otherMonthSelect(r,!0),this.checkMinMaxDays());n&&(y=k(n.target,"."+bi));t(y)?(n&&(p=n&&k(n.target,"."+sr)),t(p)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus();u([r],kf);this.updateHeader();this.removeFocusedDate()},e.prototype.selectableDates=function(){var i,s,f,h,n,l,e,c;if(!t(this.startValue))if(i=this.calendarElement.querySelectorAll("."+ei+" td"),s=!1,this.currentView()==="Month"){for(f=0,h=i;f<h.length;f++){if(n=h[f],!n.classList.contains(pr)&&!n.classList.contains(gc)&&!n.classList.contains(ht))if(l=this.getIdValue(null,n),+l<+this.startValue){u([n],[oo,ht,fu]);r.clearEvents(n);continue}else break;if(n.classList.contains(pr)&&!n.classList.contains(yh)){s=!0;break}}s&&(this.previousIcon.classList.contains(ht)||u([this.previousIcon],[nu,ht,fu]))}else{for(e=0,c=i;e<c.length;e++){var n=c[e],a=this.startValue.getMonth(),v=this.startValue.getFullYear(),o=this.getIdValue(null,n);if(!this.startButton.element.classList.contains(dt)&&(this.currentView()==="Year"&&o.getMonth()<a&&o.getFullYear()<=v||this.currentView()==="Decade"&&o.getMonth()<=a&&o.getFullYear()<v))u([n],[ht]);else break}i[0].classList.contains(ht)?this.previousIconHandler(!0):i[i.length-1].classList.contains(ht)&&this.nextIconHandler(!0)}},e.prototype.updateMinMaxDays=function(n){var f,e,a,o,c,l,i,s,h,v;if(!t(this.startValue)&&(t(this.endValue)||this.isMobile)){if(!t(this.minDays)&&this.minDays>0||!t(this.maxDays)&&this.maxDays>0){for(f=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.minDays-1))),e=new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),f=!t(this.minDays)&&this.minDays>0?f:null,e=!t(this.maxDays)&&this.maxDays>0?e:null,a=n.querySelectorAll("."+ei+" td"),o=void 0,c=0,l=a;c<l.length;c++)if(i=l[c],!i.classList.contains(pr)&&!i.classList.contains(gc)&&(s=this.getIdValue(null,i),!t(f)&&+s==+f&&i.classList.contains(ht)&&f.setDate(f.getDate()+1),!i.classList.contains(ht))){if(+s<=+this.startValue)continue;!t(f)&&+s<+f&&(u([i],[oo,ht,fu]),r.clearEvents(i));!t(e)&&+s>+e&&(u([i],[oo,ht,fu]),this.isMaxDaysClicked=!0,r.clearEvents(i),t(o)&&!i.classList.contains(yh)&&(o=i))}t(o)||(this.isMobile?this.nextIcon.classList.contains(ht)||u([this.nextIcon],[nu,ht,fu]):(h=k(o,"."+sr),h=t(h)?this.leftCalendar:h,v=h.classList.contains(bi),v?(this.rightCalNextIcon.classList.contains(ht)||u([this.rightCalNextIcon],[nu,ht,fu]),this.leftCalNextIcon.classList.contains(ht)||u([this.leftCalNextIcon],[nu,ht,fu]),this.rightCalPrevIcon.classList.contains(ht)||u([this.rightCalPrevIcon],[nu,ht,fu])):this.rightCalNextIcon.classList.contains(ht)||u([this.rightCalNextIcon],[nu,ht,fu])))}}else this.isMaxDaysClicked=!1},e.prototype.removeClassDisabled=function(){var u,t,i,n;for(u=this.popupObj.element.querySelectorAll("."+ei+" td."+oo),t=0,i=u;t<i.length;t++)n=i[t],n.classList.contains(oo)&&(h([n],[oo,ht,fu]),r.add(n,"click",this.selectRange,this),this.isMobile||r.add(n,"mouseover touchstart",this.hoverSelection,this));this.isMobile?(this.nextIcon.classList.contains(nu)&&h([this.nextIcon],[nu,ht,fu]),this.previousIcon.classList.contains(nu)&&h([this.previousIcon],[nu,ht,fu])):(this.rightCalNextIcon.classList.contains(nu)&&h([this.rightCalNextIcon],[nu,ht,fu]),this.rightCalPrevIcon.classList.contains(nu)&&h([this.rightCalPrevIcon],[nu,ht,fu]),this.leftCalNextIcon.classList.contains(nu)&&h([this.leftCalNextIcon],[nu,ht,fu]))},e.prototype.updateHeader=function(){var n={type:"date",skeleton:"yMMMd"},i;t(this.endValue)||t(this.startValue)?this.popupObj.element.querySelector("."+dc).textContent=this.l10n.getConstant("selectedDays"):(i=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,t(this.disabledDayCnt)||(i=i-this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+dc).textContent=i.toString()+" "+this.l10n.getConstant("days"));this.isMobile?(this.startButton.element.textContent=t(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,n),this.endButton.element.textContent=t(this.endValue)||t(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,n)):(this.popupObj.element.querySelector("."+lv).textContent=t(this.endValue)||t(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,n),this.popupObj.element.querySelector("."+cv).textContent=t(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,n));(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!t(this.startValue)&&+this.startValue<+this.min||!t(this.endValue)&&+this.endValue>+this.max||!t(this.startValue)&&!t(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+dc).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+dc).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+cv).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+lv).textContent=this.l10n.getConstant("endLabel")));this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=this.l10.getConstant("customRange")!==""?this.l10.getConstant("customRange"):"Custom Range")},e.prototype.removeSelection=function(){this.startValue=null;this.endValue=null;this.setValue();this.removeSelectedAttributes();this.popupObj&&(this.popupObj.element.querySelectorAll("."+kf).length>0&&h(this.popupObj.element.querySelectorAll("."+kf),[pr,rf,kf]),this.popupObj.element.querySelectorAll("."+fs).length>0&&h(this.popupObj.element.querySelectorAll("."+fs),fs),this.popupObj.element.querySelectorAll("."+eo).length>0&&h(this.popupObj.element.querySelectorAll("."+eo),[eo]))},e.prototype.addSelectedAttributes=function(n,i,r,u){if(n){var f=this.globalize.formatDate(i,{type:"date",skeleton:"full"});!t(u)&&u?n.setAttribute("aria-label","The current start and end date is "+f):n.setAttribute("aria-label","The current "+(r?"start":"end")+" date is "+f);n.setAttribute("aria-selected","true")}},e.prototype.removeSelectedAttributes=function(){var f,t,r,e,i,u,n;if(this.popupObj){for(f=this.popupObj.element.querySelectorAll("."+pr),t=0,r=f;t<r.length;t++)n=r[t],n.setAttribute("aria-selected","false"),n.removeAttribute("aria-label");for(e=this.popupObj.element.querySelectorAll("."+rf),i=0,u=e;i<u.length;i++)n=u[i],n.setAttribute("aria-selected","false"),n.removeAttribute("aria-label")}},e.prototype.updateCalendarElement=function(n){n.classList.contains(bi)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon);this.contentElement=n.querySelector("."+ph);this.tableBodyElement=tt("."+ph+" tbody",n);this.table=n.querySelector("."+ph).getElementsByTagName("table")[0];this.headerTitleElement=n.querySelector("."+gr+" ."+us);this.headerElement=n.querySelector("."+gr)},e.prototype.navPrevMonth=function(n){n.preventDefault();var i=k(n.target,"."+bi);i=t(i)?k(n.target,"."+sr):i;this.updateCalendarElement(i);this.navigatePrevious(n);!t(this.startValue)&&t(this.endValue)&&this.updateMinMaxDays(i);this.updateControl(i)},e.prototype.deviceNavigation=function(){this.deviceCalendarEvent();this.updateRange([this.popupObj.element.querySelector("."+ei)]);!t(this.endValue)&&this.endButton.element.classList.contains(dt)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+ei));this.endButton.element.classList.contains(dt)&&this.selectableDates();this.currentView()==="Month"&&this.bindCalendarCellEvents();this.removeFocusedDate()},e.prototype.updateControl=function(n){n.classList.contains(sr)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate);this.updateNavIcons();this.calendarIconEvent();(this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||this.isMobile)&&this.bindCalendarCellEvents();this.removeFocusedDate();this.updateRange([n])},e.prototype.navNextMonth=function(n){n.preventDefault();var i=k(n.target,"."+bi);i=t(i)?k(n.target,"."+sr):i;this.updateCalendarElement(i);this.navigateNext(n);!t(this.startValue)&&t(this.endValue)&&this.updateMinMaxDays(i);this.updateControl(i)},e.prototype.compareMonths=function(n,t){return n.getFullYear()===t.getFullYear()&&(this.currentView()==="Year"||this.currentView()==="Decade")?-1:n.getFullYear()>t.getFullYear()?-1:n.getFullYear()<t.getFullYear()?n.getFullYear()+1===t.getFullYear()&&n.getMonth()===11&&t.getMonth()===0?-1:1:n.getMonth()===t.getMonth()?0:n.getMonth()+1===t.getMonth()?-1:1},e.prototype.isPopupOpen=function(){return!t(this.popupObj)&&this.popupObj.element.classList.contains(nk)?!0:!1},e.prototype.createRangeHeader=function(){var n=this.createElement("div",{className:dgt}),r,u;if(this.isMobile)r=this.createElement("button",{className:ggt}),u=this.createElement("button",{className:yut}),this.startButton=new ae({content:this.l10n.getConstant("startLabel")},u),this.endButton=new ae({content:this.l10n.getConstant("endLabel")},r),n.appendChild(u),n.appendChild(r);else{var t=this.createElement("a",{className:cv}),i=this.createElement("a",{className:lv}),f=this.createElement("span",{className:ont});v(t,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"});v(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"});n.appendChild(t);n.appendChild(f);n.appendChild(i);t.textContent=this.l10n.getConstant("startLabel");i.textContent=this.l10n.getConstant("endLabel")}return n},e.prototype.disableInput=function(){this.strictMode?t(this.previousStartValue)||t(this.previousEndValue)||(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass());this.setProperties({enabled:!1},!0);c.setEnabled(this.enabled,this.inputElement);this.bindEvents()},e.prototype.validateMinMax=function(){if(this.min=t(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=t(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,!(this.min<=this.max)){this.disableInput();return}t(this.minDays)||t(this.maxDays)||this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null);!t(this.minDays)&&this.minDays<0&&(this.minDays=null);!t(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)},e.prototype.validateRangeStrict=function(){t(this.startValue)||(+this.startValue<+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>+this.max&&(this.startValue=this.max));t(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue()));!t(this.startValue)&&!t(this.endValue)&&+this.startValue>+this.endValue&&(this.endValue=this.max,this.setValue());this.validateMinMaxDays()},e.prototype.validateRange=function(){this.validateMinMaxDays()},e.prototype.validateMinMaxDays=function(){var i,n;t(this.startValue)||t(this.endValue)||(i=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,t(this.minDays)||!(this.minDays>0)||i>=this.minDays||(this.strictMode?(n=new Date(+this.startValue),n.setDate(n.getDate()+(this.minDays-1)),+n>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=n,this.setValue())):(this.startValue=null,this.endValue=null,this.setValue())),t(this.maxDays)||!(this.maxDays>0)||i<=this.maxDays||(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue())))},e.prototype.renderCalendar=function(){this.calendarElement=this.createElement("div");this.calendarElement.classList.add(ei);this.enableRtl&&this.calendarElement.classList.add(snt);v(this.calendarElement,{role:"calendar"});n.prototype.createHeader.call(this);n.prototype.createContent.call(this)},e.prototype.isSameMonth=function(n,t){return n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()?!0:!1},e.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(""+this.min))},e.prototype.selectNextMonth=function(){if(t(this.endValue)||t(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setDate(1);this.currentDate.setMonth(this.currentDate.getMonth()+1);return}this.currentDate=new Date(+this.endValue);(!t(this.startValue)&&+this.startValue<+this.min||!t(this.endValue)&&+this.endValue>+this.max||!t(this.startValue)&&!t(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()+1))},e.prototype.selectStartMonth=function(){t(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!t(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0));(!t(this.endValue)&&+this.endValue>+this.max||!t(this.startValue)&&+this.startValue<+this.min||!t(this.startValue)&&!t(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)));this.startMonthCurrentDate()},e.prototype.createCalendar=function(){var i=this.createElement("div",{className:rnt}),f,e,o,s;return this.isMobile?(t(this.startValue)||(this.currentDate=new Date(+this.startValue)),n.prototype.validateDate.call(this),n.prototype.minMaxUpdate.call(this),n.prototype.render.call(this),o=this.calendarElement.querySelector("."+ei+" ."+vv),s=this.calendarElement.querySelector("."+ei+" ."+av),lt(this.calendarElement.querySelector("."+ei+" ."+ik)),this.calendarElement.querySelector("."+ei+" ."+gr).appendChild(s),this.calendarElement.querySelector("."+ei+" ."+gr).appendChild(o),ku([o],this.calendarElement.querySelector("."+ei+" ."+gr)),this.deviceCalendar=this.calendarElement,i.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+ei+" ."+gr+" ."+us)):(this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(bi),this.leftCalPrevIcon=this.calendarElement.querySelector("."+bi+" ."+vv),this.leftCalNextIcon=this.calendarElement.querySelector("."+bi+" ."+av),this.leftTitle=this.calendarElement.querySelector("."+bi+" ."+us),lt(this.calendarElement.querySelector("."+bi+" ."+ik)),this.calendarElement.querySelector("."+bi+" ."+gr).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+bi+" ."+gr).appendChild(this.leftCalPrevIcon),ku([this.leftCalPrevIcon],this.calendarElement.querySelector("."+bi+" ."+gr)),this.leftCalendar=this.calendarElement,f=this.createElement("div",{className:bgt}),e=this.createElement("div",{className:kgt}),f.appendChild(this.leftCalendar),i.appendChild(f),this.isMobile||r.add(this.leftTitle,"click",this.leftNavTitle,this),this.selectNextMonth(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),u([this.calendarElement],sr),this.rightCalendar=this.calendarElement,h([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),h([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+sr+" ."+vv),this.rightCalNextIcon=this.calendarElement.querySelector("."+sr+" ."+av),this.rightTitle=this.calendarElement.querySelector("."+sr+" ."+us),lt(this.calendarElement.querySelector("."+sr+" ."+ik)),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector("."+sr+" ."+gr).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+sr+" ."+gr).appendChild(this.rightCalPrevIcon),ku([this.rightCalPrevIcon],this.calendarElement.querySelector("."+sr+" ."+gr)),e.appendChild(this.rightCalendar),i.appendChild(e),this.isMobile||r.add(this.rightTitle,"click",this.rightNavTitle,this)),i},e.prototype.leftNavTitle=function(n){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(n,this.calendarElement))},e.prototype.calendarNavigation=function(t,i){this.table=i.querySelector("table");this.headerTitleElement=i.querySelector(".e-title");this.tableBodyElement=i.querySelector("tbody");this.tableHeadElement=i.querySelector("thead");this.contentElement=i.querySelector(".e-content");this.updateCalendarElement(i);n.prototype.navigateTitle.call(this,t);this.updateNavIcons()},e.prototype.rightNavTitle=function(n){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(n,this.calendarElement))},e.prototype.clickEventEmitter=function(n){this.isMobile||(k(n.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},e.prototype.currentView=function(){return n.prototype.currentView.call(this)},e.prototype.navigatedEvent=function(n){var i;this.isMobile&&this.currentView()==="Month"?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate()):this.isMobile&&(this.currentView()==="Decade"||this.currentView()==="Year")?this.selectableDates():this.isMobile||this.currentView()!=="Month"?this.isMobile||this.currentView()!=="Decade"&&this.currentView()!=="Year"||(this.updateNavIcons(),this.calendarIconEvent()):(i=this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar,i!==this.leftCalendar||(!n||n.currentTarget.children[0].classList.contains("e-icons"))&&t(this.controlDown)?(!n||n.currentTarget.children[0].classList.contains("e-icons"))&&t(this.controlDown)||(this.rightCalCurrentDate=new Date(+this.currentDate),this.leftCalCurrentDate=new Date(this.currentDate.setMonth(this.currentDate.getMonth()-1)),this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()?t(this.endValue)?(this.effect="",this.navigateTo("Month",new Date(+this.startValue))):this.navigateTo("Month",this.leftCalCurrentDate):this.navigateTo("Month",this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple()):(this.leftCalCurrentDate=new Date(+this.currentDate),this.rightCalCurrentDate=new Date(new Date(+this.currentDate).setMonth(new Date(+this.currentDate).getMonth()+1)),this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),this.navigateTo("Month",this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple()))},e.prototype.createControl=function(){var n=this.createElement("div",{className:rk}),e=this.createElement("div",{className:nnt}),y=this.createRangeHeader(),i,h,c,l,a;e.appendChild(y);i=this.createElement("div",{className:dc});v(i,{"aria-label":"Selected Days"});i.textContent=this.l10n.getConstant("selectedDays");e.appendChild(i);h=this.createElement("div",{className:unt});c=this.createCalendar();n.appendChild(e);n.appendChild(h);n.appendChild(c);var o=this.createElement("div",{className:tnt}),s=this.createElement("button",{className:ent+" "+kut+" "+dut}),f=this.createElement("button");u([f],[fnt,kut,cnt,dut]);o.appendChild(f);o.appendChild(s);l=!t(this.startValue)&&!t(this.endValue);this.cancelButton=new ae({content:this.l10n.getConstant("cancelText")},s);this.applyButton=new ae({content:this.l10n.getConstant("applyText"),disabled:!l},f);r.add(f,"click touchstart",this.applyFunction,this);r.add(s,"click touchstart",this.cancelFunction,this);this.popupWrapper.appendChild(n);this.isMobile||d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),u([n],int),u([this.popupWrapper],"e-preset-wrapper"),a=this.popupWrapper.querySelector("."+kc),a.style.height=this.popupWrapper.querySelector("."+rk).getBoundingClientRect().height+"px");this.popupWrapper.appendChild(o);this.isMobile&&this.deviceHeaderUpdate();this.renderPopup()},e.prototype.cancelFunction=function(n){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),u([this.inputWrapper.container],[rs]));n.preventDefault();this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1);this.startValue=null;this.endValue=null;this.removeSelection();this.hide(n)},e.prototype.deviceHeaderUpdate=function(){t(this.startValue)&&t(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(dt)):t(this.startValue)||this.startButton.element.classList.add(dt)},e.prototype.applyFunction=function(n){n.preventDefault();this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue());document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),u([this.inputWrapper.container],[rs]));n.type!=="touchstart"&&this.closeEventArgs&&!this.closeEventArgs.cancel&&n.preventDefault();t(this.startValue)||t(this.endValue)?this.hide(n?n:null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,c.setValue(this.rangeArgs(n).text,this.inputElement,this.floatLabelType,this.showClearButton),this.changeTrigger(n),this.hide(n?n:null),this.errorClass());this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.popupKeyboardModule=new ci(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})))},e.prototype.onMouseClick=function(n,t){if(n.type!=="touchstart"){var r=t||n.target,i=k(r,"."+df),u=i&&i.classList.contains(dt);i&&i.classList.contains(df)&&this.setListSelection(i,n);this.inputElement.focus();this.isMobile||(this.preventFocus=!0,i&&i.classList.contains(df)&&i.getAttribute("id")==="custom_range"?this.leftCalendar.children[1].firstElementChild.focus():u||n.type!=="keydown"||this.inputElement.focus())}},e.prototype.onMouseOver=function(n){var t=k(n.target,"."+df);t&&t.classList.contains(df)&&!t.classList.contains(eu)&&u([t],eu)},e.prototype.onMouseLeave=function(n){var i=k(n.target,"."+eu);t(i)||h([i],eu)},e.prototype.setListSelection=function(n){var i,t;if(n&&(!n.classList.contains(dt)||this.isMobile&&n.classList.contains(dt))){if(this.isMobile&&n.classList.contains(dt)){if(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(n),i=this.presetsItem[this.activeIndex],i.id==="custom_range"){this.renderCustomPopup();return}return}this.removeListSelection();this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(n);u([n],dt);n.setAttribute("aria-selected","true");t=this.presetsItem[this.activeIndex];t.id==="custom_range"?this.renderCustomPopup():this.applyPresetRange(t)}},e.prototype.removeListSelection=function(){var n=this.presetElement.querySelector("."+dt);t(n)||(h([n],dt),n.removeAttribute("aria-selected"))},e.prototype.setValue=function(){this.modelValue=[this.startValue,this.endValue]},e.prototype.applyPresetRange=function(n){this.hide(null);this.presetsItem[this.presetsItem.length-1].start=null;this.presetsItem[this.presetsItem.length-1].end=null;this.startValue=n.start;this.endValue=n.end;this.setValue();this.refreshControl();this.trigger("select",this.rangeArgs(null));this.changeTrigger();this.previousEleValue=this.inputElement.value;this.isCustomRange=!1;this.leftCalendar=this.rightCalendar=null;this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},e.prototype.showPopup=function(){this.presetHeight();this.zIndex===1e3?this.popupObj.show(null,this.element):this.popupObj.show(null,null);this.isMobile&&this.popupObj.refreshPosition()},e.prototype.renderCustomPopup=function(){this.isCustomWindow=!0;this.popupObj.hide();this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:hv+" "+nk});this.renderControl();this.openEventArgs.appendTo.appendChild(this.popupWrapper);this.showPopup();this.isCustomRange=!0;this.isMobile||this.calendarFocus()},e.prototype.listRippleEffect=function(){for(var i,n=0,t=this.liCollections;n<t.length;n++)i=t[n],si(i)},e.prototype.createPresets=function(){if(!d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:kc,attrs:{tabindex:"0"}});var n=yr.createList(this.createElement,this.presetsItem,null,!0);v(n,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"});this.presetElement.appendChild(n);this.popupWrapper.appendChild(this.presetElement);this.liCollections=this.presetElement.querySelectorAll("."+df);this.wireListEvents();this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px");!t(this.activeIndex)&&this.activeIndex>-1&&u([this.liCollections[this.activeIndex]],dt)}},e.prototype.wireListEvents=function(){r.add(this.presetElement,"click touchstart",this.onMouseClick,this);this.isMobile||(r.add(this.presetElement,"mouseover",this.onMouseOver,this),r.add(this.presetElement,"mouseout",this.onMouseLeave,this))},e.prototype.unWireListEvents=function(){t(this.presetElement)||(r.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(r.remove(this.presetElement,"mouseover",this.onMouseOver),r.remove(this.presetElement,"mouseout",this.onMouseLeave)))},e.prototype.renderPopup=function(){var n=this,i;this.popupWrapper.classList.add("e-control");i=this.popupWrapper.getBoundingClientRect().width;t(this.cssClass)||this.cssClass.trim()===""||this.popupWrapper.classList.add(this.cssClass);this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal));this.popupObj=new to(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:t(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?!d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&!this.isCustomWindow?{X:"left",Y:"bottom"}:{X:"center",Y:"center"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-i,offsetY:hnt,collision:this.isMobile?!d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&!this.isCustomWindow?{X:"fit"}:{X:"fit",Y:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){v(n.inputElement,{"aria-expanded":"true"});u([n.inputWrapper.buttons[0]],dt);n.isMobile||(n.cancelButton&&(n.btnKeyboardModule=new ci(n.cancelButton.element,{eventName:"keydown",keyAction:n.popupKeyActionHandle.bind(n),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),n.btnKeyboardModule=new ci(n.applyButton.element,{eventName:"keydown",keyAction:n.popupKeyActionHandle.bind(n),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),t(n.leftCalendar)||n.isRangeIconClicked||n.calendarFocus(),t(n.presetElement)||(n.presetKeyboardModule=new ci(n.presetElement,{eventName:"keydown",keyAction:n.presetKeyActionHandler.bind(n),keyConfigs:n.presetKeyConfig}),n.presetKeyboardModule=new ci(n.presetElement,{eventName:"keydown",keyAction:n.popupKeyActionHandle.bind(n),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),t(n.leftCalendar)?(n.preventBlur=!0,n.presetElement.focus()):n.presetElement.setAttribute("tabindex","-1")),n.popupKeyBoardHandler());n.isMobile&&!o.isDevice&&r.add(document,"keydown",n.popupCloseHandler,n)},close:function(){v(n.inputElement,{"aria-expanded":"false"});h([n.inputWrapper.buttons[0]],dt);n.isRangeIconClicked&&n.inputWrapper.container.children[1].focus();d(n.presets[0].start&&n.presets[0].end&&n.presets[0].label)||n.unWireListEvents();t(n.popupObj)||(a(n.popupObj.element),n.popupObj.destroy(),n.popupObj=null);n.isMobile&&!o.isDevice&&r.remove(document,"keydown",n.popupCloseHandler)}});this.isMobile&&(this.popupObj.element.classList.add(wut),this.isMobile||this.popupObj.element.classList.add("e-bigger"));this.isMobile&&this.isCustomWindow&&(u([this.modal],[wut,hv,"e-range-modal"]),document.body.className+=" "+but,this.modal.style.display="block");r.add(document,"mousedown touchstart",this.documentHandler,this)},e.prototype.popupCloseHandler=function(n){switch(n.keyCode){case 27:this.hide(n)}},e.prototype.calendarFocus=function(){var i=this.popupObj&&this.popupObj.element.querySelector("."+pr),n;i?(n=k(i,"."+sr),n=t(n)?this.leftCalendar:n,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,n.children[1].firstElementChild.focus()),u([i],fs)):this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())},e.prototype.presetHeight=function(){var n=this.popupObj&&this.popupObj.element.querySelector("."+kc),i=this.popupObj&&this.popupObj.element.querySelector("."+rk);t(n)||t(i)||(n.style.height=i.getBoundingClientRect().height+"px")},e.prototype.presetKeyActionHandler=function(n){var r,i,f,u;switch(n.action){case"moveDown":this.listMoveDown(n);this.setScrollPosition();n.preventDefault();break;case"moveUp":this.listMoveUp(n);this.setScrollPosition();n.preventDefault();break;case"enter":if(r=this.getHoverLI(),i=this.getActiveLI(),!t(this.leftCalendar)&&!t(i)&&(t(r)||!t(i)&&i===r)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i),f=this.presetsItem[this.activeIndex],f.id==="custom_range")){this.calendarFocus();i.classList.remove(eu);n.preventDefault();return}if(!t(r)||!t(i))this.onMouseClick(n,r||i);n.preventDefault();break;case"tab":this.leftCalendar?(u=this.getHoverLI(),t(u)||u.classList.remove(eu)):(this.hide(n),n.preventDefault())}},e.prototype.listMoveDown=function(){var i=this.getHoverLI(),r=this.getActiveLI(),n;t(i)?t(r)?u([this.liCollections[0]],eu):(n=r.nextElementSibling,!t(n)&&n.classList.contains(df)&&u([n],eu)):(n=i.nextElementSibling,!t(n)&&n.classList.contains(df)&&(h([i],eu),u([n],eu)))},e.prototype.listMoveUp=function(){var i=this.getHoverLI(),r=this.getActiveLI(),n;t(i)?t(r)||(n=r.previousElementSibling,!t(n)&&n.classList.contains(df)&&u([n],eu)):(n=i.previousElementSibling,!t(n)&&n.classList.contains(df)&&(h([i],eu),u([n],eu)))},e.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+eu)},e.prototype.getActiveLI=function(){return this.presetElement.querySelector("."+dt)},e.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new ci(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}});this.popupKeyboardModule=new ci(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},e.prototype.setScrollPosition=function(){var u=this.presetElement.getBoundingClientRect().height,f=this.presetElement.querySelector("."+eu),e=this.presetElement.querySelector("."+dt),n=t(f)?e:f;if(!t(n)){var i=n.nextElementSibling,r=i?i.offsetTop:n.offsetTop,o=n.getBoundingClientRect().height;this.presetElement.scrollTop=r+n.offsetTop>u?i?r-(u/2+o/2):r:0}},e.prototype.popupKeyActionHandle=function(n){var i=k(n.target,"."+kc);switch(n.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(n)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,n);break;case"tab":this.hide(n);break;case"altRightArrow":t(i)?document.activeElement===this.cancelButton.element&&this.applyButton.element.disabled!==!0?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus();n.preventDefault();break;case"altLeftArrow":t(i)?document.activeElement===this.applyButton.element&&this.applyButton.element.disabled!==!0?this.cancelButton.element.focus():t(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus();n.preventDefault()}},e.prototype.documentHandler=function(n){if(!t(this.popupObj)){var i=n.target;this.inputWrapper.container.contains(i)&&(t(this.popupObj)||k(i,this.popupWrapper.id))||(n.type==="touchstart"||n.type==="mousedown"||this.closeEventArgs&&!this.closeEventArgs.cancel)&&n.preventDefault();!t(this.targetElement)&&(t(this.targetElement)||i===this.targetElement)||k(i,"#"+this.popupObj.element.id)||k(i,"."+pgt)===this.inputWrapper.container||k(i,".e-daterangepicker.e-popup")&&!i.classList.contains("e-day")||(this.preventBlur=!1,this.isPopupOpen()&&(this.applyFunction(n),this.isMobile||(this.isRangeIconClicked=!1)))}},e.prototype.createInput=function(){this.inputWrapper=c.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[wgt]},this.createElement);v(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"1","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"});c.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]);t(this.placeholder)||this.placeholder.trim()===""||c.addAttributes({"aria-placeholder":this.placeholder},this.inputElement);this.setEleWidth(this.width);u([this.inputWrapper.container],ygt);t(this.inputElement.getAttribute("name"))&&v(this.inputElement,{name:this.element.id});this.inputElement.type==="hidden"&&(this.inputWrapper.container.style.display="none");this.refreshControl();this.previousEleValue=this.inputElement.value},e.prototype.setEleWidth=function(n){this.inputWrapper.container.style.width=typeof n=="string"?this.width:typeof n=="number"?g(this.width):"100%"},e.prototype.refreshControl=function(){this.validateMinMax();this.strictMode&&this.validateRangeStrict();var n=this.disabledDates();this.strictMode&&n&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue());this.updateInput();this.strictMode||this.validateRange();!this.strictMode&&n&&this.clearRange();t(this.endValue)||t(this.startValue)||n||this.disabledDateRender();this.errorClass();this.previousStartValue=t(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue);this.previousEndValue=t(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)},e.prototype.updateInput=function(){if(!t(this.endValue)&&!t(this.startValue)){var n=this.globalize.formatDate(this.startValue,{format:this.format,type:"date",skeleton:"yMd"}),i=this.globalize.formatDate(this.endValue,{format:this.format,type:"date",skeleton:"yMd"});c.setValue(n+" "+this.separator+" "+i,this.inputElement,this.floatLabelType,this.showClearButton);this.previousStartValue=new Date(+this.startValue);this.previousEndValue=new Date(+this.endValue)}},e.prototype.isDateDisabled=function(n){var i,r;return t(n)?!1:(i=new Date(+n),+i<+this.min||+i>+this.max)?!0:(this.virtualRenderCellArgs={date:i,isDisabled:!1},r=this.virtualRenderCellArgs,this.virtualRenderCellEvent(r),r.isDisabled)?!0:!1},e.prototype.disabledDateRender=function(){var n,i,t;for(this.disabledDays=[],this.disabledDayCnt=null,n=new Date(+this.startValue),i=0;+n<=+this.endValue;)this.virtualRenderCellArgs={date:n,isDisabled:!1},t=this.virtualRenderCellArgs,this.virtualRenderCellEvent(t),t.isDisabled&&(this.disabledDays.push(new Date(+t.date)),+n>+this.startValue&&+n<+this.endValue&&i++),this.addDay(n,1,null,this.max,this.min);this.disabledDayCnt=i},e.prototype.virtualRenderCellEvent=function(n){b(this.virtualRenderCellArgs,{name:"renderDayCell"});this.trigger("renderDayCell",n)},e.prototype.disabledDates=function(){var n=!1,i=!1;return t(this.endValue)||t(this.startValue)||(n=this.isDateDisabled(this.startValue),i=this.isDateDisabled(this.endValue),this.currentDate=null,this.setValue()),n||i},e.prototype.setModelValue=function(){this.value||this.startDate!==null||this.endDate!==null?this.value===null||this.value.start===null?this.value===null?this.setProperties({value:[this.startDate,this.endDate]},!0):this.value.start===null&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?((+this.startDate!=+this.value[0]||+this.endDate!=+this.value[1])&&this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&this.value[0]==null&&this.value[1]==null&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0);this.createHiddenInput()},e.prototype.dispatchEvent=function(n,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0);n.dispatchEvent(i);this.firstHiddenChild.dispatchEvent(i)},e.prototype.changeTrigger=function(n){(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.trigger("change",this.rangeArgs(n)));this.previousEleValue=this.inputElement.value;this.initStartDate=this.checkDateValue(this.startValue);this.initEndDate=this.checkDateValue(this.endValue)},e.prototype.navigateTo=function(t,i){n.prototype.navigateTo.call(this,t,i)},e.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){u([this.inputWrapper.container],[rs]);this.inputElement.focus();var n={model:this};this.trigger("focus",n)}},e.prototype.focusOut=function(){var n=this.preventBlur;document.activeElement===this.inputElement&&(h([this.inputWrapper.container],[rs]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=n)},e.prototype.destroy=function(){var u,i;this.hide(null);u={"aria-readonly":this.readonly?"true":"false",tabindex:"1","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"daterangepicker",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(h([this.inputElement],[hv]),r.remove(this.inputElement,"blur",this.inputBlurHandler),c.removeAttributes(u,this.inputElement),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),t(this.inputWrapper)||(r.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),this.angularTag===null&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),a(this.inputWrapper.container)));t(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy();this.popupObj&&(this.isMobile||this.clearCalendarEvents());n.prototype.destroy.call(this);this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null;i=k(this.element,"form");i&&r.remove(i,"reset",this.formResetHandler.bind(this));t(this.firstHiddenChild)||t(this.secondHiddenChild)||(a(this.firstHiddenChild),a(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))},e.prototype.ensureInputAttribute=function(){for(var i,n=0;n<this.inputElement.attributes.length;n++)i=this.inputElement.attributes[n].name,t(this.cloneElement.getAttribute(i))&&((i.toLowerCase()==="value"||t(this.cloneElement.getAttribute("value")))&&(this.inputElement.value=""),this.inputElement.removeAttribute(i))},e.prototype.getModuleName=function(){return"daterangepicker"},e.prototype.getPersistData=function(){return this.addOnPersist(["startDate","endDate","value"])},e.prototype.getSelectedRange=function(){var n;return t(this.startValue)||t(this.endValue)?n=0:(n=Math.round(Math.abs((this.startValue.getTime()-this.endValue.getTime())/864e5))+1,this.disabledDateRender(),t(this.disabledDayCnt)||(n=n-this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:n}},e.prototype.show=function(n,t){if((this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),(!this.enabled||!this.readonly)&&this.enabled&&!this.popupObj)&&!this.isPopupOpen()&&(n&&(this.targetElement=n),this.createPopup(),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:t?t:null,appendTo:document.body},this.trigger("open",this.openEventArgs),!this.openEventArgs.cancel)){this.openEventArgs.appendTo.appendChild(this.popupWrapper);this.showPopup(n,t);var i=!this.isCustomRange||this.isMobile&&this.isCustomRange;!d(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&i&&this.setScrollPosition()}},e.prototype.hide=function(n){this.popupObj&&(t(this.previousEndValue)&&t(this.previousStartValue)?this.clearRange():(t(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(""+this.previousStartValue),this.setValue(),this.currentDate=new Date(""+this.startValue)),t(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(""+this.previousEndValue),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:n?n:null},this.trigger("close",this.closeEventArgs),this.closeEventArgs.cancel?h([this.inputWrapper.buttons[0]],dt):(this.isMobile&&(t(this.startButton)||t(this.endButton)||(r.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),r.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick))),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),u([this.inputWrapper.container],[rs]))),this.isMobile||(t(this.leftKeyboardModule)||t(this.rightKeyboardModule)||(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),t(this.presetElement)||this.presetKeyboardModule.destroy(),t(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,h([document.body],but),r.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),this.isKeyPopup=this.dateDisabled=!1)));this.updateHiddenInput();this.isMobile&&this.element.removeAttribute("readonly")},e.prototype.setLocale=function(){this.globalize=new hi(this.locale);this.l10n.setLocale(this.locale);this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0);c.setPlaceholder(this.placeholder,this.inputElement);this.updateInput();this.changeTrigger()},e.prototype.refreshChange=function(){this.refreshControl();this.changeTrigger()},e.prototype.setDate=function(){c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton);this.refreshChange()},e.prototype.enableInput=function(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),c.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())},e.prototype.clearModelvalue=function(n,t){this.setProperties({startDate:null},!0);this.setProperties({endDate:null},!0);t.value&&t.value.length>0?this.setProperties({value:null},!0):t.value&&t.value.start?this.setProperties({value:{start:null,end:null}},!0):t.value&&!t.value.start&&this.setProperties({value:{start:null,end:null}},!0);this.updateValue();this.setDate()},e.prototype.createHiddenInput=function(){t(this.firstHiddenChild)&&t(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input"));t(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name"));v(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name")});v(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name")});var n={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,n);this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,n);this.inputElement.parentElement.appendChild(this.firstHiddenChild);this.inputElement.parentElement.appendChild(this.secondHiddenChild);this.firstHiddenChild.style.display="none";this.secondHiddenChild.style.display="none"},e.prototype.onPropertyChanged=function(n,i){for(var o,f={format:this.format,type:"date",skeleton:"yMd"},r=0,e=Object.keys(n);r<e.length;r++){o=e[r];this.hide(null);switch(o){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value;this.setProperties({separator:n.separator},!0);this.updateInput();this.changeTrigger();break;case"placeholder":c.setPlaceholder(n.placeholder,this.inputElement);this.setProperties({placeholder:n.placeholder},!0);break;case"readonly":c.setReadonly(this.readonly,this.inputElement);this.inputElement.setAttribute("aria-readonly",""+this.readonly);break;case"cssClass":this.popupWrapper&&u([this.popupWrapper],[n.cssClass]);u([this.inputWrapper.container],[n.cssClass]);this.setProperties({cssClass:n.cssClass},!0);break;case"enabled":this.setProperties({enabled:n.enabled},!0);c.setEnabled(this.enabled,this.inputElement);this.bindEvents();break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:n.enableRtl},!0);c.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:n.zIndex},!0);break;case"format":this.setProperties({format:n.format},!0);this.updateInput();this.changeTrigger();break;case"locale":this.globalize=new hi(this.locale);this.l10n.setLocale(this.locale);this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0);c.setPlaceholder(this.placeholder,this.inputElement);this.setLocale();break;case"showClearButton":c.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper);this.bindClearEvent();break;case"startDate":typeof n.startDate=="string"&&(n.startDate=this.globalize.parseDate(n.startDate,f));+this.initStartDate!=+n.startDate&&(this.startValue=this.checkDateValue(new Date(""+n.startDate)),this.setDate(),this.setValue());break;case"endDate":typeof n.endDate=="string"&&(n.endDate=this.globalize.parseDate(n.endDate,f));+this.initEndDate!=+n.endDate&&(this.endValue=this.checkDateValue(new Date(""+n.endDate)),this.setDate(),this.setValue());break;case"value":!t(n.value)&&n.value.length>0||!t(n.value)&&n.value.start?(this.valueType=n.value,n.value[0]===null||n.value.start===null?n.value.length===1||n.value.start?this.clearModelvalue(n,i):(n.value[1]===null||n.value.start===null)&&this.clearModelvalue(n,i):(+this.initStartDate!=+n.value[0]||+this.initEndDate!=+n.value[1]||+this.initStartDate!=+(n.value.start||+this.initEndDate!=+n.value.start))&&(n.value.length===1?this.modelValue=n.value:n.value.start&&(this.modelValue=n.value),this.updateValue(),this.setDate())):(t(this.value)||n.value.start==null)&&(this.valueType=n.value,this.startValue=null,this.endValue=null,this.clearModelvalue(n,i));break;case"minDays":this.setProperties({minDays:n.minDays},!0);this.refreshChange();break;case"maxDays":this.setProperties({maxDays:n.maxDays},!0);this.refreshChange();break;case"min":this.setProperties({min:this.checkDateValue(new Date(""+n.min))},!0);this.previousEleValue=this.inputElement.value;this.enableInput();this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(""+n.max))},!0);this.enableInput();this.refreshChange();break;case"strictMode":this.setProperties({strictMode:n.strictMode},!0);this.refreshChange();break;case"presets":this.setProperties({presets:n.presets},!0);this.processPresets();break;case"floatLabelType":this.floatLabelType=n.floatLabelType;c.removeFloating(this.inputWrapper);c.addFloating(this.inputElement,this.floatLabelType,this.placeholder)}}},ft([i(null)],e.prototype,"value",void 0),ft([i(!1)],e.prototype,"enablePersistence",void 0),ft([i(!1)],e.prototype,"enableRtl",void 0),ft([i(new Date(1900,0,1))],e.prototype,"min",void 0),ft([i(new Date(2099,11,31))],e.prototype,"max",void 0),ft([i(null)],e.prototype,"locale",void 0),ft([i(null)],e.prototype,"firstDayOfWeek",void 0),ft([i(!1)],e.prototype,"weekNumber",void 0),ft([f()],e.prototype,"created",void 0),ft([f()],e.prototype,"destroyed",void 0),ft([f()],e.prototype,"change",void 0),ft([f()],e.prototype,"navigated",void 0),ft([f()],e.prototype,"renderDayCell",void 0),ft([i(null)],e.prototype,"startDate",void 0),ft([i(null)],e.prototype,"endDate",void 0),ft([ff([{}],lnt)],e.prototype,"presets",void 0),ft([i("")],e.prototype,"width",void 0),ft([i(1e3)],e.prototype,"zIndex",void 0),ft([i(!0)],e.prototype,"showClearButton",void 0),ft([i(!0)],e.prototype,"showTodayButton",void 0),ft([i("Month")],e.prototype,"start",void 0),ft([i("Month")],e.prototype,"depth",void 0),ft([i("")],e.prototype,"cssClass",void 0),ft([i("-")],e.prototype,"separator",void 0),ft([i(null)],e.prototype,"minDays",void 0),ft([i(null)],e.prototype,"maxDays",void 0),ft([i(!1)],e.prototype,"strictMode",void 0),ft([i(null)],e.prototype,"format",void 0),ft([i(!0)],e.prototype,"enabled",void 0),ft([i(!1)],e.prototype,"readonly",void 0),ft([i(!0)],e.prototype,"allowEdit",void 0),ft([i("Never")],e.prototype,"floatLabelType",void 0),ft([i(null)],e.prototype,"placeholder",void 0),ft([f()],e.prototype,"open",void 0),ft([f()],e.prototype,"close",void 0),ft([f()],e.prototype,"select",void 0),ft([f()],e.prototype,"focus",void 0),ft([f()],e.prototype,"blur",void 0),ft([vt],e)}(kn),ant=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ni=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},vnt="e-time-wrapper",ynt="e-popup",gut="e-error",nft="240px",tft=(new Date).getDate(),ift=(new Date).getMonth(),rft=(new Date).getFullYear(),uft="e-timepicker",pnt="e-content",so="e-active",uk="e-hover",fk="e-navigation",cf="e-disabled",wnt="e-icon-anim",yv="e-input-focus",ye=yt.li,es=2,fft=50,ek;(function(n){function t(n,t,i,r,u,f){for(var l=f*6e4,s=[],h=[],c,e=+t.setMilliseconds(0),o=+i.setMilliseconds(0);o>=e;)h.push(e),s.push(r.formatDate(new Date(e),{format:u,type:"time"})),e+=l;return c=yr.createList(n,s,null,!0),{collection:h,list:c}}n.createListItems=t})(ek||(ek={}));var lri=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.liCollections=[],r.timeCollections=[],r.disableItemCollection=[],r}return ant(e,n),e.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"};this.cloneElement=this.element.cloneNode(!0);this.inputElement=this.element;this.angularTag=null;this.element.tagName==="EJS-TIMEPICKER"&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement))},e.prototype.render=function(){this.initialize();this.createInputElement();this.setTimeAllowEdit();this.setEnable();this.validateInterval();this.bindEvents();this.validateDisable();this.setValue(this.getFormattedValue(this.value))},e.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):v(this.inputElement,{readonly:""})},e.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax);this.popupCreation();this.popupObj.hide();isNaN(+this.value)||this.value===null||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},e.prototype.validationAttribute=function(n,i){var e=n.getAttribute("name")?n.getAttribute("name"):n.getAttribute("id"),u,r,f;for(i.setAttribute("name",e),n.removeAttribute("name"),u=["required","aria-required","form"],r=0;r<u.length;r++)t(n.getAttribute(u[r]))||(f=n.getAttribute(u[r]),i.setAttribute(u[r],f),n.removeAttribute(u[r]))},e.prototype.initialize=function(){this.globalize=new hi(this.locale);this.defaultCulture=new hi("en");this.setProperties({value:this.checkDateValue(new Date(""+this.value))},!0);this.setProperties({min:this.checkDateValue(new Date(""+this.min))},!0);this.setProperties({max:this.checkDateValue(new Date(""+this.max))},!0);this.angularTag!==null&&this.validationAttribute(this.element,this.inputElement);this.checkAttributes();var n={placeholder:this.placeholder};this.l10n=new du("timepicker",n,this.locale);this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0);this.initValue=this.checkDateValue(this.value);this.initMin=this.checkDateValue(this.min);this.initMax=this.checkDateValue(this.max);this.isNavigate=this.isPreventBlur=this.isTextSelected=!1;this.activeIndex=this.valueWithMinutes=this.prevDate=null;t(this.element.getAttribute("id"))?(this.element.id=wr("ej2_timepicker"),this.angularTag!==null&&v(this.inputElement,{id:this.element.id+"_input"})):this.angularTag!==null&&(this.inputElement.id=this.element.getAttribute("id")+"_input");t(this.inputElement.getAttribute("name"))&&v(this.inputElement,{name:this.element.id})},e.prototype.checkDateValue=function(n){return!t(n)&&n instanceof Date&&!isNaN(+n)?n:null},e.prototype.createInputElement=function(){this.inputWrapper=c.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:this.cssClass,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement);this.inputWrapper.container.style.width=this.setWidth(this.width);v(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"});this.isNullOrEmpty(this.inputStyle)||c.addAttributes({style:this.inputStyle},this.inputElement);u([this.inputWrapper.container],vnt)},e.prototype.destroy=function(){var u,i;this.hide();this.unBindEvents();u={"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"};this.inputElement&&(c.removeAttributes(u,this.inputElement),this.angularTag===null&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),t(this.cloneElement.getAttribute("disabled"))&&c.setEnabled(!0,this.inputElement,this.floatLabelType));this.inputWrapper.container&&lt(this.inputWrapper.container);this.inputWrapper=this.popupWrapper=this.cloneElement=undefined;this.liCollections=this.timeCollections=this.disableItemCollection=[];t(this.rippleFn)||this.rippleFn();n.prototype.destroy.call(this);i=k(this.element,"form");i&&r.remove(i,"reset",this.formResetHandler.bind(this))},e.prototype.ensureInputAttribute=function(){for(var i,n=0;n<this.inputElement.attributes.length;n++)i=this.inputElement.attributes[n].name,t(this.cloneElement.getAttribute(i))&&((i.toLowerCase()==="value"||t(this.cloneElement.getAttribute("value")))&&(this.inputElement.value=""),this.inputElement.removeAttribute(i))},e.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:uft+" "+ynt,attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}});t(this.cssClass)||this.popupWrapper.classList.add(this.cssClass);!t(this.step)&&this.step>0&&(this.generateList(),ir([this.listWrapper],this.popupWrapper));document.body.appendChild(this.popupWrapper);this.addSelection();this.renderPopup();this.setScrollPosition()},e.prototype.getPopupHeight=function(){var n=parseInt(nft,10),t=this.popupWrapper.getBoundingClientRect().height;return t>n?n:t},e.prototype.generateList=function(){this.createListItems();this.wireListEvents();var n={duration:300,selector:"."+ye};this.rippleFn=si(this.listWrapper,n);this.liCollections=this.listWrapper.querySelectorAll("."+ye)},e.prototype.popupCalculation=function(){var n=0,t;return o.isDevice&&(t=this.isEmptyList()?this.listTag:this.liCollections[0],n=-(parseInt(getComputedStyle(t).textIndent,10)-(this.enableRtl?parseInt(getComputedStyle(this.inputElement).paddingRight,10):parseInt(getComputedStyle(this.inputElement).paddingLeft,10)))),n},e.prototype.isEmptyList=function(){return!t(this.liCollections)&&this.liCollections.length===0||t(this.liCollections)},e.prototype.renderPopup=function(){var n=this,t;this.containerStyle=this.inputWrapper.container.getBoundingClientRect();t=o.isDevice?this.setPopupPosition():2;this.popupObj=new to(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",collision:{X:"flip",Y:"flip"},relateTo:this.inputWrapper.container,position:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:t,offsetX:this.popupCalculation(),open:function(){n.popupWrapper.style.visibility="visible";u([n.inputWrapper.buttons[0]],so)},close:function(){h([n.inputWrapper.buttons[0]],so);n.unWireListEvents();n.inputElement.setAttribute("aria-activedescendant","null");lt(n.popupObj.element);n.popupObj.destroy();n.popupWrapper.innerHTML="";n.listWrapper=n.popupWrapper=n.listTag=undefined}});o.isDevice||(this.popupObj.collision={X:"none",Y:"flip"});this.popupObj.element.style.maxHeight=nft},e.prototype.getFormattedValue=function(n){return t(this.checkDateValue(n))?null:this.globalize.formatDate(n,{skeleton:"medium",type:"time"})},e.prototype.getDateObject=function(n){var t,i;if(!this.isNullOrEmpty(n)&&(t=this.createDateObj(n),i=!this.isNullOrEmpty(this.initValue),this.checkDateValue(t))){var r=i?this.initValue.getDate():tft,u=i?this.initValue.getMonth():ift,f=i?this.initValue.getFullYear():rft;return new Date(f,u,r,t.getHours(),t.getMinutes(),t.getSeconds())}return null},e.prototype.removeErrorClass=function(){h([this.inputWrapper.container],gut);v(this.inputElement,{"aria-invalid":"false"})},e.prototype.checkErrorState=function(n){var t=this.getDateObject(n);this.validateState(t)?this.removeErrorClass():(u([this.inputWrapper.container],gut),v(this.inputElement,{"aria-invalid":"true"}))},e.prototype.validateInterval=function(){!t(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},e.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]);this.hide()},e.prototype.disableElement=function(n){u(n,cf)},e.prototype.enableElement=function(n){h(n,cf)},e.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},e.prototype.getMeridianText=function(){return this.locale==="en"||this.locale==="en-US"?p("dayPeriods.format.wide",de()):p("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",rr)},e.prototype.getCursorSelection=function(){var n=this.inputElement,t=0,i=0;return isNaN(n.selectionStart)||(t=n.selectionStart,i=n.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},e.prototype.getActiveElement=function(){return t(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+so)},e.prototype.isNullOrEmpty=function(n){return t(n)||typeof n=="string"&&n.trim()===""?!0:!1},e.prototype.setWidth=function(n){return typeof n=="number"?g(n):typeof n=="string"?n.match(/px|%|em/)?n:g(n):"100%"},e.prototype.setPopupWidth=function(n){var t,i;return n=this.setWidth(n),n.indexOf("%")>-1&&(t=this.containerStyle.width*parseFloat(n)/100,n=t.toString()+"px"),o.isDevice&&(i=this.isEmptyList()?this.listTag:this.liCollections[0],n=parseInt(n,10)+(parseInt(getComputedStyle(i).textIndent,10)-parseInt(getComputedStyle(this.inputElement).textIndent,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))*2+"px"),n},e.prototype.setScrollPosition=function(){var i=this.getPopupHeight(),n;n=this.selectedElement;t(n)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(n)},e.prototype.findScrollTop=function(n){var r=this.getPopupHeight(),t=n.nextElementSibling,i=t?t.offsetTop:n.offsetTop,u=n.getBoundingClientRect().height;this.popupWrapper.scrollTop=i+n.offsetTop>r?t?i-(r/es+u/es):i:0},e.prototype.setScrollTo=function(){var n,i,r,u;t(this.popupWrapper)?this.popupWrapper.scrollTop=0:(i=this.popupWrapper.querySelectorAll("."+ye),i.length&&(r=this.timeCollections[0],u=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime(),n=i[Math.round((u-r)/(this.step*6e4))]));t(n)?this.popupWrapper.scrollTop=0:this.findScrollTop(n)},e.prototype.getText=function(){return t(this.checkDateValue(this.value))?"":this.getValue(this.value)},e.prototype.getValue=function(n){return t(this.checkDateValue(n))?null:this.globalize.formatDate(n,{format:this.cldrTimeFormat(),type:"time"})},e.prototype.cldrDateFormat=function(){return this.locale==="en"||this.locale==="en-US"?p("dateFormats.short",de()):this.getCultureDateObject(rr,""+this.locale)},e.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.format)?this.locale==="en"||this.locale==="en-US"?p("timeFormats.short",de()):this.getCultureTimeObject(rr,""+this.locale):this.format},e.prototype.dateToNumeric=function(){return this.locale==="en"||this.locale==="en-US"?p("timeFormats.medium",de()):p("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",rr)},e.prototype.getExactDateTime=function(n){return t(this.checkDateValue(n))?null:this.globalize.formatDate(n,{format:this.dateToNumeric(),type:"time"})},e.prototype.setValue=function(n){var t=this.checkValue(n);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(this.checkDateValue(this.valueWithMinutes)===null&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max));this.updateInput(!0,this.initValue)},e.prototype.compareFormatChange=function(n){return t(n)?null:n!==this.getText()?this.getDateObject(n):this.getDateObject(this.value)},e.prototype.updatePlaceHolder=function(){c.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},e.prototype.popupHandler=function(n){o.isDevice&&this.element.setAttribute("readonly","readonly");n.preventDefault();this.isPopupOpen()?this.closePopup(0,n):this.show(n)},e.prototype.mouseDownHandler=function(){if(!this.readonly){var n=this.getCursorSelection();this.inputElement.setSelectionRange(0,0);r.add(this.inputElement,"mouseup",this.mouseUpHandler,this)}},e.prototype.mouseUpHandler=function(n){if(!this.readonly){n.preventDefault();r.remove(this.inputElement,"mouseup",this.mouseUpHandler);var t=this.getCursorSelection();t.start===0&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},e.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),u=this.inputElement.value.split(""),t;u.push(" ");var i=this.getCursorSelection(),r=0,n=0,f=!1;if(this.isTextSelected)r=i.start,n=i.end,this.isTextSelected=!1;else for(t=0;t<u.length;t++)if(e.test(u[t])||(n=t,f=!0),f)if(i.start>=r&&i.end<=n){n=n;this.isTextSelected=!0;break}else r=t+1,f=!1;return{start:r,end:n}},e.prototype.inputHandler=function(n){if(!this.readonly&&this.enabled){n.action!=="right"&&n.action!=="left"&&n.action!=="tab"&&n.preventDefault();switch(n.action){case"home":case"end":case"up":case"down":this.keyHandler(n);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,n)):this.updateValue(this.inputElement.value,n);this.hide();u([this.inputWrapper.container],yv);this.isNavigate=!1;break;case"open":this.show(n);break;case"escape":c.setValue(this.objToString(this.value),this.inputElement,this.floatLabelType,this.showClearButton);this.previousState(this.value);this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}}},e.prototype.onMouseClick=function(n){var i=n.target,t=this.selectedElement=k(i,"."+ye);this.setSelection(t,n);t&&t.classList.contains(ye)&&(this.hide(),u([this.inputWrapper.container],yv))},e.prototype.closePopup=function(n,t){var i,u;this.isPopupOpen()&&this.popupWrapper&&(i={popup:this.popupObj,event:t||null,cancel:!1,name:"open"},this.trigger("close",i),i.cancel||(u={name:"FadeOut",duration:fft,delay:n?n:0},this.popupObj.hide(new di(u)),h([this.inputWrapper.container],[wnt]),v(this.inputElement,{"aria-expanded":"false"}),r.remove(document,"mousedown touchstart",this.documentClickHandler)));o.isDevice&&this.element.removeAttribute("readonly")},e.prototype.checkValueChange=function(n,i){if(this.strictMode||this.validateState(this.valueWithMinutes))if(i){var r=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+r&&this.valueProcess(n,r)}else(this.prevValue!==this.inputElement.value||t(this.checkDateValue(this.value)))&&this.valueProcess(n,this.compareFormatChange(this.inputElement.value));else this.checkDateValue(this.valueWithMinutes)===null&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(n)},e.prototype.onMouseOver=function(n){var t=k(n.target,"."+ye);this.setHover(t,uk)},e.prototype.setHover=function(n,t){this.enabled&&this.isValidLI(n)&&!n.classList.contains(t)&&(this.removeHover(t),u([n],t),t===fk&&n.setAttribute("aria-selected","true"))},e.prototype.setSelection=function(n,t){this.isValidLI(n)&&!n.classList.contains(so)&&(this.checkValue(n.getAttribute("data-value")),this.selectedElement=n,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(n),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),u([this.selectedElement],so),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))},e.prototype.onMouseLeave=function(){this.removeHover(uk)},e.prototype.scrollHandler=function(){this.getModuleName()==="timepicker"&&o.isDevice||this.hide()},e.prototype.setMinMax=function(n,i){t(this.checkDateValue(n))&&(this.initMin=this.getDateObject("12:00:00 AM"));t(this.checkDateValue(i))&&(this.initMax=this.getDateObject("11:59:59 PM"))},e.prototype.validateMinMax=function(n){var i=n instanceof Date?n:this.getDateObject(n);return t(this.checkDateValue(i))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():n=this.strictOperation(this.initMin,this.initMax,n,i),this.strictMode&&(n=this.valueIsDisable(n)?n:null),this.checkErrorState(n),n},e.prototype.valueIsDisable=function(n){var i,t;if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(i=n instanceof Date?this.objToString(n):n,t=0;t<this.disableItemCollection.length;t++)if(i===this.disableItemCollection[t])return!1}return!0},e.prototype.validateState=function(n){if(!this.strictMode)if(this.valueIsDisable(n)){var i=typeof n=="string"?this.setCurrentDate(this.getDateObject(n)):this.setCurrentDate(this.getDateObject(n)),r=this.setCurrentDate(this.getDateObject(this.initMax)),u=this.setCurrentDate(this.getDateObject(this.initMin));if(t(this.checkDateValue(i))){if(+r<+u||this.inputElement.value!=="")return!1}else if(+i>+r||+i<+u)return!1}else return!1;return!0},e.prototype.strictOperation=function(n,t,i,r){var u=this.createDateObj(this.getFormattedValue(t)),f=this.createDateObj(this.getFormattedValue(n)),e=this.createDateObj(this.getFormattedValue(r));if(this.strictMode){if(+f>+u)return this.disableTimeIcon(),this.initValue=this.getDateObject(u),c.setValue(this.getValue(this.initValue),this.inputElement,this.floatLabelType,this.showClearButton),this.inputElement.value;if(+f>=+e)return this.getDateObject(f);if(+e>=+u||+f==+u)return this.getDateObject(u)}else if(+f>+u&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i},e.prototype.bindEvents=function(){r.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler,this);r.add(this.inputElement,"blur",this.inputBlurHandler,this);r.add(this.inputElement,"focus",this.inputFocusHandler,this);r.add(this.inputElement,"change",this.inputChangeHandler,this);this.showClearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler,this);var n=k(this.element,"form");n&&r.add(n,"reset",this.formResetHandler.bind(this));o.isDevice||(this.inputEvent=new ci(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&r.add(this.inputElement,"mousedown touchstart",this.mouseDownHandler,this))},e.prototype.formResetHandler=function(){this.inputElement.getAttribute("value")?this.value=this.checkDateValue(new Date(""+this.element.getAttribute("value"))):(this.value=null,this.inputElement&&(c.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.removeErrorClass()))},e.prototype.inputChangeHandler=function(n){n.stopPropagation()},e.prototype.unBindEvents=function(){r.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler);r.remove(this.inputElement,"blur",this.inputBlurHandler);r.remove(this.inputElement,"focus",this.inputFocusHandler);r.remove(this.inputElement,"change",this.inputChangeHandler);this.inputEvent&&this.inputEvent.destroy();r.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler);r.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler);var n=k(this.element,"form");n&&r.remove(n,"reset",this.formResetHandler.bind(this))},e.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&r.add(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler,this)},e.prototype.clearHandler=function(n){n.preventDefault();this.clear(n);this.popupWrapper&&(this.popupWrapper.scrollTop=0)},e.prototype.clear=function(n){this.setProperties({value:null},!0);this.initValue=null;this.resetState();this.changeEvent(n)},e.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},e.prototype.checkAttributes=function(){for(var n,f,e,i,r=0,u=["step","disabled","readonly","style","name","value","min","max","placeholder"];r<u.length;r++)if(n=u[r],!t(this.inputElement.getAttribute(n)))switch(n){case"disabled":f=t(this.inputElement.getAttribute(n));this.setProperties({enabled:f},!0);break;case"readonly":e=!t(this.inputElement.getAttribute(n));this.setProperties({readonly:e},!0);break;case"style":this.inputStyle=this.inputElement.getAttribute(n);break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(n));break;case"step":this.step=parseInt(this.inputElement.getAttribute(n),10);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(n);break;case"min":i=new Date(this.inputElement.getAttribute(n));t(this.checkDateValue(i))||this.setProperties({min:i},!0);break;case"max":i=new Date(this.inputElement.getAttribute(n));t(this.checkDateValue(i))||this.setProperties({max:i},!0);break;case"value":i=new Date(this.inputElement.getAttribute(n));t(this.checkDateValue(i))||(this.initValue=i,this.updateInput(!1,this.initValue))}},e.prototype.setCurrentDate=function(n){return t(this.checkDateValue(n))?null:new Date(rft,ift,tft,n.getHours(),n.getMinutes(),n.getSeconds())},e.prototype.getTextFormat=function(){var t=0,i,n;if(this.cldrTimeFormat().split(" ")[0]==="a"||this.cldrTimeFormat().indexOf("a")===0)t=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(i=this.cldrTimeFormat().split(" "),n=0;n<i.length;n++)if(i[n].toLowerCase().indexOf("h")>=0){t=n;break}return t},e.prototype.updateValue=function(n,t){var i,r;this.isNullOrEmpty(n)?this.resetState():(i=this.checkValue(n),this.strictMode&&(r=i===null&&n.trim().length>0?this.previousState(this.prevDate):this.inputElement.value,c.setValue(r,this.inputElement,this.floatLabelType,this.showClearButton)));this.checkValueChange(t,typeof n=="string"?!1:!0)},e.prototype.previousState=function(n){for(var i=this.getDateObject(n),t=0;t<this.timeCollections.length;t++)if(+i===this.timeCollections[t]){this.activeIndex=t;this.selectedElement=this.liCollections[t];this.valueWithMinutes=new Date(this.timeCollections[t]);break}return this.prevValue},e.prototype.resetState=function(){this.removeSelection();c.setValue("",this.inputElement,this.floatLabelType,!1);this.valueWithMinutes=this.activeIndex=null;this.strictMode||this.checkErrorState(null)},e.prototype.objToString=function(n){return t(this.checkDateValue(n))?null:this.globalize.formatDate(n,{format:this.cldrTimeFormat(),type:"time"})},e.prototype.checkValue=function(n){if(!this.isNullOrEmpty(n)){var t=n instanceof Date?n:this.getDateObject(n);return this.validateValue(t,n)}return this.resetState(),this.valueWithMinutes=null},e.prototype.validateValue=function(n,i){var r,f=this.validateMinMax(i,this.min,this.max),u=this.createDateObj(f),e;return this.getFormattedValue(u)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=t(u)?null:u,r=this.objToString(this.valueWithMinutes)):(this.strictMode&&(n=u),this.valueWithMinutes=this.checkDateValue(n),r=this.objToString(this.valueWithMinutes)),!this.strictMode&&t(r)?(e=f.trim().length>0?f:"",c.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)):c.setValue(r,this.inputElement,this.floatLabelType,this.showClearButton),r},e.prototype.findNextElement=function(n){var o=this.inputElement.value,e=t(this.valueWithMinutes)?this.createDateObj(o):this.getDateObject(this.valueWithMinutes),u=null,f=this.liCollections.length,r,i;if(t(this.checkDateValue(e))&&t(this.activeIndex))i=this.validLiElement(0,n.action==="down"?!1:!0),this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]));else{if(n.action==="home")i=this.validLiElement(0),u=+this.createDateObj(new Date(this.timeCollections[i])),this.activeIndex=i;else if(n.action==="end")i=this.validLiElement(this.timeCollections.length-1,!0),u=+this.createDateObj(new Date(this.timeCollections[i])),this.activeIndex=i;else if(n.action==="down"){for(r=0;r<f;r++)if(+e<this.timeCollections[r]){i=this.validLiElement(r);u=+this.createDateObj(new Date(this.timeCollections[i]));this.activeIndex=i;break}else if(r===f-1){i=this.validLiElement(0);u=+this.createDateObj(new Date(this.timeCollections[i]));this.activeIndex=i;break}}else for(r=f-1;r>=0;r--)if(+e>this.timeCollections[r]){i=this.validLiElement(r,!0);u=+this.createDateObj(new Date(this.timeCollections[i]));this.activeIndex=i;break}else if(r===0){i=this.validLiElement(f-1);u=+this.createDateObj(new Date(this.timeCollections[i]));this.activeIndex=i;break}this.selectedElement=this.liCollections[this.activeIndex];this.elementValue(t(u)?null:new Date(u))}},e.prototype.elementValue=function(n){t(this.checkDateValue(n))||this.checkValue(n)},e.prototype.validLiElement=function(n,i){var e=null,u=t(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+ye),f=!0,r;if(u.length)if(i)for(r=n;r>=0;r--)if(u[r].classList.contains(cf))r===0&&f&&(n=r=u.length,f=!1);else{e=r;break}else for(r=n;r<=u.length-1;r++)if(u[r].classList.contains(cf))r===u.length-1&&f&&(n=r=-1,f=!1);else{e=r;break}return e},e.prototype.keyHandler=function(n){var u,r,i;t(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains(cf)||(u=this.timeCollections.length,t(this.getActiveElement())||this.getActiveElement().length===0?this.liCollections.length>0?t(this.value)&&t(this.activeIndex)?(i=this.validLiElement(0,n.action==="down"?!1:!0),this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))):this.findNextElement(n):this.findNextElement(n):(r=void 0,n.keyCode>=37&&n.keyCode<=40?(i=n.keyCode===40||n.keyCode===39?++this.activeIndex:--this.activeIndex,this.activeIndex=i=this.activeIndex===u?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?u-1:this.activeIndex,this.activeIndex=i=this.validLiElement(this.activeIndex,n.keyCode===40||n.keyCode===39?!1:!0),r=t(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i]):n.action==="home"?(i=this.validLiElement(0),this.activeIndex=i,r=this.timeCollections[i]):n.action==="end"&&(i=this.validLiElement(u-1,!0),this.activeIndex=i,r=this.timeCollections[i]),this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(r))),this.isNavigate=!0,this.setHover(this.selectedElement,fk),this.setActiveDescendant(),this.selectInputText(),this.isPopupOpen()&&this.selectedElement!==null&&(!n||n.type!=="click")&&this.setScrollPosition())},e.prototype.setPopupPosition=function(){var n,u=this.getPopupHeight(),f=this.getActiveElement(),t=this.liCollections[0].getBoundingClientRect().height,i=u/es,r=f.length===0?this.liCollections[0].offsetTop:f[0].offsetTop,o=this.liCollections[this.liCollections.length-1].offsetTop,s=parseInt(getComputedStyle(this.listTag).paddingTop,10),e;return o-i<r?(e=u/t,n=(e-(this.liCollections.length-this.activeIndex))*t-s-es):n=r+t>i?i-t/es:r,n=n+es+(t-this.containerStyle.height)/es,-n},e.prototype.getCultureTimeObject=function(n,t){return p("main."+t+".dates.calendars.gregorian.timeFormats.short",n)},e.prototype.getCultureDateObject=function(n,t){return p("main."+t+".dates.calendars.gregorian.dateFormats.short",n)},e.prototype.wireListEvents=function(){r.add(this.listWrapper,"click",this.onMouseClick,this);o.isDevice||(r.add(this.listWrapper,"mouseover",this.onMouseOver,this),r.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},e.prototype.unWireListEvents=function(){this.listWrapper&&(r.remove(this.listWrapper,"click",this.onMouseClick),o.isDevice||(r.remove(this.listWrapper,"mouseover",this.onMouseOver),r.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},e.prototype.valueProcess=function(n,i){var r=t(this.checkDateValue(i))?null:i;+this.prevDate!=+r&&(this.initValue=r,this.changeEvent(n))},e.prototype.changeEvent=function(n){this.addSelection();this.updateInput(!0,this.initValue);var i={event:n||null,value:this.value,text:this.inputElement.value,isInteracted:!t(n),element:this.element};i.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value);this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value);this.trigger("change",i)},e.prototype.updateInput=function(n,t){n&&(this.prevValue=this.getValue(t));this.prevDate=this.valueWithMinutes=t;this.setProperties({value:t},!0)},e.prototype.setActiveDescendant=function(){t(this.selectedElement)?v(this.inputElement,{"aria-activedescendant":"null"}):v(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},e.prototype.removeSelection=function(){if(this.removeHover(uk),!t(this.popupWrapper)){var n=this.popupWrapper.querySelectorAll("."+so);n.length&&(h(n,so),n[0].removeAttribute("aria-selected"))}},e.prototype.removeHover=function(n){var t=this.getHoverItem(n);t&&t.length&&(h(t,n),n===fk&&t[0].removeAttribute("aria-selected"))},e.prototype.getHoverItem=function(n){var i;return t(this.popupWrapper)||(i=this.popupWrapper.querySelectorAll("."+n)),i},e.prototype.setActiveClass=function(){var i,n;if(!t(this.popupWrapper)&&(i=this.popupWrapper.querySelectorAll("."+ye),i.length))for(n=0;n<i.length;n++)if(this.timeCollections[n]===+this.getDateObject(this.valueWithMinutes)){i[n].setAttribute("aria-selected","true");this.selectedElement=i[n];this.activeIndex=n;break}},e.prototype.addSelection=function(){this.selectedElement=null;this.removeSelection();this.setActiveClass();t(this.selectedElement)||(u([this.selectedElement],so),this.selectedElement.setAttribute("aria-selected","true"))},e.prototype.isValidLI=function(n){return n&&n.classList.contains(ye)&&!n.classList.contains(cf)},e.prototype.createDateObj=function(n){var r=this.globalize.formatDate(new Date,{skeleton:"short",type:"date"}),i=null;return typeof n=="string"?n.toUpperCase().indexOf("AM")>-1||n.toUpperCase().indexOf("PM")>-1?(r=this.defaultCulture.formatDate(new Date,{skeleton:"short",type:"date"}),i=isNaN(+new Date(r+" "+n))?null:new Date(new Date(r+" "+n).setMilliseconds(0)),t(i)&&(i=this.TimeParse(r,n))):i=this.TimeParse(r,n):n instanceof Date&&(i=n),i},e.prototype.TimeParse=function(n,i){var r;return r=this.globalize.parseDate(n+" "+i,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),r=t(r)?this.globalize.parseDate(n+" "+i,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):r,t(r)?r:new Date(r.setMilliseconds(0))},e.prototype.createListItems=function(){var t=this,n,r,u,i,f;for(this.listWrapper=this.createElement("div",{className:pnt,attrs:{tabindex:"0"}}),u=this.step*6e4,i=[],this.timeCollections=[],this.disableItemCollection=[],n=+this.getDateObject(this.initMin).setMilliseconds(0),r=+this.getDateObject(this.initMax).setMilliseconds(0);r>=n;)this.timeCollections.push(n),i.push(this.globalize.formatDate(new Date(n),{format:this.cldrTimeFormat(),type:"time"})),n+=u;f={itemCreated:function(n){var i={element:n.item,text:n.text,value:t.getDateObject(n.text),isDisabled:!1};t.trigger("itemRender",i);i.isDisabled&&i.element.classList.add(cf);i.element.classList.contains(cf)&&t.disableItemCollection.push(i.element.getAttribute("data-value"))}};this.listTag=yr.createList(this.createElement,i,f,!0);v(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"});ir([this.listTag],this.listWrapper)},e.prototype.documentClickHandler=function(n){n.preventDefault();var t=n.target;k(t,"#"+this.popupObj.element.id)||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t!==this.inputElement&&(o.isDevice||(this.isPreventBlur=(o.isIE||o.info.name==="edge")&&document.activeElement===this.inputElement,n.preventDefault())):this.isPopupOpen()&&this.hide()},e.prototype.setEnableRtl=function(){c.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},e.prototype.setEnable=function(){c.setEnabled(this.enabled,this.inputElement,this.floatLabelType);this.enabled?(h([this.inputWrapper.container],cf),v(this.inputElement,{"aria-disabled":"false"})):(this.hide(),u([this.inputWrapper.container],cf),v(this.inputElement,{"aria-disabled":"true"}))},e.prototype.getProperty=function(n,t){t==="min"?(this.initMin=this.checkDateValue(new Date(""+n.min)),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(""+n.max)),this.setProperties({max:this.initMax},!0));this.inputElement.value===""?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value);this.checkValueChange(null,!1)},e.prototype.inputBlurHandler=function(n){if(this.isPreventBlur&&this.isPopupOpen()){this.inputElement.focus();return}this.closePopup(0,n);h([this.inputWrapper.container],[yv]);var t={model:this};this.trigger("blur",t);this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,n):this.inputElement.value.trim().length===0&&this.resetState();this.cursorDetails=null;this.isNavigate=!1},e.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur();var n={model:this};this.trigger("blur",n)}},e.prototype.isPopupOpen=function(){return this.popupWrapper&&this.popupWrapper.classList.contains(""+uft)?!0:!1},e.prototype.inputFocusHandler=function(){var n={model:this};this.readonly||o.isDevice||this.selectInputText();this.trigger("focus",n)},e.prototype.focusIn=function(){if(document.activeElement!==this.inputElement&&this.enabled){this.inputElement.focus();var n={model:this};this.trigger("focus",n)}},e.prototype.hide=function(){this.closePopup(100,null)},e.prototype.show=function(n){var t,i;this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(t={popup:this.popupObj||null,cancel:!1,event:n||null,name:"open"},this.trigger("open",t),t.cancel||this.isPopupOpen()||this.inputWrapper.buttons[0].classList.contains(cf)||(this.inputElement.focus(),this.popupCreation(),t.cancel||(i={name:"FadeIn",duration:fft},this.popupObj.refreshPosition(this.inputElement),this.zIndex===1e3?this.popupObj.show(new di(i),this.element):this.popupObj.show(new di(i),null),this.setActiveDescendant(),v(this.inputElement,{"aria-expanded":"true"}),u([this.inputWrapper.container],yv)),r.add(document,"mousedown touchstart",this.documentClickHandler,this)))},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.getModuleName=function(){return"timepicker"},e.prototype.onPropertyChanged=function(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++){r=i[t];switch(r){case"placeholder":c.setPlaceholder(n.placeholder,this.inputElement);this.inputElement.setAttribute("aria-placeholder",n.placeholder);break;case"readonly":c.setReadonly(this.readonly,this.inputElement,this.floatLabelType);this.readonly&&this.hide();break;case"cssClass":u([this.inputWrapper.container],[n.cssClass]);this.popupWrapper&&u([this.popupWrapper],[n.cssClass]);this.setProperties({cssClass:n.cssClass},!0);break;case"enabled":this.setProperties({enabled:n.enabled},!0);this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:n.enableRtl},!0);this.setEnableRtl();break;case"zIndex":this.setProperties({zIndex:n.zIndex},!0);this.setZIndex();break;case"min":case"max":this.getProperty(n,r);break;case"showClearButton":c.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper);this.bindClearEvent();break;case"locale":this.setProperties({locale:n.locale},!0);this.globalize=new hi(this.locale);this.l10n.setLocale(this.locale);this.updatePlaceHolder();this.setValue(this.value);break;case"width":gt(this.inputWrapper.container,{width:this.setWidth(n.width)});this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:n.format},!0);this.setValue(this.value);break;case"value":typeof n.value=="string"?(this.setProperties({value:this.checkDateValue(new Date(n.value))},!0),n.value=this.value):n.value=this.checkDateValue(new Date(""+n.value));this.initValue=n.value;n.value=this.compareFormatChange(this.checkValue(n.value));this.checkValueChange(null,!1);break;case"floatLabelType":this.floatLabelType=n.floatLabelType;c.removeFloating(this.inputWrapper);c.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":n.strictMode&&this.checkErrorState(null);this.setProperties({strictMode:n.strictMode},!0);this.checkValue(this.inputElement.value);this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(""+n.scrollTo))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:n.scrollTo},!0)):this.setProperties({scrollTo:null},!0)}}},ni([i(null)],e.prototype,"width",void 0),ni([i(null)],e.prototype,"cssClass",void 0),ni([i(!1)],e.prototype,"strictMode",void 0),ni([i(null)],e.prototype,"format",void 0),ni([i(!0)],e.prototype,"enabled",void 0),ni([i(!1)],e.prototype,"readonly",void 0),ni([i("Never")],e.prototype,"floatLabelType",void 0),ni([i(null)],e.prototype,"placeholder",void 0),ni([i(1e3)],e.prototype,"zIndex",void 0),ni([i(!1)],e.prototype,"enablePersistence",void 0),ni([i(!0)],e.prototype,"showClearButton",void 0),ni([i(30)],e.prototype,"step",void 0),ni([i(null)],e.prototype,"scrollTo",void 0),ni([i(null)],e.prototype,"value",void 0),ni([i(null)],e.prototype,"min",void 0),ni([i(null)],e.prototype,"max",void 0),ni([i(!0)],e.prototype,"allowEdit",void 0),ni([i(!1)],e.prototype,"enableRtl",void 0),ni([f()],e.prototype,"change",void 0),ni([f()],e.prototype,"created",void 0),ni([f()],e.prototype,"destroyed",void 0),ni([f()],e.prototype,"open",void 0),ni([f()],e.prototype,"itemRender",void 0),ni([f()],e.prototype,"close",void 0),ni([f()],e.prototype,"blur",void 0),ni([f()],e.prototype,"focus",void 0),ni([vt],e)}(vi),bnt=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ou=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},knt="e-date-wrapper",dnt="e-datepicker",gnt="e-datetime-wrapper",nti=(new Date).getDate(),tti=(new Date).getMonth(),iti=(new Date).getFullYear(),rti=(new Date).getHours(),uti=(new Date).getMinutes(),fti=(new Date).getSeconds(),eti=(new Date).getMilliseconds(),pv="e-datetimepicker",eft="e-datetimepopup-wrapper",oti="e-input-group-icon",oft="e-popup",sti="e-time-icon",nl="e-input-focus",sft="250px",hft="e-icon-anim",ok="e-disabled",cft="e-error",hti="e-content",cti="e-navigation",ho="e-active",sk="e-hover",lti="e-icons",lft=2,os=yt.li,aft=100,vft="e-time-overflow",ari=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r.valueWithMinutes=null,r.previousDateTime=null,r}return bnt(e,n),e.prototype.focusHandler=function(){u([this.inputWrapper.container],nl)},e.prototype.focusIn=function(){n.prototype.focusIn.call(this)},e.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),h([this.inputWrapper.container],[nl]))},e.prototype.blurHandler=function(n){if(this.isTimePopupOpen()&&this.isPreventBlur){this.inputElement.focus();return}h([this.inputWrapper.container],nl);var t={model:this};this.isTimePopupOpen()&&this.hide(n);this.trigger("blur",t)},e.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains(oft)&&(this.dateTimeWrapper=undefined,this.liCollections=this.timeCollections=[],t(this.rippleFn)||this.rippleFn());var i={"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"};this.inputElement&&(c.removeAttributes(i,this.inputElement),this.inputElement.removeAttribute("aria-placeholder"));this.isCalendar()&&(this.popupWrapper&&a(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy());this.unBindInputEvents();n.prototype.destroy.call(this)},e.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"};this.valueWithMinutes=null;this.previousDateTime=null;this.isPreventBlur=!1;this.cloneElement=this.element.cloneNode(!0);this.dateTimeFormat=this.cldrDateTimeFormat();this.initValue=this.value;this.checkAttributes();var t={placeholder:this.placeholder};this.l10n=new du("datetimepicker",t,this.locale);this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0);n.prototype.render.call(this);this.createInputElement();this.bindInputEvents();this.setValue();this.previousDateTime=this.value&&new Date(+this.value)},e.prototype.setValue=function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var i=this.validateMinMaxRange(this.initValue);c.setValue(this.getFormattedValue(i),this.inputElement,this.floatLabelType,this.showClearButton);this.setProperties({value:i},!0)}else t(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value;n.prototype.updateInput.call(this)},e.prototype.validateMinMaxRange=function(n){var t=n;return this.isDateObject(n)?t=this.validateValue(n):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},e.prototype.checkValidState=function(n){this.isValidState=!0;this.strictMode||(+n>+this.max||+n<+this.min)&&(this.isValidState=!1);this.checkErrorState()},e.prototype.checkErrorState=function(){this.isValidState?h([this.inputWrapper.container],cft):u([this.inputWrapper.container],cft);v(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},e.prototype.validateValue=function(n){var t=n;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+n<+this.min?t=this.min:+n>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=n),t},e.prototype.disablePopupButton=function(n){n?(u([this.inputWrapper.buttons[0],this.timeIcon],ok),this.hide()):h([this.inputWrapper.buttons[0],this.timeIcon],ok)},e.prototype.getFormattedValue=function(n){if(t(n))return null;var i={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"};return this.globalize.formatDate(n,i)},e.prototype.isDateObject=function(n){return!t(n)&&!isNaN(+n)?!0:!1},e.prototype.createInputElement=function(){h([this.inputElement],dnt);h([this.inputWrapper.container],knt);u([this.inputWrapper.container],gnt);u([this.inputElement],pv);this.renderTimeIcon()},e.prototype.renderTimeIcon=function(){this.timeIcon=c.appendSpan(oti+" "+sti+" "+lti,this.inputWrapper.container)},e.prototype.bindInputEvents=function(){r.add(this.timeIcon,"mousedown touchstart",this.timeHandler,this);r.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler,this);r.add(this.inputElement,"blur",this.blurHandler,this);r.add(this.inputElement,"focus",this.focusHandler,this);this.keyboardHandler=new ci(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.keyConfigs})},e.prototype.unBindInputEvents=function(){r.remove(this.timeIcon,"mousedown touchstart",this.timeHandler);r.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler);this.inputElement&&(r.remove(this.inputElement,"blur",this.blurHandler),r.remove(this.inputElement,"focus",this.focusHandler));this.keyboardHandler&&this.keyboardHandler.destroy()},e.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?this.locale==="en"||this.locale==="en-US"?p("timeFormats.short",de()):this.getCultureTimeObject(rr,""+this.locale):this.timeFormat},e.prototype.cldrDateTimeFormat=function(){var n=new hi(this.locale),t=n.getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.format)?t+" "+this.getCldrFormat("time"):this.format},e.prototype.getCldrFormat=function(){return this.locale==="en"||this.locale==="en-US"?p("timeFormats.short",de()):this.getCultureTimeObject(rr,""+this.locale)},e.prototype.isNullOrEmpty=function(n){return t(n)||typeof n=="string"&&n.trim()===""?!0:!1},e.prototype.getCultureTimeObject=function(n){return p("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",n)},e.prototype.timeHandler=function(t){o.isDevice&&this.element.setAttribute("readonly","readonly");t.currentTarget===this.timeIcon&&t.preventDefault();this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&n.prototype.hide.call(this,t),this.isTimePopupOpen()?this.closePopup(t):(this.inputElement.focus(),this.popupCreation("time",t),u([this.inputWrapper.container],[nl])))},e.prototype.dateHandler=function(n){n.currentTarget===this.inputWrapper.buttons[0]&&n.preventDefault();this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(n),t(this.popupWrapper)||this.popupCreation("date",n))},e.prototype.show=function(t,i){this.enabled&&this.readonly||!this.enabled||(t!=="time"||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(i),n.prototype.show.call(this),this.popupCreation("date",i)):(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)))},e.prototype.toggle=function(t){this.isDatePopupOpen()?(n.prototype.hide.call(this,t),this.show("time",null)):this.isTimePopupOpen()?(this.hide(t),n.prototype.show.call(this,null,t),this.popupCreation("date",null)):this.show(null,t)},e.prototype.listCreation=function(){var n=t(this.value)?this.inputElement.value!==""?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):new Date:this.value,r;this.valueWithMinutes=n;this.listWrapper=ct("div",{className:hti,attrs:{tabindex:"0"}});var u=this.startTime(n),f=this.endTime(n),i=ek.createListItems(this.createElement,u,f,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=i.collection;this.listTag=i.list;v(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"});ir([i.list],this.listWrapper);this.wireTimeListEvents();r={duration:300,selector:"."+os};this.rippleFn=si(this.listWrapper,r);this.liCollections=this.listWrapper.querySelectorAll("."+os)},e.prototype.popupCreation=function(n,i){o.isDevice&&this.element.setAttribute("readonly","readonly");n==="date"?!this.readonly&&this.popupWrapper&&(u([this.popupWrapper],eft),v(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=ct("div",{className:pv+" "+oft,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),t(this.cssClass)||this.dateTimeWrapper.classList.add(this.cssClass),!t(this.step)&&this.step>0&&(this.listCreation(),ir([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(i),this.popupObject.refreshPosition(this.inputElement))},e.prototype.openPopup=function(n){if(this.preventArgs={cancel:!1,popup:this.popupObject,event:n||null},this.trigger("open",this.preventArgs),!this.preventArgs.cancel&&!this.readonly){var t={name:"FadeIn",duration:aft};this.zIndex===1e3?this.popupObject.show(new di(t),this.element):this.popupObject.show(new di(t),null);u([this.inputWrapper.container],[hft]);v(this.inputElement,{"aria-expanded":"true"});r.add(document,"mousedown touchstart",this.documentClickHandler,this)}},e.prototype.documentClickHandler=function(n){n.preventDefault();var t=n.target;k(t,"#"+(this.popupObject&&this.popupObject.element.id))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(o.isDevice||(this.isPreventBlur=(o.isIE||o.info.name==="edge")&&document.activeElement===this.inputElement,n.preventDefault())):this.isTimePopupOpen()&&this.hide(n)},e.prototype.isTimePopupOpen=function(){return this.dateTimeWrapper&&this.dateTimeWrapper.classList.contains(""+pv)?!0:!1},e.prototype.isDatePopupOpen=function(){return this.popupWrapper&&this.popupWrapper.classList.contains(""+eft)?!0:!1},e.prototype.renderPopup=function(){var n=this,t;this.containerStyle=this.inputWrapper.container.getBoundingClientRect();o.isDevice&&(this.timeModal=ct("div"),this.timeModal.className=""+pv+" e-time-modal",document.body.className+=" "+vft,this.timeModal.style.display="block",document.body.appendChild(this.timeModal));t=4;this.popupObject=new to(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:o.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:o.isDevice?document.body:this.inputWrapper.container,position:o.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:t,open:function(){n.dateTimeWrapper.style.visibility="visible";u([n.timeIcon],ho);o.isDevice||(n.inputEvent=new ci(n.inputWrapper.container,{keyAction:n.TimeKeyActionHandle.bind(n),keyConfigs:n.timekeyConfigure,eventName:"keydown"}))},close:function(){h([n.timeIcon],ho);n.unWireTimeListEvents();n.inputElement.setAttribute("aria-activedescendant","null");lt(n.popupObject.element);n.popupObject.destroy();n.dateTimeWrapper.innerHTML="";n.listWrapper=n.dateTimeWrapper=undefined;n.inputEvent&&n.inputEvent.destroy()}});this.popupObject.element.style.maxHeight=sft},e.prototype.setDimension=function(n){return typeof n=="number"?g(n):typeof n=="string"?n:"100%"},e.prototype.setPopupWidth=function(){var n=this.setDimension(this.width),t;return n.indexOf("%")>-1&&(t=this.containerStyle.width*parseFloat(n)/100,n=t.toString()+"px"),n},e.prototype.wireTimeListEvents=function(){r.add(this.listWrapper,"click",this.onMouseClick,this);o.isDevice||(r.add(this.listWrapper,"mouseover",this.onMouseOver,this),r.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},e.prototype.unWireTimeListEvents=function(){this.listWrapper&&(r.remove(this.listWrapper,"click",this.onMouseClick),r.remove(document,"mousedown touchstart",this.documentClickHandler),o.isDevice||(r.add(this.listWrapper,"mouseover",this.onMouseOver,this),r.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},e.prototype.onMouseOver=function(n){var t=k(n.target,"."+os);this.setTimeHover(t,sk)},e.prototype.onMouseLeave=function(){this.removeTimeHover(sk)},e.prototype.setTimeHover=function(n,t){this.enabled&&this.isValidLI(n)&&!n.classList.contains(t)&&(this.removeTimeHover(t),u([n],t))},e.prototype.getPopupHeight=function(){var n=parseInt(sft,10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>n?n:t},e.prototype.changeEvent=function(t){+this.previousDateTime!=+this.value&&(n.prototype.changeEvent.call(this,t),this.inputElement.focus(),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},e.prototype.updateValue=function(n){this.setInputValue("time");+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:n||null,isInteracted:!t(n),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)},e.prototype.setTimeScrollPosition=function(){var u=this.getPopupHeight(),n;if(n=this.selectedElement,!t(n)){var i=n.nextElementSibling,r=i?i.offsetTop:n.offsetTop,f=n.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=r+n.offsetTop>u?i?r-(u/lft+f/lft):r:0}},e.prototype.setInputValue=function(n){if(n==="date")this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));c.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton);this.previousElementValue=this.inputElement.value;this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}},e.prototype.getFullDateTime=function(){var n=null;return n=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(n)},e.prototype.combineDateTime=function(n){if(this.isDateObject(n)){var t=this.previousDate.getDate(),i=this.previousDate.getMonth(),r=this.previousDate.getFullYear(),u=n.getHours(),f=n.getMinutes(),e=n.getSeconds();return new Date(r,i,t,u,f,e)}return this.previousDate},e.prototype.onMouseClick=function(n){var i=n.target,t=this.selectedElement=k(i,"."+os);t&&t.classList.contains(os)&&(this.timeValue=t.getAttribute("data-value"),this.hide(n));this.setSelection(t,n)},e.prototype.setSelection=function(n,t){var r,i;this.isValidLI(n)&&!n.classList.contains(ho)&&(r=n.getAttribute("data-value"),this.selectedElement=n,i=Array.prototype.slice.call(this.liCollections).indexOf(n),this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),u([this.selectedElement],ho),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t))},e.prototype.setTimeActiveClass=function(){var r=t(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper,i,n;if(!t(r)&&(i=r.querySelectorAll("."+os),i.length))for(n=0;n<i.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){i[n].setAttribute("aria-selected","true");this.selectedElement=i[n];this.activeIndex=n;this.setTimeActiveDescendant();break}},e.prototype.setTimeActiveDescendant=function(){t(this.selectedElement)?v(this.inputElement,{"aria-activedescendant":"null"}):v(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},e.prototype.addTimeSelection=function(){this.selectedElement=null;this.removeTimeSelection();this.setTimeActiveClass();t(this.selectedElement)||(u([this.selectedElement],ho),this.selectedElement.setAttribute("aria-selected","true"))},e.prototype.removeTimeSelection=function(){if(this.removeTimeHover(sk),!t(this.dateTimeWrapper)){var n=this.dateTimeWrapper.querySelectorAll("."+ho);n.length&&(h(n,ho),n[0].removeAttribute("aria-selected"))}},e.prototype.removeTimeHover=function(n){var t=this.getTimeHoverItem(n);t&&t.length&&h(t,n)},e.prototype.getTimeHoverItem=function(n){var i=t(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper,r;return t(i)||(r=i.querySelectorAll("."+n)),r},e.prototype.isValidLI=function(n){return n&&n.classList.contains(os)&&!n.classList.contains(ok)},e.prototype.calculateStartEnd=function(n,t,i){var r=n.getDate(),u=n.getMonth(),f=n.getFullYear(),e=n.getHours(),o=n.getMinutes(),s=n.getSeconds(),h=n.getMilliseconds();return t?i==="starttime"?new Date(f,u,r,0,0,0):new Date(f,u,r,23,59,59):new Date(f,u,r,e,o,s,h)},e.prototype.startTime=function(n){var r,u,i=this.min,t;return t=n===null?new Date:n,+t.getDate()==+i.getDate()&&+t.getMonth()==+i.getMonth()&&+t.getFullYear()==+i.getFullYear()||+new Date(t.getFullYear(),t.getMonth(),t.getDate())<=+new Date(i.getFullYear(),i.getMonth(),i.getDate())?(u=!1,r=this.min):+t<+this.max&&+t>+this.min?(u=!0,r=t):+t>=+this.max&&(u=!0,r=this.max),this.calculateStartEnd(r,u,"starttime")},e.prototype.endTime=function(n){var r,u,i=this.max,t;return t=n===null?new Date:n,+t.getDate()==+i.getDate()&&+t.getMonth()==+i.getMonth()&&+t.getFullYear()==+i.getFullYear()||+new Date(t.getUTCFullYear(),t.getMonth(),t.getDate())>=+new Date(i.getFullYear(),i.getMonth(),i.getDate())?(u=!1,r=this.max):+t<+this.max&&+t>+this.min?(u=!0,r=t):+t<=+this.min&&(u=!0,r=this.min),this.calculateStartEnd(r,u,"endtime")},e.prototype.hide=function(i){(this.popupObj||this.dateTimeWrapper)&&(this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:i||null},t(this.popupObj)&&this.trigger("close",this.preventArgs),this.preventArgs.cancel||(this.isDatePopupOpen()?n.prototype.hide.call(this,i):this.isTimePopupOpen()&&(this.closePopup(i),h([document.body],vft),o.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())));o.isDevice&&this.element.removeAttribute("readonly")},e.prototype.closePopup=function(){if(this.isTimePopupOpen()&&this.popupObject){var n={name:"FadeOut",duration:aft,delay:0};this.popupObject.hide(new di(n));this.inputWrapper.container.classList.remove(hft);v(this.inputElement,{"aria-expanded":"false"});r.remove(document,"mousedown touchstart",this.documentClickHandler)}},e.prototype.preRender=function(){n.prototype.preRender.call(this)},e.prototype.getProperty=function(n,t){t==="min"?this.setProperties({min:this.validateValue(n.min)},!0):this.setProperties({max:this.validateValue(n.max)},!0)},e.prototype.checkAttributes=function(){for(var n,f,e,i,r=0,u=["style","name","step","disabled","readonly","value","min","max","placeholder","type"];r<u.length;r++)if(n=u[r],!t(this.inputElement.getAttribute(n)))switch(n){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(n));break;case"step":this.step=parseInt(this.inputElement.getAttribute(n),10);break;case"readonly":f=!t(this.inputElement.getAttribute(n));this.setProperties({readonly:f},!0);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(n);break;case"min":i=new Date(this.inputElement.getAttribute(n));this.isNullOrEmpty(i)||isNaN(+i)||this.setProperties({min:i},!0);break;case"disabled":e=t(this.inputElement.getAttribute(n));this.setProperties({enabled:e},!0);break;case"max":i=new Date(this.inputElement.getAttribute(n));this.isNullOrEmpty(i)||isNaN(+i)||this.setProperties({max:i},!0)}},e.prototype.getTimeActiveElement=function(){return t(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+ho)},e.prototype.createDateObj=function(n){return n instanceof Date?n:null},e.prototype.getDateObject=function(n){if(!this.isNullOrEmpty(n)){var u=this.createDateObj(n),i=this.valueWithMinutes,r=!t(i);if(this.checkDateValue(u)){var f=r?i.getDate():nti,e=r?i.getMonth():tti,o=r?i.getFullYear():iti,s=r?i.getHours():rti,h=r?i.getMinutes():uti,c=r?i.getSeconds():fti,l=r?i.getMilliseconds():eti;return new Date(o,e,f,s,h,c,l)}}return null},e.prototype.findNextTimeElement=function(n){var e=this.inputElement.value,u=t(this.valueWithMinutes)?this.createDateObj(e):this.getDateObject(this.valueWithMinutes),r=null,f=this.liCollections.length,i;if(!t(this.checkDateValue(u))||!t(this.activeIndex)){if(n.action==="home")r=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if(n.action==="end")r=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if(n.action==="down"){for(i=0;i<f;i++)if(+u<this.timeCollections[i]){r=+this.createDateObj(new Date(this.timeCollections[i]));this.activeIndex=i;break}}else for(i=f-1;i>=0;i--)if(+u>this.timeCollections[i]){r=+this.createDateObj(new Date(this.timeCollections[i]));this.activeIndex=i;break}this.selectedElement=this.liCollections[this.activeIndex];this.timeElementValue(t(r)?null:new Date(r))}},e.prototype.setTimeValue=function(n,i){var r,e=this.validateMinMaxRange(i),u=this.createDateObj(e),f;return this.getFormattedValue(u)!==(t(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=t(u)?null:u,r=new Date(+this.valueWithMinutes)):(this.strictMode&&(n=u),this.valueWithMinutes=this.checkDateValue(n),r=new Date(+this.valueWithMinutes)),f=this.globalize.formatDate(r,{format:t(this.format)?this.cldrDateTimeFormat():this.format,type:"dateTime",skeleton:"yMd"}),!this.strictMode&&t(r)?c.setValue(f,this.inputElement,this.floatLabelType,this.showClearButton):c.setValue(f,this.inputElement,this.floatLabelType,this.showClearButton),r},e.prototype.timeElementValue=function(n){if(!t(this.checkDateValue(n))&&!this.isNullOrEmpty(n)){var i=n instanceof Date?n:this.getDateObject(n);return this.setTimeValue(i,n)}return null},e.prototype.timeKeyHandler=function(n){var i,r,u;t(this.step)||this.step<=0||(i=this.timeCollections.length,t(this.getTimeActiveElement())||this.getTimeActiveElement().length===0?this.liCollections.length>0&&(t(this.value)&&t(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(n)):(r=void 0,n.keyCode>=37&&n.keyCode<=40?(u=n.keyCode===40||n.keyCode===39?++this.activeIndex:--this.activeIndex,this.activeIndex=u=this.activeIndex===i?0:this.activeIndex,this.activeIndex=u=this.activeIndex<0?i-1:this.activeIndex,r=t(this.timeCollections[u])?this.timeCollections[0]:this.timeCollections[u]):n.action==="home"?(this.activeIndex=0,r=this.timeCollections[0]):n.action==="end"&&(this.activeIndex=i-1,r=this.timeCollections[i-1]),this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(r))),this.isNavigate=!0,this.setTimeHover(this.selectedElement,cti),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&this.selectedElement!==null&&(!n||n.type!=="click")&&this.setTimeScrollPosition())},e.prototype.TimeKeyActionHandle=function(n){if(this.enabled){n.action!=="right"&&n.action!=="left"&&n.action!=="tab"&&n.preventDefault();switch(n.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(n);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(n);this.hide(n);u([this.inputWrapper.container],nl);this.isNavigate=!1;break;case"escape":this.hide(n);break;default:this.isNavigate=!1}}},e.prototype.inputKeyAction=function(n){switch(n.action){case"altDownArrow":this.strictModeUpdate();this.updateInput();this.toggle(n)}},e.prototype.onPropertyChanged=function(t,i){for(var e,o,r=0,f=Object.keys(t);r<f.length;r++){e=f[r];switch(e){case"value":o={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"};typeof t.value=="string"&&(this.setProperties({value:this.checkDateValue(new Date(""+t.value))},!0),t.value=this.checkDateValue(new Date(""+t.value)));t.value=this.validateValue(t.value);c.setValue(this.getFormattedValue(t.value),this.inputElement,this.floatLabelType,this.showClearButton);this.valueWithMinutes=t.value;this.setProperties({value:t.value},!0);this.previousDateTime=new Date(this.inputElement.value);this.updateInput();this.changeTrigger(null);break;case"min":case"max":this.getProperty(t,e);this.updateInput();break;case"enableRtl":c.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":c.setCssClass(t.cssClass,[this.inputWrapper.container]);this.dateTimeWrapper&&u([this.dateTimeWrapper],[t.cssClass]);break;case"locale":this.globalize=new hi(this.locale);this.l10n.setLocale(this.locale);this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0);c.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement);this.dateTimeFormat=this.cldrDateTimeFormat();n.prototype.updateInput.call(this);break;case"format":this.setProperties({format:t.format},!0);this.setValue();break;case"placeholder":c.setPlaceholder(t.placeholder,this.inputElement);this.inputElement.setAttribute("aria-placeholder",t.placeholder);break;case"enabled":c.setEnabled(this.enabled,this.inputElement);this.bindEvents();break;case"strictMode":this.updateInput();break;case"width":this.setWidth(t.width);break;case"readonly":c.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=t.floatLabelType;c.removeFloating(this.inputWrapper);c.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:n.prototype.onPropertyChanged.call(this,t,i)}this.hide(null)}},e.prototype.getModuleName=function(){return"datetimepicker"},ou([i(null)],e.prototype,"timeFormat",void 0),ou([i(30)],e.prototype,"step",void 0),ou([i(1e3)],e.prototype,"zIndex",void 0),ou([i(!1)],e.prototype,"enableRtl",void 0),ou([i(!1)],e.prototype,"enablePersistence",void 0),ou([i(!0)],e.prototype,"showClearButton",void 0),ou([i(null)],e.prototype,"placeholder",void 0),ou([i(!1)],e.prototype,"strictMode",void 0),ou([f()],e.prototype,"open",void 0),ou([f()],e.prototype,"close",void 0),ou([f()],e.prototype,"blur",void 0),ou([f()],e.prototype,"focus",void 0),ou([f()],e.prototype,"created",void 0),ou([f()],e.prototype,"destroyed",void 0),ou([vt],e)}(sut),hk=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();var ny=function(){function n(n){this.id=n}return n}(),wu=function(n){function t(t,i,r,u,f,e,o,s,h){s===void 0&&(s="");h===void 0&&(h="");var c=n.call(this,t)||this;return c.opacity=f,c.fill=i,c.stroke=u,c["stroke-width"]=r,c["stroke-dasharray"]=e,c.d=o,c.transform=s,c.style=h,c}return hk(t,n),t}(ny),iet=function(n){function t(t,i,r,u,f){var e=n.call(this,t)||this;return e.y=f.y,e.x=f.x,e.height=f.height,e.width=f.width,e.opacity=u,e.fill=i,e.stroke=r.color,e["stroke-width"]=r.width,e}return hk(t,n),t}(ny),lo=function(){function n(n,t){this.width=n;this.height=t}return n}(),rl=function(){function n(n,t){this.x=n;this.y=t}return n}(),bu=function(){function n(n,t,i,r){this.x=n;this.y=t;this.width=i;this.height=r}return n}(),wk=function(n){function t(t,i,r,u,f,e,o){e===void 0&&(e="");var s=n.call(this,t)||this;return s.transform="",s.baseLine="auto",s.x=i,s.y=r,s.anchor=u,s.text=f,s.transform=e,s.baseLine=o,s}return hk(t,n),t}(ny),ret=function(){function n(n,t,i){this.text=n;this.value=t;this.size=i}return n}(),ty=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),er=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},wh=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ty(t,n),er([i("")],t.prototype,"color",void 0),er([i(1)],t.prototype,"width",void 0),t}(it),ul=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ty(t,n),er([i("16px")],t.prototype,"size",void 0),er([i("")],t.prototype,"color",void 0),er([i("segoe UI")],t.prototype,"fontFamily",void 0),er([i("Normal")],t.prototype,"fontWeight",void 0),er([i("Normal")],t.prototype,"fontStyle",void 0),er([i(1)],t.prototype,"opacity",void 0),t}(it),uet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ty(t,n),er([i(10)],t.prototype,"left",void 0),er([i(10)],t.prototype,"right",void 0),er([i(10)],t.prototype,"top",void 0),er([i(10)],t.prototype,"bottom",void 0),t}(it),fet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ty(t,n),er([i(!1)],t.prototype,"enable",void 0),er([i("#000000")],t.prototype,"fill",void 0),er([nt({color:"#ffffff",size:"13px"},ul)],t.prototype,"textStyle",void 0),er([i(null)],t.prototype,"format",void 0),er([i(null)],t.prototype,"template",void 0),er([i(!0)],t.prototype,"enableAnimation",void 0),er([nt({},wh)],t.prototype,"border",void 0),t}(it),pe;(function(n){n.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"};n.axisLineColor=null;n.tickLineColor=null;n.pointerColor=null})(pe||(pe={}));var ne=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),w=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},eet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(2)],t.prototype,"width",void 0),w([i("")],t.prototype,"dashArray",void 0),w([i(pe.axisLineColor)],t.prototype,"color",void 0),t}(it),oet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([nt(pe.axisLabelFont,ul)],t.prototype,"font",void 0),w([i("")],t.prototype,"format",void 0),w([i("Inside")],t.prototype,"position",void 0),w([i("None")],t.prototype,"hiddenLabel",void 0),w([i(!1)],t.prototype,"autoAngle",void 0),w([i(!1)],t.prototype,"useRangeColor",void 0),w([i(0)],t.prototype,"offset",void 0),t}(it),set=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(null)],t.prototype,"start",void 0),w([i(null)],t.prototype,"end",void 0),w([i(null)],t.prototype,"radius",void 0),w([i(10)],t.prototype,"startWidth",void 0),w([i(10)],t.prototype,"endWidth",void 0),w([i(null)],t.prototype,"color",void 0),w([i(0)],t.prototype,"roundedCornerRadius",void 0),t}(it),bk=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(null)],t.prototype,"width",void 0),w([i(null)],t.prototype,"height",void 0),w([i(null)],t.prototype,"interval",void 0),w([i(0)],t.prototype,"offset",void 0),w([i(pe.tickLineColor)],t.prototype,"color",void 0),w([i("Inside")],t.prototype,"position",void 0),w([i(!1)],t.prototype,"useRangeColor",void 0),t}(it),het=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i("#ffffff")],t.prototype,"color",void 0),w([nt({color:pe.pointerColor,width:8},wh)],t.prototype,"border",void 0),w([i(8)],t.prototype,"radius",void 0),t}(it),cet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(pe.pointerColor)],t.prototype,"color",void 0),w([nt({color:pe.pointerColor,width:0},wh)],t.prototype,"border",void 0),w([i("0%")],t.prototype,"length",void 0),t}(it),aet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(!0)],t.prototype,"enable",void 0),w([i(1e3)],t.prototype,"duration",void 0),t}(it),vet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(null)],t.prototype,"content",void 0),w([i(90)],t.prototype,"angle",void 0),w([i("50%")],t.prototype,"radius",void 0),w([i("-1")],t.prototype,"zIndex",void 0),w([i(!1)],t.prototype,"autoAngle",void 0),w([nt({size:"12px",color:"#686868"},ul)],t.prototype,"textStyle",void 0),w([i(null)],t.prototype,"description",void 0),t}(it),yet=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ne(t,n),w([i(null)],t.prototype,"value",void 0),w([i("Needle")],t.prototype,"type",void 0),w([i(0)],t.prototype,"roundedCornerRadius",void 0),w([i(null)],t.prototype,"imageUrl",void 0),w([i(null)],t.prototype,"radius",void 0),w([i(20)],t.prototype,"pointerWidth",void 0),w([nt({},het)],t.prototype,"cap",void 0),w([nt({},cet)],t.prototype,"needleTail",void 0),w([i(pe.pointerColor)],t.prototype,"color",void 0),w([nt({color:"#DDDDDD",width:0},wh)],t.prototype,"border",void 0),w([nt(null,aet)],t.prototype,"animation",void 0),w([i("Circle")],t.prototype,"markerShape",void 0),w([i(5)],t.prototype,"markerHeight",void 0),w([i(null)],t.prototype,"description",void 0),w([i(5)],t.prototype,"markerWidth",void 0),t}(it),pet=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.visibleLabels=[],t}return ne(t,n),w([i(null)],t.prototype,"minimum",void 0),w([i(null)],t.prototype,"maximum",void 0),w([i(null)],t.prototype,"radius",void 0),w([nt({},eet)],t.prototype,"lineStyle",void 0),w([ff([{}],set)],t.prototype,"ranges",void 0),w([ff([{}],yet)],t.prototype,"pointers",void 0),w([ff([{}],vet)],t.prototype,"annotations",void 0),w([nt({width:2,height:10},bk)],t.prototype,"majorTicks",void 0),w([nt({width:2,height:5},bk)],t.prototype,"minorTicks",void 0),w([i(200)],t.prototype,"startAngle",void 0),w([i(160)],t.prototype,"endAngle",void 0),w([i("ClockWise")],t.prototype,"direction",void 0),w([i(null)],t.prototype,"background",void 0),w([nt({},oet)],t.prototype,"labelStyle",void 0),t}(it),vti="loaded",yti="load",wet="animationComplete",bet="axisLabelRender",ket="tooltipRender",det="annotationRender",get="gaugeMouseMove",not="gaugeMouseLeave",tot="gaugeMouseDown",iot="gaugeMouseUp",rot="dragStart",uot="dragMove",fot="dragEnd",eot="resized",kk=function(){function n(n){this.gauge=n;this.elementId=n.element.id}return n.prototype.renderAnnotation=function(n,t){var u=this,i=ct("div",{id:this.elementId+"_Annotations_"+t}),r=cs(this.elementId+"_Secondary_Element");n.annotations.map(function(n,r){n.content!==null&&u.createTemplate(i,r,t)});r&&i.childElementCount&&r.appendChild(i)},n.prototype.createTemplate=function(n,t,i){var u=this.gauge.axes[i],r=u.annotations[t],e=ct("div",{id:this.elementId+"_Axis_"+i+"_Annotation_"+t,styles:"position: absolute; z-index:"+r.zIndex+";transform:"+(r.autoAngle?"rotate("+(r.angle-90)+"deg)":"rotate(0deg)")+";"}),f={cancel:!1,name:det,content:r.content,axis:u,annotation:r,textStyle:r.textStyle},o,s;if(this.gauge.trigger(det,f),!f.cancel){if(o=tet(f.content),o&&o(u).length)for(s=o(u);s.length>0;)e.appendChild(s[0]);else e.appendChild(ct("div",{innerHTML:f.content,styles:ck(f.textStyle)}));this.updateLocation(e,u,r);n.appendChild(e)}},n.prototype.updateLocation=function(n,t,i){var r=ti(i.angle-90,gf(i.radius,t.currentRadius),this.gauge.midPoint),u=yft(n);n.style.left=r.x-u.width/2+"px";n.style.top=r.y-u.height/2+"px";n.setAttribute("aria-label",i.description||"Annotation")},n.prototype.getModuleName=function(){return"Annotations"},n.prototype.destroy=function(){},n}();dk=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();var ry=function(){function n(n,t){this.width=n;this.height=t}return n}(),gk=function(){function n(n,t,i,r){this.x=n;this.y=t;this.width=i;this.height=r}return n}(),bti=function(){function n(n,t){this.isRight=t;this.isBottom=n}return n}(),oot=function(){function n(n){this.id=n}return n}(),kti=function(n){function t(t,i,r,u,f,e,o){e===void 0&&(e="");var s=n.call(this,t)||this;return s.transform="",s.baseLine="auto",s.x=i,s.y=r,s.anchor=u,s.text=f,s.transform=e,s.baseLine=o,s}return dk(t,n),t}(oot);sot=function(n){function t(t,i,r,u,f,e,o){var s=n.call(this,t)||this;return s.opacity=f,s.fill=i,s.stroke=u,s["stroke-width"]=r,s["stroke-dasharray"]=e,s.d=o,s}return dk(t,n),t}(oot);var be=function(){function n(n,t){this.x=n;this.y=t}return n}(),fl=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ut=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},tii=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return fl(t,n),ut([i(null)],t.prototype,"size",void 0),ut([i("")],t.prototype,"color",void 0),ut([i("Segoe UI")],t.prototype,"fontFamily",void 0),ut([i("Normal")],t.prototype,"fontWeight",void 0),ut([i("Normal")],t.prototype,"fontStyle",void 0),ut([i(1)],t.prototype,"opacity",void 0),t}(it),iii=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return fl(t,n),ut([i("")],t.prototype,"color",void 0),ut([i(1)],t.prototype,"width",void 0),t}(it),rii=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return fl(t,n),ut([i(0)],t.prototype,"x",void 0),ut([i(0)],t.prototype,"y",void 0),ut([i(0)],t.prototype,"width",void 0),ut([i(0)],t.prototype,"height",void 0),t}(it),hot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return fl(t,n),ut([i(0)],t.prototype,"x",void 0),ut([i(0)],t.prototype,"y",void 0),t}(it),nd=function(n){function t(t,i){return n.call(this,t,i)||this}return fl(t,n),t.prototype.preRender=function(){this.initPrivateVariable();this.removeSVG();this.createTooltipElement()},t.prototype.initPrivateVariable=function(){this.renderer=new ge(this.element.id);this.themeStyle=pti(this.theme);this.formattedText=[];this.padding=5;this.isFirst=!0;this.markerPoint=[]},t.prototype.removeSVG=function(){var n=document.getElementById(this.element.id+"_svg"),t=document.getElementById(this.element.id+"parent_template");n&&n.parentNode&&lt(n);t&&t.parentNode&&lt(t)},t.prototype.render=function(){var i,t,n;this.fadeOuted=!1;this.template?(this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location)):(this.renderText(this.isFirst),i={cancel:!1,name:"tooltipRender",tooltip:this},this.trigger("tooltipRender",i),t=this.renderTooltipElement(this.areaBounds,this.location),this.drawMarker(t.isBottom,t.isRight,this.markerSize));this.trigger("loaded",{tooltip:this});n=document.getElementById("chartmeasuretext");n&&(typeof n.remove=="function"?n.remove():n.parentNode.removeChild(n))},t.prototype.createTooltipElement=function(){var n,t,i;this.textElements=[];(!this.template||this.shared)&&(n=this.renderer.createSvg({id:this.element.id+"_svg"}),this.element.appendChild(n),t=this.renderer.createGroup({id:this.element.id+"_group"}),n.appendChild(t),i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:this.opacity,stroke:this.border.color}),t.appendChild(i))},t.prototype.drawMarker=function(n,t,i){var u,f,s;if(this.shapes.length<=0)return null;var e,r=0,o=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),h=we(this.element.id+"_group"),c=this.marginX*2+i/2+(t?this.arrowPadding:0);for(u=0,f=this.shapes;u<f.length;u++)s=f[u],e=new sot(this.element.id+"_Trackball_"+r,this.palette[r],1,"#cccccc",1,null),o.appendChild(dti(new be(c,this.markerPoint[r]-this.padding+(n?this.arrowPadding:0)),s,new ry(i,i),"",e,null)),r++;h.appendChild(o)},t.prototype.renderTooltipElement=function(n,t){var w=we(this.element.id),b=new be(0,0),c=new be(0,0),l=we(this.element.id+"_svg"),a=we(this.element.id+"_group"),v=we(this.element.id+"_path"),i,r=!1,f=!1,u=!1,y=0,p=0,e,d,s,h;if(this.tipRadius=1,this.header!==""&&(this.elementSize.height+=this.marginY),this.content.length>1?(i=this.sharedTooltipLocation(n,this.location.x,this.location.y),r=!0):(i=this.tooltipLocation(n,t,b,c),this.inverted?(f=i.x<t.x+this.clipBounds.x,y=f?0:this.arrowPadding):(r=i.y<t.y+this.clipBounds.y,u=!r,p=r?0:this.arrowPadding)),this.header!==""){var k=iy(this.header,this.textStyle).height+this.marginY*2+(u?this.arrowPadding:0),g=this.marginX*3+(!f&&!r&&!u?this.arrowPadding:0),nt="M "+g+" "+k+"L "+(i.width+(!f&&!r&&!u?this.arrowPadding:0)-this.marginX*2)+" "+k,tt=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:nt});a.appendChild(tt)}return e=this.border.width/2,d=new gk(e+y,e+p,i.width-e,i.height-e),a.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(w,i.x,i.y):this.animateTooltipDiv(w,i),l.setAttribute("height",(i.height+this.border.width+(!this.inverted?this.arrowPadding:0)).toString()),l.setAttribute("width",(i.width+this.border.width+(this.inverted?this.arrowPadding:0)).toString()),l.setAttribute("opacity","1"),v.setAttribute("d",wti(this.rx,this.ry,d,b,this.arrowPadding,r,u,f,c.x,c.y,this.tipRadius)),this.enableShadow&&(v.setAttribute("filter",o.isIE?"":"url(#chart_shadow_tooltip)"),s='<filter id="chart_shadow_tooltip" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>',s+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',s+='<\/feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/><\/feMerge><\/filter>',h=this.renderer.createDefs(),h.setAttribute("id","SVG_tooltip_definition"),a.appendChild(h),h.innerHTML=s),v.setAttribute("stroke",this.border.color),this.changeText(new be(y,p),u,!f&&!r&&!u,i),new bti(u,!f&&!r&&!u)},t.prototype.changeText=function(n,t,i){var r=document.getElementById(this.element.id+"_text");t&&r.setAttribute("transform","translate(0,"+this.arrowPadding+")");i&&r.setAttribute("transform","translate("+this.arrowPadding+" 0)")},t.prototype.findFormattedText=function(){this.formattedText=[];this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""&&(this.formattedText=this.formattedText.concat(this.header));this.formattedText=this.formattedText.concat(this.content)},t.prototype.renderText=function(n){var a=0,s=0,e=0,ht,v,t=b({},this.textStyle,null,!0)["properties"],ct=we(this.element.id+"_group"),i,h="",r,y,d,g,f,ft,nt,c,et,l,ot,tt,st;this.findFormattedText();var u=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),it=u!==""?this.marginY:0,p=!0,o=!0;this.markerPoint=[];var w=this.shapes.length>0?10:0,k=this.shapes.length>0?5:0,rt=4,ut=22/parseFloat("13px")*parseFloat(t.size);for(n||(uy(this.element.id+"_text"),uy(this.element.id+"_header_path"),uy(this.element.id+"_trackball_group"),uy("SVG_tooltip_definition")),d=new kti(this.element.id+"_text",this.marginX*2,this.marginY*2+this.padding*2+(this.marginY===2?3:0),"start",""),g=nii(d,t,null,ct),f=0,ft=this.formattedText.length;f<ft;f++)for(nt=this.formattedText[f].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"<\/b>").split(/<br.*?>/g),ht=iy(this.formattedText[f],t),(f!==0||u==="")&&this.markerPoint.push((u!==""?this.marginY:0)+d.y+a),c=0,et=nt.length;c<et;c++){for(v=nt[c].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"<\/b><br>").split("<br>"),e=0,o=!0,a+=ut,l=0,ot=v.length;l<ot;l++)r=v[l],r.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""&&(e+=rt,o&&!p?(y={x:this.marginX*2+(w+k),dy:ut+(o?it:0),fill:""},it=null):y=p&&o?{x:u===""?this.marginX*2+(w+k):this.marginX*2}:{},o=!1,i=this.renderer.createTSpan(y,""),g.appendChild(i),r.indexOf("<b>")>-1?(h="font-weight:bold",t.fontWeight="bold",i.setAttribute("fill",this.textStyle.color||this.themeStyle.tooltipBoldLabel)):(h="",t.fontWeight="Normal",i.setAttribute("fill",this.textStyle.color||this.themeStyle.tooltipLightLabel)),i.textContent=r=r.replace(/<[a-zA-Z\/](.|\n)*?>/g,""),e+=iy(r,t).width,h!==""&&i.setAttribute("style",h),p=!1);e-=rt;s=Math.max(s,e)}this.elementSize=new ry(s+(s>0?2*this.marginX:0),a);this.elementSize.width+=w+k;tt=g.childNodes[0];u!==""&&tt&&(t.fontWeight="bold",st=(this.elementSize.width+2*this.padding)/2-iy(u,t).width/2,tt.setAttribute("x",st.toString()))},t.prototype.createTemplate=function(n,t){var s={cancel:!1,name:"tooltipRender",tooltip:this},f,i,r,e,o,u;if(this.trigger("tooltipRender",s),f=document.getElementById(this.element.id),i=f.firstElementChild,i&&(typeof i.remove=="function"?i.remove():i.parentNode.removeChild(i)),s.cancel)we(this.element.id+"_tooltip").remove();else{for(r=this.templateFn(this.data),e=ct("div",{id:this.element.id+"parent_template"});r&&r.length>0;)e.appendChild(r[0]);f.appendChild(e);o=this.element.getBoundingClientRect();this.padding=0;this.elementSize=new ry(o.width,o.height);u=this.tooltipLocation(n,t,new be(0,0),new be(0,0));!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(this.element,u.x,u.y):this.animateTooltipDiv(this.element,u)}},t.prototype.sharedTooltipLocation=function(n,t,i){var f=this.elementSize.width+2*this.marginX,u=this.elementSize.height+2*this.marginY,r=new gk(t+2*this.padding,i-u-this.padding,f,u);return r.y<n.y&&(r.y+=r.height+2*this.padding),r.x+r.width>n.x+n.width&&(r.x-=r.width+4*this.padding),r},t.prototype.tooltipLocation=function(n,t,i,r){var u=new be(t.x,t.y),f=this.elementSize.width+2*this.marginX,e=this.elementSize.height+2*this.marginY,h=this.offset,c=this.clipBounds.x,l=this.clipBounds.y,o=n.x,s=n.y;return this.inverted?(u=new be(u.x+c+h,u.y+l-this.elementSize.height/2-this.padding),i.y=r.y=e/2,(u.x+f+this.arrowPadding>o+n.width||this.isNegative)&&(u.x=(t.x>n.width?n.width:t.x)+c-h-(f+this.arrowPadding)),u.x<o&&(u.x=(t.x<0?0:t.x)+c+h),u.y<=s&&(i.y-=s-u.y,r.y-=s-u.y,u.y=s),u.y+e>=s+n.height&&(i.y+=u.y+e-(s+n.height),r.y+=u.y+e-(s+n.height),u.y-=u.y+e-(s+n.height)),i.y+this.arrowPadding/2>e-this.ry&&(i.y=e-this.ry-this.arrowPadding/2,r.y=e,this.tipRadius=0),i.y-this.arrowPadding/2<this.ry&&(i.y=this.ry+this.arrowPadding/2,r.y=0,this.tipRadius=0)):(u=new be(u.x+c-this.elementSize.width/2-this.padding,u.y+l-this.elementSize.height-2*this.padding-this.arrowPadding-h),i.x=r.x=f/2,(u.y<s||this.isNegative)&&(u.y=(t.y<0?0:t.y)+l+h),u.y+e+this.arrowPadding>s+n.height&&(u.y=(t.y>n.height?n.height:t.y)+l-this.elementSize.height-2*this.padding-this.arrowPadding-h),r.x=f/2,u.x<o&&(i.x-=o-u.x,r.x-=o-u.x,u.x=o),u.x+f>o+n.width&&(i.x+=u.x+f-(o+n.width),r.x+=u.x+f-(o+n.width),u.x-=u.x+f-(o+n.width)),i.x+this.arrowPadding/2>f-this.rx&&(i.x=f-this.rx-this.arrowPadding/2,r.x=f,this.tipRadius=0),i.x-this.arrowPadding/2<this.rx&&(i.x=this.rx+this.arrowPadding/2,r.x=0,this.tipRadius=0)),new gk(u.x,u.y,f,e)},t.prototype.animateTooltipDiv=function(n,t){var i=this,u=parseFloat(n.style.left),f=parseFloat(n.style.top),r;new di({}).animate(n,{duration:300,progress:function(i){r=i.timeStamp/i.duration;n.style.animation=null;n.style.left=u+r*(t.x-u)+"px";n.style.top=f+r*(t.y-f)+"px"},end:function(){i.updateDiv(n,t.x,t.y);i.trigger("animationComplete",{tooltip:i})}})},t.prototype.updateDiv=function(n,t,i){n.style.left=t+"px";n.style.top=i+"px"},t.prototype.updateTemplateFn=function(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=cu(document.querySelector(this.template).innerHTML.trim()))}catch(n){this.templateFn=cu(this.template)}},t.prototype.fadeOut=function(){var t=this,i=we(this.element.id),n,r;i&&(n=i.firstChild,r=parseFloat(n.getAttribute("opacity"))||1,new di({}).animate(n,{duration:200,progress:function(i){t.progressAnimation(n,r,i.timeStamp/i.duration)},end:function(){t.fadeOuted=!0;t.endAnimation(n)}}))},t.prototype.progressAnimation=function(n,t,i){n.style.animation="";n.setAttribute("opacity",(t-i).toString())},t.prototype.endAnimation=function(n){n.setAttribute("opacity","0");this.template&&!this.shared&&(n.style.display="none");this.trigger("animationComplete",{tooltip:this})},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.destroy=function(){n.prototype.destroy.call(this);this.element.classList.remove("e-tooltip")},t.prototype.onPropertyChanged=function(){this.isFirst=!1;this.render()},ut([i(!1)],t.prototype,"enable",void 0),ut([i(!1)],t.prototype,"shared",void 0),ut([i(!0)],t.prototype,"enableShadow",void 0),ut([i(null)],t.prototype,"fill",void 0),ut([i("")],t.prototype,"header",void 0),ut([i(.75)],t.prototype,"opacity",void 0),ut([nt({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},tii)],t.prototype,"textStyle",void 0),ut([i(null)],t.prototype,"template",void 0),ut([i(!0)],t.prototype,"enableAnimation",void 0),ut([i(!1)],t.prototype,"inverted",void 0),ut([i(!1)],t.prototype,"isNegative",void 0),ut([nt({color:"#cccccc",width:.5},iii)],t.prototype,"border",void 0),ut([i([])],t.prototype,"content",void 0),ut([i(10)],t.prototype,"markerSize",void 0),ut([nt({x:0,y:0},hot)],t.prototype,"clipBounds",void 0),ut([i([])],t.prototype,"palette",void 0),ut([i([])],t.prototype,"shapes",void 0),ut([nt({x:0,y:0},hot)],t.prototype,"location",void 0),ut([i(0)],t.prototype,"offset",void 0),ut([i(2)],t.prototype,"rx",void 0),ut([i(2)],t.prototype,"ry",void 0),ut([i(5)],t.prototype,"marginX",void 0),ut([i(5)],t.prototype,"marginY",void 0),ut([i(12)],t.prototype,"arrowPadding",void 0),ut([i(null)],t.prototype,"data",void 0),ut([i("Material")],t.prototype,"theme",void 0),ut([nt({x:0,y:0,width:0,height:0},rii)],t.prototype,"areaBounds",void 0),ut([f()],t.prototype,"tooltipRender",void 0),ut([f()],t.prototype,"loaded",void 0),ut([f()],t.prototype,"animationComplete",void 0),ut([vt],t)}(vi),td=function(){function n(n){this.gauge=n;this.tooltipId=this.gauge.element.id+"_CircularGauge_Tooltip";this.tooltip=n.tooltip;this.textStyle=this.tooltip.textStyle;this.borderStyle=this.tooltip.border;this.addEventListener()}return n.prototype.renderTooltip=function(n){var f,h,o,s,t,r;if(n.type.indexOf("touch")!==-1?(this.isTouch=!0,h=n,f=h.target):(this.isTouch=n.pointerType==="touch",f=n.target),f.id.indexOf("_Pointer_")>=0){o=vk(f.id,this.gauge);this.currentAxis=this.gauge.axes[o.axisIndex];this.currentPointer=this.currentAxis.pointers[o.pointerIndex];var i=tu(this.currentPointer.currentValue,this.currentAxis.visibleRange.max,this.currentAxis.visibleRange.min,this.currentAxis.startAngle,this.currentAxis.endAngle,this.currentAxis.direction==="ClockWise")%360,u=ti(i,this.currentAxis.currentRadius,this.gauge.midPoint),e=this.gauge.tooltip.format||this.currentAxis.labelStyle.format,l=e&&e.match("{value}")!==null,c=this.gauge.intl.getNumberFormat({format:yk(e),useGrouping:this.gauge.useGroupingSeparator});document.getElementById(this.tooltipId)?this.tooltipEle=document.getElementById(this.tooltipId):(this.tooltipEle=ct("div",{id:this.tooltipId,className:"EJ2-CircularGauge-Tooltip",styles:"position: absolute;pointer-events:none;"}),document.getElementById(this.gauge.element.id+"_Secondary_Element").appendChild(this.tooltipEle));s=l?e.replace(new RegExp("{value}","g"),c(this.currentPointer.currentValue)):c(this.currentPointer.currentValue);u.x=this.tooltip.template&&(i>=150&&i<=250||i>=330&&i<=360||i>=0&&i<=45)?u.x+10:u.x;this.findPosition(i,s,u);t={name:ket,cancel:!1,content:s,location:u,axis:this.currentAxis,tooltip:this.tooltip,pointer:this.currentPointer,event:n,gauge:this.gauge};this.gauge.trigger(ket,t);r=t.tooltip.template;r!==null&&Object.keys(r).length===1&&(r=r[Object.keys(r)[0]]);t.cancel?this.removeTooltip():(t.tooltip.properties.textStyle.color=this.gauge.theme==="Highcontrast"?"#00000":"#FFFFFF",this.svgTooltip=new nd({enable:!0,header:"",data:{value:t.content},template:r,enableAnimation:t.tooltip.enableAnimation,content:[t.content],shapes:[],location:t.location,palette:[],inverted:this.arrowInverted,areaBounds:this.tooltipRect,fill:this.gauge.theme==="Highcontrast"?"#FFFFFF":t.tooltip.fill,textStyle:t.tooltip.textStyle,border:t.tooltip.border,theme:this.gauge.theme}),this.svgTooltip.appendTo(this.tooltipEle))}else this.removeTooltip()},n.prototype.findPosition=function(n,t,i){var u=this.gauge.svgObject.getBoundingClientRect(),s=this.gauge.element.getBoundingClientRect(),e,o,f,h,r=new bu(Math.abs(s.left-u.left),Math.abs(s.top-u.top),u.width,u.height);switch(!0){case n>=0&&n<45:this.arrowInverted=!0;e=n>=15&&n<=30?i.y:0;this.tooltipRect=new bu(r.x,r.y+o,r.width,r.height);this.tooltipPosition="RightBottom";break;case n>=45&&n<90:this.arrowInverted=!1;this.tooltipRect=new bu(r.x,r.y+i.y,r.width,r.height);this.tooltipPosition="BottomRight";break;case n>=90&&n<135:this.arrowInverted=!1;this.tooltipRect=new bu(r.x,r.y+i.y,r.width,r.height);this.tooltipPosition="BottomLeft";break;case n>=135&&n<180:this.arrowInverted=!0;o=n>=150&&n<=160?i.y:0;this.tooltipRect=new bu(r.x-r.width,r.y+o,r.width,r.height);this.tooltipPosition="LeftBottom";break;case n>=180&&n<225:this.arrowInverted=!0;f=n>=200&&n<=225?Math.abs(r.y-i.y):r.height;this.tooltipRect=new bu(r.x-r.width,r.y,r.width,f);this.tooltipPosition="LeftTop";break;case n>=225&&n<270:this.arrowInverted=!1;h=n>=250&&n<=290?r.width:Math.abs(r.x-i.x);this.tooltipRect=new bu(r.x,r.y,h,r.height);this.tooltipPosition="TopLeft";break;case n>=270&&n<315:this.arrowInverted=!1;e=n>=270&&n>290?i.x:0;this.tooltipRect=new bu(r.x+e,r.y,r.width,r.height);this.tooltipPosition="TopRight";break;case n>=315&&n<=360:this.arrowInverted=!0;f=n>=315&&n<=340?Math.abs(r.y-i.y):r.height;this.tooltipRect=new bu(r.x,r.y,r.width,f);this.tooltipPosition="RightTop"}},n.prototype.removeTooltip=function(){document.getElementsByClassName("EJ2-CircularGauge-Tooltip").length>0&&document.getElementsByClassName("EJ2-CircularGauge-Tooltip")[0].remove()},n.prototype.mouseUpHandler=function(n){this.renderTooltip(n);clearTimeout(this.clearTimeout);this.clearTimeout=setTimeout(this.removeTooltip.bind(this),2e3)},n.prototype.addEventListener=function(){if(!this.gauge.isDestroyed){this.gauge.on(o.touchMoveEvent,this.renderTooltip,this);this.gauge.on(o.touchEndEvent,this.mouseUpHandler,this)}},n.prototype.removeEventListener=function(){this.gauge.isDestroyed||(this.gauge.off(o.touchMoveEvent,this.renderTooltip),this.gauge.off(o.touchEndEvent,this.mouseUpHandler))},n.prototype.getModuleName=function(){return"Tooltip"},n.prototype.destroy=function(){this.removeEventListener()},n}(),uii=function(){function n(n){this.gauge=n}return n.prototype.drawAxisOuterLine=function(n,t,i,r){var u=n.background;this.setRangeColor(n);u!==null&&pu(new wu(r.element.id+"_AxisOuterLine_"+t,u,0,"transparent",null,"0",il(r.midPoint,0,360,Math.min(n.rect.width,n.rect.height)/2),"","pointer-events:none;"),i,r)},n.prototype.drawAxisLine=function(n,t,i,r){var u=n.startAngle,f=n.endAngle;n.lineStyle.width>0&&(u=hs(u,f)?[0,f=360][0]:u,pu(new wu(r.element.id+"_AxisLine_"+t,"transparent",n.lineStyle.width,n.lineStyle.color,null,n.lineStyle.dashArray,il(r.midPoint,u-90,f-90,n.currentRadius),"","pointer-events:none;"),i,r))},n.prototype.drawAxisLabels=function(n,t,i,r){var l=r.renderer.createGroup({id:r.element.id+"_Axis_Labels_"+t}),p=n.visibleRange.min,w=n.visibleRange.max,a=n.visibleLabels,e,u=n.labelStyle,v,s,o,h=n.currentRadius,y=10,f,c;for(u.position==="Outside"?h+=n.nearSize-(n.maxLabelSize.height+n.lineStyle.width/2)+y/2:h-=n.farSize-(n.maxLabelSize.height+n.lineStyle.width/2)+(u.autoAngle?y:0),f=0,c=a.length;f<c;f++)(f!==0||u.hiddenLabel!=="First")&&(f!==c-1||u.hiddenLabel!=="Last")&&(o=a[f],s=Math.round(tu(o.value,w,p,n.startAngle,n.endAngle,n.direction==="ClockWise")),e=ti(s,h,r.midPoint),v=this.findAnchor(e,u,s,o),lk(new wk(r.element.id+"_Axis_"+t+"_Label_"+f,e.x,e.y,v,o.text,u.autoAngle?"rotate("+(s+90)+","+e.x+","+e.y+")":"","auto"),u.font,u.useRangeColor?gv(o.value,n.ranges,u.font.color):u.font.color,l,"pointer-events:none;"));i.appendChild(l)},n.prototype.findAnchor=function(n,t,i,r){if(t.autoAngle)return"middle";var u=t.position==="Inside"?i>120&&i<240?"start":300<i||i<60?"end":"middle":i>120&&i<240?"end":300<i||i<60?"start":"middle";return n.y+=t.position==="Inside"?i>=240&&i<=300?r.size.height/2:i>=60&&i<=120?0:r.size.height/4:i>=240&&i<=300?0:i>=60&&i<=120?r.size.height/2:r.size.height/4,u},n.prototype.drawMinorTickLines=function(n,t,i,r){var e=r.renderer.createGroup({id:r.element.id+"_Axis_MinorTickLines_"+t}),u=n.minorTicks,o=u.interval!==null?u.interval:n.visibleRange.interval/2,h=u.useRangeColor,f,s;if(u.width&&u.height&&o){for(f=n.visibleRange.min,s=n.visibleRange.max;f<=s;f+=o)this.majorValues.indexOf(+f.toFixed(3))<0&&pu(new wu(r.element.id+"_Axis_Minor_TickLine_"+t+"_"+f,"transparent",u.width,h?gv(f,n.ranges,u.color):u.color,null,"0",this.calculateTicks(f,u,n),"","pointer-events:none;"),e,r);i.appendChild(e)}},n.prototype.drawMajorTickLines=function(n,t,i,r){var e=r.renderer.createGroup({id:r.element.id+"_Axis_MajorTickLines_"+t}),u=n.majorTicks,o=u.useRangeColor;if(this.majorValues=[],u.width&&u.height&&n.visibleRange.interval){for(var f=n.visibleRange.min,s=n.visibleRange.max,h=n.visibleRange.interval;f<=s;f+=h)this.majorValues.push(+f.toFixed(3)),pu(new wu(r.element.id+"_Axis_Major_TickLine_"+t+"_"+f,"transparent",u.width,o?gv(f,n.ranges,u.color):u.color,null,"0",this.calculateTicks(f,u,n),"","pointer-events:none;"),e,r);i.appendChild(e)}},n.prototype.calculateTicks=function(n,t,i){var r=i.lineStyle.width/2+t.offset,u=t.position==="Outside",f=tu(n,i.visibleRange.max,i.visibleRange.min,i.startAngle,i.endAngle,i.direction==="ClockWise"),e=ti(f,i.currentRadius+(u?r:-r),this.gauge.midPoint),o=ti(f,i.currentRadius+(u?r:-r)+(u?t.height:-t.height),this.gauge.midPoint);return"M "+e.x+" "+e.y+" L "+o.x+" "+o.y+" "},n.prototype.drawAxisRange=function(n,t,i,r){var k=this,h=r.renderer.createGroup({id:r.element.id+"_Axis_Ranges_"+t}),o,e,s=n.direction==="ClockWise",c,l,a=n.visibleRange.min,v=n.visibleRange.max,f,u,y,p,w,b;n.ranges.map(function(i,d){k.calculateRangeRadius(n,i);c=Math.min(Math.max(i.start,a),i.end);l=Math.min(Math.max(i.start,i.end),v);c!==l&&(o=tu(c,v,a,n.startAngle,n.endAngle,s),e=tu(l,v,a,n.startAngle,n.endAngle,s),f=i.startWidth.length>0?tl(i.startWidth,i.currentRadius):i.startWidth,u=i.endWidth.length>0?tl(i.endWidth,i.currentRadius):i.endWidth,e=s?e:[o,o=e][0],u=s?u:[f,f=u][0],w=((i.currentRadius-f/2)*(o*Math.PI/180)-i.roundedCornerRadius/4)/(i.currentRadius-f/2)*180/Math.PI,b=((i.currentRadius-u/2)*(e*Math.PI/180)+i.roundedCornerRadius/4)/(i.currentRadius-u/2)*180/Math.PI,y=(i.currentRadius*(o*Math.PI/180)+i.roundedCornerRadius)/i.currentRadius*180/Math.PI,p=(i.currentRadius*(e*Math.PI/180)-i.roundedCornerRadius)/i.currentRadius*180/Math.PI,i.roundedCornerRadius?pu(new wu(r.element.id+"_Axis_"+t+"_Range_"+d,i.rangeColor,0,i.rangeColor,1,"0",ak(r.midPoint,Math.floor(y),Math.ceil(p),Math.floor(w),Math.ceil(b),i.currentRadius,f,u),"","pointer-events:none;"),h,r):pu(new wu(r.element.id+"_Axis_"+t+"_Range_"+d,i.rangeColor,0,i.rangeColor,1,"0",il(r.midPoint,Math.floor(o),Math.ceil(e),i.currentRadius,f,u),"","pointer-events:none;"),h,r))});i.appendChild(h)},n.prototype.calculateRangeRadius=function(n,t){var i=t.radius!==null?t.radius:"100%";t.currentRadius=gf(i,n.currentRadius)},n.prototype.setRangeColor=function(n){var t=ati(this.gauge.theme);n.ranges.map(function(n,i){n.rangeColor=n.color?n.color:t[i%t.length]})},n}(),fii=function(){function n(n){this.gauge=n}return n.prototype.drawPointers=function(n,t,i,r,u){var f=this,e,o,s;u===void 0&&(u=!0);e=r.renderer.createGroup({id:r.element.id+"_Axis_Pointers_"+t});n.pointers.map(function(i,h){s=n.visibleRange;i.pathElement=[];f.calculatePointerRadius(n,i);o=r.renderer.createGroup({id:r.element.id+"_Axis_"+t+"_Pointer_"+h});f["draw"+i.type+"Pointer"](n,t,h,o,r);f.setPointerValue(n,i,i.currentValue);e.appendChild(o);u&&f.doPointerAnimation(i,n)});i.appendChild(e)},n.prototype.calculatePointerRadius=function(n,t){t.currentRadius=t.radius===null?n.currentRadius-(n.farSize+5):gf(t.radius,n.currentRadius)},n.prototype.drawNeedlePointer=function(n,t,i,r,u){var e=n.pointers[i],c,s,h,f=u.midPoint,o=e.pointerWidth/2,l;s=ti(0,e.currentRadius,f);h="M "+f.x+" "+(f.y-o)+" L "+s.x+" "+f.y+" L "+f.x+" "+(f.y+o)+" Z";e.pathElement.push(pu(new wu(u.element.id+"_Axis_"+t+"_Pointer_Needle_"+i,e.color,e.border.width,e.border.color,null,"0",h),r,u));c=gf(e.needleTail.length,e.currentRadius);l="M "+f.x+" "+(f.y-o)+" L "+s.x+" "+(f.y-o)+" L "+s.x+" "+(f.y+o)+" L "+f.x+" "+(f.y+o);c&&(s=ti(180,c,u.midPoint),h="M "+f.x+" "+(f.y-o)+" L "+s.x+" "+(f.y-o)+" L "+s.x+" "+(f.y+o)+" L "+f.x+" "+(f.y+o)+" Z",e.pathElement.push(pu(new wu(u.element.id+"_Axis_"+t+"_Pointer_NeedleTail_"+i,e.needleTail.color,e.needleTail.border.width,e.needleTail.border.color,null,"0",h),r,u)),l+=" L "+s.x+" "+(f.y+o)+" L "+s.x+" "+(f.y-o));e.cap.radius&&e.pathElement.push(pu(pk(f,"Circle",new lo(e.cap.radius*2,e.cap.radius*2),"",new wu(u.element.id+"_Axis_"+t+"_Pointer_NeedleCap_"+i,e.cap.color,e.cap.border.width,e.cap.border.color,null,"0","","")),r,u,"Ellipse"));e.pathElement.push(pu(new wu(u.element.id+"_Axis_"+t+"_Pointer_NeedleRect_"+i,"transparent",0,"transpanret",null,"0",l+" Z"),r,u))},n.prototype.setPointerValue=function(n,t,i){var f=this.gauge.midPoint,e=n.direction==="ClockWise",u=tu(n.visibleRange.min,n.visibleRange.max,n.visibleRange.min,n.startAngle,n.endAngle,e),r=tu(i,n.visibleRange.max,n.visibleRange.min,n.startAngle,n.endAngle,e),o,s,h,c;r=e?r:[u,u=r][0];h=((t.currentRadius-t.pointerWidth/2)*(u*Math.PI/180)-t.roundedCornerRadius/4)/(t.currentRadius-t.pointerWidth/2)*180/Math.PI;c=((t.currentRadius-t.pointerWidth/2)*(r*Math.PI/180)+t.roundedCornerRadius/4)/(t.currentRadius-t.pointerWidth/2)*180/Math.PI;o=(t.currentRadius*(u*Math.PI/180)+t.roundedCornerRadius)/t.currentRadius*180/Math.PI;s=(t.currentRadius*(r*Math.PI/180)-t.roundedCornerRadius)/t.currentRadius*180/Math.PI;t.pathElement.map(function(l){t.type==="RangeBar"?t.roundedCornerRadius?l.setAttribute("d",ak(f,o,s,h,c,t.currentRadius,t.pointerWidth,t.pointerWidth)):l.setAttribute("d",kv(f,u,r,t.currentRadius,t.currentRadius-t.pointerWidth)):l.setAttribute("transform","rotate("+tu(i,n.visibleRange.max,n.visibleRange.min,n.startAngle,n.endAngle,e)+","+f.x+","+f.y+")");l.setAttribute("aria-label",t.description||"Pointer:"+i.toString())})},n.prototype.drawMarkerPointer=function(n,t,i,r,u){var f=n.pointers[i],e=ti(0,f.currentRadius,u.midPoint);f.pathElement.push(pu(pk(e,f.markerShape,new lo(f.markerWidth,f.markerHeight),f.imageUrl,new wu(u.element.id+"_Axis_"+t+"_Pointer_Marker_"+i,f.color,f.border.width,f.border.color,null,"0","","")),r,u,f.markerShape==="Circle"?"Ellipse":f.markerShape==="Image"?"Image":"Path"))},n.prototype.drawRangeBarPointer=function(n,t,i,r,u){var f=n.pointers[i];f.pathElement.push(pu(new wu(u.element.id+"_Axis_"+t+"_Pointer_RangeBar_"+i,f.color,f.border.width,f.border.color,1,"0",""),r,u))},n.prototype.doPointerAnimation=function(n,t){var u=this,i=t.visibleRange.min,r=n.currentValue;n.animation.enable&&i!==r&&this.gauge.animatePointer&&n.pathElement.map(function(f){n.type==="RangeBar"?u.performRangeBarAnimation(f,i,r,t,n,n.currentRadius,n.currentRadius-n.pointerWidth):u.performNeedleAnimation(f,i,r,t,n,n.currentRadius,n.currentRadius-n.pointerWidth)})},n.prototype.performNeedleAnimation=function(n,t,i,r,u){var o=this,s=r.direction==="ClockWise",f=tu(t,r.visibleRange.max,r.visibleRange.min,r.startAngle,r.endAngle,s),h=tu(i,r.visibleRange.max,r.visibleRange.min,r.startAngle,r.endAngle,s),e=f>h?h+360:h,c;new di({}).animate(n,{duration:u.animation.duration,progress:function(r){c=t<i||Math.round(f)===Math.round(e)?s?e-f:e-f-360:s?e-f-360:e-f;n.style.animation="None";n.setAttribute("transform","rotate("+bv(r.timeStamp,f,c,r.duration)+","+o.gauge.midPoint.x.toString()+","+o.gauge.midPoint.y.toString()+")")},end:function(){o.setPointerValue(r,u,i);(u.type==="Marker"||n.id.indexOf("_Pointer_NeedleCap")>=0)&&o.gauge.trigger(wet,{axis:r,pointer:u})}})},n.prototype.performRangeBarAnimation=function(n,t,i,r,u,f,e){var c=this,s=r.direction==="ClockWise",o=tu(t,r.visibleRange.max,r.visibleRange.min,r.startAngle,r.endAngle,s),v=tu(r.visibleRange.min,r.visibleRange.max,r.visibleRange.min,r.startAngle,r.endAngle,s),l=tu(i,r.visibleRange.max,r.visibleRange.min,r.startAngle,r.endAngle,s),a,h=o>l?l+360:l;new di({}).animate(n,{duration:u.animation.duration,progress:function(r){n.style.animation="None";a=t<i||Math.round(o)===Math.round(h)?s?h-o:h-o-360:s?h-o-360:h-o;s?n.setAttribute("d",kv(c.gauge.midPoint,v,bv(r.timeStamp,o,a,r.duration)+.0001,f,e)):n.setAttribute("d",kv(c.gauge.midPoint,bv(r.timeStamp,o,a,r.duration),v+.0001,f,e))},end:function(){c.setPointerValue(r,u,i);c.gauge.trigger(wet,{axis:r,pointer:u})}})},n}(),cot=10,eii=function(){function n(n){this.gauge=n;this.axisRenderer=new uii(n);this.pointerRenderer=new fii(n)}return n.prototype.measureAxis=function(n){this.measureAxisSize(this.gauge,n);this.calculateAxesRadius()},n.prototype.calculateAxesRadius=function(){for(var n,i,t,r=0,u=0,f=this.gauge.axes;u<f.length;u++)n=f[u],i=Math.min(n.rect.width,n.rect.height)/2,t=n.radius!=null?gf(n.radius,i):i,r=Math.max.apply(Math,n.ranges.map(function(n){return n.radius?n.radius.indexOf("%")<0?100:parseInt(n.radius,10):0})),t=r>100&&n.radius==null?t*100/r:t,n.currentRadius=t-n.nearSize,n.visibleRange.interval=this.calculateNumericInterval(n,n.rect),this.calculateVisibleLabels(n)},n.prototype.measureAxisSize=function(n,t){var r=this,i;this.computeSize(n.axes,t);n.axes.map(function(n,u){i=pft(u,r.farSizes.length-1,r.farSizes);n.rect=new bu(t.x+i,t.y+i,t.width-i*2,t.height-i*2)})},n.prototype.calculateAxisValues=function(n){for(var r,t=0,i=this.gauge.axes;t<i.length;t++)r=i[t],this.calculateVisibleRange(r,n),this.calculateVisibleLabels(r)},n.prototype.calculateVisibleRange=function(n,t){var u=n.majorTicks.interval,i=Math.min(n.minimum===null?0:n.minimum,n.maximum),r=Math.max(n.minimum,n.maximum===null?100:n.maximum);n.pointers.map(function(t){t.currentValue=t.value!==null?t.value<i?i:t.value>r?r:t.value:i;i=n.minimum===null?Math.min(t.currentValue,i):i;r=n.maximum===null?Math.max(t.currentValue,r):r});i=i===r?u!==null?i-u:i-1:i;n.visibleRange={min:i,max:r,interval:u};n.visibleRange.interval=this.calculateNumericInterval(n,t)},n.prototype.calculateNumericInterval=function(n,t){if(n.majorTicks.interval!==null)return n.majorTicks.interval;var i=n.endAngle-n.startAngle;return i=i<=0?i+360:i,this.calculateNiceInterval(n.visibleRange.max,n.visibleRange.min,n.currentRadius?n.currentRadius:t.width/2,i)},n.prototype.calculateNiceInterval=function(n,t,i,r){for(var c,e,o=n-t,l=2*Math.PI*i*(r/360),s=Math.max(l*(.533*3/100),1),u=o/s,a=Math.pow(10,Math.floor(Math.log(u)/Math.log(10))),f=0,h=[10,5,2,1];f<h.length;f++){if(c=h[f],e=a*c,s<o/e)break;u=e}return u},n.prototype.calculateVisibleLabels=function(n){var i=n.labelStyle,e=i.format&&i.format.match("{value}")!==null,u=this.gauge.intl.getNumberFormat({format:yk(i.format),useGrouping:this.gauge.useGroupingSeparator}),r;n.visibleLabels=[];for(var t=n.visibleRange.min,f=n.visibleRange.interval,o=n.visibleRange.max;t<=o&&f;t+=f)r={cancel:!1,name:bet,axis:n,text:e?i.format.replace(new RegExp("{value}","g"),u(t)):u(t),value:t},this.gauge.trigger(bet,r),r.cancel||n.visibleLabels.push(new ret(r.text,t));this.getMaxLabelWidth(this.gauge,n)},n.prototype.computeSize=function(n,t){var e,u,o,r,f,c,y=5,s=0,h=0,a=0,l,v,i;for(this.farSizes=[],this.calculateAxisValues(t),l=0,v=n;l<v.length;l++)i=v[l],e=i.lineStyle.width/2,u=0,o=0,r=i.majorTicks.position==="Outside",s=i.majorTicks.offset,f=i.minorTicks.position==="Outside",h=i.minorTicks.offset,c=i.labelStyle.position==="Outside",a=i.labelStyle.offset,u+=(r&&f&&c)?0:y,u+=(r?i.majorTicks.height+e:0)+(c?i.maxLabelSize.height+cot+a:0)+(f&&!r?i.minorTicks.height+e:0)+e,u+=r&&f?Math.max(s,h):r?s:f?h:0,o+=(r?0:i.majorTicks.height+e)+(c?0:i.maxLabelSize.height+cot+a)+(!f&&r?i.minorTicks.height+e:0)+e,o+=!r&&!f?Math.max(s,h):r?f?0:h:s,this.farSizes[this.farSizes.length-1]&&(this.farSizes[this.farSizes.length-1]+=o+u),i.nearSize=u-y,i.farSize=o,u=this.gauge.axes.length===this.farSizes.length+1?0:u,this.farSizes.push(u)},n.prototype.renderAxes=function(n){var f=this;n===void 0&&(n=!0);var t=this.gauge,r=this.axisRenderer,i,u=t.renderer.createGroup({id:t.element.id+"_AxesCollection","clip-path":"url(#"+t.element.id+"_GaugeAreaClipRect_)"});t.element.appendChild(ct("div",{id:t.element.id+"_Secondary_Element",styles:"position: relative"}));t.axes.map(function(e,o){i=t.renderer.createGroup({id:t.element.id+"_Axis_Group_"+o});r.drawAxisOuterLine(e,o,i,t);r.drawAxisRange(e,o,i,t);r.drawAxisLine(e,o,i,t);r.drawMajorTickLines(e,o,i,t);r.drawMinorTickLines(e,o,i,t);r.drawAxisLabels(e,o,i,t);f.pointerRenderer.drawPointers(e,o,i,t,n);t.annotationsModule&&t.annotationsModule.renderAnnotation(e,o);u.appendChild(i)});t.svgObject.appendChild(t.renderer.drawClipPath({id:t.element.id+"_GaugeAreaClipRect_",x:0,y:0,width:t.availableSize.width,height:t.availableSize.height,fill:"transparent",stroke:"transparent"}));t.svgObject.appendChild(u)},n.prototype.getMaxLabelWidth=function(n,t){var r,u,i;for(t.maxLabelSize=new lo(0,0),r=0,u=t.visibleLabels;r<u.length;r++)i=u[r],i.size=wv(i.text,t.labelStyle.font),t.maxLabelSize.width=i.size.width>t.maxLabelSize.width?i.size.width:t.maxLabelSize.width,t.maxLabelSize.height=i.size.height>t.maxLabelSize.height?i.size.height:t.maxLabelSize.height},n}(),oii=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),wt=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},lot=function(n){function t(t,i){return n.call(this,t,i)||this}return oii(t,n),t.prototype.preRender=function(){this.unWireEvents();this.trigger(yti,{gauge:this});this.themeEffect();this.initPrivateVariable();this.setCulture();this.createSvg();this.wireEvents()},t.prototype.themeEffect=function(){this.theme==="Highcontrast"?(this.titleStyle.color=this.titleStyle.color||"#FFFFFF",this.setThemeColors("#FFFFFF","#FFFFFF")):(this.titleStyle.color=this.titleStyle.color||"#424242",this.setThemeColors("#212121","#757575"))},t.prototype.setThemeColors=function(n,t){for(var r,f,o,i,u=0,e=this.axes;u<e.length;u++)for(r=e[u],r.lineStyle.color=r.lineStyle.color||t,r.labelStyle.font.color=r.labelStyle.font.color||n,r.majorTicks.color=r.majorTicks.color||t,r.minorTicks.color=r.minorTicks.color||t,f=0,o=r.pointers;f<o.length;f++)i=o[f],i.color=i.color||t,i.needleTail.color=i.needleTail.color||t,i.needleTail.border.color=i.needleTail.border.color||t,i.cap.color=i.cap.color||t,i.cap.border.color=i.cap.border.color||t},t.prototype.render=function(){this.calculateBounds();this.renderElements()},t.prototype.unWireEvents=function(){r.remove(this.element,o.touchStartEvent,this.gaugeOnMouseDown);r.remove(this.element,o.touchMoveEvent,this.mouseMove);r.remove(this.element,o.touchEndEvent,this.mouseEnd);r.remove(this.element,"contextmenu",this.gaugeRightClick);r.remove(this.element,o.isPointer?"pointerleave":"mouseleave",this.mouseLeave);window.removeEventListener(o.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.gaugeResize)},t.prototype.wireEvents=function(){r.add(this.element,o.touchStartEvent,this.gaugeOnMouseDown,this);r.add(this.element,o.touchMoveEvent,this.mouseMove,this);r.add(this.element,o.touchEndEvent,this.mouseEnd,this);r.add(this.element,"contextmenu",this.gaugeRightClick,this);r.add(this.element,o.isPointer?"pointerleave":"mouseleave",this.mouseLeave,this);window.addEventListener(o.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.gaugeResize.bind(this));this.setGaugeStyle(this.element)},t.prototype.mouseMove=function(n){var t=this.getMouseArgs(n,"touchmove",get),i,r;return this.trigger(get,t),r=this.tooltipModule,t.cancel||this.enablePointerDrag&&this.activePointer&&(i={axis:this.activeAxis,pointer:this.activePointer,previousValue:this.activePointer.currentValue,name:uot,currentValue:null},this.pointerDrag(new rl(t.x,t.y)),i.currentValue=this.activePointer.currentValue,this.trigger(uot,i)),this.notify(o.touchMoveEvent,n),!1},t.prototype.mouseLeave=function(n){this.activeAxis=null;this.activePointer=null;this.svgObject.setAttribute("cursor","auto");var t=this.getMouseArgs(n,"touchmove",not);return this.trigger(not,t),!1},t.prototype.gaugeRightClick=function(n){return n.buttons===2||n.pointerType==="touch"?(n.preventDefault(),n.stopPropagation(),!1):!0},t.prototype.pointerDrag=function(n){var t=this.activeAxis,r=t.visibleRange,i=wft(bft(this.midPoint,n),r.max,r.min,t.startAngle,t.endAngle,t.direction==="ClockWise");i>=r.min&&i<=r.max&&(this.activePointer.currentValue=i,this.activePointer.value=i,this.gaugeAxisLayoutPanel.pointerRenderer.setPointerValue(t,this.activePointer,i))},t.prototype.gaugeOnMouseDown=function(n){var i,t=this.getMouseArgs(n,"touchstart",tot);return this.trigger(tot,t),!t.cancel&&t.target.id.indexOf("_Pointer_")>=0&&t.target.id.indexOf(this.element.id+"_Axis_")>=0&&(i=vk(t.target.id,this),this.activeAxis=this.axes[i.axisIndex],this.activePointer=this.activeAxis.pointers[i.pointerIndex],this.trigger(rot,{axis:this.activeAxis,name:rot,pointer:this.activePointer,currentValue:this.activePointer.currentValue}),this.svgObject.setAttribute("cursor","pointer")),!1},t.prototype.mouseEnd=function(n){var t=this.getMouseArgs(n,"touchend",iot),i=n.pointerType==="touch"||n.pointerType==="2"||n.type==="touchend",r=this.tooltipModule;return this.trigger(iot,t),this.activeAxis&&this.activePointer&&(this.trigger(fot,{name:fot,axis:this.activeAxis,pointer:this.activePointer,currentValue:this.activePointer.currentValue}),this.activeAxis=null,this.activePointer=null),this.svgObject.setAttribute("cursor","auto"),this.notify(o.touchEndEvent,n),!1},t.prototype.getMouseArgs=function(n,t,i){var f=this.element.getBoundingClientRect(),r=new rl(-f.left,-f.top),u=n.type===t;return r.x+=u?n.changedTouches[0].clientX:n.clientX,r.y+=u?n.changedTouches[0].clientY:n.clientY,{cancel:!1,name:i,x:r.x,y:r.y,target:u?n.target:n.target}},t.prototype.gaugeResize=function(){var n=this,t={gauge:this,previousSize:new lo(this.availableSize.width,this.availableSize.height),name:eot,currentSize:new lo(0,0)};return this.animatePointer=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.element.classList.contains("e-circulargauge")&&(this.resizeTo=window.setTimeout(function(){n.createSvg();n.calculateBounds();n.renderElements();t.currentSize=n.availableSize;n.trigger(eot,t)},500)),!1},t.prototype.setGaugeStyle=function(n){n.style.touchAction=this.enablePointerDrag?"none":"element";n.style.msTouchAction=this.enablePointerDrag?"none":"element";n.style.msContentZooming="none";n.style.msUserSelect="none";n.style.webkitUserSelect="none";n.style.position="relative"},t.prototype.setCulture=function(){this.intl=new hi},t.prototype.createSvg=function(){this.removeSvg();this.calculateSvgSize();this.svgObject=this.renderer.createSvg({id:this.element.id+"_svg",width:this.availableSize.width,height:this.availableSize.height})},t.prototype.removeSvg=function(){if(dv(this.element.id+"_Secondary_Element"),this.svgObject){while(this.svgObject.childNodes.length>0)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&lt(this.svgObject)}},t.prototype.initPrivateVariable=function(){this.renderer=new ge(this.element.id);this.gaugeAxisLayoutPanel=new eii(this);this.animatePointer=!0},t.prototype.calculateSvgSize=function(){var n=this.element.offsetWidth,t=this.element.offsetHeight,i=gf(this.width,n)||n||600,r=gf(this.height,t)||t||450;this.availableSize=new lo(i,r)},t.prototype.calculateBounds=function(){var t=this.margin,r=0;this.title&&(r=wv(this.title,this.titleStyle).height+5);var u=t.top+r+this.border.width,f=t.left+this.border.width,e=this.availableSize.width-f-t.right-this.border.width,o=this.availableSize.height-u-this.border.width-t.bottom,i=Math.min(e,o)/2,n=new bu(f+e/2-i,u+o/2-i,i*2,i*2),s=this.centerX!==null?gf(this.centerX,this.availableSize.width):n.x+n.width/2,h=this.centerY!==null?gf(this.centerY,this.availableSize.height):n.y+n.height/2;this.midPoint=new rl(s,h);this.gaugeAxisLayoutPanel.measureAxis(n)},t.prototype.renderElements=function(n){n===void 0&&(n=!0);this.renderBorder();this.renderTitle();this.gaugeAxisLayoutPanel.renderAxes(n);this.element.appendChild(this.svgObject);this.trigger(vti,{gauge:this})},t.prototype.renderTitle=function(){if(this.title){var t=wv(this.title,this.titleStyle),i=new wk(this.element.id+"_CircularGaugeTitle",this.availableSize.width/2,this.margin.top+3*(t.height/4),"middle",this.title),n=lk(i,this.titleStyle,this.titleStyle.color,this.svgObject,"");n.setAttribute("aria-label",this.description||this.title);n.setAttribute("tabindex",this.tabIndex.toString())}},t.prototype.renderBorder=function(){var n=this.border.width;(n>0||this.background!==null&&this.background!=="transparent")&&this.svgObject.appendChild(this.renderer.drawRectangle(new iet(this.element.id+"_CircularGaugeBorder",this.background,this.border,null,new bu(n/2,n/2,this.availableSize.width-n,this.availableSize.height-n))))},t.prototype.setPointerValue=function(n,t,i){var f=this,u=this.axes[n],r=u.pointers[t],e=r.currentRadius,o=r.animation.enable;i=i<u.visibleRange.min?u.visibleRange.min:i;i=i>u.visibleRange.max?u.visibleRange.max:i;r.pathElement.map(function(n){r.type==="RangeBar"?(ss(n,r.color,r.border),o?f.gaugeAxisLayoutPanel.pointerRenderer.performRangeBarAnimation(n,r.currentValue,i,u,r,e,e-r.pointerWidth):f.gaugeAxisLayoutPanel.pointerRenderer.setPointerValue(u,r,i)):(n.id.indexOf("_Pointer_NeedleCap_")>=0?ss(n,r.cap.color,r.cap.border):n.id.indexOf("_Pointer_NeedleTail_")>=0?ss(n,r.needleTail.color,r.needleTail.border):n.id.indexOf("_Pointer_NeedleRect_")>=0?ss(n,"transparent",{color:"transparent",width:0}):ss(n,r.color,r.border),o?f.gaugeAxisLayoutPanel.pointerRenderer.performNeedleAnimation(n,r.currentValue,i,u,r,e,e-r.pointerWidth):f.gaugeAxisLayoutPanel.pointerRenderer.setPointerValue(u,r,i))});r.currentValue=i;r.value=i},t.prototype.setAnnotationValue=function(n,t,i){var u=cs(this.element.id+"_Annotations_"+n)!==null,r=cs(this.element.id+"_Annotations_"+n)||ct("div",{id:this.element.id+"_Annotations_"+n}),f=this.axes[n].annotations[t];i!==null&&(dv(this.element.id+"_Axis_"+n+"_Annotation_"+t),f.content=i,this.annotationsModule.createTemplate(r,t,n),u||cs(this.element.id+"_Secondary_Element").appendChild(r))},t.prototype.setRangeValue=function(n,t,i,r){var a=cs(this.element.id+"_Axis_"+n+"_Range_"+t),f=this.axes[n],u=f.ranges[t],e=f.visibleRange,s=f.direction==="ClockWise",v=Math.min(Math.max(i,e.min),r),y=Math.min(Math.max(i,r),e.max),l=tu(v,e.max,e.min,f.startAngle,f.endAngle,s),h=tu(y,e.max,e.min,f.startAngle,f.endAngle,s),c,o;c=u.startWidth.length>0?tl(u.startWidth,u.currentRadius):u.startWidth;o=u.endWidth.length>0?tl(u.endWidth,u.currentRadius):u.endWidth;h=s?h:[l,l=h][0];o=s?o:[c,c=o][0];a.setAttribute("d",il(this.midPoint,Math.round(l),Math.round(h),u.currentRadius,c,o));ss(a,u.color?u.color:u.rangeColor,{color:u.color?u.color:u.rangeColor,width:0})},t.prototype.destroy=function(){this.unWireEvents();this.removeSvg();n.prototype.destroy.call(this)},t.prototype.requiredModules=function(){var n=[],t=!1,i=this.axes;return i.map(function(n){n.annotations.map(function(n){t=t||n.content!==null})}),t&&n.push({member:"Annotations",args:[this,kk]}),this.tooltip.enable&&n.push({member:"Tooltip",args:[this,td]}),n},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(n,t){for(var o,i=!1,r=!1,f=!1,u=0,e=Object.keys(n);u<e.length;u++){o=e[u];switch(o){case"height":case"width":case"centerX":case"centerY":case"margin":this.createSvg();r=!0;break;case"title":r=n.title===""||t.title==="";i=!(n.title===""||t.title==="");break;case"titleStyle":n.titleStyle&&n.titleStyle.size?r=!0:i=!0;break;case"border":i=!0;break;case"background":i=!0;break;case"axes":f=!0}}!r&&i&&(this.removeSvg(),this.renderElements());r&&(this.removeSvg(),this.calculateBounds(),this.renderElements());!f||i||r||(this.removeSvg(),this.calculateBounds(),this.renderElements(!1))},t.prototype.getModuleName=function(){return"circulargauge"},wt([i(null)],t.prototype,"width",void 0),wt([i(null)],t.prototype,"height",void 0),wt([nt({color:"transparent",width:0},wh)],t.prototype,"border",void 0),wt([i("transparent")],t.prototype,"background",void 0),wt([i("")],t.prototype,"title",void 0),wt([nt({size:"15px",color:null},ul)],t.prototype,"titleStyle",void 0),wt([nt({},uet)],t.prototype,"margin",void 0),wt([ff([{}],pet)],t.prototype,"axes",void 0),wt([nt({},fet)],t.prototype,"tooltip",void 0),wt([i(!1)],t.prototype,"enablePointerDrag",void 0),wt([i(null)],t.prototype,"centerX",void 0),wt([i(null)],t.prototype,"centerY",void 0),wt([i("Material")],t.prototype,"theme",void 0),wt([i(!1)],t.prototype,"useGroupingSeparator",void 0),wt([i(null)],t.prototype,"description",void 0),wt([i(1)],t.prototype,"tabIndex",void 0),wt([f()],t.prototype,"loaded",void 0),wt([f()],t.prototype,"load",void 0),wt([f()],t.prototype,"animationComplete",void 0),wt([f()],t.prototype,"axisLabelRender",void 0),wt([f()],t.prototype,"annotationRender",void 0),wt([f()],t.prototype,"tooltipRender",void 0),wt([f()],t.prototype,"dragStart",void 0),wt([f()],t.prototype,"dragMove",void 0),wt([f()],t.prototype,"dragEnd",void 0),wt([f()],t.prototype,"gaugeMouseMove",void 0),wt([f()],t.prototype,"gaugeMouseLeave",void 0),wt([f()],t.prototype,"gaugeMouseDown",void 0),wt([f()],t.prototype,"gaugeMouseUp",void 0),wt([f()],t.prototype,"resized",void 0),wt([vt],t)}(vi);lot.Inject(td,kk);var sii=Object.freeze({CircularGauge:lot,Annotations:kk,Line:eet,Label:oet,Range:set,Tick:bk,Cap:het,NeedleTail:cet,Animation:aet,Annotation:vet,Pointer:yet,Axis:pet,Border:wh,Font:ul,Margin:uet,TooltipSettings:fet,GaugeTooltip:td,measureText:wv,toPixel:tl,getFontStyle:ck,setStyles:ss,measureElementRect:yft,stringToNumber:gf,textElement:lk,appendPath:pu,calculateSum:pft,linear:bv,getAngleFromValue:tu,getDegree:co,getValueFromAngle:wft,isCompleteAngle:hs,getAngleFromLocation:bft,getLocationFromAngle:ti,getPathArc:il,getRangePath:kft,getRoundedPathArc:ak,getRoundedPath:dft,getCompleteArc:kv,getCirclePath:gft,getCompletePath:net,getElement:cs,getTemplateFunction:tet,removeElement:dv,getPointer:vk,getLabelFormat:yk,calculateShapes:pk,getRangeColor:gv,CustomizeOption:ny,PathOption:wu,RectOption:iet,Size:lo,GaugeLocation:rl,Rect:bu,TextOption:wk,VisibleLabels:ret}),bh=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ki=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},kh=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bh(t,n),ki([i("16px")],t.prototype,"size",void 0),ki([i("")],t.prototype,"color",void 0),ki([i("Segoe UI")],t.prototype,"fontFamily",void 0),ki([i("Normal")],t.prototype,"fontWeight",void 0),ki([i("Normal")],t.prototype,"fontStyle",void 0),ki([i("Center")],t.prototype,"textAlignment",void 0),ki([i("Trim")],t.prototype,"textOverflow",void 0),t}(it),aot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bh(t,n),ki([i(10)],t.prototype,"left",void 0),ki([i(10)],t.prototype,"right",void 0),ki([i(10)],t.prototype,"top",void 0),ki([i(10)],t.prototype,"bottom",void 0),t}(it),id=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bh(t,n),ki([i("")],t.prototype,"color",void 0),ki([i(1)],t.prototype,"width",void 0),ki([i("")],t.prototype,"radius",void 0),t}(it),vot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bh(t,n),ki([i(null)],t.prototype,"size",void 0),ki([i(null)],t.prototype,"color",void 0),t}(it),rd=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bh(t,n),ki([i("")],t.prototype,"text",void 0),ki([nt({},kh)],t.prototype,"textStyle",void 0),t}(it),yot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return bh(t,n),ki([i(null)],t.prototype,"value",void 0),ki([i(null)],t.prototype,"color",void 0),ki([i(null)],t.prototype,"label",void 0),t}(it),pot=function(){function n(n,t,i){this.value=n;this.color=t;this.label=i}return n}(),wot=function(){function n(n,t,i){this.mappingName=n;this.bubbleData=t;this.valueType=i}return n}(),fy=function(){function n(n,t,i,r){this.value=n;this.color=t;this.label=i;this.isHidden=r}return n}(),hii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ud=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},bot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return hii(t,n),ud([ff([{}],yot)],t.prototype,"palette",void 0),ud([i("Gradient")],t.prototype,"type",void 0),ud([i("")],t.prototype,"emptyPointColor",void 0),t}(it),el=function(){function n(n,t,i){this.R=n;this.G=t;this.B=i}return n}(),fd=function(){function n(n){this.heatMap=n}return n.prototype.convertToRGB=function(n,t){for(var r,i,o,s,h,u=t[0].value,f=0,e=1;e<t.length;e++)if(r=Number(t[e].value),n<=r){f=r;break}else f=r,u=r;return i=0,o=f-u,i=(n-u)/o,i=isNaN(i)?0:i,s=this.getEqualColor(t,u),h=this.getEqualColor(t,f),this.getPercentageColor(i,s,h)},n.prototype.rgbToHex=function(n,t,i){return"#"+this.componentToHex(n)+this.componentToHex(t)+this.componentToHex(i)},n.prototype.componentToHex=function(n){var t=n.toString(16);return t.length===1?"0"+t:t},n.prototype.getEqualColor=function(n,t){for(var i,r=0;r<n.length;r++)if(Number(n[r].value)===t)return i=n[r].color,i.indexOf("rgb")!==-1?i=this.convertToHex(i):i.indexOf("#")===-1&&(i="#FFFFFF"),i;return"#00000"},n.prototype.convertToHex=function(n){var i=n.substr(3),t;return i=i.split("(")[1].split(")")[0],t=i.split(","),this.rgbToHex(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))},n.prototype.getPercentageColor=function(n,t,i){var r=i.split("#")[1],u=t.split("#")[1],f=this.getPercentage(n,parseInt(u.substr(0,2),16),parseInt(r.substr(0,2),16)),e=this.getPercentage(n,parseInt(u.substr(2,2),16),parseInt(r.substr(2,2),16)),o=this.getPercentage(n,parseInt(u.substr(4,2),16),parseInt(r.substr(4,2),16));return new el(f,e,o)},n.prototype.getPercentage=function(n,t,i){var r=i-t;return Math.round(t+r*n)},n.prototype.getColorCollection=function(){var n=this.heatMap,f,r,u,t,i;if(n.colorCollection=[],n.legendColorCollection=[],r=n.bubbleSizeWithColor?n.minColorValue:n.dataSourceMinValue,u=n.bubbleSizeWithColor?n.maxColorValue:n.dataSourceMaxValue,n.emptyPointColor=n.paletteSettings.emptyPointColor?n.paletteSettings.emptyPointColor:n.themeStyle.emptyCellColor,t=this.orderbyOffset(n.paletteSettings.palette&&n.paletteSettings.palette.length>1?n.paletteSettings.palette:n.themeStyle.palette),t.isCompact)n.colorCollection=t.offsets,n.legendColorCollection=b([],t.offsets,null,!0);else if(f=n.paletteSettings.type==="Gradient"?(u-r)/(t.offsets.length-1):(u-r)/t.offsets.length,t.offsets.length>=2)for(i=0;i<t.offsets.length;i++)n.colorCollection.push(new pot(Math.round((r+i*f)*100)/100,t.offsets[i].color,t.offsets[i].label)),n.legendColorCollection.push(new fy(Math.round((r+i*f)*100)/100,t.offsets[i].color,t.offsets[i].label,!1));this.updateLegendColorCollection(r,u)},n.prototype.updateLegendColorCollection=function(n,t){n<this.heatMap.legendColorCollection[0].value&&this.heatMap.legendColorCollection.unshift(new fy(n,this.heatMap.legendColorCollection[0].color,this.heatMap.legendColorCollection[0].label,!0));t>this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length-1].value&&this.heatMap.legendColorCollection.push(new fy(t,this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length-1].color,this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length-1].label,!0))},n.prototype.orderbyOffset=function(n){var i=new fst,r="value";return i.isCompact=!0,i.offsets=n.sort(function(n,u){return t(n[r])||t(u[r])?(i.isCompact=!1,n):n[r]-u[r]}),i.isCompact||(i.offsets=this.heatMap.paletteSettings.palette&&this.heatMap.paletteSettings.palette.length>1?this.heatMap.paletteSettings.palette:this.heatMap.themeStyle.palette),i},n.prototype.getColorByValue=function(n){var i="",r,u=0,t;if(n.toString()!=="")if(this.heatMap.cellSettings.tileType==="Bubble"&&(this.heatMap.cellSettings.bubbleType==="Size"||this.heatMap.cellSettings.bubbleType==="Sector"))i=this.heatMap.colorCollection[0].color;else if(this.heatMap.paletteSettings.type==="Fixed"){for(t=0;t<this.heatMap.colorCollection.length;t++)if(u=this.heatMap.colorCollection[t+1]?this.heatMap.colorCollection[t+1].value:this.heatMap.colorCollection[t].value,n<=u&&t===0||n<u||n>=u&&t===this.heatMap.colorCollection.length-1){i=this.heatMap.colorCollection[t].color;break}}else n<this.heatMap.colorCollection[0].value?i=this.heatMap.colorCollection[0].color:n>this.heatMap.colorCollection[this.heatMap.colorCollection.length-1].value?i=this.heatMap.colorCollection[this.heatMap.colorCollection.length-1].color:(r=this.convertToRGB(n,this.heatMap.colorCollection),i=this.rgbToHex(r.R,r.G,r.B));else i=this.heatMap.emptyPointColor;return i},n}(),dh=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();ed=function(){function n(n,t){this["font-size"]=n.size;this["font-style"]=n.fontStyle;this["font-family"]=n.fontFamily;this["font-weight"]=n.fontWeight;this.fill=t?t:""}return n}();var lf=function(){function n(n,t){this.width=n;this.height=t}return n}(),kot=function(){function n(n){this.id=n}return n}(),ao=function(n){function t(t,i,r,u,f,e,o){var s=n.call(this,t)||this;return s.opacity=f,s.fill=i,s.stroke=u?u:"",s["stroke-width"]=parseFloat(r.toString()),s["stroke-dasharray"]=e,s.d=o,s}return dh(t,n),t}(kot),dot=function(){function n(n,t,i,r,u,f,e,o,s,h){this.x=n;this.y=t;this.width=i;this.height=r;this.value=u;this.id=f;this.xIndex=e;this.yIndex=o;this.xValue=s;this.yValue=h}return n}(),af=function(n){function t(t,i,r,u,f,e,o,s,h,c){var l=n.call(this,t,i,r.width,e,u,c)||this;return l.y=f.y,l.x=f.x,l.height=f.height>0?f.height:0,l.width=f.width>0?f.width:0,l.rx=o?o:0,l.ry=s?s:0,l.transform=h?h:"",l}return dh(t,n),t}(ao),got=function(n){function t(t,i,r,u,f,e,o,s){var h=n.call(this,t,i,r.width,f,u)||this;return h.cx=e?e:0,h.cy=o?o:0,h.r=s?s:0,h}return dh(t,n),t}(ao),oi=function(){function n(n,t,i,r){this.x=n;this.y=t;this.width=i;this.height=r}return n}(),te=function(n){function t(t,i,r,u){var f=n.call(this,r,u)||this;return f.transform="",f["dominant-baseline"]="auto",f.labelRotation=0,f.baseline="auto",f.id=t,f.x=i.x,f.y=i.y,f["text-anchor"]=i["text-anchor"],f.text=i.text,f.transform=i.transform,f.labelRotation=i.labelRotation,f["dominant-baseline"]=i["dominant-baseline"],f.baseline=i.baseline,f.dy=i.dy,f}return dh(t,n),t}(ed),ie=function(){function n(n,t,i,r,u,f,e,o){this.transform="";this["dominant-baseline"]="auto";this.labelRotation=0;this.baseline="auto";this.x=n?n:0;this.y=t?t:0;this["text-anchor"]=i?i:"";this.text=r?r:"";this.transform=f?f:"";this.labelRotation=u;this["dominant-baseline"]=e?e:"";this.baseline=e?e:"";this.dy=o?o:""}return n}(),ey=function(){function n(n,t,i,r){this.x1=n;this.y1=t;this.x2=i;this.y2=r}return n}(),oy=function(n){function t(t,i,r,u,f,e){var o=n.call(this,t,null,u,r,f,e,null)||this;return o.x1=i.x1,o.y1=i.y1,o.x2=i.x2,o.y2=i.y2,o}return dh(t,n),t}(ao),nst=function(n){function t(t,i,r,u,f,e,o){var s=n.call(this,t,r,f,o,e,null)||this;return s.d=i.d,s.x=i.x,s.y=i.y,s}return dh(t,n),t}(ao),tst=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l){this.d=n;this.innerR=t;this.cx=e;this.cy=o;this.x=i;this.y=r;this.x1=u;this.y1=f;this.start=s;this.end=h;this.radius=c;this.counterClockWise=l}return n}();gh=function(){function n(n){this.heatMap=n}return n.prototype.drawRectangle=function(n,t,i){this.heatMap.enableCanvasRendering?this.drawCanvasRectangle(this.heatMap.canvasRenderer,n,i):t.appendChild(this.heatMap.renderer.drawRectangle(n))},n.prototype.drawCircle=function(n,t){this.heatMap.enableCanvasRendering?this.drawCanvasCircle(this.heatMap.canvasRenderer,n):t.appendChild(this.heatMap.renderer.drawCircle(n))},n.prototype.drawPath=function(n,t,i){this.heatMap.enableCanvasRendering?this.drawCanvasPath(this.heatMap.canvasRenderer,n,t):i.appendChild(this.heatMap.renderer.drawPath(n))},n.prototype.createText=function(n,t,i){this.heatMap.enableCanvasRendering?this.canvasDrawText(n,i):t.appendChild(this.heatMap.renderer.createText(n,i))},n.prototype.createWrapText=function(n,t,i){var o={},u,s,f,e,r,h;if(o={id:n.id,x:n.x,y:n.y,fill:n.fill,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":n["text-anchor"],transform:n.transform,"dominant-baseline":n["dominant-baseline"]},f=n.text[0],this.heatMap.enableCanvasRendering?this.heatMap.canvasRenderer.drawText(n,f):u=this.heatMap.renderer.createText(o,f),typeof n.text!="string"&&n.text.length>1)for(r=1,h=n.text.length;r<h;r++)e=ui(n.text[r],t).height,this.heatMap.enableCanvasRendering?(n.id=n.id+r,n.y+=e,this.heatMap.canvasRenderer.drawText(n,n.text[r])):(s=this.heatMap.renderer.createTSpan({x:n.x,id:n.id+r,y:n.y+r*e},n.text[r]),u.appendChild(s));this.heatMap.enableCanvasRendering||i.appendChild(u)},n.prototype.drawLine=function(n,t){this.heatMap.enableCanvasRendering?this.heatMap.canvasRenderer.drawLine(n):t.appendChild(this.heatMap.renderer.drawLine(n))},n.prototype.canvasDrawText=function(n,i,r,u){var f=this.heatMap.canvasRenderer.ctx,e;r||(r=n.x);u||(u=n.y);e=this.getOptionValue(n,"font-weight");t(e)||e.toLowerCase()!=="regular"||(e="normal");var s=this.getOptionValue(n,"font-family"),h=n["font-size"].toString().indexOf("px")===-1?n["font-size"]+"px":n["font-size"],o=this.getOptionValue(n,"text-anchor"),c=this.getOptionValue(n,"font-style").toLowerCase(),l=c+" "+e+" "+h+" "+s;o==="middle"&&(o="center");f.save();f.fillStyle=n.fill;f.font=l;f.textAlign=o;n.baseline&&(f.textBaseline=n.baseline);f.translate(r,u);f.rotate(n.labelRotation*Math.PI/180);f.fillText(i,n.x-r,n.y-u);f.restore()},n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.setAttributes=function(n,i){var r,u;n.ctx.lineWidth=i["stroke-width"];r=i["stroke-dasharray"];t(r)||(u=r.split(","),n.ctx.setLineDash([parseInt(u[0],10),parseInt(u[1],10)]));n.ctx.strokeStyle=i.stroke},n.prototype.drawCanvasRectangle=function(n,t,i){var r=n.ctx,u=t.rx;n.ctx.save();n.ctx.beginPath();n.ctx.globalAlpha=t.opacity;this.setAttributes(n,t);this.drawCornerRadius(n,t);(t["stroke-width"]&&t["stroke-width"]!=0||i)&&n.ctx.stroke();n.ctx.restore();n.ctx=r},n.prototype.drawCornerRadius=function(n,t){var i=t.rx,r=t.x,u=t.y,f=t.width,e=t.height;t.fill==="none"&&(t.fill="transparent");n.ctx.fillStyle=t.fill;f<2*i&&(i=f/2);e<2*i&&(i=e/2);n.ctx.beginPath();n.ctx.moveTo(r+f-i,u);n.ctx.arcTo(r+f,u,r+f,u+e,i);n.ctx.arcTo(r+f,u+e,r,u+e,i);n.ctx.arcTo(r,u+e,r,u,i);n.ctx.arcTo(r,u,r+f,u,i);n.ctx.closePath();n.ctx.fill()},n.prototype.drawCanvasCircle=function(n,t){n.ctx.save();n.ctx.beginPath();n.ctx.arc(t.cx,t.cy,t.r,0,2*Math.PI);n.ctx.fillStyle=t.fill;n.ctx.globalAlpha=t.opacity;n.ctx.fill();this.setAttributes(n,t);t["stroke-width"]&&t["stroke-width"]!==0&&n.ctx.stroke();n.ctx.restore()},n.prototype.drawCanvasPath=function(n,t,i){var o=t.d,u=o.split(" "),s=this.getOptionValue(i,"stroke-width"),r,f,e;for(n.ctx.save(),n.ctx.beginPath(),n.ctx.globalAlpha=t.opacity,n.ctx.fillStyle=t.fill,this.setAttributes(n,t),r=0;r<u.length;r=r+3){f=parseFloat(u[r+1]);e=parseFloat(u[r+2]);switch(u[r]){case"M":n.ctx.moveTo(f,e);break;case"L":n.ctx.lineTo(f,e);break;case"A":case"a":n.ctx.arc(i.x,i.y,i.radius,i.start*.0174533,i.end*.0174533,!1);r=u[r]==="a"?r+13:r+5;break;case"Z":n.ctx.closePath()}}n.ctx.fill();t["stroke-width"]&&t["stroke-width"]!==0&&n.ctx.stroke();n.ctx.restore()},n}();sy=function(){function n(n,t,i,r,u){this.id=n;this.x1=t;this.x2=i;this.y1=r;this.y2=u}return n}();hd=function(){function n(n,t){this.color=n;this.colorStop=t}return n}();ys=function(){function n(n,t){this.region=new oi(0,0,0,0);this.text=n;this.region=t}return n}();var fst=function(){function n(){}return n}(),est=function(){function n(n,t,i,r,u,f){this.pathX1=n;this.pathY1=t;this.pathX2=i;this.pathY2=r;this.pathX3=u;this.pathY3=f}return n}(),ost=function(){function n(n,t,i,r,u,f){this.x=n;this.y=t;this.width=i;this.height=r;this.label=u;this.id=f}return n}();(function(n){n.heatMapTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"};n.axisTitleFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"};n.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"};n.legendLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI",textOverflow:"None"};n.rectLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI",textOverflow:"None"};n.tooltipFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI",textOverflow:"None"}})(vo||(vo={}));var lii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),su=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ld=function(n){function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.rect=new oi(undefined,undefined,0,0),t.nearSizes=[],t.farSizes=[],t.maxLabelSize=new lf(0,0),t.titleSize=new lf(0,0),t.axisLabels=[],t.tooltipLabels=[],t.labelValue=[],t.axisLabelSize=0,t.axisLabelInterval=0,t.dateTimeAxisLabelInterval=[],t.maxLength=0,t.min=0,t.max=0,t.isIntersect=!1,t}return lii(r,n),r.prototype.computeSize=function(n,t){this.titleSize=n.getTitleSize(n,10);this.maxLabelSize=n.getMaxLabelSize(n,t)},r.prototype.getTitleSize=function(n,t){var i=new lf(0,0);return this.title.text&&(i=ui(this.title.text,this.title.textStyle),i.height+=t),n.opposedPosition?this.farSizes.push(i.height):this.nearSizes.push(i.height),i},r.prototype.getMaxLabelSize=function(n,i){var r=new lf(0,0),f=this.axisLabels,v,l,u,o;if(n.angle=n.labelRotation,n.isIntersect=!1,n.orientation==="Horizontal"&&(n.labelIntersectAction==="Rotate45"||n.labelRotation%180==0&&n.labelIntersectAction==="Trim")){var s=i.initialClipRect.width/n.axisLabels.length,a=i.initialClipRect.x+(n.isInversed?i.initialClipRect.width:0),h=void 0;for(u=0,v=f.length;u<v;u++){var y=f[u],c=ui(y,n.textStyle),e=a+(n.isInversed?-((s+c.width)/2):(s-c.width)/2);if(e=e<i.initialClipRect.x?i.initialClipRect.x:e,l=e+c.width,t(h))h=l;else{if(e<h){n.labelIntersectAction==="Rotate45"?n.angle=45:n.isIntersect=!0;break}h=l}a+=n.isInversed?-s:s}}for(u=0;u<f.length;u++)o=n.angle%180==0?ui(f[u],n.textStyle):sd(n.textStyle,f[u],n.angle),r.width=r.width>o.width?r.width:o.width,r.height=r.height>o.height?r.height:o.height;return n.opposedPosition?this.farSizes.push(n.orientation==="Horizontal"?r.height:r.width):this.nearSizes.push(n.orientation==="Horizontal"?r.height:r.width),r},r.prototype.calculateNumericAxisLabels=function(n){var u=0,r=0,c=this.interval?this.interval:1,h,f,l,e,o,i,s;for(n.adaptorModule&&n.isCellData&&(h=this.orientation==="Horizontal"?n.adaptorModule.adaptiveXMinMax.min:n.adaptorModule.adaptiveYMinMax.min,f=this.orientation==="Horizontal"?n.adaptorModule.adaptiveXMinMax.max:n.adaptorModule.adaptiveYMinMax.max),u=t(this.minimum)?h?h:0:this.minimum,r=t(this.maximum)?f?f:this.maxLength*this.increment:this.maximum,this.minimum&&this.maximum&&u>r&&(l=u,u=r,r=l),r=t(this.maximum)?f?f:r+u:r,e=this.labelFormat,o=e.match("{value}")!==null,this.format=n.intl.getNumberFormat({format:o?"":e}),i=u;i<=r;i=i+c*this.increment)s=cy(o,e,i,this.format),this.axisLabels.push(s);for(this.min=0,this.axisLabelSize=Math.floor((r-u)/this.increment+1),this.max=this.axisLabelSize-1,this.axisLabelInterval=c,i=u;i<=r;i=i+this.increment)s=cy(o,e,i,this.format),this.tooltipLabels.push(s),this.labelValue.push(i);this.labelValue=this.isInversed?this.labelValue.reverse():this.labelValue},r.prototype.calculateCategoryAxisLabels=function(){var i=this.labels?this.labels:[],r=t(this.minimum)?0:this.minimum,u=t(this.maximum)?this.maxLength:this.maximum,f=this.interval?this.interval:1,e,o,n;if(!t(this.minimum)&&!t(this.maximum)&&r>u&&(e=r,r=u,u=e),i&&i.length>0)for(n=r;n<=u;n=n+f)o=i[n]?i[n].toString():n.toString(),this.axisLabels.push(o);else for(n=r;n<=u;n=n+f)this.axisLabels.push(n.toString());for(n=r;n<=u;n++)this.tooltipLabels.push(i[n]?i[n].toString():n.toString()),this.labelValue.push(i[n]?i[n].toString():n.toString());this.min=r;this.max=u;this.axisLabelSize=u-r+1;this.axisLabelInterval=f;this.labelValue=this.isInversed?this.labelValue.reverse():this.labelValue},r.prototype.calculateDateTimeAxisLabel=function(n){var f=this.interval?this.interval:1,y={skeleton:"full",type:"dateTime"},s=n.intl.getDateParser(y),h=n.intl.getDateFormat(y),i,r,a=null,v=null,e,o,u,t,c;if(n.adaptorModule&&n.isCellData&&(a=this.orientation==="Horizontal"?n.adaptorModule.adaptiveXMinMax.min:n.adaptorModule.adaptiveYMinMax.min,v=this.orientation==="Horizontal"?n.adaptorModule.adaptiveXMinMax.max:n.adaptorModule.adaptiveYMinMax.max),e=this.minimum?this.minimum:a?a:null,o=this.maximum?this.maximum:v?v:null,e===null&&o===null){for(i=0,r=this.maxLength*this.increment,u=i;u<=r;u=u+f*this.increment)this.axisLabels.push(u.toString()),this.tooltipLabels.push(u.toString()),this.labelValue.push(u.toString());this.min=0;this.max=this.maxLength;this.axisLabelSize=(r-i)/this.increment+1;this.axisLabelInterval=f}else{for(e!==null&&o===null?(i=Date.parse(s(h(new Date(l.parse.parseJson({val:e}).val)))),r=ic(i,this.maxLength,this.intervalType,this.increment).getTime()):e===null&&o!==null?(r=Date.parse(s(h(new Date(l.parse.parseJson({val:o}).val)))),i=ic(r,-this.maxLength,this.intervalType,this.increment).getTime()):(i=Date.parse(s(h(new Date(l.parse.parseJson({val:e}).val)))),r=Date.parse(s(h(new Date(l.parse.parseJson({val:o}).val))))),this.format=n.intl.getDateFormat({format:this.labelFormat,skeleton:this.getSkeleton()}),t=i;t<=r;)c=this.format(new Date(t)),this.axisLabels.push(c),this.showLabelOn!=="None"&&(f=this.calculateLabelInterval(t),this.dateTimeAxisLabelInterval.push(f)),t=ic(t,f,this.intervalType,this.increment).getTime();for(this.min=0,this.axisLabelInterval=f,this.axisLabelSize=this.getTotalLabelLength(i,r),this.max=this.axisLabelSize-1,t=i;t<=r;)c=this.format(new Date(t)),this.tooltipLabels.push(c),this.labelValue.push(new Date(t)),t=ic(t,1,this.intervalType,this.increment).getTime()}this.labelValue=this.isInversed?this.labelValue.reverse():this.labelValue},r.prototype.calculateLabelInterval=function(n){var r=new Date(n).getFullYear(),f=new Date(n).getMonth()+1,e=new Date(n).getDate(),i,t,u;return this.showLabelOn==="Years"||this.showLabelOn==="Months"?this.showLabelOn==="Years"&&this.intervalType==="Months"?t=Math.ceil(12/this.increment):(i=this.showLabelOn==="Years"?r%4==0?366:365:new Date(r,f,0).getDate(),i+=1-e,t=this.intervalType==="Days"?Math.ceil(i/this.increment):this.intervalType==="Hours"?Math.ceil(i*24/this.increment):this.intervalType==="Minutes"?Math.ceil(i*1440/this.increment):1):this.showLabelOn==="Days"?t=this.intervalType==="Hours"?Math.ceil(24/this.increment):this.intervalType==="Minutes"?Math.ceil(1440/this.increment):1:this.showLabelOn==="Hours"?(u=new Date(n).getMinutes(),t=this.intervalType==="Minutes"?Math.ceil((60-u)/this.increment):1):t=1,t},r.prototype.getSkeleton=function(){return this.intervalType==="Years"?"yMMM":this.intervalType==="Months"?"MMMd":this.intervalType==="Days"?"yMd":this.intervalType==="Hours"?"EHm":this.intervalType==="Minutes"?"Hms":"Hms"},r.prototype.getTotalLabelLength=function(n,t){var i=0,r=new Date(n),u=new Date(t),f,o,s,e,h,c;switch(this.intervalType){case"Years":s=(u.getFullYear()-r.getFullYear())/this.increment+1;i=Math.floor(s);break;case"Months":e=(u.getFullYear()-r.getFullYear())*12;e-=r.getMonth();e+=u.getMonth();i=e<=0?1:Math.floor(e/this.increment+1);break;case"Days":f=Math.abs(r.getTime()-u.getTime());o=Math.floor(f/864e5);i=Math.floor(o/this.increment+1);break;case"Hours":f=Math.abs(r.getTime()-u.getTime());h=Math.floor(f/36e5);i=Math.floor(h/this.increment)+1;break;case"Minutes":f=Math.abs(r.getTime()-u.getTime());c=Math.floor(f/6e4);i=Math.floor(c/this.increment)+1}return i},su([nt({text:"",textStyle:vo.axisTitleFont},rd)],r.prototype,"title",void 0),su([i(!1)],r.prototype,"opposedPosition",void 0),su([i(null)],r.prototype,"labels",void 0),su([nt(vo.axisLabelFont,kh)],r.prototype,"textStyle",void 0),su([i(0)],r.prototype,"labelRotation",void 0),su([i(!1)],r.prototype,"isInversed",void 0),su([i("Category")],r.prototype,"valueType",void 0),su([i(1)],r.prototype,"increment",void 0),su([i("None")],r.prototype,"showLabelOn",void 0),su([i(null)],r.prototype,"minimum",void 0),su([i(null)],r.prototype,"maximum",void 0),su([i(null)],r.prototype,"interval",void 0),su([i("")],r.prototype,"labelFormat",void 0),su([i("Days")],r.prototype,"intervalType",void 0),su([i("Trim")],r.prototype,"labelIntersectAction",void 0),r}(it),lst=function(){function n(n){this.heatMap=n;this.padding=10;this.drawSvgCanvas=new gh(n)}return n.prototype.renderAxes=function(){var t,u,i,f,r,e,n;for(this.initialClipRect=this.heatMap.initialClipRect,t=this.heatMap,t.enableCanvasRendering||(u=this.heatMap.renderer.createGroup({id:t.element.id+"AxisCollection"})),f=this.heatMap.axisCollections,r=0,e=f.length;r<e;r++)n=f[r],n.orientation==="Horizontal"?(t.enableCanvasRendering||(i=this.heatMap.renderer.createGroup({id:t.element.id+"XAxisGroup"})),this.drawXAxisLine(i,n),this.drawXAxisTitle(n,i,n.rect),this.drawXAxisLabels(n,i,n.rect)):(i=t.renderer.createGroup({id:t.element.id+"YAxisGroup"}),this.drawYAxisLine(i,n),this.drawYAxisTitle(n,i,n.rect),this.drawYAxisLabels(n,i,n.rect)),t.enableCanvasRendering||u.appendChild(i);t.enableCanvasRendering||this.heatMap.svgObject.appendChild(u)},n.prototype.drawXAxisLine=function(n,t){var i=this.initialClipRect.y+(t.opposedPosition?0:this.initialClipRect.height),r=new oy(this.heatMap.element.id+"_XAxisLine",new ey(this.initialClipRect.x,i,this.initialClipRect.x+this.initialClipRect.width,i),"transparent",0);this.drawSvgCanvas.drawLine(r,n)},n.prototype.drawYAxisLine=function(n,t){var i=this.initialClipRect.x+(t.opposedPosition?this.initialClipRect.width:0),r=new oy(this.heatMap.element.id+"_YAxisLine",new ey(i,this.initialClipRect.y,i,this.initialClipRect.height+this.initialClipRect.y),"transparent",0);this.drawSvgCanvas.drawLine(r,n)},n.prototype.drawXAxisTitle=function(n,t,i){var s=i.y+(n.opposedPosition?-(n.maxLabelSize.height+this.padding):n.maxLabelSize.height+this.padding),o;if(n.title.text){var f=this.heatMap,r=n.title,e=ui(r.text,r.textStyle),u=this.padding,h=r.textStyle.textAlignment==="Near"?"start":r.textStyle.textAlignment==="Far"?"end":"middle";u=n.opposedPosition?-(u+e.height/4):u+3*e.height/4;o=new te(f.element.id+"_XAxisTitle",new ie(i.x+od(i.width,0,0,r.textStyle),s+u,h,r.text),r.textStyle,r.textStyle.color||f.themeStyle.axisTitle);this.drawSvgCanvas.createText(o,t,r.text)}},n.prototype.drawYAxisTitle=function(n,t,i){if(n.title.text){var r=n.title,o=this.heatMap,s=n.opposedPosition?90:-90,l=ui(r.text,r.textStyle),c=r.textStyle.textAlignment==="Near"?"start":r.textStyle.textAlignment==="Far"?"end":"middle",u=10;u=n.opposedPosition?u:-u;var f=i.x+u+(n.opposedPosition?n.maxLabelSize.width:-n.maxLabelSize.width),e=i.y+ist(i,0,0,r.textStyle)+(n.opposedPosition?this.padding:-this.padding),h=new te(o.element.id+"_YAxisTitle",new ie(f,e-this.padding,c,r.text,s,"rotate("+s+","+f+","+e+")","auto"),r.textStyle,r.textStyle.color||o.themeStyle.axisTitle);this.heatMap.enableCanvasRendering?this.drawSvgCanvas.canvasDrawText(h,r.text,f,e):this.drawSvgCanvas.createText(h,t,r.text)}},n.prototype.calculateVisibleLabels=function(){for(var r=this.heatMap,n,i=r.axisCollections,t=0,u=i.length;t<u;t++)n=i[t],n.axisLabels=[],n.tooltipLabels=[],n.dateTimeAxisLabelInterval=[],n.labelValue=[],n.valueType==="Numeric"?n.calculateNumericAxisLabels(this.heatMap):n.valueType==="DateTime"?n.calculateDateTimeAxisLabel(this.heatMap):n.calculateCategoryAxisLabels(),n.tooltipLabels=n.isInversed?n.tooltipLabels.reverse():n.tooltipLabels},n.prototype.measureAxis=function(n){for(var i,u=this.heatMap,t,f=u.axisCollections,r=f.length-1;r>=0;r--)t=f[r],i=t.textStyle.size==="0px"?0:this.padding,t.nearSizes=[],t.farSizes=[],t.computeSize(t,u),t.opposedPosition?t.orientation==="Horizontal"?(n.y+=ls(t.farSizes)+i,n.height-=ls(t.farSizes)+i):n.width-=ls(t.farSizes)+i:t.orientation==="Horizontal"?n.height-=ls(t.nearSizes)+i:(n.x+=ls(t.nearSizes)+i,n.width-=ls(t.nearSizes)+i)},n.prototype.calculateAxisSize=function(n){for(var t,u=this.heatMap,r=u.axisCollections,i=0,f=r.length;i<f;i++)t=r[i],t.rect=b({},n,null,!0),t.orientation!=="Horizontal"||t.opposedPosition||(t.rect.y=n.y+n.height,t.rect.height=0),t.orientation==="Vertical"&&t.opposedPosition&&(t.rect.x=n.x+n.width,t.rect.width=0)},n.prototype.drawXAxisLabels=function(n,t,i){var p=this.heatMap,l=n.axisLabels,o=i.width/n.axisLabelSize,a=0,tt=n.interval?n.interval:1,w=i.width/(n.axisLabelSize/n.axisLabelInterval),h=n.axisLabelInterval,k,u,rt,r,y,g,nt;if(w>0)while(w<parseInt(n.textStyle.size,10))h=h+1,w=i.width/(n.axisLabelSize/h);else h=n.tooltipLabels.length;n.axisLabelInterval<h&&(a=h,l=n.tooltipLabels,tt=h);var b=10,c=i.x+(n.isInversed?i.width:0),it,f=n.angle;for(b=this.padding,p.enableCanvasRendering||(k=this.heatMap.renderer.createGroup({id:p.element.id+"XAxisLabels"})),u=0,rt=l.length;u<rt;u++){var s=new oi(c,i.y,o,i.height),v=n.labelIntersectAction==="Trim"&&n.isIntersect?n.valueType!=="DateTime"||n.showLabelOn==="None"?as(o*tt,l[u],n.textStyle):as(n.dateTimeAxisLabelInterval[u]*o,l[u],n.textStyle):l[u],e=ui(v,n.textStyle),ut=void 0;if(it=n.opposedPosition?-b:b+3*(e.height/4),r=s.x+(n.isInversed?-(s.width/2+e.width/2):s.width/2-e.width/2),n.labelIntersectAction==="Trim"?r=n.isInversed?r>c-o?r:c-o:r>=s.x?r:s.x:f%180==0&&(r=r<i.x?i.x:r,r=r+e.width>i.x+i.width?i.x+i.width-e.width:r),y=i.y+it,f%360!=0){f=f>360?f%360:f;var d=sd(n.textStyle,v,f),ft=n.maxLabelSize.height-Math.ceil(d.height-e.height),et=n.opposedPosition?ft/2:-ft/2;r=s.x+(n.isInversed?-(s.width/2):s.width/2);y=y+(n.opposedPosition?-(d.height/2):(d.height-e.height)/2);ut="rotate("+f+","+r+","+y+")"}g=new te(p.element.id+"_XAxis_Label"+u,new ie(r,y,f%360==0?"start":"middle",v,f,ut),n.textStyle,n.textStyle.color||p.themeStyle.axisLabel);f!==0&&this.heatMap.enableCanvasRendering?this.drawSvgCanvas.canvasDrawText(g,v):this.drawSvgCanvas.createText(g,k,v);a===0?(nt=n.valueType==="DateTime"&&n.showLabelOn!=="None"?n.dateTimeAxisLabelInterval[u]:n.axisLabelInterval,c=c+(n.isInversed?-(nt*o):nt*o)):c=c+(n.isInversed?-(a*o):a*o);v.indexOf("...")!==-1&&this.heatMap.enableCanvasRendering&&this.heatMap.tooltipCollection.push(new ys(l[u],new oi(r,y-e.height,e.width,e.height)));a!==0&&(u=u+(a-1))}p.enableCanvasRendering||t.appendChild(k)},n.prototype.drawYAxisLabels=function(n,t,i){var u=this.heatMap,c=n.axisLabels,e=i.height/n.axisLabelSize,s=0,a=i.height/(n.axisLabelSize/n.axisLabelInterval),f=n.axisLabelInterval,v,r,w,p;if(a>0)while(a<parseInt(n.textStyle.size,10))f=f+1,a=i.height/(n.axisLabelSize/f);else f=n.tooltipLabels.length;n.axisLabelInterval<f&&(s=f,c=n.tooltipLabels);var l=10,h=i.y+(n.isInversed?0:i.height),nt=n.opposedPosition?"start":"end";for(l=n.opposedPosition?l:-l,u.enableCanvasRendering||(v=this.heatMap.renderer.createGroup({id:u.element.id+"YAxisLabels"})),r=0,w=c.length;r<w;r++){var y=new oi(i.x,h,i.width,e),b=y.height/2,k=y.x+l,d=y.y+(n.isInversed?b:-b),g=new te(u.element.id+"_YAxis_Label"+r,new ie(k,d,nt,c[r],0,"rotate(0,"+k+","+d+")","middle"),n.textStyle,n.textStyle.color||u.themeStyle.axisLabel);o.isIE&&!u.enableCanvasRendering&&(g.dy="1ex");this.drawSvgCanvas.createText(g,v,c[r]);s===0?(p=n.valueType==="DateTime"&&n.showLabelOn!=="None"?n.dateTimeAxisLabelInterval[r]:n.axisLabelInterval,h=h+(n.isInversed?p*e:-(p*e))):(h=h+(n.isInversed?s*e:-(s*e)),r=r+(s-1))}u.enableCanvasRendering||t.appendChild(v)},n}(),aii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),yo=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},ast=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return aii(t,n),yo([i(!0)],t.prototype,"showLabel",void 0),yo([i("")],t.prototype,"format",void 0),yo([i(!0)],t.prototype,"enableCellHighlighting",void 0),yo([nt({},id)],t.prototype,"border",void 0),yo([nt(vo.rectLabelFont,kh)],t.prototype,"textStyle",void 0),yo([i("Rect")],t.prototype,"tileType",void 0),yo([i("Color")],t.prototype,"bubbleType",void 0),yo([i(!1)],t.prototype,"isInversedBubbleSize",void 0),t}(it),vst=function(){function n(n){this.heatMap=n;this.drawSvgCanvas=new gh(this.heatMap);this.cellColor=new fd(this.heatMap)}return n.prototype.renderRectSeries=function(){var n,h,e,r,f,w,g,nt;this.createSeriesGroup();n=this.heatMap;n.xLength=n.axisCollections[0].axisLabelSize;n.yLength=n.axisCollections[1].axisLabelSize;var s=Math.round(n.initialClipRect.x*100)/100,v=Math.round(n.initialClipRect.y*100)/100,p=0,y=0,i=n.cellSettings,c=Math.round((n.initialClipRect.width-i.border.width/2)/n.xLength*100)/100,l=Math.round((n.initialClipRect.height-i.border.width/2)/n.yLength*100)/100,k=0,tt=n.themeStyle,u,d=[],a;for(u=i.border,this.rectPositionCollection=[],this.color="",this.bubbleColorValue=[],n.yAxis.opposedPosition&&(s=Math.round((n.initialClipRect.x+parseFloat(u.width.toString())/2)*100)/100),a=this.getBubbleRadius(c,l),r=0;r<n.xLength*n.yLength;r++)this.setTextAndColor(p,y),f=new dot(0,0,0,0,0,"",0,0,0,0),h=u.color,(n.renderingMode!=="Canvas"||parseFloat(u.width.toString())!==0)&&(h||i.tileType!=="Bubble"||i.bubbleType!=="Sector")||(h=this.color),this.heatMap.bubbleSizeWithColor?this.updateRectDetails(f,s,v,c,l,b("",this.bubbleColorValue,null,!0),r,y,p):this.updateRectDetails(f,s,v,c,l,this.text,r,y,p),i.showLabel&&(e=this.getFormatedText(this.text,i.format),t(this.heatMap.cellRender)||(e=this.cellRendering(f,e))),i.tileType==="Rect"?(this.renderTileCell(f,u,r,this.color,h),this.updateLabelVisibleStatus(c,l,e)):i.bubbleType==="Color"?(this.renderBubbleCell(f,u,r,this.color,h,a),this.updateLabelVisibleStatus(a*2-12,a*2-6,e)):t(this.text)||i.bubbleType!=="Size"&&i.bubbleType!=="SizeAndColor"||this.text.toString()===""?i.bubbleType!=="Sector"||t(this.text)||this.text.toString()===""||(this.renderSectorCell(f,u,r.toString(),this.color,h,a,this.text),this.checkLabelXDisplay=!1,this.checkLabelYDisplay=!1):(w=this.getRadiusBypercentage(parseFloat(this.text.toString()),n.dataSourceMinValue,n.dataSourceMaxValue,a),this.renderBubbleCell(f,u,r,this.color,h,w),this.updateLabelVisibleStatus(w*2-12,w*2-6,e)),d.push(f),i.showLabel&&this.checkLabelYDisplay&&this.checkLabelXDisplay&&(g=i.textStyle,nt=new te(n.element.id+"_HeatMapRectLabels_"+r,new ie(Math.round((s+c/2)*100)/100,Math.round((v+l/2)*100)/100,"middle",e,null,null,"middle"),g,g.color||this.getSaturatedColor(this.color)),o.isIE&&!n.enableCanvasRendering&&(nt.dy=this.heatMap.cellSettings.tileType==="Bubble"?"0.5ex":"1ex"),this.drawSvgCanvas.createText(nt,this.containerTextObject,e)),k===n.xLength-1?(v=Math.round((v+l)*100)/100,k=0,y=0,s=n.yAxis.opposedPosition?Math.round((n.initialClipRect.x+parseFloat(u.width.toString())/2)*100)/100:Math.round(n.initialClipRect.x*100)/100,this.rectPositionCollection.push(d),d=[],p++):(s=Math.round((s+c)*100)/100,k++,y++);n.enableCanvasRendering||(n.svgObject.appendChild(this.containerRectObject),!i.showLabel||i.tileType==="Bubble"&&i.bubbleType==="Sector"||n.svgObject.appendChild(this.containerTextObject))},n.prototype.cellRendering=function(n,t){var i=this.heatMap.axisCollections[0],r=this.heatMap.axisCollections[1],f=i.tooltipLabels,e=r.tooltipLabels.slice().reverse(),o=r.labelValue.slice().reverse(),u={heatmap:this.heatMap,cancel:!1,name:"cellRender",value:n.value,xLabel:f[n.xIndex].toString(),yLabel:e[n.yIndex].toString(),displayText:t,xValue:i.labelValue[n.xIndex],yValue:o[n.yIndex]};return this.heatMap.trigger("cellRender",u),u.displayText},n.prototype.setTextAndColor=function(n,i){var e=this.heatMap.cellSettings,u,r,f;this.bubbleColorValue=[];u=this.heatMap.dataSource;r=this.heatMap.clonedDataSource;this.heatMap.bubbleSizeWithColor?(this.text=!t(r[n][i][0])&&r[n][i][0].toString()!==""?r[n][i][0]:"",this.color=!t(r[n][i][1])&&r[n][i][1].toString()!==""?this.cellColor.getColorByValue(r[n][i][1]):this.heatMap.isColorValueExist?this.heatMap.emptyPointColor:this.cellColor.getColorByValue(this.text),f=new wot(u.isJsonData&&u.adaptorType==="Cell"?this.heatMap.dataSource.bubbleDataMapping.size:null,this.text,"Size"),this.bubbleColorValue.push(f),this.bubbleColorValue.push({mappingName:u.isJsonData&&u.adaptorType==="Cell"?this.heatMap.dataSource.bubbleDataMapping.color:null,bubbleData:!t(r[n][i][1])&&r[n][i][1].toString()!==""?r[n][i][1]:"",valueType:"Color"})):(this.text=r[n][i],this.color=this.cellColor.getColorByValue(this.text))},n.prototype.createSeriesGroup=function(){this.heatMap.enableCanvasRendering||(this.containerRectObject=this.heatMap.renderer.createGroup({id:this.heatMap.element.id+"_Container_RectGroup",x:this.heatMap.initialClipRect.x,y:this.heatMap.initialClipRect.y,transform:"translate( 0, 0)"}),!this.heatMap.cellSettings.showLabel||this.heatMap.cellSettings.tileType==="Bubble"&&this.heatMap.cellSettings.bubbleType==="Sector"||(this.containerTextObject=this.heatMap.renderer.createGroup({id:this.heatMap.element.id+"_Container_TextGroup",transform:"translate( 0, 0)"})))},n.prototype.updateRectDetails=function(n,t,i,r,u,f,e,o,s){n.x=t;n.y=i;n.width=r;n.height=u;n.value=f;n.id=this.heatMap.element.id+"_HeatMapRect_"+e;n.xIndex=o;n.yIndex=s},n.prototype.renderTileCell=function(n,t,i,r,u){var f=new af(this.heatMap.element.id+"_HeatMapRect_"+i,r,t,1,new oi(n.x,n.y,n.width,n.height),u||this.heatMap.themeStyle.cellBorder,t.radius,t.radius);this.drawSvgCanvas.drawRectangle(f,this.containerRectObject,!0)},n.prototype.getBubbleRadius=function(n,t){var i=n/2-2;return t/2<n/2&&(i=t/2-2),i<0?0:i},n.prototype.renderSectorCell=function(n,t,i,r,u,f,e){for(var v,nt,y,p,s,h,c,l,a,tt,it,w,b=Math.round((n.x+n.width/2)*100)/100,k=Math.round((n.y+n.height/2)*100)/100,d=r,o=this.getRadiusBypercentage(e,this.heatMap.dataSourceMinValue,this.heatMap.dataSourceMaxValue,360),g=0;g<2;g++)if(w=parseFloat(t.width.toString()),g===0?(y=o>=180?1:0,p=-90,s=o===0?270:o-90,h=Math.round((b+f*Math.cos((o-90)*(Math.PI/180)))*100)/100,c=Math.round((k+f*Math.sin((o-90)*(Math.PI/180)))*100)/100,l=Math.round(b*100)/100,a=Math.round((k-f)*100)/100,o===0&&(d=this.heatMap.emptyPointColor)):(y=o>=180?0:1,p=s,s=270,d=this.heatMap.emptyPointColor,i=i+"_Unfilled",tt=h,it=c,h=l,c=a,l=tt,a=it,o===0&&(w=1,u=r)),v=new tst("",!1,b,k,l,a,h,c,p,s,f,!0),nt=new nst(this.heatMap.element.id+"_HeatMapRect_"+i,v,d,t,w,1,u),this.calculateShapes(nt,v,o,y),this.drawSvgCanvas.drawPath(nt,v,this.containerRectObject),o===360)break},n.prototype.calculateShapes=function(n,t,i,r){var u;switch(i){case 360:case 0:i===0&&t.start===t.end?u="M "+n.x+" "+n.y+" L "+t.x+" "+(t.y-t.radius):(u=this.heatMap.enableCanvasRendering?"":"M "+n.x+" "+n.y+" ",u=u+"m "+-t.radius+" 0 a "+t.radius+" "+t.radius+" 0 1 0 "+t.radius*2+" 0 a "+t.radius+" "+t.radius+" 0 1 0 "+-(t.radius*2)+" 0 ");st(n,{d:u});break;default:u="M "+n.x+" "+n.y+" L "+t.x1+" "+t.y1+" A "+t.radius+" "+t.radius+" 0 "+r+" 1 "+t.cx+" "+t.cy+" Z";st(n,{d:u})}},n.prototype.renderBubbleCell=function(n,t,i,r,u,f){var e=new got(this.heatMap.element.id+"_HeatMapRect_"+i,r,t,1,u||this.heatMap.themeStyle.cellBorder,Math.round((n.x+n.width/2)*100)/100,Math.round((n.y+n.height/2)*100)/100,f);this.drawSvgCanvas.drawCircle(e,this.containerRectObject)},n.prototype.updateLabelVisibleStatus=function(n,t,i){this.heatMap.cellSettings.showLabel&&(this.checkLabelYDisplay=t>parseInt(this.heatMap.cellSettings.textStyle.size,10)?!0:!1,this.checkLabelXDisplay=n>i.length*(parseInt(this.heatMap.cellSettings.textStyle.size,10)/2)?!0:!1)},n.prototype.getRadiusBypercentage=function(n,t,i,r){var u=(n-t)/(i-t)*100;return u=isNaN(u)?100:u,r=(this.heatMap.bubbleSizeWithColor||this.heatMap.cellSettings.tileType==="Bubble"&&this.heatMap.cellSettings.bubbleType==="Size")&&this.heatMap.cellSettings.isInversedBubbleSize?r-r*(u/100):r*(u/100),Math.round(r*100)/100<0?0:Math.round(r*100)/100},n.prototype.getSaturatedColor=function(n){var t=n,i,r;return t=t==="transparent"?window.getComputedStyle(document.body,null).backgroundColor:t,i=cst(sst(t)),r=Math.round((i.R*299+i.G*587+i.B*114)/1e3),r>=128?"black":"white"},n.prototype.highlightSvgRect=function(n){var r,i,t;n.indexOf("Celltooltip")===-1&&(n.indexOf("_HeatMapRect")!==-1?(n.indexOf("_HeatMapRectLabels_")!==-1&&(r=n.indexOf("_HeatMapRectLabels_")+19,n=this.heatMap.element.id+"_HeatMapRect_"+n.slice(r)),i=document.getElementById(n),this.heatMap.tempRectHoverClass!==n&&(this.heatMap.cellSettings.enableCellHighlighting&&(t=document.getElementById(this.heatMap.tempRectHoverClass),t&&(t.style.opacity="1"),i&&(i.style.opacity="0.65")),this.heatMap.tempRectHoverClass=n)):this.heatMap.cellSettings.enableCellHighlighting&&(t=document.getElementById(this.heatMap.tempRectHoverClass),t&&(t.style.opacity="1",this.heatMap.tempRectHoverClass="")))},n.prototype.getFormatedText=function(n,t){var i=t,u=i.match("{value}")!==null,r;return this.format=this.heatMap.intl.getNumberFormat({format:u?"":i}),r="",n.toString()!==""&&(r=cy(u,i,n,this.format)),r},n.prototype.getCurrentRect=function(n,t){var f,i=[],r,u;return i.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]),r=Math.ceil((n-i[0].x)/i[0].width)<this.heatMap.axisCollections[0].axisLabelSize?Math.ceil((n-i[0].x)/i[0].width):this.heatMap.axisCollections[0].axisLabelSize,u=Math.floor((t-i[0].y)/i[0].height)<this.heatMap.axisCollections[1].axisLabelSize?Math.floor((t-i[0].y)/i[0].height):this.heatMap.axisCollections[1].axisLabelSize-1,r=r===0?1:r,f=this.heatMap.heatMapSeries.rectPositionCollection[u][r-1],this.hoverXAxisLabel=this.heatMap.axisCollections[0].tooltipLabels[r-1],this.hoverXAxisValue=this.heatMap.axisCollections[0].labelValue[r-1],this.hoverYAxisLabel=this.heatMap.axisCollections[1].tooltipLabels[this.heatMap.axisCollections[1].tooltipLabels.length-1-u],this.hoverYAxisValue=this.heatMap.axisCollections[1].labelValue[this.heatMap.axisCollections[1].labelValue.length-1-u],f},n}(),vii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ad=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},yst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return vii(t,n),ad([i("")],t.prototype,"fill",void 0),ad([nt({},id)],t.prototype,"border",void 0),ad([nt(vo.tooltipFont,kh)],t.prototype,"textStyle",void 0),t}(it),pst=function(){function n(n){this.isFirst=!0;this.isFadeout=!1;this.heatMap=n}return n.prototype.getModuleName=function(){return"Tooltip"},n.prototype.showHideTooltip=function(n,t){var i=document.getElementById(this.heatMap.element.id+"Celltooltipcontainer"),r;n?i.style.visibility="visible":(i&&i.style.visibility!=="hidden"&&(this.tooltipObject&&t?this.tooltipObject.fadeOut():this.tooltipObject&&this.tooltipObject.element&&(r=this.tooltipObject.element.firstChild,r.setAttribute("opacity","0")),i.style.visibility="hidden"),this.isFadeout=!0)},n.prototype.destroy=function(){},n.prototype.createTooltip=function(n,t,i){var r=null;this.heatMap.cellSettings.showLabel&&this.heatMap.heatMapSeries.checkLabelXDisplay&&this.heatMap.heatMapSeries.checkLabelYDisplay&&(r=parseInt(this.heatMap.cellSettings.textStyle.size,10)/2);this.tooltipObject=new nd({enableAnimation:!1,offset:r,location:{x:n,y:t},theme:this.heatMap.theme,content:i,fill:this.heatMap.tooltipSettings.fill,border:{width:this.heatMap.tooltipSettings.border.width,color:this.heatMap.tooltipSettings.border.color},textStyle:{size:this.heatMap.tooltipSettings.textStyle.size,fontWeight:this.heatMap.tooltipSettings.textStyle.fontWeight,color:this.heatMap.tooltipSettings.textStyle.color,fontStyle:this.heatMap.tooltipSettings.textStyle.fontStyle,fontFamily:this.heatMap.tooltipSettings.textStyle.fontFamily},areaBounds:{height:this.heatMap.initialClipRect.height+this.heatMap.initialClipRect.y,width:this.heatMap.initialClipRect.width,x:this.heatMap.initialClipRect.x}},"#"+this.heatMap.element.id+"Celltooltipcontainer")},n.prototype.createTooltipDiv=function(){var n=ct("div",{id:this.heatMap.element.id+"Celltooltipcontainer",styles:"position:absolute"});this.heatMap.element.appendChild(ct("div",{id:this.heatMap.element.id+"Celltooltipparent",styles:"position:relative"}).appendChild(n))},n.prototype.getTooltipContent=function(n,t){var r,f,i=this.heatMap,u=this.heatMap.dataSource;if(i.bubbleSizeWithColor){var e=i.xAxis.title&&i.xAxis.title.text!==""?i.xAxis.title.text:"X-Axis",o=i.yAxis.title&&i.yAxis.title.text!==""?i.yAxis.title.text:"Y-Axis",s=u.isJsonData&&u.adaptorType==="Cell"?i.dataSource.bubbleDataMapping.size:"Value 1",h=u.isJsonData&&u.adaptorType==="Cell"?i.dataSource.bubbleDataMapping.color:"Value 2";r=t.getFormatedText(n.value[0].bubbleData,this.heatMap.cellSettings.format);f=[e+" : "+t.hoverXAxisLabel+"<br/>"+o+" : "+t.hoverYAxisLabel+"<br/>"+s+" : "+r+"<br/>"+h+" : "+t.getFormatedText(n.value[1].bubbleData,this.heatMap.cellSettings.format)]}else r=n.value,f=[t.hoverXAxisLabel+" | "+t.hoverYAxisLabel+" : "+t.getFormatedText(r,this.heatMap.cellSettings.format)];return f},n.prototype.renderTooltip=function(n){var u=this.heatMap.heatMapSeries,i=[""],e=this.heatMap.bubbleSizeWithColor?!t(n.value)&&!t(n.value[0].bubbleData)&&n.value[0].bubbleData.toString()!==""?!0:!1:t(n.value)||!t(n.value)&&n.value.toString()===""?!1:!0,f,r;if(e){if(t(this.heatMap.tooltipRender))i=this.getTooltipContent(n,u);else{if(f=this.getTooltipContent(n,u),r={heatmap:this.heatMap,cancel:!1,name:"tooltipRender",value:n.value,xValue:this.heatMap.heatMapSeries.hoverXAxisValue,yValue:this.heatMap.heatMapSeries.hoverYAxisValue,xLabel:this.heatMap.heatMapSeries.hoverXAxisLabel?this.heatMap.heatMapSeries.hoverXAxisLabel.toString():null,yLabel:this.heatMap.heatMapSeries.hoverYAxisLabel?this.heatMap.heatMapSeries.hoverYAxisLabel.toString():null,content:f},this.heatMap.trigger("tooltipRender",r),r.cancel){this.tooltipObject&&this.showHideTooltip(!1);return}i=r.content}this.tooltipObject?this.tooltipObject.content=i:this.createTooltip(n.x+n.width/2,n.y+n.height/2,i);this.showHideTooltip(!0);this.tooltipObject.enableAnimation=this.isFirst||this.isFadeout?!1:!0;this.isFirst=this.isFirst?!1:this.isFirst;this.isFadeout=this.isFadeout?!1:this.isFadeout;this.tooltipObject.location.x=n.x+n.width/2;this.tooltipObject.location.y=n.y+n.height/2}else this.showHideTooltip(!1,!1)},n}(),wst=function(){function n(n){this.heatMap=n}return n.prototype.processDataSource=function(n){var v=b([],n,null,!0),u,f,l;this.heatMap.clonedDataSource=[];this.completeDataSource=[];var i=this.heatMap.axisCollections,e=i[0].maxLength+1,o=i[0].axisLabelSize+(i[0].min>0?i[0].min:0),y=e>o?e:o,s,h;e=i[1].maxLength+1;o=i[1].axisLabelSize+(i[1].min>0?i[1].min:0);var p=e>o?e:o,a,r=0,c=[];for(this.tempSizeArray=[],this.tempColorArray=[],this.heatMap.minColorValue=null,this.heatMap.maxColorValue=null,u=i[1].valueType==="Category"?i[1].min:0;u<p;u++){for(f=i[0].valueType==="Category"?i[0].min:0,this.completeDataSource.push([]);f<y;)f>=i[0].min&&f<=i[0].max&&this.processDataArray(v,f,u,r),f++;a=b([],this.completeDataSource[r],null,!0);l=this.getMinMaxValue(s,h,a);s=l[0];h=l[1];this.heatMap.xAxis.isInversed&&(this.completeDataSource[r]=this.completeDataSource[r].reverse());u>=this.heatMap.axisCollections[1].min&&u<=this.heatMap.axisCollections[1].max&&c.push(this.completeDataSource[r]);r++}this.heatMap.yAxis.isInversed||(this.completeDataSource.reverse(),c.reverse());this.heatMap.clonedDataSource=c;this.heatMap.dataSourceMinValue=t(s)?0:parseFloat(s.toString());this.heatMap.dataSourceMaxValue=t(h)?0:parseFloat(h.toString());this.heatMap.isColorValueExist=t(this.heatMap.minColorValue)?!1:!0;this.heatMap.minColorValue=t(this.heatMap.minColorValue)?this.heatMap.dataSourceMinValue:parseFloat(this.heatMap.minColorValue.toString());this.heatMap.maxColorValue=t(this.heatMap.maxColorValue)?this.heatMap.dataSourceMaxValue:parseFloat(this.heatMap.maxColorValue.toString())},n.prototype.processDataArray=function(n,i,r,u){var e,f;if(this.heatMap.bubbleSizeWithColor)if(n[i]&&!t(n[i][r])&&typeof n[i][r]=="object"){for(e=n[i][r],f=0;f<e.length;f++)if(t(e[f])&&(e[f]=""),f===0)this.tempSizeArray.push(e[f]);else if(f===1){this.tempColorArray.push(e[f]);break}this.completeDataSource[u].push(e)}else!t(n[i])&&(n[i][r]||n[i][r]===0&&n[i][r].toString()!=="")?(this.completeDataSource[u].push([n[i][r]]),this.tempSizeArray.push(n[i][r])):this.completeDataSource[u].push("");else n[i]&&(n[i][r]||n[i][r]===0&&n[i][r].toString()!=="")?typeof n[i][r]=="object"?n[i][r].length>0&&!t(n[i][r][0])?this.completeDataSource[u].push(n[i][r][0]):this.completeDataSource[u].push(""):this.completeDataSource[u].push(n[i][r]):this.completeDataSource[u].push("")},n.prototype.getMinMaxValue=function(n,t,i){var r=[];return this.heatMap.bubbleSizeWithColor?(r.push(this.getMinValue(n,this.tempSizeArray)),r.push(this.getMaxValue(t,this.tempSizeArray)),this.heatMap.minColorValue=this.getMinValue(this.heatMap.minColorValue,this.tempColorArray),this.heatMap.maxColorValue=this.getMaxValue(this.heatMap.maxColorValue,this.tempColorArray)):(r.push(this.getMinValue(n,i)),r.push(this.getMaxValue(t,i))),r},n.prototype.getMinValue=function(n,i){return t(n)?n=this.performSort(i):this.performSort(i)<n&&(n=this.performSort(i)),t(n)?n:parseFloat(n.toString())},n.prototype.getMaxValue=function(n,i){return t(n)&&i.length>0?n=Math.max.apply(Math,i):Math.max.apply(Math,i)>n&&(n=Math.max.apply(Math,i)),t(n)?n:parseFloat(n.toString())},n.prototype.performSort=function(n){return n.sort(function(n,t){return n-t}).filter(this.checkmin)[0]},n.prototype.checkmin=function(n){return!t(n)&&n.toString()!==""},n}(),yii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),re=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},bst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return yii(t,n),re([i("")],t.prototype,"height",void 0),re([i("")],t.prototype,"width",void 0),re([i("Right")],t.prototype,"position",void 0),re([i(!0)],t.prototype,"visible",void 0),re([i("Center")],t.prototype,"alignment",void 0),re([i(!0)],t.prototype,"showLabel",void 0),re([i(!0)],t.prototype,"showGradientPointer",void 0),re([i(!1)],t.prototype,"enableSmartLegend",void 0),re([i("All")],t.prototype,"labelDisplayType",void 0),re([nt(vo.legendLabelFont,kh)],t.prototype,"textStyle",void 0),t}(it),kst=function(){function n(n){this.maxLegendLabelSize=new lf(0,0);this.gradientScaleSize=10;this.segmentCollections=[];this.textWrapCollections=[];this.labelCollections=[];this.legendSize=10;this.previousOptions=new est(0,0,0,0,0,0);this.listPerPage=0;this.numberOfPages=1;this.listWidth=0;this.fillRect=new oi(0,0,0,0);this.legendRect=new oi(0,0,0,0);this.currentPage=1;this.lastList=[];this.navigationCollections=[];this.pagingRect=new oi(0,0,0,0);this.listInterval=10;this.legendLabelTooltip=[];this.labelXCollections=[];this.labelYCollections=[];this.legendXCollections=[];this.legendYCollections=[];this.legendRectPositionCollection=[];this.heatMap=n;this.drawSvgCanvas=new gh(n)}return n.prototype.getModuleName=function(){return"Legend"},n.prototype.destroy=function(){},n.prototype.renderLegendItems=function(){var n=this.heatMap,h={color:"transparent",width:0},c,t,r,o,u,s,f,i,e,y,p,w;if(this.legend=n.renderer.createGroup({id:n.element.id+"_Heatmap_Legend"}),c=new af(n.element.id+"_LegendBound","none",h,1,this.legendGroup),this.drawSvgCanvas.drawRectangle(c,this.legend),t=this.legendRectScale,r=new oi(t.x,t.y,t.width,t.height),n.paletteSettings.type==="Gradient"||n.paletteSettings.type==="Fixed"&&n.legendSettings.enableSmartLegend===!0){if(n.paletteSettings.type==="Gradient"){if(o=void 0,n.enableCanvasRendering){for(u=void 0,s=n.canvasRenderer.ctx,u=n.horizontalGradient?s.createLinearGradient(t.x,0,t.x+t.width,0):s.createLinearGradient(0,t.y,0,t.y+t.height),i=0;i<n.legendColorCollection.length;i++)f=(n.legendColorCollection[i].value-this.legendMinValue)/(this.legendMaxValue-this.legendMinValue),f=isNaN(f)?0:f,u.addColorStop(f,n.legendColorCollection[i].color);s.fillStyle=u;o=u.toString()}else{var l=void 0,a=void 0,v=[];for(i=0;i<n.legendColorCollection.length;i++)if(e=(n.legendColorCollection[i].value-this.legendMinValue)/(this.legendMaxValue-this.legendMinValue)*100,e=isNaN(e)?0:e,a=new hd(n.legendColorCollection[i].color,e+"%"),v.push(a),this.legendMaxValue===this.legendMinValue)break;l=n.horizontalGradient?new sy(n.element.id+"_lineargradient","0%","100%","0%","0%"):new sy(n.element.id+"_lineargradient","0%","0%","0%","100%");y=n.renderer.drawGradient("linearGradient",l,v);this.legend.appendChild(y);o="url(#"+n.element.id+"_lineargradient)"}p=new af(n.element.id+"_Gradient_Legend",o,h,1,r);this.drawSvgCanvas.drawRectangle(p,this.legend);this.renderColorAxisGrid(r)}else this.renderSmartLegend();n.enableCanvasRendering||n.svgObject.appendChild(this.legend);n.legendSettings.showLabel&&(n.paletteSettings.type==="Gradient"||n.paletteSettings.type==="Fixed"&&n.legendSettings.labelDisplayType!=="None")&&this.renderLegendLabel(r)}else this.legendScale=n.renderer.createGroup({id:n.element.id+"Heatmap_GradientScale"}),w=new af(n.element.id+"_Gradient_Scale","none",h,1,this.legendRectScale),this.drawSvgCanvas.drawRectangle(w,this.legendScale),n.enableCanvasRendering||this.legend.appendChild(this.legendScale),this.translategroup=n.renderer.createGroup({id:n.element.id+"_translate"}),this.calculateListPerPage(r),this.numberOfPages>1&&(this.paginggroup=n.renderer.createGroup({id:n.element.id+"_navigation"})),this.renderListLegendMode(r)},n.prototype.renderSmartLegend=function(){var i=this.heatMap,u=i.colorCollection,a,p={color:"transparent",width:0},r=this.legendRectScale,f,e,o,s,h=r.width/u.length,c=r.height/u.length,n,t,v,y,l;for(this.legendRectPositionCollection=[],n=0;n<u.length;n++)t=new ost(0,0,0,0,"",""),i.horizontalGradient?(f=r.x+n*h,e=r.y,o=h,s=r.height,this.segmentCollections.push(i.legendSettings.labelDisplayType==="Edge"&&n===u.length-1?f+h:f)):(f=r.x,e=r.y+n*c,o=r.width,s=c,this.segmentCollections.push(i.legendSettings.labelDisplayType==="Edge"&&n===u.length-1?e+c:e)),a=new oi(f,e,o,s),v=new af(i.element.id+"_Smart_Legend"+n,u[n].color,p,1,a),this.drawSvgCanvas.drawRectangle(v,this.legend),t.x=f,t.y=e,t.width=o,t.height=s,t.label=this.labelCollections[n],t.id=i.element.id+"_Smart_Legend"+n,this.legendRectPositionCollection.push(t),y=nc(this.labelCollections[n],i.legendSettings.textStyle,this.textWrapCollections[n]),y.length!==0&&i.enableCanvasRendering&&(l=ui(this.labelCollections[n],i.legendSettings.textStyle),this.legendLabelTooltip.push(new ys(this.labelCollections[n],new oi(t.x,t.y,l.width,l.height))))},n.prototype.renderLegendLabel=function(n){var t=this.heatMap,p,e,f,w=0,r,u,l,s,h,i,a,v,b,y,c,k;for(this.legendLabelTooltip=[],u=t.paletteSettings.type==="Gradient"?t.legendColorCollection:t.colorCollection,t.enableCanvasRendering?(l=t.canvasRenderer.ctx,l.rect(this.legendGroup.x,this.legendGroup.y,this.legendGroup.width,this.legendGroup.height),l.clip()):f=t.renderer.createGroup({id:t.element.id+"_Heatmap_LegendLabel"}),i=0;i<u.length;i++)if(a=(u[i].value-this.legendMinValue)/(this.legendMaxValue-this.legendMinValue)*100,t.horizontalGradient?(s=this.segmentCollections[i],h=n.y+n.height+this.labelPadding,p=a===0||t.paletteSettings.type==="Fixed"?t.legendSettings.labelDisplayType==="Edge"&&i===u.length-1?"end":"start":i===u.length-1?"end":"middle",e="hanging"):(s=n.x+n.width+this.labelPadding,h=this.segmentCollections[i],e=a===0||t.paletteSettings.type==="Fixed"?t.legendSettings.labelDisplayType==="Edge"&&i===u.length-1?"baseline":"hanging":i===u.length-1?"baseline":"middle"),w=t.horizontalGradient?this.textWrapCollections[i]:this.width-(this.legendRectScale.width+this.labelPadding+this.legendRectPadding),this.labelCollections[i]!==""&&(r=nc(this.labelCollections[i],t.legendSettings.textStyle,w),r.length!==0&&r[0].indexOf("...")!==-1&&t.enableCanvasRendering&&(v=ui(r[0],t.legendSettings.textStyle),this.legendLabelTooltip.push(new ys(this.labelCollections[i],new oi(s,h,v.width,v.height)))),b=new ie(s,h,p,r,0,"translate(0,0)",e),y=new te(t.element.id+"_Legend_Label"+i,b,t.legendSettings.textStyle,t.legendSettings.textStyle.color||t.themeStyle.legendLabel),r.length>1?this.drawSvgCanvas.createWrapText(y,t.legendSettings.textStyle,f):this.drawSvgCanvas.createText(y,f,r[0]),o.isIE&&!t.enableCanvasRendering&&(e==="middle"?f.lastChild.setAttribute("dy","0.6ex"):e==="hanging"&&f.lastChild.setAttribute("dy","1.5ex"))),this.legendMaxValue===this.legendMinValue&&t.paletteSettings.type==="Gradient")break;t.enableCanvasRendering||(this.legendGroup.height=this.legendGroup.height>0?this.legendGroup.height:0,this.legendGroup.width=this.legendGroup.width>0?this.legendGroup.width:0,this.legend.appendChild(f),c=t.renderer.createClipPath({id:t.element.id+"_clipPath"}),k=t.renderer.drawRectangle(this.legendGroup),c.appendChild(k),t.svgObject.appendChild(c),this.legend.setAttribute("style","clip-path:url(#"+c.id+")"))},n.prototype.renderGradientPointer=function(n,t,i){var f=this.heatMap,e=f.heatMapSeries.getCurrentRect(t,i),y=f.bubbleSizeWithColor?e.value[0].bubbleData.toString()!==""?this.heatMap.isColorValueExist?e.value[1].bubbleData.toString():e.value[0].bubbleData.toString():"":e.value.toString(),r=this.legendRectScale,o,w,p,u,s,h,c,l,a,v,b;y.toString()!==""?(f.horizontalGradient?(o=r.width/100,u=o*((Number(y)-this.legendMinValue)/(this.legendMaxValue-this.legendMinValue))*100,u=isNaN(u)?0:u,s=r.x+u,h=r.y+r.height,c=r.x-5+u,l=v=r.y+r.height+8,a=r.x+5+u):(o=r.height/100,u=o*((Number(y)-this.legendMinValue)/(this.legendMaxValue-this.legendMinValue))*100,u=isNaN(u)?0:u,s=r.x-1,h=r.y+u,c=a=r.x-8,l=r.y-5+u,v=r.y+5+u),w="M "+s+" "+h+" L "+c+" "+l+" L "+a+" "+v+" Z",p=new ao(f.element.id+"_Gradient_Pointer","gray",.01,"#A0A0A0",1,"0,0",w),f.enableCanvasRendering?(this.removeGradientPointer(),b=void 0,f.canvasRenderer.drawPath(p,b),this.previousOptions.pathX1=s,this.previousOptions.pathY1=h,this.previousOptions.pathX2=c,this.previousOptions.pathY2=l,this.previousOptions.pathX3=a,this.previousOptions.pathY3=v):(this.gradientPointer=f.renderer.drawPath(p),this.gradientPointer.style.visibility="visible",this.legend.appendChild(this.gradientPointer))):this.removeGradientPointer()},n.prototype.removeGradientPointer=function(){var n=this.heatMap;this.gradientPointer&&!n.enableCanvasRendering?this.gradientPointer.style.visibility="hidden":n.enableCanvasRendering&&(Object.keys(this.previousOptions).length!==0&&(n.horizontalGradient?(this.fillRect.x=this.previousOptions.pathX2-1,this.fillRect.y=this.previousOptions.pathY1,this.fillRect.width=this.previousOptions.pathX3-this.previousOptions.pathX2+2,this.fillRect.height=this.previousOptions.pathY2+1-this.previousOptions.pathY1):(this.fillRect.x=this.previousOptions.pathX2-1,this.fillRect.y=this.previousOptions.pathY2-1,this.fillRect.width=this.previousOptions.pathX1-this.previousOptions.pathX2+1,this.fillRect.height=this.previousOptions.pathY3-this.previousOptions.pathY2+2)),n.canvasRenderer.ctx.fillStyle=n.themeStyle.background,n.canvasRenderer.ctx.fillRect(this.fillRect.x,this.fillRect.y,this.fillRect.width,this.fillRect.height))},n.prototype.calculateLegendBounds=function(n){var t=this.heatMap,i=t.legendSettings,f=t.legendColorCollection,u,r,e;if(this.labelCollections=[],i.position!=="Bottom"&&i.position!=="Top"&&i.position!=="Right"&&i.position!=="Left"&&(i.position="Right"),t.horizontalGradient=i.position==="Bottom"||i.position==="Top",this.legendRectPadding=t.horizontalGradient?16:10,this.labelPadding=i.showLabel?this.heatMap.horizontalGradient?10:6:0,this.legendHeight=i.height,this.legendWidth=i.width,t.paletteSettings.type==="Fixed")for(u=t.colorCollection,r=0;r<u.length;r++)e=u[r].label?u[r].label:u[r].value.toString(),t.legendSettings.enableSmartLegend&&t.legendSettings.labelDisplayType==="Edge"&&r>0&&r<u.length-1?this.labelCollections.push(""):this.labelCollections.push(e);else for(r=0;r<f.length;r++)e=f[r].isHidden?"":f[r].label?f[r].label:f[r].value.toString(),this.labelCollections.push(e);t.paletteSettings.type==="Gradient"||t.paletteSettings.type==="Fixed"&&t.legendSettings.enableSmartLegend?(this.maxLegendLabelSize=this.getMaxLabelSize(),t.horizontalGradient&&i.height===""?this.legendHeight=(2*this.legendRectPadding+this.legendSize+this.maxLegendLabelSize.height).toString():!t.horizontalGradient&&i.width===""&&(i.textStyle.textOverflow==="None"||t.paletteSettings.type==="Fixed"&&t.legendSettings.enableSmartLegend&&t.legendSettings.labelDisplayType==="None")&&(this.legendWidth=(2*this.legendRectPadding+this.legendSize+this.maxLegendLabelSize.width).toString())):this.calculateListLegendBounds(n);this.legendHeight=this.legendHeight?this.legendHeight:t.horizontalGradient?"50":"100%";this.legendWidth=this.legendWidth?this.legendWidth:t.horizontalGradient?"100%":t.paletteSettings.type==="Fixed"&&!t.legendSettings.enableSmartLegend?"70":"50";this.height=uf(this.legendHeight,n.height);this.width=uf(this.legendWidth,n.width);t.horizontalGradient?(this.height=t.paletteSettings.type==="Gradient"?this.height<50?50:this.height:this.height,i.position==="Top"&&(n.y+=this.height),n.height-=this.height):(this.width=t.paletteSettings.type==="Gradient"?this.width<50?50:this.width:this.width,i.position==="Left"&&(n.x+=this.width),n.width-=this.width)},n.prototype.calculateListLegendBounds=function(n){var t=this.heatMap,r,i,u,f,e;if(this.listWidth=0,this.listHeight=0,this.currentPage=1,r=10,t.horizontalGradient){for(i=0;i<t.colorCollection.length;i++)u=0,t.legendSettings.showLabel&&(f=this.labelCollections[i],u=ui(f,t.legendSettings.textStyle).width),e=this.legendSize+this.labelPadding+u+this.listInterval,this.listWidth+=e;this.listWidth+=this.listInterval+r;this.legendWidth===""&&(this.legendWidth=this.listWidth>n.width?n.width.toString():this.listWidth.toString());this.legendHeight===""&&(this.numberOfRows=Math.ceil(this.listWidth/uf(this.legendWidth,n.width)),this.numberOfRows=this.numberOfRows>3?3:this.numberOfRows,this.legendHeight=(this.listWidth>n.width||this.listWidth>uf(this.legendWidth,n.width))&&this.numberOfRows>3?((this.legendSize+this.listInterval)*this.numberOfRows+this.legendRectPadding+parseInt(t.legendSettings.textStyle.size,10)+r).toString():((this.legendSize+this.listInterval)*this.numberOfRows+this.legendRectPadding).toString())}else this.listHeight=(this.legendSize+this.listInterval)*t.colorCollection.length+this.listInterval,this.legendHeight===""&&(this.legendHeight=this.listHeight>n.height?n.height.toString():this.listHeight.toString()),this.legendWidth===""&&t.legendSettings.textStyle.textOverflow!=="Trim"&&(this.maxLegendLabelSize=this.getMaxLabelSize(),this.legendWidth=(2*this.legendRectPadding+this.legendSize+this.labelPadding+this.maxLegendLabelSize.width).toString());uf(this.legendHeight,n.height)<50&&(this.legendHeight="50");uf(this.legendWidth,n.width)<70&&(this.legendWidth="70")},n.prototype.getMaxLabelSize=function(){var n=this.heatMap,t,r,i;if(this.maxLegendLabelSize=new lf(0,0),n.legendSettings.showLabel&&(!n.horizontalGradient||n.paletteSettings.type!=="Fixed"||n.legendSettings.enableSmartLegend)&&(n.paletteSettings.type!=="Fixed"||n.legendSettings.labelDisplayType!=="None")){for(t=this.maxLegendLabelSize,r=0;r<n.colorCollection.length;r++)i=ui(this.labelCollections[r],n.legendSettings.textStyle),t.width=t.width>i.width?t.width:i.width,t.height=t.height>i.height?t.height:i.height;return t}return this.maxLegendLabelSize},n.prototype.calculateLegendSize=function(n,t){var i=this.heatMap,h=i.legendSettings,c,l,f=10,e=h.alignment,u=uf(this.legendHeight,n.height),r=uf(this.legendWidth,n.width),o=i.axisCollections,s=0,a,v;i.horizontalGradient?(r=r>n.width?n.width:r,u=i.paletteSettings.type==="Gradient"?u>50?u:50:this.height,c=e==="Near"?n.x:e==="Far"?n.x+n.width-r:n.x+n.width/2-r/2,i.xAxis.title.text!==""&&(s=ui(i.xAxis.title.text,i.xAxis.textStyle).height+f),a=o[0].opposedPosition?0:o[0].maxLabelSize.height+s+f,l=h.position==="Top"?i.titleSettings.text?t:i.margin.top:n.y+n.height+a):(u=u>n.height?n.height:u,r=i.paletteSettings.type==="Gradient"?r>50?r:50:r,l=e==="Near"?n.y:e==="Far"?n.y+n.height-u:n.y+n.height/2-u/2,i.yAxis.title.text!==""&&(s=ui(i.yAxis.title.text,i.yAxis.textStyle).height+f),v=o[1].opposedPosition?o[1].maxLabelSize.width+s+f:0,c=h.position==="Right"?n.x+n.width+v:i.margin.left);this.legendGroup=new oi(c,l,r,u);this.calculateGradientScale(this.legendGroup)},n.prototype.measureListLegendBound=function(n){var i=this.heatMap,t;this.numberOfPages=1;i.horizontalGradient?this.listWidth>this.width?(this.numberOfRows=Math.ceil(this.listWidth/this.width),this.listHeight=(this.legendSize+this.listInterval)*this.numberOfRows,this.listPerPage=this.numberOfRows<=3?this.numberOfRows:Math.ceil((this.height-15-parseInt(i.legendSettings.textStyle.size,10)-this.legendRectPadding)/(this.legendSize+this.listInterval)),this.numberOfPages=Math.ceil(this.numberOfRows/this.listPerPage)):this.listPerPage=1:this.listHeight>n.height||this.listHeight>this.height?(t=uf(this.legendHeight,n.height),t=t>n.height?n.height:t,this.listPerPage=Math.floor(t/(this.legendSize+this.listInterval)-1),this.numberOfPages=Math.max(1,Math.ceil(i.colorCollection.length/this.listPerPage))):(this.listPerPage=i.colorCollection.length,this.legendHeight=this.listHeight.toString())},n.prototype.renderPagingElements=function(){var t=this.heatMap,v,h,c,l,p,w,a;if(this.numberOfPages>1){this.navigationCollections=[];this.legend.appendChild(this.paginggroup);var n=10,r=this.legendGroup.x+this.legendGroup.width-n,i=this.legendGroup.y+this.legendGroup.height-n,e=this.currentPage+"/"+this.numberOfPages,u=ui(e,t.legendSettings.textStyle),s=r-u.width-15,b=new ie(s,i,"start",e,0,"translate(0,0)","middle"),k=new te(t.element.id+"_paging",b,t.legendSettings.textStyle,t.legendSettings.textStyle.color||t.themeStyle.legendLabel);this.drawSvgCanvas.createText(k,this.paginggroup,e);o.isIE&&!t.enableCanvasRendering&&this.paginggroup.lastChild.setAttribute("dy","0.6ex");this.pagingRect=new oi(s,i-u.height/2,u.width,u.height);v=new af(t.element.id+"_pagingText","none",{color:"transparent",width:0},1,this.pagingRect);this.drawSvgCanvas.drawRectangle(v,this.paginggroup);h=new af(t.element.id+"_rightArrow","none",{color:"transparent",width:0},1,new oi(r-n,i-n/2,n,n));this.drawSvgCanvas.drawRectangle(h,this.paginggroup);var d="M "+r+" "+i+" L "+(r-n)+" "+(i-n/2)+" L "+(r-n)+" "+(i+n/2)+"Z",f=s-15,g="M "+f+" "+i+" L "+(f+n)+" "+(i-n/2)+" L "+(f+n)+" "+(i+n/2)+"Z",y=new af(t.element.id+"_leftArrow","none",{color:"transparent",width:0},1,new oi(f,i-n/2,n,n));this.drawSvgCanvas.drawRectangle(y,this.paginggroup);c=new ao(t.element.id+"_Legend_leftarrow","gray",.01,"#A0A0A0",1,"0,0",g);l=new ao(t.element.id+"_Legend_rightarrow","gray",.01,"#A0A0A0",1,"0,0",d);this.navigationCollections.push(h);this.navigationCollections.push(y);t.enableCanvasRendering?(a=void 0,t.canvasRenderer.drawPath(c,a),t.canvasRenderer.drawPath(l,a)):(p=t.renderer.drawPath(c),w=t.renderer.drawPath(l),this.paginggroup.appendChild(p),this.paginggroup.appendChild(w))}},n.prototype.calculateGradientScale=function(n){var t=this.heatMap,i=10,r,u,f,e;t.paletteSettings.type!=="Fixed"||t.legendSettings.enableSmartLegend||this.measureListLegendBound(t.initialClipRect);t.horizontalGradient?(r=n.x+i,u=n.y+this.legendRectPadding,e=t.paletteSettings.type==="Fixed"&&!t.legendSettings.enableSmartLegend?n.width-2*this.listInterval:n.width-2*i,f=t.paletteSettings.type==="Fixed"&&!t.legendSettings.enableSmartLegend?(this.legendSize+this.listInterval)*this.listPerPage-this.listInterval:this.gradientScaleSize):(r=n.x+this.legendRectPadding,u=n.y+i,e=t.paletteSettings.type==="Fixed"&&!t.legendSettings.enableSmartLegend?n.width-i:this.gradientScaleSize,f=t.paletteSettings.type==="Fixed"&&!t.legendSettings.enableSmartLegend?(this.legendSize+this.listInterval)*this.listPerPage-this.listInterval:n.height-2*i);this.legendRectScale=new oi(r,u,e,f);(t.paletteSettings.type==="Gradient"||t.paletteSettings.type==="Fixed"&&t.legendSettings.enableSmartLegend)&&this.calculateColorAxisGrid(this.legendRectScale)},n.prototype.calculateColorAxisGrid=function(n){var t=this.heatMap,a=this.legendRectScale,e,l,u=0,o,f,s,r,h,c;this.segmentCollections=[];this.textWrapCollections=[];var v,y,i=t.paletteSettings.type==="Gradient"?t.legendColorCollection:t.colorCollection,p=t.bubbleSizeWithColor?t.minColorValue:t.dataSourceMinValue,w=t.bubbleSizeWithColor?t.maxColorValue:t.dataSourceMaxValue;if(this.legendMinValue=i[0].value>p?p:i[0].value,this.legendMaxValue=i[i.length-1].value<w?w:i[i.length-1].value,t.paletteSettings.type==="Gradient")for(o=0;o<i.length;o++)f=(i[o].value-this.legendMinValue)/(this.legendMaxValue-this.legendMinValue)*100,f=isNaN(f)?0:f,t.horizontalGradient?(e=a.width/100,v=n.x+e*f,this.segmentCollections.push(v)):(e=a.height/100,y=n.y+e*f,this.segmentCollections.push(y));if(t.horizontalGradient){for(r=0;r<i.length;r++)t.paletteSettings.type==="Gradient"?(h=(this.segmentCollections[r]-this.segmentCollections[r-1])/2,c=(this.segmentCollections[r+1]-this.segmentCollections[r])/2,s=r===i.length-1?h:r===0?c:h<c?h:c):s=this.legendRectScale.width/t.colorCollection.length,this.textWrapCollections.push(s),l=nc(this.labelCollections[r],t.legendSettings.textStyle,s),u=l.length>u?l.length:u;t.legendSettings.position==="Bottom"?(t.initialClipRect.height-=this.maxLegendLabelSize.height*(u-1),this.legendGroup.y-=this.maxLegendLabelSize.height*(u-1),this.legendRectScale.y=this.legendGroup.y+this.legendRectPadding,this.legendGroup.height=parseInt(this.legendHeight,10)+this.maxLegendLabelSize.height*(u-1)):(t.initialClipRect.y+=this.maxLegendLabelSize.height*(u-1),t.initialClipRect.height-=this.maxLegendLabelSize.height*(u-1),this.legendRectScale.y=this.legendGroup.y+this.legendRectPadding,this.legendGroup.height=parseInt(this.legendHeight,10)+this.maxLegendLabelSize.height*(u-1))}},n.prototype.renderColorAxisGrid=function(n){var i=this.heatMap,r,u,f,e,o,t,s,h;for(i.enableCanvasRendering||(r=this.heatMap.renderer.createGroup({id:i.element.id+"_ColorAxis_Grid"})),t=0;t<i.legendColorCollection.length;t++)i.horizontalGradient?(u=e=this.segmentCollections[t],f=n.y,o=n.y+n.height):(u=n.x,f=o=this.segmentCollections[t],e=n.x+n.width),s=new ey(u,f,e,o),h=new oy(this.heatMap.element.id+"_ColorAxis_Grid"+t,s,"#EEEEEE",1),this.drawSvgCanvas.drawLine(h,r),i.enableCanvasRendering||this.legend.appendChild(r)},n.prototype.renderLegendLabelTooltip=function(n){var u=this.heatMap.mouseX,f=this.heatMap.mouseY,t,i,r;n.target.id.indexOf("_Legend_Label")!==-1&&event.target.textContent.indexOf("...")>-1?(t=event.target.id.split(this.heatMap.element.id+"_Legend_Label"),t.length===2&&(i=void 0,i=t[1].length===1||this.heatMap.legendSettings.textStyle.textOverflow==="Trim"?parseInt(t[1],10):parseInt(t[1].substring(0,t[1].length-1),10),ol(this.labelCollections[i],u,f,this.heatMap.element.offsetWidth,this.heatMap.element.id+"_LegendLabel_Tooltip",tc(this.heatMap.element.id+"_Secondary_Element"),null,this.heatMap),document.getElementById(this.heatMap.element.id+"_LegendLabel_Tooltip").style.visibility="visible")):(r=document.getElementById(this.heatMap.element.id+"_LegendLabel_Tooltip"),r&&(r.style.visibility="hidden"))},n.prototype.calculateListPerPage=function(n){var u=this.heatMap,l,a;if(u.horizontalGradient){this.lastList=[];var t=n.x,r=n.y,h=0,e=0,o=0,s=0,i=void 0,c=10,f=5;for(this.labelXCollections=[],this.labelYCollections=[],this.legendXCollections=[],this.legendYCollections=[],i=0;i<u.colorCollection.length;i++)u.legendSettings.showLabel&&(l=this.labelCollections[i],h=ui(l,u.legendSettings.textStyle).width),o=t+c+f,s=r+f,a=u.legendSettings.showLabel?o+h:t+this.legendSize+this.listInterval,i!==0&&a>this.legendGroup.width+this.legendGroup.x-this.listInterval&&(e+=1,t=n.x,r=n.y+e*20,o=t+c+f,s=r+f,e%this.listPerPage==0&&(this.lastList.push(i),r=n.y,s=r+f,e=0)),this.labelXCollections.push(o),this.labelYCollections.push(s),this.legendXCollections.push(t),this.legendYCollections.push(r),t=t+this.legendSize+this.labelPadding+h+this.listInterval;this.lastList.push(i);this.numberOfPages=this.lastList.length}},n.prototype.renderListLegendMode=function(n){var t=this.heatMap,y=10,g={color:"transparent",width:0},l,u,w,i,r,b,v,k,a,d;this.legendLabelTooltip=[];var p,e=new lf(0,0),s=0,h=0,f=n.x,c=n.y;for(this.renderPagingElements(),w=this.legendGroup.width-(this.legendSize+this.legendRectPadding+this.labelPadding),t.horizontalGradient?(l=this.currentPage===1?0:this.lastList[this.currentPage-2],u=this.lastList[this.currentPage-1]):(l=this.currentPage*this.listPerPage-this.listPerPage,u=l+this.listPerPage,u=u<t.colorCollection.length?u:t.colorCollection.length),i=l;i<u;i++)t.legendSettings.showLabel&&(r=this.labelCollections[i],e=ui(r,t.legendSettings.textStyle)),t.horizontalGradient&&(f=this.legendXCollections[i],c=this.legendYCollections[i],s=this.labelXCollections[i],h=this.labelYCollections[i]),t.legendSettings.showLabel&&(s=f+this.legendSize+this.labelPadding,h=c+5,r=nc(this.labelCollections[i],t.legendSettings.textStyle,w),r[0].indexOf("...")!==-1&&t.enableCanvasRendering&&this.legendLabelTooltip.push(new ys(this.labelCollections[i],new oi(s,h,e.width,e.height))),b=new ie(s,h,"start",r,0,"translate(0,0)","middle"),v=new te(t.element.id+"_Legend_Label"+i,b,t.legendSettings.textStyle,t.legendSettings.textStyle.color||t.themeStyle.legendLabel),r.length>1?this.drawSvgCanvas.createWrapText(v,t.legendSettings.textStyle,this.translategroup):this.drawSvgCanvas.createText(v,this.translategroup,r[0]),o.isIE&&!t.enableCanvasRendering&&this.translategroup.lastChild.setAttribute("dy","0.6ex")),p=new oi(f,c,y,y),k=new af(t.element.id+"_legend_list"+i,t.colorCollection[i].color,g,1,p),this.drawSvgCanvas.drawRectangle(k,this.translategroup),t.horizontalGradient?f=f+this.legendSize+this.labelPadding+e.width+this.listInterval:c+=this.legendSize+this.listInterval;t.enableCanvasRendering||(this.legendGroup.height=this.legendGroup.height>0?this.legendGroup.height:0,this.legendGroup.width=this.legendGroup.width>0?this.legendGroup.width:0,a=t.renderer.createClipPath({id:t.element.id+"_LegendScale_ClipPath"}),d=t.renderer.drawRectangle(this.legendGroup),a.appendChild(d),this.translategroup.appendChild(a),this.translategroup.setAttribute("style","clip-path:url(#"+a.id+")"),this.legendScale.appendChild(this.translategroup),t.svgObject.appendChild(this.legend))},n.prototype.translatePage=function(n,t,i){var r=5,u;if(i&&t>=1&&t<this.numberOfPages||!i&&t>1&&t<=this.numberOfPages){if(i?(this.currentPage+=1,this.legendRect.y+=this.legendRect.height):(this.currentPage-=1,this.legendRect.y-=this.legendRect.height),n.enableCanvasRendering)u=n.canvasRenderer.ctx,u.fillRect(this.legendRectScale.x-r,this.legendRectScale.y-r,this.legendRectScale.width+r,this.legendRectScale.height+2*r),u.fillRect(this.pagingRect.x,this.pagingRect.y,this.pagingRect.width,this.pagingRect.height);else for(this.paginggroup.removeChild(this.paginggroup.firstChild);this.translategroup.childNodes.length;)this.translategroup.removeChild(this.translategroup.firstChild);this.renderListLegendMode(this.legendRectScale)}},n.prototype.createTooltipDiv=function(){var n=ct("div",{id:this.heatMap.element.id+"legendLabelTooltipContainer",styles:"position:absolute"});this.heatMap.element.appendChild(n)},n.prototype.renderTooltip=function(n){var t=this.heatMap,r=[n.label],i=null;i=parseInt(t.legendSettings.textStyle.size,10)/2;this.tooltipObject=new nd({offset:i,theme:t.theme,content:r,location:{x:n.x+n.width/2,y:n.y+n.height/2},inverted:t.horizontalGradient?!1:!0,areaBounds:{height:this.legendGroup.height+this.legendGroup.y,width:this.legendGroup.width+this.legendGroup.x,x:t.legendSettings.position==="Right"?0:this.legendGroup.x,y:t.legendSettings.position==="Top"?t.titleSettings.text===""?this.legendGroup.height-this.legendGroup.y:this.legendGroup.y:0}},"#"+this.heatMap.element.id+"legendLabelTooltipContainer");this.tooltipObject.element.style.visibility="visible"},n.prototype.createTooltip=function(n,t){for(var i,u,f,r=0;r<this.heatMap.colorCollection.length;r++)if(i=this.legendRectPositionCollection[r],n>i.x&&n<i.width+i.x&&t>i.y&&t<i.height+i.y){f=this.legendRectPositionCollection[r];break}u=document.getElementById(this.heatMap.element.id+"legendLabelTooltipContainer");u&&u.style.visibility==="visible"&&this.tooltipObject&&!this.heatMap.isTouch&&(this.tooltipObject.fadeOut(),u.style.visibility="hidden");f&&this.renderTooltip(f)},n}(),pii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),tr=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},dst=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.enableCanvasRendering=!1,t.horizontalGradient=t.legendSettings.position==="Bottom"||t.legendSettings.position==="Top",t.tooltipCollection=[],t.isCellData=!1,t}return pii(t,n),t.prototype.preRender=function(){this.initPrivateVariable();this.unWireEvents();this.wireEvents()},t.prototype.initPrivateVariable=function(){this.renderer=new ge(this.element.id);this.canvasRenderer=new eg(this.element.id);this.heatMapAxis=new lst(this);this.heatMapSeries=new vst(this);this.drawSvgCanvas=new gh(this);this.twoDimensional=new wst(this);this.cellColor=new fd(this);this.tempRectHoverClass="";this.tempTooltipRectId="";this.setCulture()},t.prototype.setCulture=function(){this.intl=new hi},t.prototype.render=function(){this.updateBubbleHelperProperty();this.trigger("load",{heatmap:this});this.processInitData();this.setTheme();this.initAxis();this.calculateMaxLength();this.heatMapAxis.calculateVisibleLabels();this.twoDimensional.processDataSource(this.completeAdaptDataSource);this.createSvg();this.cellColor.getColorCollection();this.calculateBounds();this.renderElements();this.element.appendChild(this.svgObject);this.tooltipModule&&this.tooltipModule.showHideTooltip(!1);this.trigger("created",{heatmap:this})},t.prototype.reRenderDatasource=function(){this.dataSourceMinValue=null;this.dataSourceMaxValue=null;this.processInitData();this.calculateMaxLength();this.heatMapAxis.calculateVisibleLabels();this.twoDimensional.processDataSource(this.completeAdaptDataSource);this.cellColor.getColorCollection();this.calculateBounds()},t.prototype.processInitData=function(){this.adaptorModule?this.adaptorModule.constructDatasource(this.dataSource):this.completeAdaptDataSource=this.dataSource},t.prototype.setRenderMode=function(){this.enableCanvasRendering=this.renderingMode==="Canvas"?!0:this.renderingMode==="Auto"&&this.axisCollections[0].axisLabelSize*this.axisCollections[1].axisLabelSize>=1e4?!0:!1},t.prototype.updateBubbleHelperProperty=function(){this.cellSettings.tileType==="Bubble"&&(this.cellSettings.bubbleType==="Size"||this.cellSettings.bubbleType==="Sector")?this.legendVisibilityByCellType=!1:this.legendModule&&this.legendSettings.visible&&(this.legendVisibilityByCellType=!0);this.bubbleSizeWithColor=this.cellSettings.tileType==="Bubble"&&this.cellSettings.bubbleType==="SizeAndColor"?!0:!1},t.prototype.renderElements=function(){this.renderSecondaryElement();this.renderBorder();this.renderTitle();this.heatMapAxis.renderAxes();this.tooltipModule&&this.showTooltip&&(this.tooltipModule.tooltipObject=null,this.tooltipModule.createTooltipDiv(this));this.heatMapSeries.renderRectSeries();this.legendModule&&this.legendSettings.visible&&this.legendVisibilityByCellType&&(this.legendModule.renderLegendItems(),this.paletteSettings.type==="Fixed"&&this.legendSettings.enableSmartLegend&&this.legendSettings.labelDisplayType==="None"&&this.legendModule.createTooltipDiv(this))},t.prototype.getModuleName=function(){return"heatmap"},t.prototype.getPersistData=function(){return""},t.prototype.onPropertyChanged=function(n){for(var f,i=!1,t=!1,r=0,u=Object.keys(n);r<u.length;r++){f=u[r];switch(f){case"renderingMode":i=!0;break;case"cellSettings":this.updateBubbleHelperProperty();this.reRenderDatasource();t=!0;break;case"showTooltip":t=!0;break;case"dataSource":this.isCellData=!1;this.updateBubbleHelperProperty();this.reRenderDatasource();i=!0;break;case"titleSettings":case"width":case"height":case"margin":case"legendSettings":t=!0;break;case"yAxis":case"xAxis":this.reRenderDatasource();t=!0;break;case"paletteSettings":this.cellColor.getColorCollection();this.calculateBounds();i=!0;break;case"theme":this.setTheme();i=!0;break;case"tooltipSettings":this.tooltipModule&&(this.tooltipModule.tooltipObject.fill=this.tooltipSettings.fill,this.tooltipModule.tooltipObject.border=this.tooltipSettings.border,this.tooltipModule.tooltipObject.textStyle=this.tooltipSettings.textStyle,this.tooltipModule.tooltipObject.refresh())}}!t&&i?(this.createSvg(),this.renderElements(),this.element.appendChild(this.svgObject),this.trigger("created",{heatmap:this})):t&&(this.createSvg(),this.refreshBound(),this.element.appendChild(this.svgObject),this.trigger("created",{heatmap:this}))},t.prototype.createSvg=function(){this.removeSvg();this.setRenderMode();this.calculateSize();this.enableCanvasRendering?this.svgObject=this.canvasRenderer.createCanvas({id:this.element.id+"_canvas",width:this.availableSize.width,height:this.availableSize.height}):(this.svgObject=this.renderer.createSvg({id:this.element.id+"_svg",width:this.availableSize.width,height:this.availableSize.height}),this.cellSettings.border.width.toString()==="0"&&this.cellSettings.tileType==="Rect"&&this.svgObject.setAttribute("shape-rendering","crispEdges"))},t.prototype.removeSvg=function(){if(document.getElementById(this.element.id+"_Secondary_Element")&&lt(document.getElementById(this.element.id+"_Secondary_Element")),document.getElementById(this.element.id+"Celltooltipcontainer")&&lt(document.getElementById(this.element.id+"Celltooltipcontainer")),document.getElementById(this.element.id+"legendLabelTooltipContainer")&&lt(document.getElementById(this.element.id+"legendLabelTooltipContainer")),this.svgObject){var n=document.getElementById(this.svgObject.id);if(n){while(this.svgObject.childNodes.length)this.svgObject.removeChild(this.svgObject.firstChild);lt(this.svgObject)}}},t.prototype.renderSecondaryElement=function(){var n=this.createElement("div");n.id=this.element.id+"_Secondary_Element";n.setAttribute("style","position: relative");this.element.appendChild(n)},t.prototype.requiredModules=function(){var n=[];return this.showTooltip&&n.push({member:"Tooltip",args:[this]}),this.legendSettings&&n.push({member:"Legend",args:[this]}),this.dataSource&&n.push({member:"Adaptor",args:[this]}),n},t.prototype.destroy=function(){this.unWireEvents();n.prototype.destroy.call(this);this.element.innerHTML="";this.element.classList.remove("e-heatmap")},t.prototype.refresh=function(){n.prototype.refresh.call(this);this.element.classList.add("e-heatmap")},t.prototype.renderBorder=function(){this.border={width:0};var n=0,t=new af(this.element.id+"_HeatmapBorder",this.themeStyle.background,this.border,1,new oi(n/2,n/2,this.availableSize.width-n,this.availableSize.height-n));this.drawSvgCanvas.drawRectangle(t,this.svgObject)},t.prototype.calculateSize=function(){var n=uf(this.width,this.element.offsetWidth)||this.element.offsetWidth||600,t=uf(this.height,this.element.offsetHeight)||this.element.offsetHeight||450;this.availableSize=new lf(n,t)},t.prototype.renderTitle=function(){var n,i,t;this.titleSettings.text&&(n=this.titleSettings.textStyle,i=n.textAlignment==="Near"?"start":n.textAlignment==="Far"?"end":"middle",this.elementSize=ui(this.titleCollection[0],n),t=new te(this.element.id+"_HeatmapTitle",new ie(od(this.availableSize.width-this.margin.left-this.margin.right,this.margin.left,this.margin.right,n),this.margin.top+this.elementSize.height*3/4,i,this.titleCollection),n,n.color||this.themeStyle.heatMapTitle),this.titleCollection.length>1?this.drawSvgCanvas.createWrapText(t,n,this.svgObject):(this.drawSvgCanvas.createText(t,this.svgObject,this.titleCollection[0]),this.titleCollection[0].indexOf("...")!==-1&&this.enableCanvasRendering&&this.tooltipCollection.push(new ys(this.titleSettings.text,new oi(this.margin.left,this.margin.top,this.elementSize.width,this.elementSize.height)))))},t.prototype.titleTooltip=function(n,t,i,r){var u=n.target.id;u===this.element.id+"_HeatmapTitle"&&n.target.textContent.indexOf("...")>-1?ol(this.titleSettings.text,t,i,this.element.offsetWidth,this.element.id+"_Title_Tooltip",tc(this.element.id+"_Secondary_Element"),r,this):vs(this.element.id+"_Title_Tooltip")},t.prototype.axisTooltip=function(n,t,i,r){var u=n.target.id,f;u.indexOf(this.element.id+"_XAxis_Label")!==-1&&n.target.textContent.indexOf("...")>-1?(f=parseInt(u.replace(this.element.id+"_XAxis_Label",""),10),ol(this.axisCollections[0].axisLabels[f],t,i,this.element.offsetWidth,this.element.id+"_axis_Tooltip",tc(this.element.id+"_Secondary_Element"),r,this)):vs(this.element.id+"_axis_Tooltip")},t.prototype.isHeatmapRect=function(n,t){var r=[],i=[];return r.push(this.heatMapSeries.rectPositionCollection[0][0]),i.push(this.heatMapSeries.rectPositionCollection[this.yLength-1][this.xLength-1]),n>=r[0].x&&t>=r[0].y&&n<=i[0].x+i[0].width&&t<=i[0].y+i[0].height?!0:!1},t.prototype.setTheme=function(){this.themeStyle=cii(this.theme)},t.prototype.calculateBounds=function(){var n=this.margin,i=0,o=this.legendModule&&this.legendSettings.position==="Top"&&this.legendVisibilityByCellType||this.titleSettings.textStyle.size==="0px"?0:16,r=n.left,u=this.availableSize.width-r-n.right,t,f,e;this.titleSettings.text&&(this.titleCollection=nc(this.titleSettings.text,this.titleSettings.textStyle,u),i=ui(this.titleSettings.text,this.titleSettings.textStyle).height*this.titleCollection.length+o);t=n.top+i;f=this.availableSize.height-t-n.bottom;this.initialClipRect=new oi(r,t,u,f);e=this.initialClipRect.y;this.legendModule&&this.legendSettings.visible&&this.legendVisibilityByCellType&&this.legendModule.calculateLegendBounds(this.initialClipRect);this.heatMapAxis.measureAxis(this.initialClipRect);this.legendModule&&this.legendSettings.visible&&this.legendVisibilityByCellType&&this.legendModule.calculateLegendSize(this.initialClipRect,e);this.heatMapAxis.calculateAxisSize(this.initialClipRect)},t.prototype.refreshBound=function(){this.updateBubbleHelperProperty();this.calculateBounds();this.renderElements()},t.prototype.initAxis=function(){var t,i=[this.xAxis,this.yAxis],n,r;for(this.axisCollections=[],n=0,r=i.length;n<r;n++)t=i[n],t.orientation=n===0?"Horizontal":"Vertical",this.axisCollections.push(t)},t.prototype.wireEvents=function(){var t=o.isPointer,n=o.touchStartEvent,i=o.touchEndEvent,u=o.touchMoveEvent,f=t?"pointerleave":"mouseleave";r.add(this.element,o.isDevice?n:"click",this.heatMapMouseClick,this);r.add(this.element,n,this.heatMapMouseMove,this);r.add(this.element,i,this.heatMapMouseLeave,this);r.add(this.element,u,this.heatMapMouseMove,this);r.add(this.element,f,this.heatMapMouseLeave,this);window.addEventListener(o.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.heatMapResize.bind(this));this.setStyle(this.element)},t.prototype.setStyle=function(n){n.style.touchAction="element";n.style.msTouchAction="element";n.style.msContentZooming="none";n.style.msUserSelect="none";n.style.webkitUserSelect="none";n.style.position="relative";n.style.display="block"},t.prototype.unWireEvents=function(){var i=o.isPointer,n=o.touchStartEvent,t=o.touchMoveEvent,u=i?"pointerleave":"mouseleave";r.remove(this.element,o.isDevice?n:"click",this.heatMapMouseClick);r.remove(this.element,n,this.heatMapMouseMove);r.remove(this.element,t,this.heatMapMouseLeave);r.remove(this.element,t,this.heatMapMouseMove);r.remove(this.element,u,this.heatMapMouseLeave);window.removeEventListener(o.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.heatMapResize)},t.prototype.heatMapResize=function(){var n=this;return this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){if(n.isDestroyed){clearTimeout(n.resizeTimer);return}n.createSvg();n.refreshBound();n.element.appendChild(n.svgObject)},500),!1},t.prototype.calculateMaxLength=function(){var t=this.completeAdaptDataSource,r,n,i,u;if(t&&t.length>0){for(r=t.length-1,n=0,i=0;i<=r;i++)u=t[i].length,n=n>u?n:u;this.axisCollections[0].maxLength=r;this.axisCollections[1].maxLength=n-1}else this.axisCollections[0].maxLength=0,this.axisCollections[1].maxLength=0},t.prototype.setMouseXY=function(n,t){var i=this.element.getBoundingClientRect(),r;r=this.enableCanvasRendering?document.getElementById(this.element.id+"_canvas").getBoundingClientRect():document.getElementById(this.element.id+"_svg").getBoundingClientRect();this.mouseX=n-i.left-Math.max(r.left-i.left,0);this.mouseY=t-i.top-Math.max(r.top-i.top,0)},t.prototype.heatMapMouseClick=function(n){var i,r,f,e=this.element.getBoundingClientRect(),o,u,t;return n.type==="touchstart"?(this.isTouch=!0,f=n,r=f.changedTouches[0].clientY,i=f.changedTouches[0].clientX):(this.isTouch=!1,r=n.clientY,i=n.clientX),i-=e.left,r-=e.top,o=this.isHeatmapRect(i,r),o&&(u=this.heatMapSeries.getCurrentRect(i,r),this.trigger("cellClick",{heatmap:this,value:u.value,x:u.x,y:u.y,xLabel:this.heatMapSeries.hoverXAxisLabel,yLabel:this.heatMapSeries.hoverYAxisLabel,xValue:this.heatMapSeries.hoverXAxisValue,yValue:this.heatMapSeries.hoverYAxisValue,cellElement:this.enableCanvasRendering?null:document.getElementById(u.id)})),this.notify("click",n),this.paletteSettings.type!=="Gradient"&&this.legendModule&&this.legendSettings.visible&&this.legendVisibilityByCellType&&(t=this.legendModule.navigationCollections,t.length&&i>t[0].x&&i<t[0].x+t[0].width&&r>t[0].y&&r<t[0].y+t[0].height?this.legendModule.translatePage(this,this.legendModule.currentPage,!0):t.length&&i>t[1].x&&i<t[1].x+t[1].width&&r>t[1].y&&r<t[1].y+t[1].height&&this.legendModule.translatePage(this,this.legendModule.currentPage,!1)),!1},t.prototype.heatMapMouseMove=function(n){var s=this,t,i,u,f,e=this.element.getBoundingClientRect(),h,o,r,c;return n.type==="touchmove"||n.type==="touchstart"?(this.isTouch=!0,f=n,t=f.changedTouches[0].clientX,i=f.changedTouches[0].clientY):(this.isTouch=!1,t=n.clientX,i=n.clientY),t-=e.left,i-=e.top,this.setMouseXY(t,i),n.target&&n.target.id&&(h=this.isHeatmapRect(t,i),this.legendModule&&(h?this.paletteSettings.type==="Gradient"&&this.legendSettings.showGradientPointer&&this.legendSettings.visible&&this.legendVisibilityByCellType&&this.legendModule.renderGradientPointer(n,t,i):this.legendModule.removeGradientPointer()),o=void 0,o=this.showTooltip&&this.tooltipModule?this.isHeatmapRect(t,i):!1,o?(r=void 0,r=this.heatMapSeries.getCurrentRect(t,i),this.tempTooltipRectId!==r.id&&(this.showTooltip&&((this.cellSettings.enableCellHighlighting||this.tooltipModule&&this.showTooltip)&&!this.enableCanvasRendering&&this.heatMapSeries.highlightSvgRect(r.id),this.tooltipModule.renderTooltip(r),this.isTouch&&(this.tooltipTimer&&window.clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout(function(){s.tooltipModule.tooltipObject.fadeOut();s.tooltipModule.isFadeout=!0},1500),n.type==="touchmove"&&n.preventDefault())),this.tempTooltipRectId=r.id)):(n.target.id.indexOf("Celltooltip")===-1&&((this.cellSettings.enableCellHighlighting||this.showTooltip)&&!this.enableCanvasRendering&&this.heatMapSeries.highlightSvgRect(n.target.id),this.tooltipModule&&this.showTooltip&&this.tooltipModule.showHideTooltip(!1,!0)),this.tempTooltipRectId=""),this.legendModule&&this.legendSettings.visible&&this.paletteSettings.type==="Fixed"&&this.legendSettings.enableSmartLegend&&this.legendSettings.labelDisplayType==="None"&&this.legendModule.createTooltip(t,i),this.enableCanvasRendering?(e=this.element.getBoundingClientRect(),c=this.paletteSettings.type==="Fixed"&&this.legendSettings.enableSmartLegend&&this.legendSettings.labelDisplayType==="None"?!1:!0,u=cd(this.tooltipCollection,t,i)||this.legendModule&&c&&cd(this.legendModule.legendLabelTooltip,t,i),u?ol(u,this.mouseX,this.mouseY,this.element.offsetWidth,this.element.id+"_canvas_Tooltip",tc(this.element.id+"_Secondary_Element"),this.isTouch,this):vs(this.element.id+"_canvas_Tooltip")):(this.titleSettings.text&&this.titleSettings.textStyle.textOverflow==="Trim"&&this.titleTooltip(n,t,i,this.isTouch),this.axisTooltip(n,t,i,this.isTouch),this.legendModule&&this.legendSettings.visible&&this.legendSettings.showLabel&&this.legendVisibilityByCellType&&this.legendModule.renderLegendLabelTooltip(n))),!0},t.prototype.heatMapMouseLeave=function(n){var r=this,t,i;return n.target&&n.target.id&&(this.cellSettings.enableCellHighlighting||this.tooltipModule&&this.showTooltip)&&!this.enableCanvasRendering&&this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId),this.tooltipModule&&this.showTooltip&&n.type==="mouseleave"&&this.tooltipModule.showHideTooltip(!1),this.tempTooltipRectId="",this.legendModule&&this.legendSettings.visible&&this.legendModule.tooltipObject&&this.legendModule.tooltipObject.element&&(t=this.legendModule.tooltipObject.element.firstChild,n.type==="mouseleave"?t.setAttribute("opacity","0"):(this.legendTooltipTimer&&window.clearTimeout(this.legendTooltipTimer),this.legendTooltipTimer=setTimeout(function(){t.setAttribute("opacity","0")},1500))),this.paletteSettings.type==="Gradient"&&this.legendModule&&this.legendSettings.showGradientPointer&&this.legendSettings.visible&&this.legendVisibilityByCellType&&(n.type==="mouseleave"?this.legendModule.removeGradientPointer():(this.gradientTimer&&window.clearTimeout(this.gradientTimer),this.gradientTimer=setTimeout(function(){r.legendModule.removeGradientPointer()},1500))),this.enableCanvasRendering&&(i=document.getElementById(this.element.id+"_hoverRect_canvas"),i&&(i.style.visibility="hidden",this.tempRectHoverClass="")),this.titleSettings.text&&this.titleCollection[0].indexOf("...")!==-1&&(this.enableCanvasRendering?vs(this.element.id+"_canvas_Tooltip"):vs(this.element.id+"_Title_Tooltip")),!0},tr([i(null)],t.prototype,"width",void 0),tr([i(null)],t.prototype,"height",void 0),tr([i(!0)],t.prototype,"showTooltip",void 0),tr([f()],t.prototype,"tooltipRender",void 0),tr([f()],t.prototype,"cellRender",void 0),tr([i("SVG")],t.prototype,"renderingMode",void 0),tr([i(null)],t.prototype,"dataSource",void 0),tr([i("Material")],t.prototype,"theme",void 0),tr([nt({},aot)],t.prototype,"margin",void 0),tr([nt({text:"",textStyle:vo.heatMapTitleFont},rd)],t.prototype,"titleSettings",void 0),tr([nt({},ld)],t.prototype,"xAxis",void 0),tr([nt({},bst)],t.prototype,"legendSettings",void 0),tr([nt({},bot)],t.prototype,"paletteSettings",void 0),tr([nt({},yst)],t.prototype,"tooltipSettings",void 0),tr([nt({},ld)],t.prototype,"yAxis",void 0),tr([nt({},ast)],t.prototype,"cellSettings",void 0),tr([f()],t.prototype,"created",void 0),tr([f()],t.prototype,"load",void 0),tr([f()],t.prototype,"cellClick",void 0),tr([vt],t)}(vi),wii=undefined&&undefined.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ps=undefined&&undefined.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},bii=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return wii(t,n),ps([i(null)],t.prototype,"data",void 0),ps([i(!1)],t.prototype,"isJsonData",void 0),ps([i("cell")],t.prototype,"adaptorType",void 0),ps([i("")],t.prototype,"xDataMapping",void 0),ps([i("")],t.prototype,"yDataMapping",void 0),ps([i("")],t.prototype,"valueMapping",void 0),ps([nt({},vot)],t.prototype,"bubbleDataMapping",void 0),t}(it),vd=function(){function n(){}return n}(),gst=function(){function n(n){this.reconstructedXAxis=[];this.reconstructedYAxis=[];this.adaptiveXMinMax=new vd;this.adaptiveYMinMax=new vd;this.heatMap=n}return n.prototype.constructDatasource=function(n){if(n&&n.data===undefined)this.heatMap.completeAdaptDataSource=n;else if((n.isJsonData||n.adaptorType!=="Table")&&n.data!==null){if(n.isJsonData&&n.adaptorType==="Table")this.heatMap.completeAdaptDataSource=this.processJsonTableData(n);else if(n.isJsonData&&n.adaptorType==="Cell")this.heatMap.completeAdaptDataSource=this.processJsonCellData(n);else if(!n.isJsonData&&n.adaptorType==="Cell"){var i=this.heatMap.xAxis,r=this.heatMap.yAxis;this.adaptiveXMinMax.min=i.minimum;this.adaptiveXMinMax.max=i.maximum;this.adaptiveYMinMax.min=r.minimum;this.adaptiveYMinMax.max=r.maximum;((i.valueType==="Numeric"||i.valueType==="DateTime")&&(t(i.minimum)||t(i.maximum))||(r.valueType==="Numeric"||r.valueType==="DateTime")&&(t(r.minimum)||t(r.maximum)))&&this.getMinMaxValue(n.data,i,r);this.constructAdaptiveAxis();this.heatMap.completeAdaptDataSource=this.processCellData(n);this.heatMap.isCellData=!0}}else this.heatMap.completeAdaptDataSource=n.data},n.prototype.constructAdaptiveAxis=function(){var n=this.heatMap.xAxis,t=this.heatMap.yAxis;n.valueType==="Numeric"&&(this.reconstructedXAxis=this.getNumericAxisCollection(this.adaptiveXMinMax.min,this.adaptiveXMinMax.max,n.increment));t.valueType==="Numeric"&&(this.reconstructedYAxis=this.getNumericAxisCollection(this.adaptiveYMinMax.min,this.adaptiveYMinMax.max,t.increment));n.valueType==="DateTime"&&(this.reconstructedXAxis=this.getDateAxisCollection(this.adaptiveXMinMax.min,this.adaptiveXMinMax.max,n.intervalType,n.increment));t.valueType==="DateTime"&&(this.reconstructedYAxis=this.getDateAxisCollection(this.adaptiveYMinMax.min,this.adaptiveYMinMax.max,t.intervalType,t.increment))},n.prototype.getNumericAxisCollection=function(n,t,i){for(var r=n,u=[];r<=t;)u.push(r.toString()),r=r+i;return u},n.prototype.getDateAxisCollection=function(n,t,i,r){var e={skeleton:"full",type:"dateTime"},o=this.heatMap.intl.getDateParser(e),s=this.heatMap.intl.getDateFormat(e),u,f;for(n=Date.parse(o(s(new Date(l.parse.parseJson({val:n}).val)))),u=n,f=[];u<=t;)f.push(new Date(u).toString()),u=ic(u,1,i,r).getTime();return f},n.prototype.getMinMaxValue=function(n,i,r){n.length>0&&(this.adaptiveXMinMax.min=t(i.minimum)?n[0][0]:i.minimum,this.adaptiveYMinMax.min=t(r.minimum)?n[0][1]:r.minimum,this.adaptiveXMinMax.max=t(i.maximum)?n[0][0]:i.maximum,this.adaptiveYMinMax.max=t(r.maximum)?n[0][1]:r.maximum);for(var u=0;u<n.length;u++)n[u][0]<this.adaptiveXMinMax.min&&t(i.minimum)&&(this.adaptiveXMinMax.min=n[u][0]),n[u][0]>this.adaptiveXMinMax.max&&t(i.maximum)&&(this.adaptiveXMinMax.max=n[u][0]),n[u][1]<this.adaptiveYMinMax.min&&t(r.minimum)&&(this.adaptiveYMinMax.min=n[u][1]),n[u][1]>this.adaptiveYMinMax.max&&t(r.maximum)&&(this.adaptiveYMinMax.max=n[u][1])},n.prototype.processCellData=function(n){var r=n.data,e=this.reconstructedXAxis,o=this.reconstructedYAxis,u=0,f=0,i;if(r.length)for(this.reconstructData=[],i=0;i<r.length;i++)if(u=this.heatMap.xAxis.valueType==="Category"?r[i][0]:e.indexOf(r[i][0].toString()),u>-1){while(!this.reconstructData[u])this.reconstructData.push([]);if(f=this.heatMap.yAxis.valueType==="Category"?r[i][1]:o.indexOf(r[i][1].toString()),f!==-1){while(this.reconstructData[u][f]!=="")this.reconstructData[u].push("");this.reconstructData[u][f]=t(r[i][2])?"":r[i][2]}}return this.reconstructData},n.prototype.processJsonCellData=function(n){var r=n.data,e=this.heatMap.xAxis.labels?this.heatMap.xAxis.labels:[],o=this.heatMap.yAxis.labels?this.heatMap.yAxis.labels:[],u=0,f=0,i;if(r.length)for(this.reconstructData=[],i=0;i<r.length;i++)if(u=this.getSplitDataValue(r[i],n,e,n.xDataMapping.split(".")),u!==-1){while(!this.reconstructData[u])this.reconstructData.push([]);if(f=this.getSplitDataValue(r[i],n,o,n.yDataMapping.split(".")),f!==-1){while(t(this.reconstructData[u][f]))this.reconstructData[u].push("");this.reconstructData[u][f]=this.heatMap.bubbleSizeWithColor?[this.getSplitDataValue(r[i],n,null,n.bubbleDataMapping.size.split(".")),this.getSplitDataValue(r[i],n,null,n.bubbleDataMapping.color.split("."))]:this.getSplitDataValue(r[i],n,null,n.valueMapping.split("."))}}return this.reconstructData},n.prototype.getSplitDataValue=function(n,i,r,u){var e=-1,f;for(this.tempSplitDataCollection=n,f=0;f<u.length;f++)if(e=t(r)?null:r.indexOf(this.tempSplitDataCollection[u[f]]),t(this.tempSplitDataCollection)||(this.tempSplitDataCollection=e!==-1&&!t(r)?this.tempSplitDataCollection:this.tempSplitDataCollection[u[f]]),t(this.tempSplitDataCollection))break;return t(r)?t(this.tempSplitDataCollection)||this.tempSplitDataCollection.toString()===""?"":parseFloat(this.tempSplitDataCollection.toString()):e},n.prototype.processJsonTableData=function(n){var o=n.data,i=0,u=0,s=this.heatMap.xAxis.labels?this.heatMap.xAxis.labels:[],h=this.heatMap.yAxis.labels?this.heatMap.yAxis.labels:[],r,f,e;if(o.length)for(this.reconstructData=[],f=0;f<o.length;f++)if(i=this.getSplitDataValue(o[f],n,s,n.xDataMapping.split(".")),i!==-1){while(!this.reconstructData[i])this.reconstructData.push([]);for(e=0;e<Object.keys(this.tempSplitDataCollection).length;e++)if(r=Object.keys(this.tempSplitDataCollection)[e],u=r!==n.xDataMapping?h.indexOf(r):-1,u!==-1){while(t(this.reconstructData[i][u]))this.reconstructData[i].push("");this.reconstructData[i][u]=t(this.tempSplitDataCollection[r])?"":this.tempSplitDataCollection[r]}}return this.reconstructData},n.prototype.destroy=function(){},n.prototype.getModuleName=function(){return"Adaptor"},n}();return dst.Inject(kst,pst,gst),nht=Object.freeze({HeatMap:dst,Axis:ld,AxisHelper:lst,Data:bii,AdaptiveMinMax:vd,Adaptor:gst,TwoDimensional:wst,LegendSettings:bst,Legend:kst,Font:kh,Margin:aot,Border:id,BubbleData:vot,Title:rd,PaletteCollection:yot,ColorCollection:pot,BubbleTooltipData:wot,LegendColorCollection:fy,CellSettings:ast,Series:vst,PaletteSettings:bot,RgbColor:el,CellColor:fd,TooltipSettings:yst,Tooltip:pst,stringToNumber:uf,measureText:ui,TextElement:ed,titlePositionX:od,Size:lf,CustomizeOption:kot,PathOption:ao,CurrentRect:dot,RectOption:af,CircleOption:got,Rect:oi,TextOption:te,TextBasic:ie,Line:ey,LineOption:oy,PathAttributes:nst,Path:tst,sum:ls,titlePositionY:ist,rotateTextSize:sd,DrawSvgCanvas:gh,getTitle:nc,textWrap:rst,textTrim:as,textNone:ust,Gradient:sy,GradientColor:hd,showTooltip:ol,removeElement:vs,getElement:tc,increaseDateTimeInterval:ic,CanvasTooltip:ys,getTooltipText:cd,PaletterColor:fst,GradientPointer:est,CurrentLegendRect:ost,colorNameToHex:sst,convertToHexCode:hst,componentToHex:hy,convertHexToColor:cst,formatValue:cy}),n.base=aat,n.DatePicker=sut,n.circulargauge=sii,n.heatmap=nht,n}({}),CryptoJS=CryptoJS||function(n,t){var u={},f=u.lib={},o=function(){},i=f.Base={extend:function(n){o.prototype=this;var t=new o;return n&&t.mixIn(n),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:4*n.length},toString:function(n){return(n||l).stringify(this)},concat:function(n){var i=this.words,r=n.words,u=this.sigBytes,t;if(n=n.sigBytes,this.clamp(),u%4)for(t=0;t<n;t++)i[u+t>>>2]|=(r[t>>>2]>>>24-8*(t%4)&255)<<24-8*((u+t)%4);else if(65535<r.length)for(t=0;t<n;t+=4)i[u+t>>>2]=r[t>>>2];else i.push.apply(i,r);return this.sigBytes+=n,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-8*(t%4);i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i=[],u=0;u<t;u+=4)i.push(4294967296*n.random()|0);return new r.init(i,t)}}),e=u.enc={},l=e.Hex={stringify:function(n){var u=n.words,i,t,r;for(n=n.sigBytes,i=[],t=0;t<n;t++)r=u[t>>>2]>>>24-8*(t%4)&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-4*(t%8);return new r.init(u,i/2)}},s=e.Latin1={stringify:function(n){var r=n.words,i,t;for(n=n.sigBytes,i=[],t=0;t<n;t++)i.push(String.fromCharCode(r[t>>>2]>>>24-8*(t%4)&255));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-8*(t%4);return new r.init(u,i)}},a=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(s.stringify(n)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(n){return s.parse(unescape(encodeURIComponent(n)))}},h=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=a.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var f=this._data,s=f.words,u=f.sigBytes,e=this.blockSize,o=u/(4*e),o=t?n.ceil(o):n.max((o|0)-this._minBufferSize,0),i;if(t=o*e,u=n.min(4*t,u),t){for(i=0;i<t;i+=e)this._doProcessBlock(s,i);i=s.splice(0,t);f.sigBytes-=u}return new r.init(i,u)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),c;return f.Hasher=h.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new c.HMAC.init(n,i).finalize(t)}}}),c=u.algo={},u}(Math),dbrddashboardControls,RequestHeaders,widgetDetails,dashboardInfo;(function(){var n=CryptoJS,t=n.lib.WordArray;n.enc.Base64={stringify:function(n){var i=n.words,u=n.sigBytes,f=this._map,t,e,r;for(n.clamp(),n=[],t=0;t<u;t+=3)for(e=(i[t>>>2]>>>24-8*(t%4)&255)<<16|(i[t+1>>>2]>>>24-8*((t+1)%4)&255)<<8|i[t+2>>>2]>>>24-8*((t+2)%4)&255,r=0;4>r&&t+.75*r<u;r++)n.push(f.charAt(e>>>6*(3-r)&63));if(i=f.charAt(64))for(;n.length%4;)n.push(i);return n.join("")},parse:function(n){var e=n.length,f=this._map,i=f.charAt(64),o,s;i&&(i=n.indexOf(i),-1!=i&&(e=i));for(var i=[],u=0,r=0;r<e;r++)r%4&&(o=f.indexOf(n.charAt(r-1))<<2*(r%4),s=f.indexOf(n.charAt(r))>>>6-2*(r%4),i[u>>>2]|=(o|s)<<24-8*(u%4),u++);return t.create(i,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(n){function i(n,t,i,r,u,f,e){return n=n+(t&i|~t&r)+u+e,(n<<f|n>>>32-f)+t}function r(n,t,i,r,u,f,e){return n=n+(t&r|i&~r)+u+e,(n<<f|n>>>32-f)+t}function u(n,t,i,r,u,f,e){return n=n+(t^i^r)+u+e,(n<<f|n>>>32-f)+t}function f(n,t,i,r,u,f,e){return n=n+(i^(t|~r))+u+e,(n<<f|n>>>32-f)+t}for(var o=CryptoJS,e=o.lib,c=e.WordArray,s=e.Hasher,e=o.algo,t=[],h=0;64>h;h++)t[h]=4294967296*n.abs(n.sin(h+1))|0;e=e.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(n,e){for(var v,a,l=0;16>l;l++)v=e+l,a=n[v],n[v]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var l=this._hash.words,v=n[e+0],a=n[e+1],y=n[e+2],p=n[e+3],w=n[e+4],b=n[e+5],k=n[e+6],d=n[e+7],g=n[e+8],nt=n[e+9],tt=n[e+10],it=n[e+11],rt=n[e+12],ut=n[e+13],ft=n[e+14],et=n[e+15],o=l[0],s=l[1],h=l[2],c=l[3],o=i(o,s,h,c,v,7,t[0]),c=i(c,o,s,h,a,12,t[1]),h=i(h,c,o,s,y,17,t[2]),s=i(s,h,c,o,p,22,t[3]),o=i(o,s,h,c,w,7,t[4]),c=i(c,o,s,h,b,12,t[5]),h=i(h,c,o,s,k,17,t[6]),s=i(s,h,c,o,d,22,t[7]),o=i(o,s,h,c,g,7,t[8]),c=i(c,o,s,h,nt,12,t[9]),h=i(h,c,o,s,tt,17,t[10]),s=i(s,h,c,o,it,22,t[11]),o=i(o,s,h,c,rt,7,t[12]),c=i(c,o,s,h,ut,12,t[13]),h=i(h,c,o,s,ft,17,t[14]),s=i(s,h,c,o,et,22,t[15]),o=r(o,s,h,c,a,5,t[16]),c=r(c,o,s,h,k,9,t[17]),h=r(h,c,o,s,it,14,t[18]),s=r(s,h,c,o,v,20,t[19]),o=r(o,s,h,c,b,5,t[20]),c=r(c,o,s,h,tt,9,t[21]),h=r(h,c,o,s,et,14,t[22]),s=r(s,h,c,o,w,20,t[23]),o=r(o,s,h,c,nt,5,t[24]),c=r(c,o,s,h,ft,9,t[25]),h=r(h,c,o,s,p,14,t[26]),s=r(s,h,c,o,g,20,t[27]),o=r(o,s,h,c,ut,5,t[28]),c=r(c,o,s,h,y,9,t[29]),h=r(h,c,o,s,d,14,t[30]),s=r(s,h,c,o,rt,20,t[31]),o=u(o,s,h,c,b,4,t[32]),c=u(c,o,s,h,g,11,t[33]),h=u(h,c,o,s,it,16,t[34]),s=u(s,h,c,o,ft,23,t[35]),o=u(o,s,h,c,a,4,t[36]),c=u(c,o,s,h,w,11,t[37]),h=u(h,c,o,s,d,16,t[38]),s=u(s,h,c,o,tt,23,t[39]),o=u(o,s,h,c,ut,4,t[40]),c=u(c,o,s,h,v,11,t[41]),h=u(h,c,o,s,p,16,t[42]),s=u(s,h,c,o,k,23,t[43]),o=u(o,s,h,c,nt,4,t[44]),c=u(c,o,s,h,rt,11,t[45]),h=u(h,c,o,s,et,16,t[46]),s=u(s,h,c,o,y,23,t[47]),o=f(o,s,h,c,v,6,t[48]),c=f(c,o,s,h,d,10,t[49]),h=f(h,c,o,s,ft,15,t[50]),s=f(s,h,c,o,b,21,t[51]),o=f(o,s,h,c,rt,6,t[52]),c=f(c,o,s,h,p,10,t[53]),h=f(h,c,o,s,tt,15,t[54]),s=f(s,h,c,o,a,21,t[55]),o=f(o,s,h,c,g,6,t[56]),c=f(c,o,s,h,et,10,t[57]),h=f(h,c,o,s,k,15,t[58]),s=f(s,h,c,o,ut,21,t[59]),o=f(o,s,h,c,w,6,t[60]),c=f(c,o,s,h,it,10,t[61]),h=f(h,c,o,s,y,15,t[62]),s=f(s,h,c,o,nt,21,t[63]);l[0]=l[0]+o|0;l[1]=l[1]+s|0;l[2]=l[2]+h|0;l[3]=l[3]+c|0},_doFinalize:function(){var u=this._data,r=u.words,t=8*this._nDataBytes,i=8*u.sigBytes,f;for(r[i>>>5]|=128<<24-i%32,f=n.floor(t/4294967296),r[(i+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,r[(i+64>>>9<<4)+14]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360,u.sigBytes=4*(r.length+1),this._process(),u=this._hash,r=u.words,t=0;4>t;t++)i=r[t],r[t]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;return u},clone:function(){var n=s.clone.call(this);return n._hash=this._hash.clone(),n}});o.MD5=s._createHelper(e);o.HmacMD5=s._createHmacHelper(e)}(Math),function(){var t=CryptoJS,n=t.lib,i=n.Base,r=n.WordArray,n=t.algo,u=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:n.MD5,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,t){for(var i,o,f=this.cfg,u=f.hasher.create(),e=r.create(),h=e.words,s=f.keySize,f=f.iterations;h.length<s;){for(i&&u.update(i),i=u.update(n).finalize(t),u.reset(),o=1;o<f;o++)i=u.finalize(i),u.reset();e.concat(i)}return e.sigBytes=4*s,e}});t.EvpKDF=function(n,t,i){return u.create(i).compute(n,t)}}();CryptoJS.lib.Cipher||function(n){var i=CryptoJS,t=i.lib,f=t.Base,e=t.WordArray,c=t.BufferedBlockAlgorithm,l=i.enc.Base64,y=i.algo.EvpKDF,o=t.Cipher=c.extend({cfg:f.extend(),createEncryptor:function(n,t){return this.create(this._ENC_XFORM_MODE,n,t)},createDecryptor:function(n,t){return this.create(this._DEC_XFORM_MODE,n,t)},init:function(n,t,i){this.cfg=this.cfg.extend(i);this._xformMode=n;this._key=t;this.reset()},reset:function(){c.reset.call(this);this._doReset()},process:function(n){return this._append(n),this._process()},finalize:function(n){return n&&this._append(n),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(t,i,r){return("string"==typeof i?v:u).encrypt(n,t,i,r)},decrypt:function(t,i,r){return("string"==typeof i?v:u).decrypt(n,t,i,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=i.mode={},a=function(t,i,r){var f=this._iv,u;for(f?this._iv=n:f=this._prevBlock,u=0;u<r;u++)t[i+u]^=f[u]},r=(t.BlockCipherMode=f.extend({createEncryptor:function(n,t){return this.Encryptor.create(n,t)},createDecryptor:function(n,t){return this.Decryptor.create(n,t)},init:function(n,t){this._cipher=n;this._iv=t}})).extend();r.Encryptor=r.extend({processBlock:function(n,t){var i=this._cipher,r=i.blockSize;a.call(this,n,t,r);i.encryptBlock(n,t);this._prevBlock=n.slice(t,t+r)}});r.Decryptor=r.extend({processBlock:function(n,t){var i=this._cipher,r=i.blockSize,u=n.slice(t,t+r);i.decryptBlock(n,t);a.call(this,n,t,r);this._prevBlock=u}});s=s.CBC=r;r=(i.pad={}).Pkcs7={pad:function(n,t){for(var i=4*t,i=i-n.sigBytes%i,f=i<<24|i<<16|i<<8|i,r=[],u=0;u<i;u+=4)r.push(f);i=e.create(r,i);n.concat(i)},unpad:function(n){n.sigBytes-=n.words[n.sigBytes-1>>>2]&255}};t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:s,padding:r}),reset:function(){var t;o.reset.call(this);var n=this.cfg,i=n.iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1);this._mode=t.call(n,this,i&&i.words)},_doProcessBlock:function(n,t){this._mode.processBlock(n,t)},_doFinalize:function(){var t=this.cfg.padding,n;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),n=this._process(!0)):(n=this._process(!0),t.unpad(n)),n},blockSize:4});var h=t.CipherParams=f.extend({init:function(n){this.mixIn(n)},toString:function(n){return(n||this.formatter).stringify(this)}}),s=(i.format={}).OpenSSL={stringify:function(n){var t=n.ciphertext;return n=n.salt,(n?e.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(n){var t,i;return n=l.parse(n),t=n.words,1398893684==t[0]&&1701076831==t[1]&&(i=e.create(t.slice(2,4)),t.splice(0,4),n.sigBytes-=16),h.create({ciphertext:n,salt:i})}},u=t.SerializableCipher=f.extend({cfg:f.extend({format:s}),encrypt:function(n,t,i,r){r=this.cfg.extend(r);var u=n.createEncryptor(i,r);return t=u.finalize(t),u=u.cfg,h.create({ciphertext:t,key:i,iv:u.iv,algorithm:n,mode:u.mode,padding:u.padding,blockSize:n.blockSize,formatter:r.format})},decrypt:function(n,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n.createDecryptor(i,r).finalize(t.ciphertext)},_parse:function(n,t){return"string"==typeof n?t.parse(n,this):n}}),i=(i.kdf={}).OpenSSL={execute:function(n,t,i,r){return r||(r=e.random(8)),n=y.create({keySize:t+i}).compute(n,r),i=e.create(n.words.slice(t),4*i),n.sigBytes=4*t,h.create({key:n,iv:i,salt:r})}},v=t.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:i}),encrypt:function(n,t,i,r){return r=this.cfg.extend(r),i=r.kdf.execute(i,n.keySize,n.ivSize),r.iv=i.iv,n=u.encrypt.call(this,n,t,i.key,r),n.mixIn(i),n},decrypt:function(n,t,i,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),i=r.kdf.execute(i,n.keySize,n.ivSize,t.salt),r.iv=i.iv,u.decrypt.call(this,n,t,i.key,r)}})}(),function(){for(var i,tt,s=CryptoJS,y=s.lib.BlockCipher,h=s.algo,t=[],p=[],w=[],b=[],k=[],d=[],c=[],l=[],a=[],v=[],u=[],f=0;256>f;f++)u[f]=128>f?f<<1:f<<1^283;for(var r=0,e=0,f=0;256>f;f++){i=e^e<<1^e<<2^e<<3^e<<4;i=i>>>8^i&255^99;t[r]=i;p[i]=r;var o=u[r],g=u[o],nt=u[g],n=257*u[i]^16843008*i;w[r]=n<<24|n>>>8;b[r]=n<<16|n>>>16;k[r]=n<<8|n>>>24;d[r]=n;n=16843009*nt^65537*g^257*o^16843008*r;c[i]=n<<24|n>>>8;l[i]=n<<16|n>>>16;a[i]=n<<8|n>>>24;v[i]=n;r?(r=o^u[u[u[nt^o]]],e^=u[u[e]]):r=e=1}tt=[0,1,2,4,8,16,32,64,128,27,54];h=h.AES=y.extend({_doReset:function(){for(var n,f=this._key,e=f.words,r=f.sigBytes/4,f=4*((this._nRounds=r+6)+1),u=this._keySchedule=[],i=0;i<f;i++)i<r?u[i]=e[i]:(n=u[i-1],i%r?6<r&&4==i%r&&(n=t[n>>>24]<<24|t[n>>>16&255]<<16|t[n>>>8&255]<<8|t[n&255]):(n=n<<8|n>>>24,n=t[n>>>24]<<24|t[n>>>16&255]<<16|t[n>>>8&255]<<8|t[n&255],n^=tt[i/r|0]<<24),u[i]=u[i-r]^n);for(e=this._invKeySchedule=[],r=0;r<f;r++)i=f-r,n=r%4?u[i]:u[i-4],e[r]=4>r||4>=i?n:c[t[n>>>24]]^l[t[n>>>16&255]]^a[t[n>>>8&255]]^v[t[n&255]]},encryptBlock:function(n,i){this._doCryptBlock(n,i,this._keySchedule,w,b,k,d,t)},decryptBlock:function(n,t){var i=n[t+1];n[t+1]=n[t+3];n[t+3]=i;this._doCryptBlock(n,t,this._invKeySchedule,c,l,a,v,p);i=n[t+1];n[t+1]=n[t+3];n[t+3]=i},_doCryptBlock:function(n,t,i,r,u,f,e,o){for(var b=this._nRounds,h=n[t]^i[0],c=n[t+1]^i[1],l=n[t+2]^i[2],s=n[t+3]^i[3],a=4,w=1;w<b;w++)var v=r[h>>>24]^u[c>>>16&255]^f[l>>>8&255]^e[s&255]^i[a++],y=r[c>>>24]^u[l>>>16&255]^f[s>>>8&255]^e[h&255]^i[a++],p=r[l>>>24]^u[s>>>16&255]^f[h>>>8&255]^e[c&255]^i[a++],s=r[s>>>24]^u[h>>>16&255]^f[c>>>8&255]^e[l&255]^i[a++],h=v,c=y,l=p;v=(o[h>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[s&255])^i[a++];y=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[s>>>8&255]<<8|o[h&255])^i[a++];p=(o[l>>>24]<<24|o[s>>>16&255]<<16|o[h>>>8&255]<<8|o[c&255])^i[a++];s=(o[s>>>24]<<24|o[h>>>16&255]<<16|o[c>>>8&255]<<8|o[l&255])^i[a++];n[t]=v;n[t+1]=y;n[t+2]=p;n[t+3]=s},keySize:8});s.AES=y._createHelper(h)}();this.ej=this.ej||{};this.ej.dashboard=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.i=function(n){return n},t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=15)}([function(n,t,i){(function(){var u,r;!(u=[i,t],r=function(n,t){"use strict";function h(n,t){var i=t;return i.unshift(undefined),new(Function.prototype.bind.apply(n,i))}function c(n){var r,u=new Uint16Array(5),f=window.msCrypto||window.crypto,t,i;return f.getRandomValues(u),t="ej2"+ut(u),i=function(i){i.source===window&&typeof i.data=="string"&&i.data.length<=32&&i.data===t&&(n(),r())},window.addEventListener("message",i,!1),window.postMessage(t,"*"),r=function(){window.removeEventListener("message",i)}}function l(n,t){for(var i=t,u=n.split("."),r=0;r<u.length&&!e(i);r++)i=i[u[r]];return i}function a(n,t,i){for(var o=n.split("."),s=i||{},u=s,h=o.length,e,f=0;f<h;f++)e=o[f],f+1===h?u[e]=t===undefined?{}:t:r(u[e])&&(u[e]={}),u=u[e];return s}function v(n,t){delete n[t]}function u(n){return!r(n)&&n.constructor==={}.constructor}function y(n,t){return n[t]}function p(n,t){var i,u,f;if(!r(t)){var e=n,o=t,s=Object.keys(t);for(i=0,u=s;i<u.length;i++)f=u[i],e[f]=o[f]}}function f(n,t,i,r){var e=n||{},s=arguments.length,c,h,o;for(r&&(s=s-1),c=function(n){if(!h[n])return"continue";var t=h[n];Object.keys(t).forEach(function(n){var o=e[n],i=t[n],s;r&&u(i)?(s=u(o)?o:{},e[n]=f({},s,i,!0)):e[n]=i})},h=arguments,o=1;o<s;o++)c(o);return e}function r(n){return n===undefined||n===null}function e(n){return"undefined"==typeof n}function w(n){return n+"_"+s++}function b(n,t){var i;return function(){var r=this,u=arguments,f=function(){return i=null,n.apply(r,u)};clearTimeout(i);i=setTimeout(f,t)}}function k(n){for(var i,r=[],f=Object.keys(n),t=0,u=f;t<u.length;t++)i=u[t],r.push(encodeURIComponent(i)+"="+encodeURIComponent(""+n[i]));return r.join("&")}function d(n){var t=Object.prototype.toString;return t.call(n)==="[object Array]"&&t.call(n[0])==="[object Object]"?!0:!1}function o(n,t){var i=n;return i===t?!0:i!==document&&i?o(i.parentNode,t):!1}function g(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}function nt(n,t){var u=document.createElement("div"),f=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link, style")),e="",i,o,s;for(r(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),u.appendChild(n.cloneNode(!0)),i=0,o=f.length;i<o;i++)e+=f[i].outerHTML;return t.document.write("<!DOCTYPE html> <html><head>"+e+"<\/head><body>"+u.innerHTML+"<script> (function() { window.ready = true; })(); <\/script><\/body><\/html>"),t.document.close(),t.focus(),s=setInterval(function(){t.ready&&(t.print(),t.close(),clearInterval(s))},500),t}function tt(n){var t=n+"";return t==="auto"||t.indexOf("%")!==-1||t.indexOf("px")!==-1?t:t+"px"}function it(n,t){var e=typeof n=="string"?document.querySelector(n):n,r,u,f;if(e[i])for(r=0,u=e[i];r<u.length;r++)if(f=u[r],f instanceof t)return f;return null}function rt(n,t){var r=typeof n=="string"?document.querySelector(n):n;r[i]?r[i].push(t):r[i]=[t]}function ut(n){for(var i="",t=0;t<5;t++)i+=(t?",":"")+n[t];return i}Object.defineProperty(t,"__esModule",{value:!0});var i="ej2_instances",s=0;t.createInstance=h;t.setImmediate=c;t.getValue=l;t.setValue=a;t.deleteObject=v;t.isObject=u;t.getEnumValue=y;t.merge=p;t.extend=f;t.isNullOrUndefined=r;t.isUndefined=e;t.getUniqueID=w;t.debounce=b;t.queryParams=k;t.isObjectArray=d;t.compareElementParent=o;t.throwError=g;t.print=nt;t.formatUnit=tt;t.getInstance=it;t.addInstance=rt}.apply(t,u),r!==undefined&&(n.exports=r))}).call(t,i(18).setImmediate)},function(n,t,i){var u,r;!(u=[i,t,i(0),i(2),i(10)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(n,t){this.isProtectedOnChange=!0;this.properties={};this.changedProperties={};this.oldProperties={};this.refreshing=!1;this.finalUpdate=function(){};this.childChangedProperties={};this.modelObserver=new u.Observer(this);i.isUndefined(t)||(this.element="string"==typeof t?document.querySelector(t):t,i.isNullOrUndefined(this.element)||(this.isProtectedOnChange=!1,this.addInstance()));i.isUndefined(n)||this.setProperties(n,!0);this.isDestroyed=!1}return n.prototype.setProperties=function(n,t){var r=this.isProtectedOnChange;this.isProtectedOnChange=!!t;i.merge(this,n);t!==!0&&(i.merge(this.changedProperties,n),this.dataBind());this.finalUpdate();this.changedProperties={};this.oldProperties={};this.isProtectedOnChange=r},n.callChildDataBind=function(n,t){for(var i,r,f,e,s=Object.keys(n),u=0,o=s;u<o.length;u++)if(i=o[u],t[i]instanceof Array)for(r=0,f=t[i];r<f.length;r++)e=f[r],e.dataBind!==undefined&&e.dataBind();else t[i].dataBind()},n.prototype.clearChanges=function(){this.finalUpdate();this.changedProperties={};this.oldProperties={};this.childChangedProperties={}},n.prototype.dataBind=function(){if(n.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,r=this.oldProperties;this.clearChanges();this.isProtectedOnChange=!0;this.onPropertyChanged(i,r);this.isProtectedOnChange=t}},n.prototype.saveChanges=function(n,t,r){this.isProtectedOnChange||(this.oldProperties[n]=r,this.changedProperties[n]=t,this.finalUpdate(),this.finalUpdate=i.setImmediate(this.dataBind.bind(this)))},n.prototype.addEventListener=function(n,t){this.modelObserver.on(n,t)},n.prototype.removeEventListener=function(n,t){this.modelObserver.off(n,t)},n.prototype.trigger=function(n,t){if(this.isDestroyed!==!0){var i=this.isProtectedOnChange;this.isProtectedOnChange=!1;this.modelObserver.notify(n,t);this.isProtectedOnChange=i}},n.prototype.addInstance=function(){var n="e-"+this.getModuleName().toLowerCase();r.addClass([this.element],["e-control",n]);i.isNullOrUndefined(this.element.ej2_instances)?i.setValue("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},n.prototype.destroy=function(){var n=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(t){return t!==n});r.removeClass([this.element],["e-"+this.getModuleName()]);this.element.ej2_instances.length===0&&r.removeClass([this.element],["e-control"]);this.clearChanges();this.modelObserver.destroy();this.isDestroyed=!0},n}();t.Base=f}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(4),i(0)],r=function(n,t,i,r){"use strict";function h(n,t){var i=document.createElement(n);return typeof t=="undefined"?i:(i.innerHTML=t.innerHTML?t.innerHTML:"",t.className!==undefined&&(i.className=t.className),t.id!==undefined&&(i.id=t.id),t.styles!==undefined&&i.setAttribute("style",t.styles),t.attrs!==undefined&&o(i,t.attrs),i)}function u(n,t){for(var u,i,f,o,h=e(t),r=0,s=n;r<s.length;r++)for(u=s[r],i=0,f=h;i<f.length;i++)o=f[i],u.classList.contains(o)||u.classList.add(o);return n}function f(n,t){for(var u,i,f,s,h=e(t),r=0,o=n;r<o.length;r++)if(u=o[r],u.className!=="")for(i=0,f=h;i<f.length;i++)s=f[i],u.classList.remove(s);return n}function e(n){var t=[];return typeof n=="string"?t.push(n):t=n,t}function c(n){var t=n;return t.style.visibility===""&&t.offsetWidth>0}function l(n,t){for(var f,r=document.createDocumentFragment(),i=0,u=n;i<u.length;i++)f=u[i],r.appendChild(f);return t.insertBefore(r,t.firstElementChild),n}function a(n,t){for(var f,r=document.createDocumentFragment(),i=0,u=n;i<u.length;i++)f=u[i],r.appendChild(f);return t.appendChild(r),n}function v(n){var t=n.parentNode;return t.removeChild(n)}function y(n){var t=n.parentNode;i.EventHandler.clearEvents(n);t.removeChild(n)}function o(n,t){for(var r,e=Object.keys(t),u=n,i=0,f=e;i<f.length;i++)r=f[i],u.setAttribute(r,t[r]);return u}function p(n,t){return t===void 0&&(t=document),t.querySelector(n)}function w(n,t){t===void 0&&(t=document);return t.querySelectorAll(n)}function b(n,t){var i=n;if(typeof i.closest=="function")return i.closest(t);while(i&&i.nodeType===1){if(s(i,t))return i;i=i.parentNode}return null}function k(n){for(var t,r=[],f=Array.prototype.slice.call(n.parentNode.childNodes),i=0,u=f;i<u.length;i++)t=u[i],t.nodeType===Node.ELEMENT_NODE&&n!==t&&r.push(t);return r}function d(n,t,i){var u=n.getAttribute(t);return r.isNullOrUndefined(u)&&(n.setAttribute(t,i.toString()),u=i),u}function g(n,t){t!==undefined&&Object.keys(t).forEach(function(i){n.style[i]=t[i]})}function nt(n,t,i){u([n],t);f([n],i)}function s(n,t){var i=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return i?i.call(n,t):[].indexOf.call(document.querySelectorAll(t),n)!==-1}Object.defineProperty(t,"__esModule",{value:!0});t.createElement=h;t.addClass=u;t.removeClass=f;t.isVisible=c;t.prepend=l;t.append=a;t.detach=v;t.remove=y;t.attributes=o;t.select=p;t.selectAll=w;t.closest=b;t.siblings=k;t.getAttributeOrDefault=d;t.setStyleAttribute=g;t.classList=nt;t.matches=s}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";function f(n,t,r,u){return n.properties.hasOwnProperty(t)||(n.properties[t]=i.createInstance(u,[n,t,r])),n.properties[t]}function r(n,t,r,u,f,e){for(var s,c,h=[],l=r.length,o=0;o<l;o++)s=u,e&&(s=u(r[o])),f?(c=i.createInstance(s,[n,t,{},!0]),c.setProperties(r[o],!0),h.push(c)):h.push(i.createInstance(s,[n,t,r[o],!0]));return h}function e(n,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=n),this.properties[t]}}function h(n,t){return function(i){if(this.properties[t]!==i){var r=this.properties.hasOwnProperty(t)?this.properties[t]:n;this.saveChanges(t,i,r);this.properties[t]=i}}}function c(n,t,i){return function(){return f(this,t,n,i)}}function l(n,t,i){return function(r){f(this,t,n,i).setProperties(r)}}function a(n,t,i){return function(){var r=i({});return f(this,t,n,r)}}function v(n,t,i){return function(r){var u=i(r);f(this,t,n,u).setProperties(r)}}function y(n,t,i){return function(){if(!this.properties.hasOwnProperty(t)){var u=r(this,t,n,i,!1);this.properties[t]=u}return this.properties[t]}}function p(n,t,i){return function(u){var e=r(this,t,n,i,!1),f=r(this,t,u,i,!0);this.saveChanges(t,f,e);this.properties[t]=f}}function w(n,t,i){return function(u){var e=r(this,t,n,i,!1,!0),f=r(this,t,u,i,!0,!0);this.saveChanges(t,f,e);this.properties[t]=f}}function b(n,t,i){return function(){var f=i({}),u;return this.properties.hasOwnProperty(t)||(u=r(this,t,n,f,!1),this.properties[t]=u),this.properties[t]}}function k(n){return function(t,i){var r={set:h(n,i),get:e(n,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);u(t,i,"prop",n)}}function d(n,t){return function(i,r){var f={set:l(n,r,t),get:c(n,r,t),enumerable:!0,configurable:!0};Object.defineProperty(i,r,f);u(i,r,"complexProp",n,t)}}function g(n){return function(t,i){var r={set:v({},i,n),get:a({},i,n),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);u(t,i,"complexProp",{},n)}}function nt(n,t){return function(i,r){var f={set:p(n,r,t),get:y(n,r,t),enumerable:!0,configurable:!0};Object.defineProperty(i,r,f);u(i,r,"colProp",n,t)}}function tt(n){return function(t,i){var r={set:w([],i,n),get:b([],i,n),enumerable:!0,configurable:!0};Object.defineProperty(t,i,r);u(t,i,"colProp",{},n)}}function it(){return function(n,t){var r={set:function(n){var u=this.properties[t],r;u!==n&&(r=s(this,t),i.isUndefined(u)===!1&&r.context.removeEventListener(r.prefix,u),r.context.addEventListener(r.prefix,n),this.properties[t]=n)},get:e(undefined,t),enumerable:!0,configurable:!0};Object.defineProperty(n,t,r);u(n,t,"event")}}function rt(){}function u(n,t,r,u,f){i.isUndefined(n.propList)&&(n.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]});n.propList[r+"s"].push({propertyName:t,defaultValue:u,type:f});n.propList[r+"Names"].push(t)}function o(n){var s,t,u,f,h,r,e,c;if(i.isUndefined(n.prototype.builderObject))for(n.prototype.builderObject={properties:{},propCollections:[],add:function(){this.isPropertyArray=!0;this.propCollections.push(i.extend({},this.properties,{}))}},s=/complex/,t=0,u=Object.keys(n.prototype.propList);t<u.length;t++)for(f=u[t],h=function(t){n.prototype.builderObject[t.propertyName]=s.test(f)?function(n){var r={},u;return i.merge(r,o(t.type)),n(r),u=r.isPropertyArray?r.propCollections:i.extend({},r.properties,{}),this.properties[t.propertyName]=u,r.properties={},r.propCollections=[],r.isPropertyArray=!1,this}:function(n){return this.properties[t.propertyName]=n,this}},r=0,e=n.prototype.propList[f];r<e.length;r++)c=e[r],h(c);return n.prototype.builderObject}function ut(n){var t=function(n){return this.element=n,this};return function(r){return t.prototype.hasOwnProperty("create")||(t.prototype=o(n),t.prototype.create=function(){var t=i.extend({},{},this.properties);return this.properties={},new n(t,this.element)}),new t(r)}}function s(n,t){if(n.hasOwnProperty("parentObj")===!1)return{context:n,prefix:t};var r=i.getValue("propName",n);return r&&(t=r+"-"+t),s(i.getValue("parentObj",n),t)}Object.defineProperty(t,"__esModule",{value:!0});t.Property=k;t.Complex=d;t.ComplexFactory=g;t.Collection=nt;t.CollectionFactory=tt;t.Event=it;t.NotifyPropertyChanges=rt;t.CreateBuilder=ut}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.addOrGetEventData=function(n){return"__eventList"in n?n.__eventList.events:(n.__eventList={},n.__eventList.events=[])},n.add=function(t,r,u,f,e){var c=n.addOrGetEventData(t),o,h,s;for(o=e?i.debounce(u,e):u,f&&(o=o.bind(f)),h=r.split(" "),s=0;s<h.length;s++)c.push({name:h[s],listener:u,debounce:o}),t.addEventListener(h[s],o);return o},n.remove=function(t,i,r){for(var u=n.addOrGetEventData(t),f=i.split(" "),o=function(n){var i=-1,e;u&&u.length!==0&&u.some(function(t,u){return t.name===f[n]&&t.listener===r?(i=u,e=t.debounce,!0):!1});i!==-1&&u.splice(i,1);t.removeEventListener(f[n],e)},e=0;e<f.length;e++)o(e)},n.clearEvents=function(t){var f,r,u;for(f=n.addOrGetEventData(t),r=i.extend([],r,f),u=0;u<r.length;u++)t.removeEventListener(r[u].name,r[u].debounce),f.shift()},n.trigger=function(t,i,r){for(var f,o=n.addOrGetEventData(t),u=0,e=o;u<e.length;u++)f=e[u],f.name===i&&f.debounce.call(this,r)},n}();t.EventHandler=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var f=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,e=/msie|trident/i,o=/Trident\/7\./,s=/(ipad|iphone|ipod touch)/i,h=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,c=/android/i,l=/trident|windows phone|edge/i,a=/(version)[ \/]([\w.]+)/i,u={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};window.browserDetails=window.browserDetails||{};r=function(){function n(){}return n.extractBrowserDetail=function(){for(var s,f,t={culture:{}},h=Object.keys(u),i=[],r=0,e=h;r<e.length;r++)if(s=e[r],i=n.userAgent.match(u[s]),i){if(t.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),t.name=i[1].toLowerCase()==="crios"?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,!!n.userAgent.match(o)){t.name="msie";break}f=n.userAgent.match(a);t.name==="safari"&&f&&(t.version=f[2]);break}return t},n.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"}};return n.isPointer?i[t].isPointer:n.isTouch?i[t].isTouch+(n.isDevice?"":" "+i[t].isDevice):i[t].isDevice},n.getTouchStartEvent=function(){return n.getEvent("start")},n.getTouchEndEvent=function(){return n.getEvent("end")},n.getTouchMoveEvent=function(){return n.getEvent("move")},n.getValue=function(t,i){var r=window.browserDetails;return"undefined"==typeof r[t]?r[t]=i.test(n.userAgent):r[t]},Object.defineProperty(n,"userAgent",{get:function(){return n.uA},set:function(t){n.uA=t;window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"info",{get:function(){return i.isUndefined(window.browserDetails.info)?window.browserDetails.info=n.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIE",{get:function(){return n.getValue("isIE",e)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isTouch",{get:function(){return i.isUndefined(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isPointer",{get:function(){return i.isUndefined(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isMSPointer",{get:function(){return i.isUndefined(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isDevice",{get:function(){return n.getValue("isDevice",f)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIos",{get:function(){return n.getValue("isIos",s)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isIos7",{get:function(){return n.getValue("isIos7",h)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isAndroid",{get:function(){return n.getValue("isAndroid",c)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWebView",{get:function(){return i.isUndefined(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(i.isUndefined(window.cordova)&&i.isUndefined(window.PhoneGap)&&i.isUndefined(window.phonegap)&&window.forge!=="object"),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWindows",{get:function(){return n.getValue("isWindows",l)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchStartEvent",{get:function(){return i.isUndefined(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=n.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchMoveEvent",{get:function(){return i.isUndefined(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=n.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(n,"touchEndEvent",{get:function(){return i.isUndefined(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=n.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),n}();r.uA=navigator.userAgent;t.Browser=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(7),i(11),i(12)],r=function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e;(function(n){function c(t,r,u){var f,e=u||"date",o,s;return n.basicPatterns.indexOf(t)!==-1?(f=i.getValue(e+"Formats."+t,r),e==="dateTime"&&(o=i.getValue("dateFormats."+t,r),s=i.getValue("timeFormats."+t,r),f=f.replace("{1}",o).replace("{0}",s))):f=i.getValue("dateTimeFormats.availableFormats."+t,r),f}function o(t,u,f){var e={};return e.parserObject=r.ParserBase.getMainObject(t,u)||n.defaultObject,f?e.numericObject=i.getValue("numbers",e.parserObject):e.dateObject=i.getValue("dates.calendars.gregorian",e.parserObject),e}function s(n,t,r,u){return i.getValue(n+"Formats-numberSystem-"+t+(u?".accounting":".standard"),r)||(u?i.getValue(n+"Formats-numberSystem-"+t+".standard",r):"")}function l(t){var r=t.match(n.formatRegex),i={},u=r[1].toUpperCase();return i.isAccount=u==="A",i.type=n.patternMatcher[u],t.length>1&&(i.fractionDigits=parseInt(r[2],10)),i}function a(t,r,u,f){var e=f?{}:{nlead:"",nend:""},o=t.match(n.customRegex),s,c;return o&&(f||(e.nlead=v(o[1],u),e.nend=v(o[10],u),e.groupPattern=o[4]),s=o[7],s&&r&&(c=s.match(h),e.minimumFraction=i.isNullOrUndefined(c)?0:c.length,e.maximumFraction=s.length-1)),e}function v(t,i){return t?t.replace(n.defaultCurrency,i):""}function b(n,t){return i.getValue("currencies."+t+".symbol",n)||"$"}function k(n,t,r){for(var u={},e=n.split(";"),o=["pData","nData","zeroData"],f=0;f<e.length;f++)u[o[f]]=d(e[f],t,r);return i.isNullOrUndefined(u.nData)&&(u.nData=i.extend({},u.pData),u.nData.nlead=i.isNullOrUndefined(t)?"-"+u.nData.nlead:t.minusSymbol+u.nData.nlead),u}function d(r,u,e){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},c=r.match(n.customRegex),h,l,a;return(i.isNullOrUndefined(c)||c[5]==="")&&i.throwError("Given Format is not valid or Cldr data not loaded"),o.nlead=c[1],o.nend=c[10],h=c[6],o.useGrouping=h.indexOf(",")!==-1,h=h.replace(/,/g,""),l=c[7],h.indexOf("0")!==-1&&(o.minimumIntegerDigits=h.length-h.indexOf("0")),i.isNullOrUndefined(l)||(o.minimumFractionDigits=l.lastIndexOf("0"),o.maximumFractionDigits=l.lastIndexOf("#"),o.minimumFractionDigits===-1&&(o.minimumFractionDigits=0),(o.maximumFractionDigits===-1||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),i.isNullOrUndefined(u)?i.extend(o,t([o.nlead,o.nend],"%","%")):(i.extend(o,t([o.nlead,o.nend],"$",u.currencySymbol)),o.isCurrency||i.extend(o,t([o.nlead,o.nend],"%",u.percentSymbol))),i.isNullOrUndefined(e)||(a=s(o.type,u.numberMapper.numberSystem,e,!1),o.useGrouping&&(o.groupSeparator=u.numberMapper.numberSymbols[y[2]],o.groupData=f.NumberFormat.getGroupingDetails(a.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")),o}function t(n,t,i){for(var r,u,f={nlead:n[0],nend:n[1]},o=0;o<2;o++)if(r=n[o],u=r.indexOf(t),u!==-1&&(u<r.indexOf("'")||u>r.lastIndexOf("'"))){f[e[o]]=r.substr(0,u)+i+r.substr(u+1);f[e[t]]=!0;f.type=f.isCurrency?"currency":"percent";break}return f}function g(n){var t=(i.getValue("dateFormats.short",n)||"").match(/[d‏M‏]([^d‏M])[d‏M‏]/i);return t?t[1]:"/"}function nt(n,t,f,e){var a=o(f,n),s=t.format||c(t.skeleton,a.dateObject,t.type);if(e){if(s=s.replace(p,function(n){return w[n]}),s.indexOf("z")!==-1){var b=s.match(/z/g).length,l=void 0,h={timeZone:{}};h.numMapper=r.ParserBase.getNumberMapper(a.parserObject,r.ParserBase.getNumberingSystem(f));h.timeZone=i.getValue("dates.timeZoneNames",a.parserObject);var k=new Date,y=k.getTimezoneOffset(),v=b<4?"+H;-H":h.timeZone.hourFormat;v=v.replace(/:/g,h.numMapper.timeSeparator);y===0?l=h.timeZone.gmtZeroFormat:(l=u.DateFormat.getTimeZoneValue(y,v),l=h.timeZone.gmtFormat.replace(/\{0\}/,l));s=s.replace(/[z]+/,'"'+l+'"')}s=s.replace(/ $/,"")}return s}function tt(t,u,f){var p=o(f,t,!0),h={custom:!0},c,v,w,e,y;return!/(c|a)$/ig.test(u.format)||u.minimumFractionDigits||u.maximumFractionDigits||(v={},v.numberMapper=r.ParserBase.getNumberMapper(p.parserObject,r.ParserBase.getNumberingSystem(f),!0),w=s("currency",v.numberMapper.numberSystem,p.numericObject,/a/i.test(u.format)),c=a(w.split(";")[0],!0,"",!0).minimumFraction),n.formatRegex.test(u.format)||!u.format?(i.extend(h,l(u.format||"N")),h.custom=!1,e="###0",(h.fractionDigits||u.minimumFractionDigits||u.maximumFractionDigits||c)&&(y=0,h.fractionDigits&&(u.minimumFractionDigits=u.maximumFractionDigits=h.fractionDigits),e=it(e,c||h.fractionDigits||u.minimumFractionDigits||y,u.maximumFractionDigits||y)),u.minimumIntegerDigits&&(e=rt(e,u.minimumIntegerDigits)),u.useGrouping&&(e=ut(e)),h.type!=="currency"||h.isAccount?h.type==="currency"&&h.isAccount&&(e="$ "+e+";($ "+e+")"):e="$ "+e,h.type==="percent"&&(e+=" %")):e=u.format.replace(/\'/g,'"'),e}function it(n,t,i){var r,f,u;for(n+=".",r=0;r<t;r++)n+="0";if(t<i)for(f=i-t,u=0;u<f;u++)n+="#";return n}function rt(n,t){for(var r=n.split("."),i="",u=0;u<t;u++)i+="0";return r[1]?i+"."+r[1]:i}function ut(n){var r=n.split("."),t=r[0],u=3-t.length%3,f=u&&u===1?"#":u===2?"##":"",i;for(t=f+t,n="",i=t.length-1;i>0;i=i-3)n=","+t[i-2]+t[i-1]+t[i]+n;return n=n.slice(1),r[1]?n+"."+r[1]:n}var h,e;n.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;n.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;n.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;h=/[0-9]/g;n.defaultCurrency="$";var y=["infinity","nan","group","decimal"],p=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,w={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n.formatRegex=/(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;e={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};n.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi;n.basicPatterns=["short","medium","long","full"];n.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{"1":"Jan","2":"Feb","3":"Mar","4":"Apr","5":"May","6":"Jun","7":"Jul","8":"Aug","9":"Sep","10":"Oct","11":"Nov","12":"Dec"},narrow:{"1":"J","2":"F","3":"M","4":"A","5":"M","6":"J","7":"J","8":"A","9":"S","10":"O","11":"N","12":"D"},wide:{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{"0":"Before Christ","0-alt-variant":"Before Common Era","1":"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{"0":"BC","0-alt-variant":"BCE","1":"AD","1-alt-variant":"CE"},eraNarrow:{"0":"B","0-alt-variant":"BCE","1":"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"€","symbol-alt-narrow":"€"},GBP:{displayName:"British Pound","symbol-alt-narrow":"£"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"×",perMille:"‰",infinity:"∞",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"¤#,##0.00",accounting:"¤#,##0.00;(¤#,##0.00)"}}};n.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"};n.month="months";n.days="days";n.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency"};n.getResultantPattern=c;n.getDependables=o;n.getSymbolPattern=s;n.getProperNumericSkeleton=l;n.getFormatData=a;n.getCurrencySymbol=b;n.customFormat=k;n.isCurrencyPercent=t;n.getDateSeparator=g;n.getActualDateTimeFormat=nt;n.getActualNumberFormat=tt})(e=t.IntlBase||(t.IntlBase={}))}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"∞",nan:"NaN",exponential:"E"},f=[0,1,2,3,4,5,6,7,8,9],r=function(){function n(){}return n.getMainObject=function(n,t){return i.getValue("main."+t,n)},n.getNumberingSystem=function(n){return i.getValue("supplemental.numberingSystems",n)||this.numberingSystems},n.reverseObject=function(n,t){for(var i,e=t||Object.keys(n),r={},u=0,f=e;u<f.length;u++)i=f[u],r.hasOwnProperty(n[i])||(r[n[i]]=i);return r},n.getSymbolRegex=function(n){var t=n.map(function(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(t,"g")},n.getSymbolMatch=function(n){for(var i,e=Object.keys(u),r={},t=0,f=e;t<f.length;t++)i=f[t],r[n[i]]=u[i];return r},n.constructRegex=function(n){for(var i=n.length,r="",t=0;t<i;t++)r+=t!==i-1?n[t]+"|":n[t];return r},n.convertValueParts=function(n,t,i){return n.replace(t,function(n){return i[n]})},n.getDefaultNumberingSystem=function(n){var t={};return t.obj=i.getValue("numbers",n),t.nSystem=i.getValue("defaultNumberingSystem",t.obj),t},n.getCurrentNumericOptions=function(n,t,r){var u={},o=this.getDefaultNumberingSystem(n),e;return i.isUndefined(o.nSystem)||(e=i.getValue(o.nSystem+"._digits",t),i.isUndefined(e)||(u.numericPair=this.reverseObject(e,f),u.numberParseRegex=new RegExp(this.constructRegex(e),"g"),u.numericRegex="["+e[0]+"-"+e[9]+"]",r&&(u.numericRegex=e[0]+"-"+e[9],u.symbolNumberSystem=i.getValue("symbols-numberSystem-"+o.nSystem,o.obj),u.symbolMatch=this.getSymbolMatch(u.symbolNumberSystem),u.numberSystem=o.nSystem))),u},n.getNumberMapper=function(n,t){var r={mapper:{}},u=this.getDefaultNumberingSystem(n),o,e,s,h;if(!i.isUndefined(u.nSystem)&&(r.numberSystem=u.nSystem,r.numberSymbols=i.getValue("symbols-numberSystem-"+u.nSystem,u.obj),r.timeSeparator=i.getValue("timeSeparator",r.numberSymbols),o=i.getValue(u.nSystem+"._digits",t),!i.isUndefined(o)))for(e=0,s=f;e<s.length;e++)h=s[e],r.mapper[h]=o[h];return r},n}();r.nPair="numericPair";r.nRegex="numericRegex";r.numberingSystems={latn:{_digits:"0123456789",_type:"numeric"}};t.ParserBase=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(1)],r=function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t,u,f){this.properties={};this.changedProperties={};this.childChangedProperties={};this.oldProperties={};this.finalUpdate=function(){};this.callChildDataBind=i.getValue("callChildDataBind",r.Base);this.parentObj=n;this.controlParent=this.parentObj.controlParent||this.parentObj;this.propName=t;this.setProperties(u,!0);this.isParentArray=f}return n.prototype.updateChange=function(n,t){n===!0?this.parentObj.childChangedProperties[t]=n:delete this.parentObj.childChangedProperties[t];this.parentObj.updateChange&&this.parentObj.updateChange(n,this.parentObj.propName)},n.prototype.updateTimeOut=function(){this.parentObj.updateTimeOut?(this.parentObj.finalUpdate(),this.parentObj.updateTimeOut()):this.parentObj.finalUpdate=i.setImmediate(this.parentObj.dataBind.bind(this.parentObj))},n.prototype.clearChanges=function(){this.finalUpdate();this.updateChange(!1,this.propName);this.oldProperties={};this.changedProperties={}},n.prototype.setProperties=function(n,t){t===!0?(i.merge(this,n),this.updateChange(!1,this.propName),this.clearChanges()):i.merge(this,n)},n.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var n=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(i.setValue(this.propName+"."+n,this.changedProperties,this.parentObj.changedProperties),i.setValue(this.propName+"."+n,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},n.prototype.saveChanges=function(n,t,i){this.controlParent.isProtectedOnChange||(this.oldProperties[n]=i,this.changedProperties[n]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},n}();t.ChildProperty=u}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(11),i(12),i(26),i(27),i(6),i(0),i(10)],r=function(n,t,i,r,u,f,e,o,s){"use strict";function l(n){t.defaultCulture=n;t.onIntlChange.notify("notifyExternalChange",{locale:t.defaultCulture})}function a(n){t.defaultCurrencyCode=n}function v(){for(var i,r,f,u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];for(i=0,r=u;i<r.length;i++)f=r[i],o.extend(t.cldrData,f,{},!0)}function y(n){n===void 0&&(n=!0);t.rightToLeft=n;t.onIntlChange.notify("notifyExternalChange",{enableRtl:t.rightToLeft})}function p(n,i){var r=e.IntlBase.getDependables(t.cldrData,n,!0)[h[0]],f=e.IntlBase.getDependables(t.cldrData,n)[h[1]],u=o.getValue("defaultNumberingSystem",r),s=o.getValue("symbols-numberSystem-"+u,r),c=e.IntlBase.getSymbolPattern(i||"decimal",u,r,!1);return o.extend(s,e.IntlBase.getFormatData(c,!0,"",!0),{dateSeparator:e.IntlBase.getDateSeparator(f)})}function w(){return e.IntlBase.getDependables(t.cldrData,"",!1)[h[1]]}Object.defineProperty(t,"__esModule",{value:!0});t.onIntlChange=new s.Observer;t.rightToLeft=!1;t.cldrData={};t.defaultCulture="en-US";t.defaultCurrencyCode="USD";var h=["numericObject","dateObject"],c=function(){function n(n){n&&(this.culture=n)}return n.prototype.getDateFormat=function(n){return i.DateFormat.dateFormat(this.getCulture(),n||{type:"date",skeleton:"short"},t.cldrData)},n.prototype.getNumberFormat=function(n){return n&&!n.currency&&(n.currency=t.defaultCurrencyCode),r.NumberFormat.numberFormatter(this.getCulture(),n||{},t.cldrData)},n.prototype.getDateParser=function(n){return u.DateParser.dateParser(this.getCulture(),n||{skeleton:"short",type:"date"},t.cldrData)},n.prototype.getNumberParser=function(n){return f.NumberParser.numberParser(this.getCulture(),n||{format:"N"},t.cldrData)},n.prototype.formatNumber=function(n,t){return this.getNumberFormat(t)(n)},n.prototype.formatNumberThroughSchema=function(n,t){return this.formatNumber(n,{format:t.measureType,currency:t.currencyCode,unit:t.unit,decimal:t.decimalSeparator,group:t.groupSeparator,negative:t.negativeValueFormat,prefix:t.prefix,suffix:t.suffix})},n.prototype.formatDateThroughSchema=function(n,t){var i,r,u;return t.dateTimeComponent=="date"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6)-1,n.toString().substring(6,8)),{format:t.dateTimeFormat}):t.dateTimeComponent=="month"?t.dateTimeFormat=="MMMMM"?this.formatDate(new Date(n.toString()),{format:t.dateTimeFormat}).substring(0,1):this.formatDate(new Date(n.toString()),{format:t.dateTimeFormat}):t.dateTimeComponent=="day"?(i=new Date(2018,2,n),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="quarter"?t.dateTimeFormat=="wide"?"Quarter"+n:t.dateTimeFormat=="abbrivated"?"Q"+n:n:t.dateTimeComponent=="hour"?(i=new Date(2018,2,3,n.toString()),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="minutes"?(i=new Date(2018,2,3,4,n.toString()),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="seconds"?(i=new Date(2018,2,3,4,5,n.toString()),this.formatDate(i,{format:t.dateTimeFormat})):t.dateTimeComponent=="quarteryear"?"Quarter "+n.toString().substring(4,5)+" "+n.toString().substring(0,4):t.dateTimeComponent=="monthyear"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6)-1),{format:t.dateTimeFormat}):t.dateTimeComponent=="datehour"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6),n.toString().substring(6,8),n.toString().substring(8,10)),{format:t.dateTimeFormat}):t.dateTimeComponent=="weekyear"?"Week "+n.toString().substring(4,6)+" "+n.toString().substring(0,4):t.dateTimeComponent=="dayofweek"?(r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=["M","T","W","Th","F","Sa","S"],t.dateTimeFormat=="long"?r[n-1]:t.dateTimeFormat=="narrow"?u[n-1]:t.dateTimeFormat=="short"?r[n-1].substring(0,3):n.toString()):t.dateTimeComponent=="weekofyear"?t.dateTimeFormat=="week N"?"Week "+n.toString().substring(1,2):t.dateTimeFormat=="week NN"?"Week "+n:n.toString():t.dateTimeComponent=="daymonthyear"||t.dateTimeComponent=="monthdayyear"?this.formatDate(new Date(n.toString().substring(0,4),n.toString().substring(4,6)-1,n.toString().substring(6,8)),{format:t.dateTimeFormat}):t.dateTimeComponent=="year"?this.formatDate(new Date("1/1/"+n.toString()),{format:t.dateTimeFormat}):this.formatDate(new Date(n.toString()),{format:t.dateTimeFormat})},n.prototype.truncateNumber=function(n){var o=10,i=n,f="",e=Math.pow(o,3),s=Math.pow(o,5),r=Math.pow(o,6),h=Math.pow(o,7),u=Math.pow(o,9),t=n;return this.getCulture()=="en-IN"?t>=e&&t<s||t<=-e&&t>-s?(i=t/e,f="K"):t>=s&&t<r||t<=-s&&t>-r?(i=t/s,f="L"):t>=r&&t<h||t<=-r&&t>-h?(i=t/r,f="M"):t>=h&&t<u||t<=-h&&t>-u?(i=t/h,f="C"):t>=u||t<=-u?(i=t/u,f="B"):i=t:t>=e&&t<r||t<=-e&&t>-r?(i=t/e,f="K"):t>=r&&t<u||t<=-r&&t>-u?(i=t/r,f="M"):t>=u||t<=-u?(i=t/u,f="B"):i=t,{value:i,unit:f}},n.prototype.formatDate=function(n,t){return t.format!=undefined&&(t.format=t.format.replace("dddd","EEEE"),t.format=t.format.replace("ddd","E"),t.format=t.format.replace("tt","a")),this.getDateFormat(t)(n)},n.prototype.parseDate=function(n,t){return this.getDateParser(t)(n)},n.prototype.parseNumber=function(n,t){return this.getNumberParser(t)(n)},n.prototype.getDatePattern=function(n,i){return e.IntlBase.getActualDateTimeFormat(this.getCulture(),n,t.cldrData,i)},n.prototype.getNumberPattern=function(n){return e.IntlBase.getActualNumberFormat(this.getCulture(),n,t.cldrData)},n.prototype.getCulture=function(){return this.culture||t.defaultCulture},n}();t.Internationalization=c;t.setCulture=l;t.setCurrencyCode=a;t.loadCldr=v;t.enableRtl=y;t.getNumericObject=p;t.getDefaultDateObject=w}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){(this.boundedEvents={},i.isNullOrUndefined(n))||(this.context=n)}return n.prototype.on=function(n,t,r){if(!i.isNullOrUndefined(t)){var u=r||this.context;if(this.notExist(n)){this.boundedEvents[n]=[{handler:t,context:u}];return}this.isHandlerPresent(this.boundedEvents[n],t)||this.boundedEvents[n].push({handler:t,context:u})}},n.prototype.off=function(n,t){var u,r;if(!this.notExist(n))if(u=i.getValue(n,this.boundedEvents),t){for(r=0;r<u.length;r++)if(t===u[r].handler){u.splice(r,1);break}}else delete this.boundedEvents[n]},n.prototype.notify=function(n,t){var e,r,u,f;if(!this.notExist(n))for(t&&(t.name=n),e=i.getValue(n,this.boundedEvents).slice(0),r=0,u=e;r<u.length;r++)f=u[r],f.handler.call(f.context,t)},n.prototype.destroy=function(){this.boundedEvents=this.context=undefined},n.prototype.notExist=function(n){return this.boundedEvents.hasOwnProperty(n)===!1},n.prototype.isHandlerPresent=function(n,t){for(var u,i=0,r=n;i<r.length;i++)if(u=r[i],u.handler===t)return!0;return!1},n}();t.Observer=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(7),i(6),i(0)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi,f="stand-alone",o=["sun","mon","tue","wed","thu","fri","sat"];t.basicPatterns=["short","medium","long","full"];var s={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate"},h={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},c="timeSeparator",l=function(){function n(){}return n.dateFormat=function(n,t,o){var d=this,c=r.IntlBase.getDependables(o,n),s={},y=t.format||r.IntlBase.getResultantPattern(t.skeleton,c.dateObject,t.type),w,l,p,g,k;if(s.dateSeperator=r.IntlBase.getDateSeparator(c.dateObject),u.isUndefined(y))u.throwError("Format options or type given must be invalid");else for(s.pattern=y,s.numMapper=i.ParserBase.getNumberMapper(c.parserObject,i.ParserBase.getNumberingSystem(o)),w=y.match(e)||[],l=0,p=w;l<p.length;l++){var b=p[l],a=b.length,v=b[0];v==="K"&&(v="h");g=h[v];switch(v){case"E":case"c":s.weekday=c.dateObject[r.IntlBase.days][f][r.IntlBase.monthIndex[a]];break;case"M":case"L":s.month=c.dateObject[r.IntlBase.month][f][r.IntlBase.monthIndex[a]];break;case"a":s.designator=u.getValue("dayPeriods.format.wide",c.dateObject);break;case"G":k=a<=3?"eraAbbr":a===4?"eraNames":"eraNarrow";s.era=u.getValue("eras."+k,c.dateObject);break;case"z":s.timeZone=u.getValue("dates.timeZoneNames",c.parserObject)}}return function(n){return isNaN(n.getDate())?null:d.intDateFormatter(n,s)}},n.intDateFormatter=function(n,t){for(var d,g,b,y,nt=t.pattern,u="",tt=nt.match(r.IntlBase.dateParseRegex),p=0,k=tt;p<k.length;p++){var h=k[p],a=h.length,l=h[0];l==="K"&&(l="h");var e=void 0,w=void 0,v=void 0,f="";switch(l){case"M":case"L":e=n.getMonth()+1;a>2?u+=t.month[e]:w=!0;break;case"E":case"c":u+=t.weekday[o[n.getDay()]];break;case"H":case"h":case"m":case"s":case"d":w=!0;e=n[s[l]]();l==="h"&&(e=e%12||12);break;case"y":v=!0;f+=n.getFullYear();a===2&&(f=f.substr(f.length-2));break;case"a":d=n.getHours()<12?"am":"pm";u+=t.designator[d];break;case"G":g=n.getFullYear()<0?0:1;u+=t.era[g];break;case"'":u+=h==="''"?"'":h.replace(/\'/g,"");break;case"z":b=n.getTimezoneOffset();y=a<4?"+H;-H":t.timeZone.hourFormat;y=y.replace(/:/g,t.numMapper.timeSeparator);b===0?u+=t.timeZone.gmtZeroFormat:(v=!0,f=this.getTimeZoneValue(b,y));f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":u+=t.numMapper.numberSymbols[c];break;case"/":u+=t.dateSeperator;break;default:u+=h}w&&(v=!0,f=this.checkTwodigitNumber(e,a));v&&(u+=i.ParserBase.convertValueParts(f,r.IntlBase.latnParseRegex,t.numMapper.mapper))}return u},n.checkTwodigitNumber=function(n,t){var i=n+"";return t===2&&i.length!==2?"0"+i:i},n.getTimeZoneValue=function(n,t){var r=this,u=t.split(";"),f=u[n>0?1:0],i=Math.abs(n);return f.replace(/HH?|mm/g,function(n){var t=n.length,u=n.indexOf("H")!==-1;return r.checkTwodigitNumber(Math.floor(u?i/60:i%60),t)})},n}();t.DateFormat=l}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(9),i(6),i(7)],r=function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},s="percentSign",h="minusSign",e=["infinity","nan","group","decimal"],c=function(){function n(){}return n.numberFormatter=function(n,t,o){var nt=this,c=i.extend({},t),a={},l={},y,p=u.IntlBase.getDependables(o,n,!0),w,v,g,k,b,d;return l.numberMapper=f.ParserBase.getNumberMapper(p.parserObject,f.ParserBase.getNumberingSystem(o),!0),l.currencySymbol=u.IntlBase.getCurrencySymbol(p.numericObject,c.currency||r.defaultCurrencyCode),l.percentSymbol=l.numberMapper.numberSymbols[s],l.minusSymbol=l.numberMapper.numberSymbols[h],w=l.numberMapper.numberSymbols,t.format&&!u.IntlBase.formatRegex.test(t.format)?a=u.IntlBase.customFormat(t.format,l,p.numericObject):(i.extend(c,u.IntlBase.getProperNumericSkeleton(t.format||"N")),c.isCurrency=c.type==="currency",c.isPercent=c.type==="percent",y=u.IntlBase.getSymbolPattern(c.type,l.numberMapper.numberSystem,p.numericObject,c.isAccount),c.groupOne=this.checkValueRange(c.maximumSignificantDigits,c.minimumSignificantDigits,!0),this.checkValueRange(c.maximumFractionDigits,c.minimumFractionDigits,!1,!0),i.isUndefined(c.fractionDigits)||(c.minimumFractionDigits=c.maximumFractionDigits=c.fractionDigits),i.isUndefined(c.useGrouping)&&(c.useGrouping=!0),c.isCurrency&&(y=y.replace(/\u00A4/g,u.IntlBase.defaultCurrency)),v=y.split(";"),a.nData=u.IntlBase.getFormatData(v[1]||"-"+v[0],!0,l.currencySymbol),a.pData=u.IntlBase.getFormatData(v[0],!1,l.currencySymbol),c.useGrouping&&(c.groupSeparator=w[e[2]],c.groupData=this.getGroupingDetails(v[0])),g=i.isUndefined(c.minimumFractionDigits),g&&(c.minimumFractionDigits=a.nData.minimumFraction),i.isUndefined(c.maximumFractionDigits)&&(k=a.nData.maximumFraction,c.maximumFractionDigits=i.isUndefined(k)&&c.isPercent?0:k),b=c.minimumFractionDigits,d=c.maximumFractionDigits,i.isUndefined(b)||i.isUndefined(d)||b>d&&(c.maximumFractionDigits=b)),i.extend(a.nData,c),i.extend(a.pData,c),function(n){return isNaN(n)?w[e[1]]:isFinite(n)?nt.intNumberFormatter(n,a,l):w[e[0]]}},n.getGroupingDetails=function(n){var r={},f=n.match(u.IntlBase.negativeDataRegex),i,t,o,e;return f&&f[4]&&(i=f[4],t=i.lastIndexOf(","),t!==-1&&(o=i.split(".")[0],r.primary=o.length-t-1,e=i.lastIndexOf(",",t-1),e!==-1&&(r.secondary=t-1-e))),r},n.checkValueRange=function(n,t,r,u){var s=u?"f":"s",f=0,h=o["l"+s],e=o["m"+s];if(i.isUndefined(n)||(this.checkRange(n,h,u),f++),i.isUndefined(t)||(this.checkRange(t,e,u),f++),f===2)if(n<t)i.throwError(e+"specified must be less than the"+h);else return!0;else r&&f===1&&i.throwError("Both"+e+"and"+e+"must be present");return!1},n.checkRange=function(n,t,r){var u=r?[0,20]:[1,21];(n<u[0]||n>u[1])&&i.throwError(t+"value must be within the range"+u[0]+"to"+u[1])},n.intNumberFormatter=function(n,t,i){var f=n,o="",s=10,l,c,u,h,r;if(t.pData.unit!=undefined)switch(t.pData.unit){case"auto":l=new ej.dashboard.Internationalization;c=l.truncateNumber(n);f=c.value;o=c.unit;break;case"ones":f=n;break;case"thousands":f=n/Math.pow(s,3);o="K";break;case"lakhs":f=n/Math.pow(s,5);o="L";break;case"millions":f=n/Math.pow(s,6);o="M";break;case"crores":f=n/Math.pow(s,7);o="C";case"billions":f=n/Math.pow(s,9);o="B"}if(n=f,h=!1,n<0?(n=n*-1,h=!0,u=t.nData):u=n===0?t.zeroData||t.pData:t.pData,r="",u.isPercent&&(n=n*100),u.groupOne?r=this.processSignificantDigits(n,u.minimumSignificantDigits,u.maximumSignificantDigits):(r=this.processFraction(n,u.minimumFractionDigits,u.maximumFractionDigits),u.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,u.minimumIntegerDigits))),r=r.replace(".",i.numberMapper.numberSymbols[e[3]]),u.useGrouping&&(r=this.groupNumbers(r,u.groupData.primary,u.groupSeparator||",",i.numberMapper.numberSymbols[e[3]]||".",u.groupData.secondary)),t.nData.group!=null&&(r=r.replaceAll(i.numberMapper.numberSymbols.group,t.nData.group)),t.nData.decimal!=null&&(r=r.replaceAll(i.numberMapper.numberSymbols.decimal,t.nData.decimal)),!h||t.nData.isCurrency||t.nData.isPercent)r=h&&t.nData.isCurrency?"("+u.nlead.substring(1,2)+r+u.nend+")":u.nlead+r+u.nend;else switch(t.nData.negative){case 1:r="("+r+")";break;case 2:r=r+"-";break;default:r="-"+r}return(t.pData.prefix!=undefined?t.pData.prefix:"")+r+o+(t.pData.suffix!=undefined?t.pData.suffix:"")},String.prototype.replaceAll=function(n,t){for(var i=this,r=1,u=this.split(n).length-r;u>0;)i=i.replace(n,t),u-=r;return i},n.processSignificantDigits=function(n,t,i){var r=n+"",u,f=r.length;return f<t?n.toPrecision(t):(r=n.toPrecision(i),u=+r,u+"")},n.groupNumbers=function(n,t,r,u,f){for(var c=!i.isNullOrUndefined(f)&&f!==0,s=n.split(u),h=s[0],e=h.length,o="";e>t;)o=h.slice(e-t,e)+(o.length?r+o:""),e-=t,c&&(t=f,c=!1);return s[0]=h.slice(0,e)+(o.length?r:"")+o,s.join(u)},n.processFraction=function(n,t,r){var o=(n+"").split(".")[1],f=o?o.length:0,u,e;if(t&&f<t){if(u="",f===0)u=n.toFixed(t);else{for(u+=n,e=0;e<t-f;e++)u+="0";return u}return n.toFixed(t)}return!i.isNullOrUndefined(r)&&(f>r||r===0)?n.toFixed(r):n+""},n.processMinimumIntegers=function(n,t){var r=n.split("."),i=r[0],f=i.length,u;if(f<t){for(u=0;u<t-f;u++)i="0"+i;r[0]=i}return r.join(".")},n}();t.NumberFormat=c}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="Module",u=function(){function n(n){this.loadedModules=[];this.parent=n}return n.prototype.inject=function(n,t){var l=n.length,u,r,f,s,e,h,a,o,c;if(l===0){this.clean();return}for(this.loadedModules.length&&this.clearUnusedModule(n),u=0;u<l;u++)for(r=n[u],f=0,s=t;f<s.length;f++)e=s[f],h=r.member,e.prototype.getModuleName()!==r.member||this.isModuleLoaded(h)||(a=i.createInstance(e,r.args),o=this.getMemberName(h),r.isProperty?i.setValue(o,e,this.parent):i.setValue(o,a,this.parent),c=r,c.member=o,this.loadedModules.push(c))},n.prototype.clean=function(){for(var r,n=0,t=this.loadedModules;n<t.length;n++)r=t[n],r.isProperty||i.getValue(r.member,this.parent).destroy();this.loadedModules=[]},n.prototype.clearUnusedModule=function(n){for(var t,f=this,e=n.map(function(n){return f.getMemberName(n.member)}),o=this.loadedModules.filter(function(n){return e.indexOf(n.member)===-1}),r=0,u=o;r<u.length;r++)t=u[r],t.isProperty||i.getValue(t.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(t),1),i.deleteObject(this.parent,t.member)},n.prototype.getMemberName=function(n){return n[0].toLowerCase()+n.substring(1)+r},n.prototype.isModuleLoaded=function(n){for(var r,t=0,i=this.loadedModules;t<i.length;t++)if(r=i[t],r.member===this.getMemberName(n))return!0;return!1},n}();t.ModuleLoader=u}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(20),i(21),i(1),i(5),i(22),i(23),i(8),i(24),i(25),i(4),i(9),i(28),i(29),i(13),i(3),i(30),i(33),i(31),i(0),i(2)],r=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){"use strict";function tt(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});tt(i);tt(r);tt(u);tt(f);tt(e);tt(o);tt(s);tt(h);tt(c);tt(l);tt(a);tt(v);tt(y);tt(p);tt(w);tt(b);tt(k);tt(d);tt(g);tt(nt)}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(14)],r=function(n,t,i){"use strict";function r(n){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}Object.defineProperty(t,"__esModule",{value:!0});r(i)}.apply(t,u),r!==undefined&&(n.exports=r))},function(n){function h(){throw new Error("setTimeout has not been defined");}function c(){throw new Error("clearTimeout has not been defined");}function l(n){if(i===setTimeout)return setTimeout(n,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(n,0);try{return i(n,0)}catch(t){try{return i.call(null,n,0)}catch(t){return i.call(this,n,0)}}}function y(n){if(r===clearTimeout)return clearTimeout(n);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{return r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}function p(){o&&e&&(o=!1,e.length?u=e.concat(u):s=-1,u.length&&a())}function a(){var t,n;if(!o){for(t=l(p),o=!0,n=u.length;n;){for(e=u,u=[];++s<n;)e&&e[s].run();s=-1;n=u.length}e=null;o=!1;y(t)}}function v(n,t){this.fun=n;this.array=t}function f(){}var t=n.exports={},i,r;(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch(n){i=h}try{r=typeof clearTimeout=="function"?clearTimeout:c}catch(n){r=c}})();var u=[],o=!1,e,s=-1;t.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];u.push(new v(n,i));u.length!==1||o||l(a)};v.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=f;t.addListener=f;t.once=f;t.off=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.prependListener=f;t.prependOnceListener=f;t.listeners=function(){return[]};t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){(function(n,t){(function(n,i){"use strict";function l(n){var i,t,r;for(typeof n!="function"&&(n=new Function(""+n)),i=new Array(arguments.length-1),t=0;t<i.length;t++)i[t]=arguments[t+1];return r={callback:n,args:i},s[o]=r,u(o),o++}function c(n){delete s[n]}function a(n){var r=n.callback,t=n.args;switch(t.length){case 0:r();break;case 1:r(t[0]);break;case 2:r(t[0],t[1]);break;case 3:r(t[0],t[1],t[2]);break;default:r.apply(i,t)}}function f(n){if(h)setTimeout(f,0,n);else{var t=s[n];if(t){h=!0;try{a(t)}finally{c(n);h=!1}}}}function v(){u=function(n){t.nextTick(function(){f(n)})}}function y(){if(n.postMessage&&!n.importScripts){var t=!0,i=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=i,t}}function p(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===n&&typeof i.data=="string"&&i.data.indexOf(t)===0&&f(+i.data.slice(t.length))};n.addEventListener?n.addEventListener("message",i,!1):n.attachEvent("onmessage",i);u=function(i){n.postMessage(t+i,"*")}}function w(){var n=new MessageChannel;n.port1.onmessage=function(n){var t=n.data;f(t)};u=function(t){n.port2.postMessage(t)}}function b(){var n=e.documentElement;u=function(t){var i=e.createElement("script");i.onreadystatechange=function(){f(t);i.onreadystatechange=null;n.removeChild(i);i=null};n.appendChild(i)}}function k(){u=function(n){setTimeout(f,0,n)}}var r;if(!n.setImmediate){var o=1,s={},h=!1,e=n.document,u;r=Object.getPrototypeOf&&Object.getPrototypeOf(n);r=r&&r.setTimeout?r:n,{}.toString.call(n.process)==="[object process]"?v():y()?p():n.MessageChannel?w():e&&"onreadystatechange"in e.createElement("script")?b():k();r.setImmediate=l;r.clearImmediate=c}})(typeof self=="undefined"?typeof n=="undefined"?this:n:self)}).call(t,i(19),i(16))},function(n,t,i){function r(n,t){this._id=n;this._clearFn=t}var u=Function.prototype.apply;t.setTimeout=function(){return new r(u.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new r(u.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(n){n&&n.close()};r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(n,t){clearTimeout(n._idleTimeoutId);n._idleTimeout=t};t.unenroll=function(n){clearTimeout(n._idleTimeoutId);n._idleTimeout=-1};t._unrefActive=t.active=function(n){clearTimeout(n._idleTimeoutId);var t=n._idleTimeout;t>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},t))};i(17);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(n){var t=function(){return this}();try{t=t||Function("return this")()||eval("this")}catch(i){typeof window=="object"&&(t=window)}n.exports=t},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(.*?):[ \t]*([^\r\n]*)$/gm,u="GET",f=function(){function n(n,t,r){this.mode=!0;this.options={};typeof n=="string"?(this.url=n,this.type=t?t.toUpperCase():u,this.mode=i.isNullOrUndefined(r)?!0:r):typeof n=="object"&&(this.options=n,i.merge(this,this.options));this.type=this.type?this.type.toUpperCase():u}return n.prototype.send=function(n){var t=this;return this.data=i.isNullOrUndefined(n)?this.data:n,new Promise(function(n,r){t.httpRequest=new XMLHttpRequest;t.httpRequest.onreadystatechange=function(){t.stateChange(n,r)};t.httpRequest.open(t.type,t.url,t.mode);i.isNullOrUndefined(t.data)||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8");t.beforeSend&&t.beforeSend();t.httpRequest.send(i.isNullOrUndefined(t.data)?null:t.data)})},n.prototype.successHandler=function(n){if(this.onSuccess)this.onSuccess(n,this);return n},n.prototype.failureHandler=function(n){if(this.onFailure)this.onFailure(this.httpRequest);return n},n.prototype.stateChange=function(n,t){var i=this.httpRequest.responseText;if(this.dataType&&this.dataType.toLowerCase()==="json")if(i==="")i=undefined;else try{i=JSON.parse(i)}catch(r){}this.httpRequest.readyState===4&&(this.httpRequest.status===200||this.httpRequest.status===304?n(this.successHandler(i)):t(new Error(this.failureHandler(this.httpRequest.statusText))))},n.prototype.getResponseHeader=function(n){for(var f,u={},t=r.exec(this.httpRequest.getAllResponseHeaders());t;)u[t[1].toLowerCase()]=t[2],t=r.exec(this.httpRequest.getAllResponseHeaders());return f=u[n.toLowerCase()],i.isNullOrUndefined(f)?null:f},n}();t.Ajax=f}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(2),i(1),i(5),i(4),i(3)],u=function(n,t,i,u,f,o,s){"use strict";function p(n,i,r){var u=w(i);return u.rippleFlag===!1||u.rippleFlag===undefined&&!t.isRippleEnabled?Function:(n.setAttribute("data-ripple","true"),o.EventHandler.add(n,"mousedown",a,{parent:n,rippleOptions:u}),o.EventHandler.add(n,"mouseup",v,{parent:n,rippleOptions:u,done:r}),o.EventHandler.add(n,"mouseleave",c,{parent:n,rippleOptions:u}),f.Browser.isPointer&&o.EventHandler.add(n,"transitionend",c,{parent:n,rippleOptions:u}),function(){n.removeAttribute("data-ripple");o.EventHandler.remove(n,"mousedown",a);o.EventHandler.remove(n,"mouseup",v);o.EventHandler.remove(n,"mouseleave",c);o.EventHandler.remove(n,"transitionend",c)})}function w(n){return{selector:n&&n.selector?n.selector:null,ignore:n&&n.ignore?n.ignore:null,rippleFlag:n&&n.rippleFlag,isCenterRipple:n&&n.isCenterRipple,duration:n&&n.duration?n.duration:350}}function a(n){var u=n.target,a=this.rippleOptions.selector,t=a?i.closest(u,a):u;if(t&&(!this.rippleOptions||!i.closest(u,this.rippleOptions.ignore))){var r=t.getBoundingClientRect(),f=n.pageX-document.body.scrollLeft,e=n.pageY-document.body.scrollTop,v=Math.max(Math.abs(f-r.left),Math.abs(f-r.right)),y=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom)),s=Math.sqrt(v*v+y*y),h=s*2+"px",p=f-r.left-s,w=e-r.top-s;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(p=0,w=0,h="100%");t.classList.add("e-ripple");var b=this.rippleOptions.duration.toString(),k="width: "+h+";height: "+h+";left: "+p+"px;top: "+w+"px;transition-duration: "+b+"ms;",l=i.createElement("div",{className:"e-ripple-element",styles:k});t.appendChild(l);window.getComputedStyle(l).getPropertyValue("opacity");l.style.transform="scale(1)";t!==this.parent&&o.EventHandler.add(t,"mouseleave",c,{parent:this.parent,rippleOptions:this.rippleOptions})}}function v(n){y(n,this)}function c(n){y(n,this)}function y(n,t){var h=t.rippleOptions.duration,e=n.target,s=t.rippleOptions.selector,r=s?i.closest(e,s):e,f,u;r&&(!r||r.className.indexOf("e-ripple")!==-1)&&(f=i.selectAll(".e-ripple-element",r),u=f[f.length-1],u&&(u.style.opacity="0.5"),t.parent!==r&&o.EventHandler.remove(r,"mouseleave",c),setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u);r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple");t.done&&t.done(n)},h))}function b(n){return t.isRippleEnabled=n,t.isRippleEnabled}var h,l;Object.defineProperty(t,"__esModule",{value:!0});h=l=function(n){function t(t){var i=n.call(this,t,undefined)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}return e(t,n),t.prototype.animate=function(n,t){var r,e,u,f,o;if(t=t?t:{},r=this.getModel(t),typeof n=="string")for(e=Array.prototype.slice.call(i.selectAll(n,document)),u=0,f=e;u<f.length;u++)o=f[u],r.element=o,l.delayAnimation(r);else r.element=n,l.delayAnimation(r)},t.stop=function(n,t){var i,r;n.style.animation="";n.removeAttribute("e-animate");i=n.getAttribute("e-animation-id");i&&(r=parseInt(i,10),cancelAnimationFrame(r),n.removeAttribute("e-animation-id"));t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(n){n.delay?setTimeout(function(){l.applyAnimation(n)},n.delay):l.applyAnimation(n)},t.applyAnimation=function(n){var i=this,f;n.timeStamp=0;var r=0,u=0,o=0,t=0,e=n.duration;n.element.setAttribute("e-animate","true");f=function(s){try{if(s){t=t===0?s:t;n.timeStamp=s+n.timeStamp-t;t=s;!r&&n.begin&&n.begin.call(i,n);r=r+1;var h=n.timeStamp/r;n.timeStamp<e&&n.timeStamp+h<e&&n.element.getAttribute("e-animate")?(n.element.style.animation=n.name+" "+n.duration+"ms "+n.timingFunction,n.progress&&n.progress.call(i,n),requestAnimationFrame(f)):(cancelAnimationFrame(u),n.element.removeAttribute("e-animation-id"),n.element.removeAttribute("e-animate"),n.element.style.animation="",n.end&&n.end.call(i,n))}else o=performance.now(),u=requestAnimationFrame(f),n.element.setAttribute("e-animation-id",u.toString())}catch(c){cancelAnimationFrame(u);n.element.removeAttribute("e-animation-id");n.fail&&n.fail.call(i,c)}};f()},t.prototype.getModel=function(n){return{name:n.name||this.name,delay:n.delay||this.delay,duration:n.duration!==undefined?n.duration:this.duration,begin:n.begin||this.begin,end:n.end||this.end,fail:n.fail||this.fail,progress:n.progress||this.progress,timingFunction:this.easing[n.timingFunction]?this.easing[n.timingFunction]:n.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},t}(u.Base);r([s.Property("FadeIn")],h.prototype,"name",void 0);r([s.Property(400)],h.prototype,"duration",void 0);r([s.Property("ease")],h.prototype,"timingFunction",void 0);r([s.Property(0)],h.prototype,"delay",void 0);r([s.Event()],h.prototype,"progress",void 0);r([s.Event()],h.prototype,"begin",void 0);r([s.Event()],h.prototype,"end",void 0);r([s.Event()],h.prototype,"fail",void 0);h=l=r([s.NotifyPropertyChanges],h);t.Animation=h;t.rippleEffect=p;t.isRippleEnabled=!1;t.enableRipple=b}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this.rootId=n}return n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.createCanvas=function(n){var t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(n.width,n.height),this.canvasObj},n.prototype.setCanvasSize=function(n,t){var r=document.getElementById(this.rootId),u=i.isNullOrUndefined(r)?null:r.getBoundingClientRect();i.isNullOrUndefined(this.width)?this.canvasObj.setAttribute("width",n?n.toString():u.width.toString()):this.canvasObj.setAttribute("width",this.width.toString());i.isNullOrUndefined(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())},n.prototype.setAttributes=function(n){var t,r;this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");t=this.getOptionValue(n,"stroke-dasharray");i.isNullOrUndefined(t)||(r=t.split(","),this.ctx.setLineDash([parseInt(r[0],10),parseInt(r[1],10)]));this.ctx.strokeStyle=this.getOptionValue(n,"stroke")},n.prototype.drawLine=function(n){this.ctx.save();this.ctx.beginPath();this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.moveTo(n.x1,n.y1);this.ctx.lineTo(n.x2,n.y2);this.ctx.stroke();this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawRectangle=function(n){var i=this.ctx,t=n.rx;this.ctx.save();this.ctx.beginPath();this.ctx.globalAlpha=this.getOptionValue(n,"opacity");this.setAttributes(n);this.ctx.rect(n.x,n.y,n.width,n.height);t!==null&&t>=0?this.drawCornerRadius(n):(n.fill==="none"&&(n.fill="transparent"),this.ctx.fillStyle=n.fill,this.ctx.fillRect(n.x,n.y,n.width,n.height),this.ctx.stroke());this.ctx.restore();this.ctx=i;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawCornerRadius=function(n){var t=n.rx,i=n.x,r=n.y,u=n.width,f=n.height;n.fill==="none"&&(n.fill="transparent");this.ctx.fillStyle=n.fill;u<2*t&&(t=u/2);f<2*t&&(t=f/2);this.ctx.beginPath();this.ctx.moveTo(i+u-t,r);this.ctx.arcTo(i+u,r,i+u,r+f,t);this.ctx.arcTo(i+u,r+f,i,r+f,t);this.ctx.arcTo(i,r+f,i,r,t);this.ctx.arcTo(i,r,i+u,r,t);this.ctx.closePath();this.ctx.fill();this.ctx.stroke();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawPath=function(n,t){var o=n.d,r=o.split(" "),s=this.getOptionValue(n,"stroke-width"),h=this.ctx,e=!0,i,u,f;for(this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=n.opacity?n.opacity:this.getOptionValue(n,"fill-opacity"),this.setAttributes(n),i=0;i<r.length;i=i+3){u=parseFloat(r[i+1]);f=parseFloat(r[i+2]);switch(r[i]){case"M":n.innerR||n.cx||this.ctx.moveTo(u,f);break;case"L":n.innerR||this.ctx.lineTo(u,f);break;case"C":var c=parseFloat(r[i+3]),l=parseFloat(r[i+4]),a=parseFloat(r[i+5]),v=parseFloat(r[i+6]);this.ctx.bezierCurveTo(u,f,c,l,a,v);i=i+4;break;case"A":n.innerR?e&&(this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.arc(n.x,n.y,n.innerR,n.end,n.start,!n.counterClockWise),e=!1):n.cx?this.ctx.arc(n.cx,n.cy,n.radius,0,2*Math.PI,n.counterClockWise):(this.ctx.moveTo(n.x,n.y),this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.lineTo(n.x,n.y));i=i+5;break;case"z":this.ctx.closePath()}}n.fill!=="none"&&n.fill!==undefined&&(this.ctx.fillStyle=n.fill,this.ctx.fill());s>0&&this.ctx.stroke();this.ctx.restore();this.ctx=h;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawText=function(n,t){var r=this.getOptionValue(n,"font-weight"),f;i.isNullOrUndefined(r)||r.toLowerCase()!=="regular"||(r="normal");var e=this.getOptionValue(n,"font-size"),o=this.getOptionValue(n,"font-family"),s=this.getOptionValue(n,"font-style").toLowerCase(),h=s+" "+r+" "+e+" "+o,u=this.getOptionValue(n,"text-anchor"),c=n.opacity!==undefined?n.opacity:1;u==="middle"&&(u="center");this.ctx.save();this.ctx.fillStyle=n.fill;this.ctx.font=h;this.ctx.textAlign=u;this.ctx.globalAlpha=c;n.baseline&&(this.ctx.textBaseline=n.baseline);f=0;this.ctx.translate(n.x+f/2,n.y);this.ctx.rotate(n.labelRotation*Math.PI/180);this.ctx.fillText(t,0,0);this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawCircle=function(n){var t=this.ctx;this.ctx.save();this.ctx.beginPath();this.ctx.arc(n.cx,n.cy,n.r,0,2*Math.PI);this.ctx.fillStyle=n.fill;this.ctx.globalAlpha=n.opacity;this.ctx.fill();this.setAttributes(n);this.ctx.stroke();this.ctx.restore();this.ctx=t;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawPolyline=function(n){var i,t;for(this.ctx.save(),this.ctx.beginPath(),i=n.points.split(" "),t=0;t<i.length-1;t++){var r=i[t].split(","),u=parseFloat(r[0]),f=parseFloat(r[1]);t===0?this.ctx.moveTo(u,f):this.ctx.lineTo(u,f)}this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawEllipse=function(n){var i=this.ctx,t=Math.max(n.rx,n.ry),r=n.rx/t,u=n.ry/t;this.ctx.save();this.ctx.beginPath();this.ctx.translate(n.cx,n.cy);this.ctx.save();this.ctx.scale(r,u);this.ctx.arc(0,0,t,0,2*Math.PI,!1);this.ctx.fillStyle=n.fill;this.ctx.fill();this.ctx.restore();this.ctx.lineWidth=this.getOptionValue(n,"stroke-width");this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore();this.ctx=i;this.dataUrl=this.canvasObj.toDataURL()},n.prototype.drawImage=function(n){this.ctx.save();var t=new Image;i.isNullOrUndefined(n.href)||(t.src=n.href,this.ctx.drawImage(t,n.x,n.y,n.width,n.height));this.ctx.restore();this.dataUrl=this.canvasObj.toDataURL()},n.prototype.createLinearGradient=function(n){var t;return i.isNullOrUndefined(n[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(n,t)},n.prototype.createRadialGradient=function(n){var t;return i.isNullOrUndefined(n[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(n,t)},n.prototype.setGradientValues=function(n,t){var u,r;if(i.isNullOrUndefined(n[0].colorStop))u=n[0].color.toString();else{for(r=0;r<=n.length-1;r++){var f=n[r].color,e=n[r].colorStop.slice(0,-1),o=parseInt(e,10)/100;t.addColorStop(o,f)}u=t.toString()}return this.dataUrl=this.canvasObj.toDataURL(),u},n.prototype.setElementAttributes=function(n,t){for(var r=Object.keys(n),u=Object.keys(n).map(function(t){return n[t]}),i=0;i<r.length;i++)t.setAttribute(r[i],u[i]);return t},n.prototype.updateCanvasAttributes=function(n){var r,t;this.setElementAttributes(n,this.canvasObj);r=this.ctx;i.isNullOrUndefined(this.dataUrl)||(t=new Image,t.onload=function(){r.drawImage(t,0,0)},t.src=this.dataUrl)},n}();t.CanvasRenderer=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(0),i(13),i(1),i(10),i(8),i(3),i(9)],u=function(n,t,i,u,f,o,s,h,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t,r){var f=n.call(this,t,r)||this;f.needsID=!1;i.isNullOrUndefined(f.enableRtl)&&f.setProperties({enableRtl:c.rightToLeft},!0);i.isNullOrUndefined(f.locale)&&f.setProperties({locale:c.defaultCulture},!0);f.moduleLoader=new u.ModuleLoader(f);f.localObserver=new o.Observer(f);f.detectFunction=new Function("args","var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}");c.onIntlChange.on("notifyExternalChange",f.detectFunction,f);return f.enablePersistence&&window.addEventListener("unload",f.setPersistData.bind(f)),i.isUndefined(r)||f.appendTo(),f}return e(t,n),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.localObserver.destroy(),this.refreshing)||(this.trigger("destroyed",{cancel:!1}),n.prototype.destroy.call(this),this.moduleLoader.clean(),c.onIntlChange.off("notifyExternalChange",this.detectFunction),this.enablePersistence&&this.setPersistData())},t.prototype.refresh=function(){this.refreshing=!0;this.moduleLoader.clean();this.destroy();this.clearChanges();this.localObserver=new o.Observer(this);this.preRender();this.injectModules();this.render();this.refreshing=!1},t.prototype.appendTo=function(t){if(i.isNullOrUndefined(t)||typeof t!="string"?i.isNullOrUndefined(t)||(this.element=t):this.element=document.querySelector(t),!i.isNullOrUndefined(this.element)){this.needsID&&!this.element.id&&(this.element.id=i.getUniqueID(this.getModuleName()));this.isProtectedOnChange=!1;var r=i.getValue("ej2_instances",this.element);r&&r.indexOf(this)!==-1||n.prototype.addInstance.call(this);this.preRender();this.enablePersistence&&this.mergePersistData();this.injectModules();this.render();this.trigger("created")}},t.prototype.dataBind=function(){this.injectModules();n.prototype.dataBind.call(this)},t.prototype.on=function(n,t,i){var r,f,u;if(typeof n=="string")this.localObserver.on(n,t,i);else for(r=0,f=n;r<f.length;r++){u=f[r];this.localObserver.on(u.event,u.handler,u.context)}},t.prototype.off=function(n,t){var i,r,u;if(typeof n=="string")this.localObserver.off(n,t);else for(i=0,r=n;i<r.length;i++)u=r[i],this.localObserver.off(u.event,u.handler)},t.prototype.notify=function(n,t){this.isDestroyed!==!0&&this.localObserver.notify(n,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(this.prototype.injectedModules||(this.prototype.injectedModules=[]),n=0;n<t.length;n++)this.prototype.injectedModules.indexOf(t[n])===-1&&this.prototype.injectedModules.push(t[n])},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.mergePersistData=function(){var n=window.localStorage.getItem(this.getModuleName()+this.element.id);i.isNullOrUndefined(n)||n===""||this.setProperties(JSON.parse(n),!0)},t.prototype.setPersistData=function(){window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.clearTemplate=function(){},t.prototype.addOnPersist=function(n){for(var u,t,o=this,f={},r=0,e=n;r<e.length;r++)u=e[r],t=void 0,t=i.getValue(u,this),i.isUndefined(t)||i.setValue(u,this.getActualProperties(t),f);return JSON.stringify(f,function(n,t){return o.getActualProperties(t)})},t.prototype.getActualProperties=function(n){return n instanceof s.ChildProperty?i.getValue("properties",n):n},t.prototype.ignoreOnPersist=function(n){return JSON.stringify(this.iterateJsonProperties(this.properties,n))},t.prototype.iterateJsonProperties=function(n,t){for(var e,i={},o=function(r){var f,e;t.indexOf(r)===-1&&(f=n[r],typeof f!="object"||f instanceof Array?i[r]=f:(e=t.filter(function(n){return new RegExp(r+".").test(n)}).map(function(n){return n.replace(r+".","")}),i[r]=u.iterateJsonProperties(u.getActualProperties(f),e)))},u=this,r=0,f=Object.keys(n);r<f.length;r++)e=f[r],o(e);return i},t}(f.Base);r([h.Property(!1)],l.prototype,"enablePersistence",void 0);r([h.Property()],l.prototype,"enableRtl",void 0);r([h.Property()],l.prototype,"locale",void 0);l=r([h.NotifyPropertyChanges],l);t.Component=l}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(1),i(5),i(2),i(3),i(4),i(8),i(2),i(0)],u=function(n,t,i,u,f,o,s,h,c,l){"use strict";var a,v;Object.defineProperty(t,"__esModule",{value:!0});var p={left:0,top:0,bottom:0,right:0},y=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return e(t,n),t}(h.ChildProperty);r([o.Property(0)],y.prototype,"left",void 0);r([o.Property(0)],y.prototype,"top",void 0);t.Position=y;a=v=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.dragLimit=v.getDefaultPosition(),r.borderWidth=v.getDefaultPosition(),r.padding=v.getDefaultPosition(),r.diffX=0,r.diffY=0,r.droppables={},r.bind(),r}return e(t,n),t.prototype.bind=function(){this.toggleEvents();u.Browser.isIE&&c.addClass([this.element],"e-block-touch");this.droppables[this.scope]={}},t.getDefaultPosition=function(){return l.extend({},p)},t.prototype.toggleEvents=function(n){var t;l.isUndefined(this.handle)||(t=c.select(this.handle,this.element));n?s.EventHandler.remove(t||this.element,u.Browser.touchStartEvent,this.initialize):s.EventHandler.add(t||this.element,u.Browser.touchStartEvent,this.initialize,this)},t.prototype.initialize=function(n){var t,i;(this.target=n.currentTarget,this.preventDefault&&!l.isUndefined(n.changedTouches)&&n.preventDefault(),!this.abort||l.isNullOrUndefined(c.closest(n.target,this.abort)))&&(this.element.setAttribute("aria-grabbed","true"),t=this.getCoordinates(n),this.initialPosition={x:t.pageX,y:t.pageY},this.clone||(i=this.element.getBoundingClientRect(),this.relativeXPosition=t.pageX-i.left,this.relativeYPosition=t.pageY-i.top),s.EventHandler.add(document,u.Browser.touchMoveEvent,this.intDragStart,this),s.EventHandler.add(document,u.Browser.touchEndEvent,this.intDestroy,this),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),s.EventHandler.trigger(document.documentElement,u.Browser.touchStartEvent,n))},t.prototype.intDragStart=function(n){var b=!l.isUndefined(n.changedTouches),o,h,t,r,a,e,i,w,v;if(!b||n.changedTouches.length===1){o=this.getCoordinates(n);t=getComputedStyle(this.element);this.margin={left:parseInt(t.marginLeft,10),top:parseInt(t.marginTop,10),right:parseInt(t.marginRight,10),bottom:parseInt(t.marginBottom,10)};r=this.element;this.clone&&this.dragTarget&&(a=c.closest(n.target,this.dragTarget),l.isNullOrUndefined(a)||(r=a));this.offset=this.calculateParentPosition(r);this.position=this.getMousePosition(n);var y=this.initialPosition.x-o.pageX,p=this.initialPosition.y-o.pageY,k=Math.sqrt(y*y+p*p);if(k>=this.distance){if(e=this.getHelperElement(n),!e||l.isNullOrUndefined(e))return;i=this.helperElement=e;this.parentClientRect=this.calculateParentPosition(i.offsetParent);this.dragStart&&(w=this.getProperTargetElement(n),this.trigger("dragStart",{event:n,element:r,target:w}));this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0});h={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top};this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top);v=this.getProcessedPositionValue({top:h.top-this.diffY+"px",left:h.left-this.diffX+"px"});c.setStyleAttribute(i,{position:"absolute",top:v.top,left:v.left});s.EventHandler.remove(document,u.Browser.touchMoveEvent,this.intDragStart);s.EventHandler.remove(document,u.Browser.touchEndEvent,this.intDestroy);f.isVisible(i)?(s.EventHandler.add(document,u.Browser.touchMoveEvent,this.intDrag,this),s.EventHandler.add(document,u.Browser.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):document.body.classList.remove("e-prevent-select")}}},t.prototype.getProcessedPositionValue=function(n){return(this.axis&&(this.axis==="x"?n.top="0px":this.axis==="y"&&(n.left="0px")),this.queryPositionInfo)?this.queryPositionInfo(n):n},t.prototype.calculateParentPosition=function(n){if(l.isNullOrUndefined(n))return{left:0,top:0};var t=n.getBoundingClientRect(),i=getComputedStyle(n);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}},t.prototype.intDrag=function(n){var u,f,s,h,y,t,i,r,a,v;if(l.isUndefined(n.changedTouches)||n.changedTouches.length===1){this.position=this.getMousePosition(n);s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);h=this.getDocumentWidthHeight("Width");h<this.position.left&&(this.position.left=h);this.drag&&(y=this.getProperTargetElement(n),this.trigger("drag",{event:n,element:this.element,target:y}));t=this.checkTargetElement(n);t.target&&t.instance?(t.instance.intOver(n,t.target),t.instance.dragData[this.scope]=this.droppables[this.scope],this.hoverObject=t):this.hoverObject&&(this.hoverObject.instance.intOut(n,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null);i=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var d=this.parentClientRect.left,g=this.parentClientRect.top,p=this.getCoordinates(n),w=p.pageX,b=p.pageY,e=this.position.left-this.diffX,o=this.position.top-this.diffY;this.dragArea?(r=getComputedStyle(i),(this.pageX!==w||this.skipDistanceCheck)&&(a=i.offsetWidth+(parseFloat(r.marginLeft)+parseFloat(r.marginRight)),u=this.dragLimit.left>e?this.dragLimit.left:this.dragLimit.right<e+a?this.dragLimit.right-a:e),(this.pageY!==b||this.skipDistanceCheck)&&(v=i.offsetHeight+(parseFloat(r.marginTop)+parseFloat(r.marginBottom)),f=this.dragLimit.top>o?this.dragLimit.top:this.dragLimit.bottom<o+v?this.dragLimit.bottom-v:o)):(u=e,f=o);var nt=g+this.borderWidth.top,tt=d+this.borderWidth.left,k=this.getProcessedPositionValue({top:f-nt+"px",left:u-tt+"px"});c.setStyleAttribute(i,{left:k.left,top:k.top});this.position.left=u;this.position.top=f;this.pageX=w;this.pageY=b}},t.prototype.getDocumentWidthHeight=function(n){var i=document.body,t=document.documentElement;return Math.max(i["scroll"+n],t["scroll"+n],i["offset"+n],t["offset"+n],t["client"+n])},t.prototype.intDragStop=function(n){var i,r,t;(l.isUndefined(n.changedTouches)||n.changedTouches.length===1)&&(i=["touchend","pointerup","mouseup"],i.indexOf(n.type)!==-1?(this.dragStop&&(r=this.getProperTargetElement(n),this.trigger("dragStop",{event:n,element:this.element,target:r,helper:this.helperElement})),this.intDestroy(n)):this.element.setAttribute("aria-grabbed","false"),t=this.checkTargetElement(n),t.target&&t.instance&&(t.instance.dragStopCalled=!0,t.instance.dragData[this.scope]=this.droppables[this.scope],t.instance.intDrop(n,t.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select"))},t.prototype.intDestroy=function(){this.toggleEvents();document.body.classList.remove("e-prevent-select");this.element.setAttribute("aria-grabbed","false");s.EventHandler.remove(document,u.Browser.touchMoveEvent,this.intDragStart);s.EventHandler.remove(document,u.Browser.touchEndEvent,this.intDragStop);s.EventHandler.remove(document,u.Browser.touchEndEvent,this.intDestroy);s.EventHandler.remove(document,u.Browser.touchMoveEvent,this.intDrag)},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.setDragArea=function(){var s,h,r=0,u=0,t,y=typeof this.dragArea,n,f,e,i;if(t=y==="string"?c.select(this.dragArea):this.dragArea,t){for(n=t.getBoundingClientRect(),s=n.width?n.width:n.right-n.left,h=n.height?n.height:n.bottom-n.top,f=["Top","Left","Bottom","Right"],e=getComputedStyle(t),i=0;i<f.length;i++){var o=f[i],l=e["border"+o+"Width"],a=e["padding"+o],v=o.toLowerCase();this.borderWidth[v]=isNaN(parseFloat(l))?0:parseFloat(l);this.padding[v]=isNaN(parseFloat(a))?0:parseFloat(a)}r=n.top;u=n.left;this.dragLimit.left=u+this.borderWidth.left+this.padding.left;this.dragLimit.top=r+this.borderWidth.top+this.padding.top;this.dragLimit.right=u+s-(this.borderWidth.right+this.padding.right);this.dragLimit.bottom=r+h-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(n){var i=this.getCoordinates(n),t,r=this.helperElement.style.display||"";return l.compareElementParent(n.target,this.helperElement)||n.type.indexOf("touch")!==-1?(this.helperElement.style.display="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.display=r):t=n.target,t},t.prototype.getMousePosition=function(n){var t=this.getCoordinates(n),i=this.clone?t.pageX:t.pageX-this.relativeXPosition,r=this.clone?t.pageY:t.pageY-this.relativeYPosition;return{left:i-(this.margin.left+this.cursorAt.left),top:r-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(n){return n.type.indexOf("touch")>-1?n.changedTouches[0]:n},t.prototype.getHelperElement=function(n){var t;return this.clone?this.helper?t=this.helper({sender:n,element:this.target}):(t=c.createElement("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(n,t,i){this.droppables[this.scope]=n?null:{draggable:t,helper:i,draggedElement:this.element}},t.prototype.checkTargetElement=function(n){var t=this.getProperTargetElement(n),i=this.getDropInstance(t),r;return i||!t||l.isNullOrUndefined(t.parentNode)||(r=c.closest(t.parentNode,".e-droppable")||t.parentElement,r&&(i=this.getDropInstance(r))),{target:t,instance:i}},t.prototype.getDropInstance=function(n){var u,f=n&&n.ej2_instances,t,i,r;if(f)for(t=0,i=f;t<i.length;t++)if(r=i[t],r["getModuleName"]()==="droppable"){u=r;break}return u},t.prototype.destroy=function(){this.toggleEvents(!0);n.prototype.destroy.call(this)},t}(i.Base);r([o.Complex({},y)],a.prototype,"cursorAt",void 0);r([o.Property(!0)],a.prototype,"clone",void 0);r([o.Property()],a.prototype,"dragArea",void 0);r([o.Event()],a.prototype,"drag",void 0);r([o.Event()],a.prototype,"dragStart",void 0);r([o.Event()],a.prototype,"dragStop",void 0);r([o.Property(1)],a.prototype,"distance",void 0);r([o.Property()],a.prototype,"handle",void 0);r([o.Property()],a.prototype,"abort",void 0);r([o.Property()],a.prototype,"helper",void 0);r([o.Property("default")],a.prototype,"scope",void 0);r([o.Property("")],a.prototype,"dragTarget",void 0);r([o.Property()],a.prototype,"axis",void 0);r([o.Property()],a.prototype,"queryPositionInfo",void 0);r([o.Property(!1)],a.prototype,"enableTailMode",void 0);r([o.Property(!1)],a.prototype,"skipDistanceCheck",void 0);r([o.Property(!0)],a.prototype,"preventDefault",void 0);a=v=r([o.NotifyPropertyChanges],a);t.Draggable=a}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(1),i(5),i(2),i(3),i(4),i(0)],u=function(n,t,i,u,f,o,s,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.mouseOver=!1,r.dragData={},r.dragStopCalled=!1,r.bind(),r}return e(t,n),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){s.EventHandler.add(this.element,u.Browser.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(n,t){this.mouseOver||(this.trigger("over",{event:n,target:t}),this.mouseOver=!0)},t.prototype.intOut=function(n,t){this.mouseOver&&(this.trigger("out",{evt:n,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(n,t){if(this.dragStopCalled)this.dragStopCalled=!1;else return;var u=!0,i=this.dragData[this.scope],e=i?i.helper&&f.isVisible(i.helper):!1,r;e&&(r=this.isDropArea(n,i.helper,t),this.accept&&(u=f.matches(i.helper,this.accept)));e&&this.drop&&r.canDrop&&u&&this.trigger("drop",{event:n,target:r.target,droppedElement:i.helper,dragData:i})},t.prototype.isDropArea=function(n,t,i){var r={canDrop:!0,target:i||n.target},e=n.type==="touchend",u,f;return(e||r.target===t)&&(t.style.display="none",u=e?n.changedTouches[0]:n,f=document.elementFromPoint(u.clientX,u.clientY),r.canDrop=!1,r.canDrop=h.compareElementParent(f,this.element),r.canDrop&&(r.target=f),t.style.display=""),r},t.prototype.destroy=function(){s.EventHandler.remove(this.element,u.Browser.touchEndEvent,this.intDrop);n.prototype.destroy.call(this)},t}(i.Base);r([o.Property()],c.prototype,"accept",void 0);r([o.Property("default")],c.prototype,"scope",void 0);r([o.Event()],c.prototype,"drop",void 0);r([o.Event()],c.prototype,"over",void 0);r([o.Event()],c.prototype,"out",void 0);c=r([o.NotifyPropertyChanges],c);t.Droppable=c}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var u,r;!(u=[i,t,i(6),i(7),i(0)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f="stand-alone",o=/^[0-9]*$/,e={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth"},s="months",h={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},c=function(){function n(){}return n.dateParser=function(n,t,e){var it=this,v=i.IntlBase.getDependables(e,n),rt=r.ParserBase.getCurrentNumericOptions(v.parserObject,r.ParserBase.getNumberingSystem(e)),o={},d=t.format||i.IntlBase.getResultantPattern(t.skeleton,v.dateObject,t.type),c="",g,p,et,ot,st,tt,ht,ct;if(u.isUndefined(d))u.throwError("Format options or type given must be invalid");else{o={pattern:d,evalposition:{}};var ut=d.match(i.IntlBase.dateParseRegex)||[],ft=ut.length,y=rt.numericRegex;for(p=0;p<ft;p++){var k=ut[p],l=k.length,b=k[0]==="K"?"h":k[0],nt=void 0,w=void 0,a=h[b],lt=l===2?"":"?";switch(b){case"E":case"c":et=r.ParserBase.reverseObject(v.dateObject[i.IntlBase.days][f][i.IntlBase.monthIndex[l]]);c+="("+Object.keys(et).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":w=!0;(b==="M"||b==="L")&&l>2?(o[a]=r.ParserBase.reverseObject(v.dateObject[s][f][i.IntlBase.monthIndex[l]]),c+="("+Object.keys(o[a]).join("|")+")"):(nt=!0,c+="("+y+y+lt+")");b==="h"&&(o.hour12=!0);break;case"y":w=nt=!0;c+=l===2?"("+y+y+")":"("+y+"{"+l+",})";break;case"a":w=!0;o[a]=r.ParserBase.reverseObject(u.getValue("dayPeriods.format.wide",v.dateObject));c+="("+Object.keys(o[a]).join("|")+")";break;case"G":w=!0;ot=l<=3?"eraAbbr":l===4?"eraNames":"eraNarrow";o[a]=r.ParserBase.reverseObject(u.getValue("eras."+ot,v.dateObject));c+="("+Object.keys(o[a]).join("|")+"?)";break;case"z":st=(new Date).getTimezoneOffset();w=st!==0;o[a]=u.getValue("dates.timeZoneNames",v.parserObject);tt=o[a];g=l<4;ht=g?"+H;-H":tt.hourFormat;c+="("+this.parseTimeZoneRegx(ht,tt,y)+")?";break;case"'":ct=k.replace(/\'/g,"");c+="("+ct+")?";break;default:c+="(.)?"}w&&(o.evalposition[a]={isNumber:nt,pos:p+1,hourOnly:g});p!==ft-1||u.isNullOrUndefined(c)||(o.parserRegex=new RegExp("^"+c+"$"))}}return function(n){var t=it.internalDateParse(n,o,rt);return u.isNullOrUndefined(t)||!Object.keys(t).length?null:it.getDateObject(t)}},n.getDateObject=function(n,t){var i=t||new Date,w,b,s,c,f,r,l,a,k,h,v;i.setMilliseconds(0);var o=n.year,y=n.designator,p=n.timeZone;for(u.isUndefined(o)||(w=(o+"").length,w<=2&&(b=Math.floor(i.getFullYear()/100)*100,o+=b),i.setFullYear(o)),s=0,c=["hour","minute","second","month","day"];s<c.length;s++)if(f=c[s],r=n[f],!u.isUndefined(r))if(f==="month"){if(r-=1,r<0||r>11)return new Date("invalid");l=i.getDate();i.setDate(1);i[e[f]](r);a=new Date(i.getFullYear(),r+1,0).getDate();i.setDate(l<a?l:a)}else{if(f==="day"&&(k=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),r<1||r>k))return null;i[e[f]](r)}return u.isUndefined(y)||(h=i.getHours(),y==="pm"?i.setHours(h+(h===12?0:12)):h===12&&i.setHours(0)),u.isUndefined(p)||(v=p-i.getTimezoneOffset(),v!==0&&i.setMinutes(i.getMinutes()+v)),i},n.internalDateParse=function(n,t,i){var r=n.match(t.parserRegex),e={hour:0,minute:0,second:0},w=i.numericRegex,p,s,c;if(u.isNullOrUndefined(r))return null;for(p=Object.keys(t.evalposition),s=0,c=p;s<c.length;s++){var f=c[s],h=t.evalposition[f],l=r[h.pos];if(h.isNumber)e[f]=this.internalNumberParser(l,i);else if(f!=="timeZone"||u.isUndefined(l))e[f]=t[f][l];else{var o=h.pos,a=void 0,v=r[o+1],y=!u.isUndefined(v);a=h.hourOnly?this.getZoneValue(y,v,r[o+4],i)*60:this.getZoneValue(y,v,r[o+7],i)*60+this.getZoneValue(y,r[o+4],r[o+10],i);u.isNullOrUndefined(a)||(e[f]=a)}}return t.hour12&&(e.hour12=!0),e},n.internalNumberParser=function(n,t){return(n=r.ParserBase.convertValueParts(n,t.numberParseRegex,t.numericPair),o.test(n))?+n:null},n.parseTimeZoneRegx=function(n,t,i){var e=t.gmtFormat,r,u="("+i+")("+i+")",f;return r=n.replace("+","\\+"),r=n.indexOf("HH")!==-1?r.replace(/HH|mm/g,"("+u+")"):r.replace(/H|m/g,"("+u+"?)"),f=r.split(";").map(function(n){return e.replace("{0}",n)}),f.join("|")+"|"+t.gmtZeroFormat},n.getZoneValue=function(n,t,i,r){var u=this.internalNumberParser(n?t:i,r);return n?-u:u},n}();t.DateParser=c}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(7),i(6)],r=function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,e=/,/g,o=["minusSign","infinity"],s=function(){function n(){}return n.numberParser=function(n,t,f){var a=this,l=u.IntlBase.getDependables(f,n,!0),e={custom:!0},s,h,c;return u.IntlBase.formatRegex.test(t.format)||!t.format?(i.extend(e,u.IntlBase.getProperNumericSkeleton(t.format||"N")),e.custom=!1):i.extend(e,u.IntlBase.customFormat(t.format,null,null)),s=r.ParserBase.getCurrentNumericOptions(l.parserObject,r.ParserBase.getNumberingSystem(f),!0),e.symbolRegex=r.ParserBase.getSymbolRegex(Object.keys(s.symbolMatch)),e.infinity=s.symbolNumberSystem[o[1]],h=u.IntlBase.getSymbolPattern(e.type,s.numberSystem,l.numericObject,e.isAccount),h&&(h=h.replace(/\u00A4/g,u.IntlBase.defaultCurrency),c=h.split(";"),e.nData=u.IntlBase.getFormatData(c[1]||"-"+c[0],!0,""),e.pData=u.IntlBase.getFormatData(c[0],!0,"")),function(n){return a.getParsedNumber(n,e,s)}},n.getParsedNumber=function(n,t,u){var c,y,h,l,a,o,s,v;return n.indexOf(t.infinity)!==-1?Infinity:(n=r.ParserBase.convertValueParts(n,t.symbolRegex,u.symbolMatch),n=r.ParserBase.convertValueParts(n,u.numberParseRegex,u.numericPair),n.indexOf(".")===0&&(n="0"+n),s=n.match(f),i.isNullOrUndefined(s))?NaN:(l=s[1],h=s[2],v=s[5],a=s[6],c=t.custom?l===t.nData.nlead&&a===t.nData.nend:l.indexOf(t.nData.nlead)!==-1&&a.indexOf(t.nData.nend)!==-1,y=c?t.nData.isPercent:t.pData.isPercent,h=h.replace(e,""),v&&(h+=v),o=+h,(t.type==="percent"||y)&&(o=o/100),(t.custom||t.fractionDigits)&&(o=parseFloat(o.toFixed(t.custom?c?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),c&&(o*=-1),o)},n}();t.NumberParser=s}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(3),i(1)],u=function(n,t,i,u){"use strict";var s,f,o;Object.defineProperty(t,"__esModule",{value:!0});s={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,"delete":46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};f=o=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.keyPressHandler=function(n){for(var f,h,i,e,c,t,l=n.altKey,a=n.ctrlKey,v=n.shiftKey,y=n.which,p=Object.keys(r.keyConfigs),u=0,s=p;u<s.length;u++)for(f=s[u],h=r.keyConfigs[f].split(","),i=0,e=h;i<e.length;i++)c=e[i],t=o.getKeyConfigData(c.trim()),l===t.altKey&&a===t.ctrlKey&&v===t.shiftKey&&y===t.keyCode&&(n.action=f,r.keyAction&&r.keyAction(n))},r.bind(),r}return e(t,n),t.prototype.destroy=function(){this.unwireEvents();n.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(n){if(n in this.configCache)return this.configCache[n];var t=n.toLowerCase().split("+"),i={altKey:t.indexOf("alt")!==-1?!0:!1,ctrlKey:t.indexOf("ctrl")!==-1?!0:!1,shiftKey:t.indexOf("shift")!==-1?!0:!1,keyCode:null};return i.keyCode=t[t.length-1].length>1&&!!Number(t[t.length-1])?Number(t[t.length-1]):o.getKeyCode(t[t.length-1]),o.configCache[n]=i,i},t.getKeyCode=function(n){return s[n]||n.toUpperCase().charCodeAt(0)},t}(u.Base);f.configCache={};r([i.Property({})],f.prototype,"keyConfigs",void 0);r([i.Property("keyup")],f.prototype,"eventName",void 0);r([i.Event()],f.prototype,"keyAction",void 0);f=o=r([i.NotifyPropertyChanges],f);t.KeyboardEvents=f}.apply(t,f),u!==undefined&&(n.exports=u))},function(n,t,i){var u,r;!(u=[i,t,i(0),i(9)],r=function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t,i){this.controlName=n;this.localeStrings=t;this.setLocale(i||r.defaultCulture)}return n.prototype.setLocale=function(t){var r=this.intGetControlConstant(n.locale,t);r?this.currentLocale=r:t!=="en-US"?i.throwError("The specified locale or controlname not found in the locale object"):this.currentLocale=this.localeStrings},n.load=function(n){this.locale=i.extend(this.locale,n,{},!0)},n.prototype.getConstant=function(n){return this.currentLocale[n]||this.localeStrings[n]||""},n.prototype.intGetControlConstant=function(n,t){return n[t]?n[t][this.controlName]:null},n}();u.locale={};t.L10n=u}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(0)],r=function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this.svgLink="http://www.w3.org/2000/svg";this.rootId=n}return n.prototype.getOptionValue=function(n,t){return n[t]},n.prototype.createSvg=function(n){return i.isNullOrUndefined(n.id)&&(n.id=this.rootId+"_svg"),this.svgObj=document.getElementById(n.id),i.isNullOrUndefined(document.getElementById(n.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(n,this.svgObj),this.setSVGSize(n.width,n.height),this.svgObj},n.prototype.setSVGSize=function(n,t){var r=document.getElementById(this.rootId),u=i.isNullOrUndefined(r)?null:r.getBoundingClientRect();i.isNullOrUndefined(this.width)||this.width<=0?this.svgObj.setAttribute("width",n?n.toString():u.width.toString()):this.svgObj.setAttribute("width",this.width.toString());i.isNullOrUndefined(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},n.prototype.drawPath=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"path")),this.setElementAttributes(n,t)},n.prototype.drawLine=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"line")),this.setElementAttributes(n,t)},n.prototype.drawRectangle=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"rect")),this.setElementAttributes(n,t)},n.prototype.drawCircle=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"circle")),this.setElementAttributes(n,t)},n.prototype.drawPolyline=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"polyline")),this.setElementAttributes(n,t)},n.prototype.drawEllipse=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"ellipse")),this.setElementAttributes(n,t)},n.prototype.drawPolygon=function(n){var t=document.getElementById(n.id);return t===null&&(t=document.createElementNS(this.svgLink,"polygon")),this.setElementAttributes(n,t)},n.prototype.drawImage=function(n){var t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",n.height.toString()),t.setAttributeNS(null,"width",n.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",n.href),t.setAttributeNS(null,"x",n.x.toString()),t.setAttributeNS(null,"y",n.y.toString()),t.setAttributeNS(null,"id",n.id),t.setAttributeNS(null,"visibility",n.visibility),i.isNullOrUndefined(this.getOptionValue(n,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(n,"clip-path")),i.isNullOrUndefined(n.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",n.preserveAspectRatio),t},n.prototype.createText=function(n,t){var r=document.createElementNS(this.svgLink,"text");return r=this.setElementAttributes(n,r),i.isNullOrUndefined(t)||(r.textContent=t),r},n.prototype.createTSpan=function(n,t){var r=document.createElementNS(this.svgLink,"tspan");return r=this.setElementAttributes(n,r),i.isNullOrUndefined(t)||(r.textContent=t),r},n.prototype.createTitle=function(n){var t=document.createElementNS(this.svgLink,"title");return t.textContent=n,t},n.prototype.createDefs=function(){return document.createElementNS(this.svgLink,"defs")},n.prototype.createClipPath=function(n){var t=document.createElementNS(this.svgLink,"clipPath");return this.setElementAttributes(n,t)},n.prototype.createForeignObject=function(n){var t=document.createElementNS(this.svgLink,"foreignObject");return this.setElementAttributes(n,t)},n.prototype.createGroup=function(n){var t=document.createElementNS(this.svgLink,"g");return this.setElementAttributes(n,t)},n.prototype.createPattern=function(n,t){var i=document.createElementNS(this.svgLink,t);return this.setElementAttributes(n,i)},n.prototype.createRadialGradient=function(n,t,r){var u,f;return i.isNullOrUndefined(n[0].colorStop)?u=n[0].color.toString():(f={id:this.rootId+"_"+t+"radialGradient",cx:r.cx+"%",cy:r.cy+"%",r:r.r+"%",fx:r.fx+"%",fy:r.fy+"%"},this.drawGradient("radialGradient",f,n),u="url(#"+this.rootId+"_"+t+"radialGradient)"),u},n.prototype.createLinearGradient=function(n,t,r){var u,f;return i.isNullOrUndefined(n[0].colorStop)?u=n[0].color.toString():(f={id:this.rootId+"_"+t+"linearGradient",x1:r.x1+"%",y1:r.y1+"%",x2:r.x2+"%",y2:r.y2+"%"},this.drawGradient("linearGradient",f,n),u="url(#"+this.rootId+"_"+t+"linearGradient)"),u},n.prototype.drawGradient=function(n,t,i){for(var e=this.createDefs(),f=document.createElementNS(this.svgLink,n),u,f=this.setElementAttributes(t,f),r=0;r<i.length;r++)u=document.createElementNS(this.svgLink,"stop"),u.setAttribute("offset",i[r].colorStop),u.setAttribute("stop-color",i[r].color),u.setAttribute("stop-opacity","1"),f.appendChild(u);return e.appendChild(f),e},n.prototype.drawClipPath=function(n){var t=this.createDefs(),i=this.createClipPath({id:n.id}),r=this.drawRectangle(n);return i.appendChild(r),t.appendChild(i),t},n.prototype.drawCircularClipPath=function(n){var t=this.createDefs(),i=this.createClipPath({id:n.id}),r=this.drawCircle(n);return i.appendChild(r),t.appendChild(i),t},n.prototype.setElementAttributes=function(n,t){for(var r=Object.keys(n),i=0;i<r.length;i++)t.setAttribute(r[i],n[r[i]]);return t},n}();t.SvgRenderer=r}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t,i(32),i(2)],r=function(n,t,i,r){"use strict";function o(n,t){var i=u.compile(n,t);return function(n,t,u){var e=i(n,t,u),o;return typeof e=="string"?(o=r.createElement(f.test(e)?"table":"div",{innerHTML:e}),o.childNodes):e}}function s(n){u.compile=n.compile}function h(){return u.compile}var f,e,u;Object.defineProperty(t,"__esModule",{value:!0});f=/^[\n\r.]+\<tr|^\<tr/;t.compile=o;t.setTemplateEngine=s;t.getTemplateEngine=h;e=function(){function n(){}return n.prototype.compile=function(n,t){return t===void 0&&(t={}),i.compile(n,t)},n}();u={compile:(new e).compile}}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var u,r;!(u=[i,t],r=function(n,t){"use strict";function y(n){return n&&(r=n),r}function p(n,t){var i="data",r=w(n,i,t),u='var str="'+r+'"; return str;',f=new Function(i,u);return f.bind(t)}function w(n,t,l){var y=[];return n.replace(e,"").replace(v,"'$1'").replace(r,function(n,r){var v=r.match(c),w,e,b,p;return v?(w=v[1],s.test(r)?r='"; '+r.replace(v[1],w.replace(a,function(n){return n=n.trim(),i(n,!o.test(n)&&y.indexOf(n)===-1,t,y)}))+'{ \n str = str + "':h.test(r)?(e=v[1].split(" of "),r='"; '+r.replace(v[1],function(){return y.push(e[0]),y.push(e[0]+"Index"),"var i=0; i < "+i(e[1],!0,t,y)+".length; i++"})+"{ \n "+e[0]+"= "+i(e[1],!0,t,y)+"[i]; \n var "+e[0]+'Index=i; \n str = str + "'):(b=r.split("("),p=l&&l.hasOwnProperty(b[0])?"this.":"global",p=/\./.test(b[0])?"":p,r='" + '+(p==="global"?"":p)+r.replace(w,i(v[1].replace(",",t+"."),p==="global"?!1:!0,t,y))+'+"')):r=u.test(r)?'"; '+r.replace(u,'} else { \n str = str + "'):r.match(f)?r.replace(f,'"; \n } \n str = str + "'):'"+'+i(r,y.indexOf(r)===-1,t,y)+'+"',r})}function i(n,t,i,r){return t&&!l.test(n)&&r.indexOf(n.split(".")[0])===-1?i+"."+n:n}Object.defineProperty(t,"__esModule",{value:!0});var e=new RegExp("\\n|\\r|\\s\\s+","g"),o=new RegExp(/'|"/g),s=new RegExp("if ?\\("),u=new RegExp("else"),h=new RegExp("for ?\\("),f=new RegExp("(/if|/for)"),c=new RegExp("\\((.*)\\)",""),l=new RegExp("^[0-9]+$","g"),a=new RegExp("[\\w\"'.\\s+]+","g"),v=new RegExp('"(.*?)"',"g"),r=new RegExp("\\${([^}]*)}","g");t.expression=y;t.compile=p}.apply(t,u),r!==undefined&&(n.exports=r))},function(n,t,i){var f,u,e=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};!(f=[i,t,i(0),i(3),i(5),i(1),i(8),i(4)],u=function(n,t,i,u,f,o,s,h){"use strict";var l,a,c;Object.defineProperty(t,"__esModule",{value:!0});l=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return e(t,n),t}(s.ChildProperty);r([u.Property(50)],l.prototype,"swipeThresholdDistance",void 0);t.SwipeSettings=l;a=/(Up|Down)/;c=function(n){function t(t,r){var u=n.call(this,r,t)||this;return u.startEvent=function(n){var t=n.changedTouches?n.changedTouches[0]:n;u.isTouchMoved=!1;u.movedDirection="";u.startPoint=u.lastMovedPoint={clientX:t.clientX,clientY:t.clientY};u.startEventData=t;u.hScrollLocked=u.vScrollLocked=!1;u.tStampStart=Date.now();u.timeOutTapHold=setTimeout(function(){u.tapHoldEvent(n)},u.tapHoldThreshold);h.EventHandler.add(u.element,f.Browser.touchMoveEvent,u.moveEvent,u);h.EventHandler.add(u.element,f.Browser.touchEndEvent,u.endEvent,u)},u.moveEvent=function(n){var t=n.changedTouches?n.changedTouches[0]:n,r,f;u.movedPoint=t;u.isTouchMoved=!(t.clientX===u.startPoint.clientX&&t.clientY===u.startPoint.clientY);r={};u.isTouchMoved&&(clearTimeout(u.timeOutTapHold),u.calcScrollPoints(n),f={startEvents:u.startEventData,originalEvent:n,startX:u.startPoint.clientX,startY:u.startPoint.clientY,distanceX:u.distanceX,distanceY:u.distanceY,scrollDirection:u.scrollDirection,velocity:u.getVelocity(t)},r=i.extend(r,{},f),u.trigger("scroll",r),u.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},u.endEvent=function(n){var t,r,e,o,s,c,v;if(clearTimeout(u.timeOutTapHold),t=n,n.changedTouches&&(t=n.changedTouches[0]),u.isTouchMoved=!(t.clientX===u.startPoint.clientX&&t.clientY===u.startPoint.clientY),u.endPoint=t,r=!1,c=u.swipeSettings.swipeThresholdDistance,u.calcPoints(n),v={originalEvent:n,startEvents:u.startEventData,startX:u.startPoint.clientX,startY:u.startPoint.clientY,distanceX:u.distanceX,distanceY:u.distanceY,swipeDirection:u.movedDirection,velocity:u.getVelocity(t)},u.isTouchMoved){s=i.extend(s,u.defaultArgs,v);var y=!1,p=u.element,w=u.isScrollable(p),l=a.test(u.movedDirection);(c<u.distanceX&&!l||c<u.distanceY&&l)&&(y=w?u.checkSwipe(p,l):!0);y&&u.trigger("swipe",s)}else e=i.extend(e,u.defaultArgs,{}),!i.isNullOrUndefined(u.lastTapTime)&&(new Date).getTime()-u.lastTapTime<u.doubleTapThreshold&&(clearTimeout(u.timeOutTap),r=!0,u.trigger("doubleTap",e)),r||(o=i.extend(o,u.defaultArgs,{}),u.timeOutTap=setTimeout(function(){u.trigger("tap",o)},typeof u.doubleTap!="function"?0:u.doubleTapThreshold));u.lastTapTime=(new Date).getTime();h.EventHandler.remove(u.element,f.Browser.touchMoveEvent,u.moveEvent);h.EventHandler.remove(u.element,f.Browser.touchEndEvent,u.endEvent)},u.bind(),u}return e(t,n),t.prototype.onPropertyChanged=function(){},t.prototype.bind=function(){this.wireEvents();f.Browser.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents();n.prototype.destroy.call(this)},t.prototype.wireEvents=function(){h.EventHandler.add(this.element,f.Browser.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){h.EventHandler.remove(this.element,f.Browser.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(n){var t=getComputedStyle(n),i=t.overflow+t.overflowX+t.overflowY;return/(auto|scroll)/.test(i)?!0:!1},t.prototype.tapHoldEvent=function(n){var t;h.EventHandler.remove(this.element,f.Browser.touchMoveEvent,this.moveEvent);h.EventHandler.remove(this.element,f.Browser.touchEndEvent,this.endEvent);t={originalEvent:n};this.trigger("tapHold",t)},t.prototype.calcPoints=function(n){var t=n.changedTouches?n.changedTouches[0]:n;this.defaultArgs={originalEvent:n};this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX));this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY));this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(n){var t=n.changedTouches?n.changedTouches[0]:n;this.defaultArgs={originalEvent:n};this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX));this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY));(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(n){var r=n.clientX,u=n.clientY,f=Date.now(),t=r-this.startPoint.clientX,i=u-this.startPoint.clientX,e=f-this.tStampStart;return Math.sqrt(t*t+i*i)/e},t.prototype.checkSwipe=function(n,t){var i=["scroll","offset"],r=t?["Height","Top"]:["Width","Left"];return n[i[0]+r[0]]<=n[i[1]+r[0]]?!0:n[i[0]+r[1]]===0||n[i[1]+r[0]]+n[i[0]+r[1]]>=n[i[0]+r[0]]},t}(o.Base);r([u.Event()],c.prototype,"tap",void 0);r([u.Event()],c.prototype,"doubleTap",void 0);r([u.Event()],c.prototype,"tapHold",void 0);r([u.Event()],c.prototype,"swipe",void 0);r([u.Event()],c.prototype,"scroll",void 0);r([u.Property(500)],c.prototype,"doubleTapThreshold",void 0);r([u.Property(750)],c.prototype,"tapHoldThreshold",void 0);r([u.Complex({},l)],c.prototype,"swipeSettings",void 0);c=r([u.NotifyPropertyChanges],c);t.Touch=c}.apply(t,f),u!==undefined&&(n.exports=u))}]);window.ej=window.Syncfusion=window.Syncfusion||window.ej||{},function(n){var t={},r,i;if(t.registeredWidgets={},t.registerWidget=function(n){for(var i,r=Object.keys(this.registeredWidgets),t=0;t<r.length;t++)if(r[t]==n.guid)return;i=function(){};i.prototype=n;this.registeredWidgets[n.guid]={proto:i}},t.getWidgetInstance=function(n){try{return n.plugindata}catch(t){throw t.message+"\n"+t.stack;}},t.selectedFilterInfo=function(){this.UniqueColumnName="";this.ReportName="";this.DateFilterInfo={Action:"Include",DateFilterList:[],DateFilterType:"Basic"};this.DimensionFilterInfo={Conditions:0,IsBoolean:!1,ClearAllSelection:!1,Text:[],SelectedBoolValues:[],SelectedIndex:0};this.MeasureFilterInfo={Conditions:"IsBetween",Values:[]}},t.selectedColumnInfo=function(){this.uniqueColumnName="";this.condition="";this.values=[]},t.setProperty=function(t,i){var r={},u=n.dashboard.getWidgetInstance(t),f;r[i.name]=i.value;f=n.dashboard.parseProperty(r);i.value=f[i.name];u.model.properties[i.name]=i.value;u.update({type:"propertyChange",property:i})},t.parseProperty=function(n){for(var i=Object.keys(n),t=0;t<i.length;t++)try{n[i[t]]=JSON.parse(n[i[t]])}catch(r){n[i[t]]=n[i[t]]}return n},t.createWidgetWithInIFrame=function(t){var r=1,i;t=t.substring(r,t.length-r);i=JSON.parse(t).data;window.addEventListener?window.addEventListener("message",n.dashboard.postMessageToIFrame,!1):window.attachEvent("onmessage",n.dashboard.postMessageToIFrame);n.dashboard.createWidgetInstance(i.guid,document.getElementById("container"),{dashboardId:i.dashboardId,widgetId:i.widgetId,baseURL:i.baseURL});n.dashboard.postMessageToViewer({action:"initialized",dashboardId:i.dashboardId,widgetId:i.widgetId})},t.createWidgetInstance=function(t,i,r){var f=n.dashboard.registeredWidgets[t].proto,u=new f;u.element=i;u.model=r;i.classList.add("dbrd-widget");i.plugindata=u},t.postMessageToIFrame=function(t){var i,r,f,u;try{if(i=JSON.parse(t.data),r=n.dashboard.getWidgetInstance(document.getElementById("container")),i.type==="refresh")r.model.dataSource=i.data,r.update({type:"refresh",data:i.data});else if(i.type==="resize")r.update(i),document.body.style.width=i.size.width+"px",document.body.style.height=i.size.height+"px";else if(i.type==="initialize"){for(n.dashboard.postMessageToViewer({action:"destroyindicator",dashboardId:r.model.dashboardId,widgetId:r.model.widgetId,initMode:r.model.initMode}),f=Object.keys(i.data),u=0;u<f.length;u++)r.model[f[u]]=i.data[f[u]];try{r.init()}catch(e){}n.dashboard.postMessageToViewer({action:"widgetRendered",dashboardId:r.model.dashboardId,widgetId:r.model.widgetId})}}catch(o){}},t.postMessageToViewer=function(n){window.parent.postMessage(JSON.stringify(n),"*")},t.filterData=function(t,i){var r=n.dashboard.formatSelectedColumn(t,i),u;t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"interaction",selectedData:r,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId}):n.isNullOrUndefined(t.model.dashboardId)||(u=$("#"+t.model.dashboardId).data("ejDashboardViewer"),u._loadWidgetSlaves(t.model.widgetId,r))},t.addCulture=function(t,i){for(var u=Object.keys(i),r=0;r<u.length;r++)n.dashboard.loadCldr(i[u[r]])},t.navigateThroughLinking=function(t,i,r){for(var o,f=[],e=[],u=0;u<i.length;u++)e.push({Column:i[u].uniqueColumnName,Value:i[u].values});f.push({Items:e});t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"linking",selectedData:f,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId,url:r}):n.isNullOrUndefined(t.model.dashboardId)||(o=$("#"+t.model.dashboardId).data("ejDashboardViewer"),o._navigationThroughLinking(f,r,t.model.widgetId))},t.viewData=function(t,i){var r=n.dashboard.formatSelectedColumn(t,i),u;t.model.isIFrameEnable?n.dashboard.postMessageToViewer({action:"viewData",selectedData:r,dashboardId:t.model.dashboardId,widgetId:t.model.widgetId}):n.isNullOrUndefined(t.model.dashboardId)||(u=$("#"+t.model.dashboardId).data("ejDashboardViewer"),u._getViewData(t.model.widgetId,r))},t.getFilterInfo=function(t,i){var r=new n.dashboard.selectedFilterInfo,u,f,o,e;for(r.ReportName=t.model.widgetId,r.uniqueColumnName=i.uniqueColumnName,u=0;u<Object.keys(t.model.boundColumns).length;u++)for(f=0;f<t.model.boundColumns[Object.keys(t.model.boundColumns)[u]].length;f++)if(t.model.boundColumns[Object.keys(t.model.boundColumns)[u]][f].uniqueColumnName===i.uniqueColumnName){o=t.model.boundColumns[Object.keys(t.model.boundColumns)[u]][f];e=o.valueType;e==="dimension"&&o.dataType==="datetime"&&(e="datetime");switch(e){case"dimension":switch(i.condition){case"startswith":r.DimensionFilterInfo.Conditions="StartsWith";break;case"contains":r.DimensionFilterInfo.Conditions="Contains";break;case"endswith":r.DimensionFilterInfo.Conditions="EndsWith";break;case"notcontains":r.DimensionFilterInfo.Conditions="NotContains";break;case"include":r.DimensionFilterInfo.Conditions="Include";break;case"exclude":r.DimensionFilterInfo.Conditions="Exclude"}r.DimensionFilterInfo.Text=i.values;break;case"measure":r.MeasureFilterInfo.Conditions=i.condition;r.MeasureFilterInfo.Values=i.values;break;case"datetime":switch(i.condition){case"range":r.DateFilterInfo.Action="Range";r.DateFilterInfo.DateFilterType="Exact";r.DateFilterInfo.DateFilterList=i.values;break;case"include":r.DateFilterInfo.Action="Include";r.DateFilterInfo.DateFilterType="Basic";r.DateFilterInfo.DateFilterList=i.values;break;case"exclude":r.DateFilterInfo.Action="Exclude";r.DateFilterInfo.DateFilterType="Basic";r.DateFilterInfo.DateFilterList=i.values;break;case"relative":r.DateFilterInfo.DateFilterType="Relative";r.DateFilterInfo.DateFilterList=i.values}}}return r},t.formatSelectedColumn=function(t,i){for(var u=[],r=0;r<i.length;r++)u.push(n.dashboard.getFilterInfo(t,i[r]));return u},n.dashboard!==undefined)for(r=Object.keys(t),i=0;i<r.length;i++)n.dashboard[r[i]]=t[r[i]];else n.dashboard=t}(window.ej),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dropdownlist={_renderFDropDownList:function(r){var l=0,g=-1,et=1,ht=30,yt=200,ri=300,f=r.configInfo,e=r,w=r.getCurrentPageData(),tt=null,it=null,ct=!0,lt=!0,a=this,b=[],y=[],s=null,pt=JSON.parse(JSON.stringify(this.dashboardParameters)),k=this._getGlobalFilterId(f.IsGlobalFilter),c,nt,st,wt,bt,kt,dt,gt,ut,p,ni,ti,ii,ft;if(s=n("#"+k+"_cell_"+f.Row+"_"+f.Column),w.isError){s.find(".e-dbrd-control").attr({"data-controlId":f.Id});s.find(".e-dbrd-control").attr({id:k+t.DashboardConstants.Widget+f.Id});this._showControlError(w.pagedata,s.find(".e-dbrd-control"),f);return}if(s.find(".e-dbrd-control").attr({id:""}),this._hideControlError(s.find(".e-dbrd-control")),c=w.pagedata,f.ShowAsListBox){this._renderListBox(r,!0);return}var o=null,rt=[],d=[],v=null,u=0,h=0,ot=0,at=e.SelectedFilterInfo.length;if(e.SelectedFilterInfo&&at!==l&&!t.isNullOrUndefined(f.HiddenColumnName)){for(d=[],nt=[],st=[],u=0;u<at;u++){if(e.SelectedFilterInfo[u].DateFilterInfo!==null&&e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>l)for(wt=e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length,h=0;h<wt;h++)e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase()!==f.HiddenColumnName.toLowerCase()?nt.push({column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[h]}):st.push({hiddenColumn:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[h]}),v=this._getItemIndex(c,e.SelectedFilterInfo[u].DateFilterInfo.DisplayDateFilterList[h]),v!==g&&d.push(v);if(e.SelectedFilterInfo[u].DimensionFilterInfo!==null&&e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>l)for(bt=e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length,h=0;h<bt;h++)e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase()!==f.HiddenColumnName.toLowerCase()?nt.push({column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DimensionFilterInfo.Text[h]}):st.push({hiddenColumn:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),value:e.SelectedFilterInfo[u].DimensionFilterInfo.Text[h]}),v=this._getItemIndex(c,e.SelectedFilterInfo[u].DimensionFilterInfo.Text[h]),v!==g&&d.push(v)}for(kt=nt.length,u=0;u<kt;u++)b.push(nt[u].value),y.push({Column:nt[u].column,Value:nt[u].value,HiddenColumnName:st[u].hiddenColumn,HiddenValue:st[u].value})}else if(e.SelectedFilterInfo&&at!==l)for(d=[],u=0;u<at;u++){if(e.SelectedFilterInfo[u].DateFilterInfo!==null&&e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>l)for(dt=e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length,h=0;h<dt;h++)y.push({Column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),Value:e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[h]}),v=this._getItemIndex(c,e.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[h]),v!==g?(d.push(v),b.push(c[v].text)):v===g&&b.push(y[0].Value);if(e.SelectedFilterInfo[u].DimensionFilterInfo!==null&&e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>l)for(gt=e.SelectedFilterInfo[u].DimensionFilterInfo.Text.length,h=0;h<gt;h++)y.push({Column:e.SelectedFilterInfo[u].UniqueColumnName.toLowerCase(),Value:e.SelectedFilterInfo[u].DimensionFilterInfo.Text[h]}),v=this._getItemIndex(c,e.SelectedFilterInfo[u].DimensionFilterInfo.Text[h]),v!==g?(d.push(v),b.push(c[v].text)):v===g&&b.push(y[0].Value)}if(!t.isNullOrUndefined(n("#"+k+t.DashboardConstants.Widget+f.Id).data("ejDashboardDropDownList"))){for(tt=k+t.DashboardConstants.Widget+f.Id,ot=0;ot<this.target.length;ot++)this.target[ot].indexOf(f.Id)!==g&&this.target.splice(ot,et);if(o=n("#"+k+t.DashboardConstants.Widget+f.Id),ut=null,ut=t.isNullOrUndefined(r.configInfo)||t.isNullOrUndefined(r.configInfo.ColumnName)||r.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?o.parents(".e-dbrd-layout-cell"):o.parents(".e-dbrd-filter-wrapper"),!t.isNullOrUndefined(ut.find(".e-dbrd-control"))&&ut.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(c.length,ut.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(c.length,ut.find(".e-dbrd-control")))return;if(s=o.parents("td"),it=o.parent(),o.data("ejDashboardDropDownList")){p=o.data("ejDashboardDropDownList");p.option("watermarkText",b.length===l?t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:b.toString());p.model.query=null;p.option("actionBegin",null);p.option("beforePopupShown",null);p.option("beforePopupShown",function(){n("#"+a._id+"_popup").css({"max-width":n(window).width()-n("#"+a._id).parent().offset().left+"px"});lt=a._dropDownBeforePopupShown(this,o,lt,d)});p.option("actionBegin",function(n){ct=a._dropDownActionBegin(this,n,ct,w.rowCount,c,f,y)});ni=this.dashboardControls.getAllControlsMasterData();p.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(ni)).addParams("controlRowCount",JSON.stringify(w.rowCount)).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("isWebDesigner",this.model._isWebDesigner).addParams("allowFilterdata",JSON.stringify("")).addParams("searchCount",l).addParams("selectedItems",JSON.stringify("")).addParams("searchSelectedCount",l).addParams("hasNull","false").addParams("hasEmpty","false").addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("customCulture",this.model.localeSettings.culture).addParams("methodName",this.model.serviceMethods.getControlDataOnDemand).addParams("serverUrl",this.serverUrl()).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(pt))));p.option("text",!f.MultiSelect&&rt.length===et?c[rt[0]].text:rt.length===l?c.length===et?c[0].text:t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:"");p._refreshScroller();n("#"+n(o).attr("id")+"_wrapper").addClass("center_align");y===null||y.length===l?(n("#"+tt+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+tt).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):y.length!==l&&(n("#"+tt+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+tt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));return}}if(tt===null){o=n("<input>").attr({id:k+t.DashboardConstants.Widget+f.Id}).addClass("e-FilterBox").css({"margin-left":"auto","margin-right":"auto"});it=n("<div>").css({height:"100%",width:"100%"}).attr({tabindex:"0"});it.append(o);it.css({display:"table-cell","vertical-align":"middle"});s.find(".e-dbrd-control").removeAttr("tabindex").append(it).css({display:"table"}).attr({"data-controlId":f.Id});s.find(".e-remove-control-filter").attr({id:o.attr("id")+"_removeControlFilter"});ti=s.children().width()===l?Number(s.attr("colspan"))*55:s.children().width();s.attr({"data-controlId":f.Id,"data-controltype":"FilterComboBox","data-controlLinkData":JSON.stringify(f.IsLinked?f.ControlLinkData:""),"data-isMaster":f.IsMasterFilter});e.SelectedFilterInfo.length!==l&&(s.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),s.find(".e-dbrd-control-container").data({IsFilterApplied:!0}));ii=(new t.UrlAdaptor).extend({viewerObj:a,dropdownId:k+t.DashboardConstants.Widget+f.Id,beforeSend:function(n,i){var f,r,u;if(!t.isNullOrUndefined(a.requestHeaders)&&a.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(f=a.requestHeaders.customHeaders.length,r=t.DashboardConstants.Zero;r<f;r++)u=a.requestHeaders.customHeaders[r],i.setRequestHeader(u.Key,u.Value);i.setRequestHeader("X-Sync-Header",JSON.stringify(a.requestHeaders.customHeaders))}},processResponse:function(t,i,r,u,f,e){t=this.viewerObj._processResponseMessage(t);var s=JSON.parse(f.data).controlId,o=n("#"+this.dropdownId).data("ejDashboardDropDownList");return t.d[0].Key===s&&t.d[0].Value[0].key==="Data"&&(t.d=JSON.parse(t.d[0].Value[0].value),o._totalCount=t.d.result.length<yt?o._rawList.length+t.d.result.length:o._rawList.length+ri),r._requiresCount=!0,this.base.processResponse.apply(this,[t,i,r,u,f,e])}});s.find(".e-dbrd-control").addClass("e-dropDown");var ui=this.model.enableVirtualLoading?t.DataManager({url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,adaptor:new ii}):c,fi=b.length>l?b.toString():t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All,ei=ti-ht+"px",oi=it.height()<ht?"19":"",si=n.proxy(this._dropDownCreate,this,a,o),hi=(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",JSON.stringify(w.rowCount)).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("searchCount",l).addParams("selectedItems",JSON.stringify("")).addParams("searchSelectedCount",l).addParams("hasNull","false").addParams("hasEmpty","false").addParams("isPublic",this.isPublicDashboard).addParams("isUnlisted",this.isUnlistedDashboard).addParams("unlistedCode",this.unlistedCode).addParams("itemId",this.itemId).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("isWebDesigner",this.model._isWebDesigner).addParams("dashboardName",this.dashboardName).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("methodName",this.model.serviceMethods.getControlDataOnDemand).addParams("serverUrl",this.serverUrl()).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(pt))),ci=n.proxy(this._onGlobalFilterChange,this,!1,f.MultiSelect,!1,f.Id,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,f.ColumnName,f.HiddenColumnName,f.HiddenDateTimeColumns,f.DateTimeColumns),vt=f.MultiSelect,li=!f.MultiSelect&&rt.length===et?c[rt[0]].text:rt.length===l?c.length===et?c[0].text:t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All:"",ai=vt?"286px":"240px",vi=!f.IsRelativeDate,yi=vt?n.proxy(this._hidePopup,this,f,w,a):"";if(o.ejDashboardDropDownList({virtualScrollMode:"continuous",watermarkText:fi,width:ei,height:oi,create:si,itemsCount:yt,query:hi,dataSource:ui,fields:{text:"text",id:"id",value:"value",htmlAttributes:"title"},change:ci,showCheckbox:vt,text:li,checkAll:!1,popupHeight:ai,allowVirtualScrolling:vi,enableFilterSearch:vt,cssClass:"e-dbrd-canvas",popupShown:n.proxy(this._showPopup,this,o),popupHide:yi,beforePopupShown:function(){n("#"+k+"_popup_list_wrapper").css({"max-width":s.offset().left+s.children().width()>n(window).width()-s.offset().left?s.offset().left+s.children().width()-ht+"px":n(window).width()-s.offset().left-ht+"px"});lt=a._dropDownBeforePopupShown(this,o,lt,d)},search:function(n){a.model.enableVirtualLoading&&a._dropDownSearch(this,n,a,f,w)},actionBegin:function(n){ct=a._dropDownActionBegin(this,n,ct,w.rowCount,c,f,y)}}),n("#"+n(o).attr("id")+"_wrapper").css("margin-top","-3px"),n("#"+n(o).attr("id")+"_wrapper").addClass("center_align"),n("#"+n(o).attr("id")+"_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control"),ft=null,ft=t.isNullOrUndefined(r.configInfo)||t.isNullOrUndefined(r.configInfo.ColumnName)||r.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?o.parents(".e-dbrd-layout-cell"):o.parents(".e-dbrd-filter-wrapper"),!t.isNullOrUndefined(ft.find(".e-dbrd-control"))&&ft.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(c.length,ft.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(c.length,ft.find(".e-dbrd-control")))return;t.isNullOrUndefined(this.model._dashboardData)||t.isNullOrUndefined(this.model._dashboardData.isExportImage)||!this.model._dashboardData.isExportImage||t.isNullOrUndefined(window.isExportPdf)||!window.isExportPdf||(n("#"+n(o).attr("id")+"_dropdown").addClass("e-exporting-display"),n("#"+n(o).attr("id")+"_wrapper").find(".e-in-wrap").addClass("e-exporting-border"))}},_showPopup:function(t){var r=t[0].id,u=n("#"+r+"_wrapper"),i=n("#"+r+"_popup_list_wrapper"),f=3;i.css("top",parseInt(i.css("top"))-(u.outerHeight()+f)+"px");i.css("top",parseInt(i.css("top"))+u.outerHeight()*this.scalingFactor+f*this.scalingFactor+"px")},_setComboBoxConfigInfo:function(n){return n},_dropDownCreate:function(t,i){var r=n(i).data("ejDashboardDropDownList");r._updateSelectedValueOnSearch=r._updateSelectedIndexByValue;r._updateSelectedIndexByValue=function(){}},_dropDownBeforePopupShown:function(t,i,r,u){var f=n(i).data("ejDashboardDropDownList"),e;f._isChanged=!1;r&&!f._isFilterCleared&&(e=f.model.change,f.model.change=null,f.option("selectedItems",u),f.model.change=e)},_dropDownActionBegin:function(n,i,r,u,f,e,o){var s=this._getViewerObj(e.Id),k=200,h=0,rt=JSON.parse(JSON.stringify(s.dashboardParameters)),a,l,c,g,y,p,nt,w,b,tt,it;if(r){a=[];n._searchListSelectedItems=[];n._isChanged=!1;n._searchSelectedItems=[];var v=[],ut=o.length,d=f.length;for(h=0;h<ut;h++)for(l=0;l<d;l++)if(t.isNullOrUndefined(f[l].hiddenColumnName)){if(f[l].id===o[h].Value){v.push(o[h]);break}}else if(f[l].text===o[h].Value&&f[l].value===o[h].HiddenValue){v.push(o[h]);break}for(n._totalSelectedItems=v,n._isFilterCleared=!1,n._totalCount=f.length+(f.length<100?t.DashboardConstants.Zero:k),n._listItem(f),n._removeLoadingClass(),n._renderPopupList(),n._finalize(),i.cancel=!0,c=0,g=n._totalSelectedItems.length,c=0;c<g;c++)a.push(n._totalSelectedItems[c].Value);for(y="false",p="false",c=0;c<d;c++)f[c].id==="(Null)"?y="true":f[c].id==="(Blanks)"&&(p="true");for(nt=n.model.query._params.length,h=0;h<nt;h++)n.model.query._params[h].key==="selectedItems"?n.model.query._params[h].value=JSON.stringify(a):n.model.query._params[h].key==="hasNull"?n.model.query._params[h].value=y:n.model.query._params[h].key==="hasEmpty"&&(n.model.query._params[h].value=p);return!1}if(n.inputSearch&&n.inputSearch.val()!==""){for(w=[],w.push({field:n.getListData()[0].column,value:n.inputSearch.val()}),i.cancel=!0,b=null,tt=n.model.query._params.length,h=0;h<tt;h++)n.model.query._params[h].key==="searchCount"&&(b=n.model.query._params[h].value);n._getLi().length<b&&s.model.enableVirtualLoading?(it={type:"POST",url:s.serviceUrl()+"/"+s.model.serviceMethods.processRequestForPost,data:JSON.stringify({inlinecount:"allpages",skip:n._getLi().length,take:k,dashboardPath:s.dashboardPath(),controlId:e.Id,masterData:JSON.stringify(s.dashboardControls.getAllControlsMasterData()),controlRowCount:JSON.stringify(n._totalCount),modifiedConnectionStrings:s.modifiedConnectionStrings,allowFilterData:JSON.stringify(w),currentUser:JSON.stringify(s.currentUser),isPublic:s.isPublicDashboard,isUnlisted:s.isUnlistedDashboard,unlistedCode:s.unlistedCode,dateFormat:s.model.localeSettings.dateFormat,timeFormat:s.model.localeSettings.timeFormat,customCulture:s.model.localeSettings.culture,itemId:s.itemId,filterParameters:s.initialFilters!==null?JSON.stringify(s.initialFilters):null,dashboardName:s.dashboardName,dashboardParameterSettings:s._setAjaxDashboardParameterValue(rt),methodName:s.model.serviceMethods.getControlDataOnDemand,serverUrl:s.serverUrl(),isWebDesigner:s.model._isWebDesigner}),onSuccess:s._appendItemForSearchVirtualScroll,needRequestParameter:!1,additionalParameter:n},s.doAjaxPost(it)):n._removeLoadingClass()}},_dropDownSearch:function(i,r,u,f,e){var h=u._getViewerObj(f.Id),a=null,o=n("#"+i._id).data("ejDashboardDropDownList"),c,w,b,l,v,y;o._addLoadingClass();var s=0,k=JSON.parse(JSON.stringify(h.dashboardParameters)),p=o.model.query._params.length;if(o.inputSearch.val()===""){for(r.cancel=!0,s=0;s<p;s++)o.model.query._params[s].key==="searchCount"?o.model.query._params[s].value=0:o.model.query._params[s].key==="allowFilterdata"&&(o.model.query._params[s].value=JSON.stringify(""));o._updateSelectedValueOnSearch(o.model.value);o._removeLoadingClass()}else{for(c=[],c.push({field:r.items[0].column,value:r.searchString.trimRight()}),s=0;s<p;s++)o.model.query._params[s].key==="allowFilterdata"&&(o.model.query._params[s].value=JSON.stringify(c));for(r.cancel=!0,w=[],b=i._totalSelectedItems.length,l=0;l<b;l++)w.push(i._totalSelectedItems[l].Value);this.currentTabContentElement.hasClass("e-dashboardfilterpanel")?(v=n("#"+this.dashboardElement).data("ejDashboardViewer"),a=v.dashboardControls.getAllControlsMasterData(),h.modifiedConnectionStrings=v.modifiedConnectionStrings):a=this.dashboardControls.getAllControlsMasterData();this.model.enableVirtualLoading&&(y={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:h.dashboardPath(),inlinecount:"allpages",skip:0,take:200,controlId:f.Id,controlRowCount:JSON.stringify(e.rowCount),modifiedConnectionStrings:h.modifiedConnectionStrings,allowFilterData:JSON.stringify(c),masterData:JSON.stringify(a),currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(k),methodName:this.model.serviceMethods.getControlDataOnDemand,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:h._fillDropDownAllowFilterData,needRequestParameter:!1,additionalParameter:[i,r]},!t.isNullOrUndefined(this._dashboardId)&&t.isNullOrUndefined(this.hasDashboardFilters)?this.doAjaxPost(y):this._searchDropDownList(y))}},_appendSelectedItemOnSearch:function(n,t){for(var f,i,u=!1,e=n._rawList.length,r=0;r<e;r++)if(n._rawList[r].id===t.id){u=!0;break}for(u||(n.addItem(t),n.ultag.children().last().remove(),n._searchSelectedItems.push(t.id)),f=n.model.query._params.length,i=0;i<f;i++)n.model.query._params[i].key==="searchSelectedCount"&&(n.model.query._params[i].value=n._searchSelectedItems.length)},_appendItemForSearchVirtualScroll:function(t,i,r){var u,e,h;r=this._processResponseMessage(r);var o=0,f=JSON.parse(r.d[0].Value[0].value),s=o,c=i.model.query._params.length;for(u=0;u<c;u++)i.model.query._params[u].key==="searchCount"&&(i.model.query._params[u].value=f.result.length<200?i._getLi().length+f.result.length:i._getLi().length+300,s=i.model.query._params[u].value);if(r=f.result,i._getLi().length<s){if(!r||(i._mapFields(),e=n.isArray(r)?r:[r],e.length<1))return!1;i._generateLi(e,i.mapFld);i.ultag.append(i.dummyUl);i.model.showCheckbox&&i._appendCheckbox(i.dummyUl);i._isPopupShown()&&(h=i.scrollerObj?i.scrollerObj.scrollTop():o,i._refreshScroller(),i.scrollerObj&&i.scrollerObj.option("scrollTop",h))}i._removeLoadingClass()},_fillDropDownAllowFilterData:function(n,i,r){var s,f;r=this._processResponseMessage(r);var u=i[1],e=[],o=200;for(t.isNullOrUndefined(r.d[0].Value)||t.isNullOrUndefined(r.d[0].Value[0].value)||(e=JSON.parse(r.d[0].Value[0].value)),u.result=e.result,s=u.model.query._params.length,f=0;f<s;f++)u.model.query._params[f].key==="searchCount"&&(u.model.query._params[f].value=e.result.length<o?o+e.result.length:o+300);i[0]._filterSearch(null,u);i[0]._removeLoadingClass()},_hidePopup:function(i,r,u,f){var p=0,e=u._getViewerObj(i.Id),w=n("#"+e._getGlobalFilterId(i.IsGlobalFilter)+t.DashboardConstants.Widget+i.Id),k=JSON.parse(JSON.stringify(e.dashboardParameters)),o=w.data("ejDashboardDropDownList"),s,c,l,a,v,b,h,y;if(o._isChanged){if(!t.isNullOrUndefined(e._dashboardId)&&t.isNullOrUndefined(this.hasDashboardFilters)&&e._createControlWaitingIndicator(w.closest(".e-dbrd-control-container"),!0),s=0,c=o.model.query._params.length,o.inputSearch.val()!=="")for(o.model.query._params[5].value=JSON.stringify(""),s=0;s<c;s++)o.model.query._params[s].key==="searchCount"&&(o.model.query._params[s].value=0);for(l="false",a="false",o._searchSelectedItems=[],s=0;s<c;s++)o.model.query._params[s].key==="searchSelectedCount"?o.model.query._params[s].value=o._searchSelectedItems.length:o.model.query._params[s].key==="hasNull"?l=o.model.query._params[s].value:o.model.query._params[s].key==="hasEmpty"&&(a=o.model.query._params[s].value);for(v=[],b=o._totalSelectedItems.length,h=0;h<b;h++)v.push(o._totalSelectedItems[h].Value);e.model.enableVirtualLoading&&(y={type:"POST",url:e.serviceUrl()+"/"+e.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:e.dashboardPath(),inlinecount:"allpages",skip:p,take:200,controlId:i.Id,controlRowCount:JSON.stringify(r.rowCount),modifiedConnectionStrings:e.modifiedConnectionStrings,allowFilterData:JSON.stringify(""),masterData:JSON.stringify(e.dashboardControls.getAllControlsMasterData()),selectedItems:JSON.stringify(v),dateFormat:e.model.localeSettings.dateFormat,timeFormat:e.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,searchSelectedCount:p,hasNull:l,hasEmpty:a,currentUser:JSON.stringify(e.currentUser),isPublic:e.isPublicDashboard,isUnlisted:e.isUnlistedDashboard,unlistedCode:e.unlistedCode,itemId:e.itemId,dashboardName:e.dashboardName,dashboardParameterSettings:e._setAjaxDashboardParameterValue(k),methodName:e.model.serviceMethods.getControlDataOnDemand,serverUrl:e.serverUrl(),isWebDesigner:e.model._isWebDesigner}),onSuccess:e._reorderOnPopupOnHide,needRequestParameter:!1,additionalParameter:[o,f,i]},!t.isNullOrUndefined(e._dashboardId)&&t.isNullOrUndefined(this.hasDashboardFilters)?e.doAjaxPost(y):e._reorderOnPopupHide(y))}},_reorderOnPopupOnHide:function(i,r,u){var g,o,w,a,v,ft;u=this._processResponseMessage(u);var y=0,b=-1,et=1,k=!0,d=!0,h=[],s=r[0],c=r[2];u.d[0].Key===c.Id&&u.d[0].Value[0].key==="Data"&&(h=JSON.parse(u.d[0].Value[0].value));g=JSON.parse(JSON.stringify(this.dashboardParameters));o=s._totalSelectedItems;o.sort(function(n,t){return n.Value<t.Value?b:n.Value>t.Value?et:b});for(var l=[],nt=[],p=[],f=0,tt=o.length,f=0;f<tt;f++)t.isNullOrUndefined(o[f].HiddenColumnName)?l.push({column:o[f].Column,id:o[f].Value,text:o[f].Value}):l.push({column:o[f].Column,hiddenColumnName:o[f].HiddenColumnName,id:o[f].Value,text:o[f].Value,value:o[f].HiddenValue}),nt.push(f),p.push(o[f].Value);if(w=null,a=null,!t.isNullOrUndefined(h)&&!t.isNullOrUndefined(h.result)){for(w=h.result.length,f=0;f<w;f++)l.push(h.result[f]);a=h.count}var it=[],e=this._getViewerObj(c.Id),rt="false",ut="false",ot=s.model.query._params.length;for(f=0;f<ot;f++)s.model.query._params[f].key==="hasNull"?rt=s.model.query._params[f].value:s.model.query._params[f].key==="hasEmpty"&&(ut=s.model.query._params[f].value);for(s.model.query=null,s.option("actionBegin",null),s.option("beforePopupShown",null),s.option("beforePopupShown",function(){n("#"+e._id+"_popup_list_wrapper").css({"max-width":n(window).width()-n("#"+e._id).parent().offset().left+"px"});d=e._dropDownBeforePopupShown(e,"#"+r[0]._id,d,nt)}),s.option("actionBegin",function(n){k=e._dropDownActionBegin(this,n,k,a,l,c,o)}),v=0;v<tt;v++)it.push(o[v].Value);s.option("query",(new t.Query).addParams("dashboardPath",e.dashboardPath()).addParams("controlId",c.Id).addParams("masterData",JSON.stringify(e.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",a).addParams("modifiedConnectionStrings",e.modifiedConnectionStrings).addParams("allowFilterData",JSON.stringify("")).addParams("searchCount",y).addParams("selectedItems",JSON.stringify(it)).addParams("searchSelectedCount",y).addParams("hasNull",rt).addParams("hasEmpty",ut).addParams("isPublic",e.isPublicDashboard).addParams("isUnlisted",e.isUnlistedDashboard).addParams("unlistedCode",e.unlistedCode).addParams("itemId",e.itemId).addParams("dateFormat",e.model.localeSettings.dateFormat).addParams("timeFormat",e.model.localeSettings.timeFormat).addParams("customCulture",e.model.localeSettings.culture).addParams("currentUser",JSON.stringify(e.currentUser)).addParams("isWebDesigner",e.model._isWebDesigner).addParams("dashboardName",e.dashboardName).addParams("methodName",e.model.serviceMethods.getControlDataOnDemand).addParams("serverUrl",e.serverUrl()).addParams("dashboardParameterString",JSON.stringify(e._setAjaxDashboardParameterValue(g))));s.option("watermarkText",p.length===y?t.isNullOrUndefined(e.locale.utils)?t.DashboardConstants.All:e.locale.utils.All:p.toString());ft=n("#"+e._getGlobalFilterId(c.IsGlobalFilter)+t.DashboardConstants.Widget+c.Id);ft.closest(".e-dbrd-control-container").find(".e-dbrd-controlWaiting").remove()},_listItemsReordering:function(t,i){for(var u,o=1,f=[],s=[],e=t.getListData(),h=i.length,r=0;r<h;r++)s.push(r),n(t._virtualUl.children("li")[i[r]]).insertBefore(t._virtualUl.children("li").eq(r));for(u=h-o;u>=0;u--)f.push(e[i[u]]),e.splice(i[u],o);f.reverse();t._listItem(f.concat(e));t.model.selectedIndices=t.model.selectedItems=t._selectedIndices=s},_showComboboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"visible"})},_hideComboboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"hidden"})},_showComboboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"visible"})},_hideComboboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"hidden"})},_getItemIndex:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].id===t||n[i].text===t)return i;return-1},_clearDropdownRequest:function(){this.requestTimer!==null&&clearTimeout(this.requestTimer)},_fetchingDropdownData:function(r,u,f,e,o,s,h,c){var ut=0,y=0,d=0,ht=1,b=-1,ct=-1,it=!1,g=this._getViewerObj(r),w=[],nt=[],lt=[],ft=[],l,a,vt,yt,st,pt,wt,v,k,bt,tt;if(typeof u=="undefined"||typeof u.itemId!="undefined"||datePicker){var p=g.dashboardControls.getControlByReport(r),at=g._getGlobalFilterId(p.configInfo.IsGlobalFilter),ot=n("#"+at+t.DashboardConstants.Widget+r).data("ejDashboardDropDownList"),et=n("#"+at+t.DashboardConstants.Widget+r),rt=et.data("ejDashboardDropDownList").getListData();if(!f){if(e&&u.model.selectedItems.length===u.model.itemsCount&&et.data("ejDashboardDropDownList").option("watermarkText",t.isNullOrUndefined(g.locale.utils)?t.DashboardConstants.All:g.locale.utils.All),e&&!f&&u!==i){if(et.data("ejDashboardDropDownList").model.selectedItems.sort(function(n,t){return n-t}),l=et.data("ejDashboardDropDownList"),t.isNullOrUndefined(l._totalSelectedItems)&&(l._totalSelectedItems=[]),a=0,t.isNullOrUndefined(s)){if(u.isChecked){for(it=!1,yt=l._totalSelectedItems.length,a=0;a<yt;a++)if(u.selectedValue===l._totalSelectedItems[a].Value){it=!0;break}it||l._totalSelectedItems.push({Column:t.isNullOrUndefined(l.popupListItems[0].column)?l.popupListItems[1].column:l.popupListItems[0].column,Value:u.selectedValue,Text:u.selectedText})}else for(a=0;a<l._totalSelectedItems.length;a++)if(u.selectedValue===l._totalSelectedItems[a].Value){l._totalSelectedItems.splice(a,ht);break}}else if(u.isChecked){for(it=!1,vt=l._totalSelectedItems.length,a=0;a<vt;a++)if(u.selectedText===l._totalSelectedItems[a].Value&&u.selectedValue===l._totalSelectedItems[a].HiddenValue){it=!0;break}it||l._totalSelectedItems.push({Column:l.popupListItems[0].column,Value:u.selectedText,HiddenColumnName:l.popupListItems[0].hiddenColumnName,HiddenValue:u.selectedValue})}else for(a=0;a<l._totalSelectedItems.length;a++)if(u.selectedText===l._totalSelectedItems[a].Value&&u.selectedValue===l._totalSelectedItems[a].HiddenValue){l._totalSelectedItems.splice(a,ht);break}l._totalSelectedItems.length>ut&&(w=l._totalSelectedItems)}else t.isNullOrUndefined(u)||(t.isNullOrUndefined(s)?w.push({Column:rt[0].column,Value:u.selectedValue,Text:u.selectedText}):w.push({Column:rt[0].column,Value:u.selectedText,HiddenColumnName:rt[0].hiddenColumnName,HiddenValue:u.selectedValue}));for(st=w.length,pt=rt.length,d=0;d<st;d++){if(nt.push(w[d].Value),t.isNullOrUndefined(w[d].Text))for(y=0;y<pt;y++)rt[y].value===w[d].Value&&ft.push(rt[y].text);else ft.push(w[d].Text);t.isNullOrUndefined(w[d].HiddenValue)||lt.push(w[d].HiddenValue)}for(wt=ot.model.query._params.length,y=0;y<wt;y++)ot.model.query._params[y].key==="selectedItems"&&(ot.model.query._params[y].value=JSON.stringify(nt));st===ut&&(u.model.watermarkText=t.isNullOrUndefined(g.locale.utils)?t.DashboardConstants.All:g.locale.utils.All)}if(v=null,w.length>ut)if(t.isNullOrUndefined(s))b=g._checkFilterInfo(w[0].Column,p.SelectedFilterInfo),t.isNullOrUndefined(b)||b===ct?(v=new selectedFilterInfo,v.UniqueColumnName=w[0].Column,t.isNullOrUndefined(c)||c!==w[0].Column.toUpperCase()?(v.DimensionFilterInfo.Text=nt,v.DimensionFilterInfo.Conditions="Include"):(v.DateFilterInfo.DateFilterList=nt,v.DateFilterInfo.DisplayDateFilterList=ft,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),v.ReportName=p.reportName,p.SelectedFilterInfo.push(v)):t.isNullOrUndefined(c)||c!==w[0].Column.toUpperCase()?(p.SelectedFilterInfo[b].DimensionFilterInfo.Text=nt,p.SelectedFilterInfo[b].DimensionFilterInfo.Conditions="Include",p.SelectedFilterInfo[b].ReportName=p.reportName):(p.SelectedFilterInfo[b].DateFilterInfo.DateFilterList=nt,p.SelectedFilterInfo[b].DateFilterInfo.DisplayDateFilterList=ft);else for(k=[],k.push(w[0].Column),k.push(w[0].HiddenColumnName),bt=k.length,y=0;y<bt;y++)b=g._checkFilterInfo(k[y],p.SelectedFilterInfo),tt=y>ut?lt:nt,t.isNullOrUndefined(b)||b===ct?(v=new selectedFilterInfo,v.UniqueColumnName=k[y],t.isNullOrUndefined(c)||c!==k[y].toUpperCase()?t.isNullOrUndefined(h)||h!==k[y].toUpperCase()?(v.DimensionFilterInfo.Text=tt,v.DimensionFilterInfo.Conditions="Include"):(v.DateFilterInfo.DateFilterList=tt,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(v.DateFilterInfo.DateFilterList=tt,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),v.ReportName=p.reportName,p.SelectedFilterInfo.push(v)):t.isNullOrUndefined(c)||c!==k[y].toUpperCase()?t.isNullOrUndefined(h)||h!==k[y].toUpperCase()?(p.SelectedFilterInfo[b].DimensionFilterInfo.Text=tt,p.SelectedFilterInfo[b].DimensionFilterInfo.Conditions="Include",p.SelectedFilterInfo[b].ReportName=p.reportName):p.SelectedFilterInfo[b].DateFilterInfo.DateFilterList=tt:p.SelectedFilterInfo[b].DateFilterInfo.DateFilterList=tt;else p.SelectedFilterInfo=[];if(t.isNullOrUndefined(o)||o===""||(g._controlNavigate(o,[]),isMaster))return v}},_sendDropdownListRequest:function(r,u,f,e,o){var c=0,a=this.dashboardControls.getControlByReport(r).configInfo;t.isNullOrUndefined(a)||(this.dashboardControls.getControlByReport(r).configInfo.SelectFirstItem=!1);var v=n("#"+this._getGlobalFilterId(!t.isNullOrUndefined(a)&&a.IsGlobalFilter)+t.DashboardConstants.Widget+r),s=this._getViewerObj(r),l=[],h=[],y=null;this.requestTimer=setTimeout(function(){for(var a,p,w=s.controlRelations.length,f=0;f<w;f++)if(s.controlRelations[f].Master===r){if(h=s._getMasterElementName(s.controlRelations[f].Master),l=s.controlRelations[f].Slaves,s.model.enableVirtualLoading&&(l===null||l.length===c)){y=s._checkFilterOverviewData(r);s._addFilterDataToTitle(y);return}a=null;u&&!e&&o!==i&&(a=v.data("ejDashboardDropDownList"),v.data("ejDashboardDropDownList").model.selectedItems.sort(function(n,t){return n-t}));p={master:r,slaves:l,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};s._makeSlaveDataRequest(p);t.isNullOrUndefined(o)||(!u||a._totalSelectedItems.length===c)&&u?u&&!t.isNullOrUndefined(a)&&a._totalSelectedItems.length===c&&(n("#"+h+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+h).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+h+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+h).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));break}s.requestTimer=null},o===null||!u?c:1500)},_onGlobalFilterChange:function(i,r,u,f,e,o,s,h,c,l,a){var v=this._getViewerObj(f),y=n("#"+(v._isGlobalFilter(f)?v._globalFilterId:v._id)+t.DashboardConstants.Widget+f).data("ejDashboardDropDownList"),p;(y._isChanged=!0,!t.isNullOrUndefined(y.inputSearch)&&y.inputSearch&&y.inputSearch.val()!==""&&(p={},a.isChecked&&(p.id=a.selectedValue,p.text=a.selectedText,p.column=s,v._appendSelectedItemOnSearch(y,p))),v.flag)&&(v._fetchingDropdownData(f,a,u,r,e,h,c,l),v._clearDropdownRequest(),v._sendDropdownListRequest(f,r,i,u,a))}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.filters={_renderDatePicker:function(r){var e=0,nt=-1,y=1,st=2,ht=30,ct=!1,ft=ht,u=r.configInfo,o=r,k=r.getCurrentPageData(),f=null,d=this._getGlobalFilterId(u.IsGlobalFilter),v,c,l,ut,a,et,ot,lt,tt,it,at,vt,yt,pt,g;if(f=this.currentTabContentElement.find("#"+d+"_cell_"+u.Row+"_"+u.Column),v=f.find(".e-dbrd-control"),k.isError){f.attr({"data-controlId":u.Id});f.find(".e-dbrd-control").attr({"data-controlId":u.Id});f.find(".e-dbrd-control").attr({id:d+t.DashboardConstants.Widget+u.Id});this._showControlError(k.pagedata,v,u);return}this._hideControlError(v);c=null;l=null;t.isNullOrUndefined(u.Data)?t.isNullOrUndefined(o.maxMinData)||(c=o.maxMinData[e].text,l=o.maxMinData[y].text):(c=u.Data[e].text,l=u.Data[y].text);var p=null,w=null,s=null,wt=this.target.length;for(ut=0;ut<wt;ut++)if(this.target[ut].indexOf(u.Id)!==nt){if(w=d+t.DashboardConstants.Widget+u.Id,p=this.currentTabContentElement.find("#"+w),!t.isNullOrUndefined(f.find(".e-dbrd-control"))&&f.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(c.length===e&&l.length===e?e:y,f.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(c.length===e&&l.length===e?e:y,f.find(".e-dbrd-control")))return;if(a=p.data("ejDashboardDashboardDatePicker"),a){if(a.option("popupshow",function(n){n.model.scalingFactor=this.scalingFactor}),a.model.dataSource=k.pagedata,a.model.startDate=c,a.model.endDate=l,a.model.value=u!==null&&!t.isNullOrUndefined(u.SelectedDates)?{range:u.SelectedDates.Range,start:u.SelectedDates.StartValue,end:u.SelectedDates.EndValue}:null,k.pagedata.length===y&&a.model.datePickerType==="single"&&(a.model.value={range:!1,start:k.pagedata[0],end:null}),o.SelectedFilterInfo!==null&&o.SelectedFilterInfo.length>e)if(o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===st||u.IsRangeDate){if(et=o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],u.Ranges)for(ot=Object.values(JSON.parse(u.Ranges)),lt=ot.length,tt=0;tt<lt;tt++)if(JSON.stringify(o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)===JSON.stringify(ot[tt])){et=Object.keys(JSON.parse(u.Ranges))[tt];break}s={Range:u.Ranges?et:null,StartValue:o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1],Format:u.DateFormat,DisplayFormat:u.DisplayFormat}}else o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===y&&(s={Range:null,StartValue:o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:null,Format:u.DateFormat,DisplayFormat:u.DisplayFormat});a.model.value=t.isNullOrUndefined(s)?null:{range:s.Range,start:s.StartValue,end:s.EndValue};v.css({display:"table"});a.redraw()}else{w=null;break}t.isNullOrUndefined(s)?(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));return}if(w===null||w===i){if(p=n("<input>").attr({id:d+t.DashboardConstants.Widget+u.Id}).css({"min-height":"19px"}).addClass("e-FilterBox"),f.find(".e-remove-control-filter").attr("id",p.attr("id")+"_removeControlFilter"),f.find(".e-dbrd-control").attr({"data-controlId":u.Id}),o.SelectedFilterInfo&&o.SelectedFilterInfo.length>e&&(u.IsRangeDate?(it=u.Ranges?this._getIndexofRangeValues(u.Ranges,o.SelectedFilterInfo[0].DateFilterInfo):nt,s={Range:it!==nt?Object.keys(JSON.parse(u.Ranges))[it]:null,StartValue:it===nt?o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:null,EndValue:it===nt?o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:null,Format:u.DateFormat,DisplayFormat:u.DisplayFormat}):o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===y&&(s={Range:null,StartValue:o.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],EndValue:null,Format:u.DateFormat,DisplayFormat:u.DisplayFormat})),t.isNullOrUndefined(s)||(f.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),f.parents(".e-dbrd-control-container").data({IsFilterApplied:!0})),at=f.children().width()===e?Number(f.attr("colspan"))*55:f.children().width(),v.height()<32&&(ft=v.height()-4,vt=ft/st,v.css({"font-size":vt+"px"})),f.attr({"data-controlId":u.Id,"data-controltype":"DatePicker"}),v.css({display:"table"}),!t.isNullOrUndefined(this.model._dashboardData)&&!t.isNullOrUndefined(this.model._dashboardData.isExportImage)&&this.model._dashboardData.isExportImage&&!t.isNullOrUndefined(window.isExportPdf)&&window.isExportPdf&&c.length>e&&l.length>e&&(yt={filterCell:f,config:u,startDate:c,endDate:l,selectedDates:s},p=this._showSelectedDateInExportingPdf(yt),ct=!0),v.find("#"+d+"_GlobalFilterDiv_"+u.Id).length===e&&v.append(n("<div>").css({width:"100%","margin-top":"20px",display:"table-cell","vertical-align":"middle"}).attr({id:d+"_GlobalFilterDiv_"+u.Id}).append(p)),f.prop({column:u.ColumnName,datePickerType:u.IsRangeDate?"range":"single"}),ct){pt=f.find(".e-dbrd-control-container").width()<92?"12px":"14px";f.find(".e-exporting-date-picker").css({"font-size":pt,width:f.find(".e-dbrd-control-container").width()-17,"max-height":f.find(".e-dbrd-control-container").height()-30});return}var bt=at-ht,kt=n.parseJSON(u.Ranges),dt=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.SelectDate:this.locale.utils.SelectDate,gt=k.pagedata,ni=u.IsRangeDate?"range":"single",ti=u.Highlight,ii=u.limitdate,ri=u.ShowCustom,ui=n.proxy(this._beforePopupOpen,this,u.Id),fi=n.proxy(this._onDatePickerChange,this,u.Id,u.IsLinked?u.ControlLinkData:i),ei=t.isNullOrUndefined(s)?null:{range:s.Range,start:s.StartValue,end:s.EndValue},oi=u.DateFormat,si=u.DisplayFormat,rt=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants:this.locale.utils,hi=rt.Apply,ci=rt.Cancel,li=rt.From,ai=rt.To,vi=rt.DatePickerCustomText,b=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.DaysOfWeek:this.locale.DaysOfWeek,yi=b.DaysOfWeekSu,pi=b.DaysOfWeekMo,wi=b.DaysOfWeekTu,bi=b.DaysOfWeekWe,ki=b.DaysOfWeekTh,di=b.DaysOfWeekFr,gi=b.DaysOfWeekSa,h=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.MonthNames:this.locale.MonthNames,nr=h.MonthJan,tr=h.MonthFeb,ir=h.MonthMar,rr=h.MonthApr,ur=h.MonthMay,fr=h.MonthJun,er=h.MonthJul,or=h.MonthAug,sr=h.MonthSep,hr=h.MonthOct,cr=h.MonthNov,lr=h.MonthDec;p.ejDashboardDashboardDatePicker({cssClass:"e-dbrd-control",startDate:c,endDate:l,width:bt,height:ft,ranges:kt,watermarkText:dt,dataSource:gt,datePickerType:ni,highlightAvailableDates:ti,enableRTL:!1,limitDate:ii,showCustomDatePicker:ri,selected:fi,popupShow:ui,locale:{format:oi,displayFormat:si,applyLabel:hi,cancelLabel:ci,fromLabel:li,toLabel:ai,customRangeLabel:vi,daysOfWeek:[yi,pi,wi,bi,ki,di,gi],monthNames:[nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr]},value:ei});g=null;g=t.isNullOrUndefined(r.configInfo)||t.isNullOrUndefined(r.configInfo.ColumnName)||r.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?p.parents(".e-dbrd-layout-cell"):p.parents(".e-dbrd-filter-wrapper");!t.isNullOrUndefined(g.find(".e-dbrd-control"))&&g.find(".e-dbrd-control").height()>60?this._applyOrRemoveNoDataAvailable(c.length===e&&l.length===e?e:y,g.find(".e-dbrd-control")):this._applyOrRemoveNoDataAvailableForFilters(c.length===e&&l.length===e?e:y,g.find(".e-dbrd-control"))}},_showSelectedDateInExportingPdf:function(i){var o=null,c,l;if(!t.isNullOrUndefined(i)){var s=60,h=91,u=t.isNullOrUndefined(i.config)?null:i.config.Ranges,f=t.isNullOrUndefined(i.selectedDates)?null:i.selectedDates.Range,e=null,r=i.filterCell.find(".e-dbrd-control-container");r.find(".e-dbrd-control").addClass("e-exporting-border");e=t.isNullOrUndefined(u)||t.isNullOrUndefined(f)?t.isNullOrUndefined(i.selectedDates)?i.startDate+" "+this.locale.utils.BetweenTo+" "+i.endDate:i.selectedDates.StartValue+" "+this.locale.utils.BetweenTo+" "+i.selectedDates.EndValue:JSON.parse(u)[f][0]+" "+this.locale.utils.BetweenTo+" "+JSON.parse(u)[f][1];c=i.config.IsRangeDate?e:t.isNullOrUndefined(i.selectedDates)?e:i.selectedDates.StartValue;l=r.height()<s&&r.width()<h?" e-exporting-minwidth":r.height()<s?" e-exporting-minheight":r.width()<h?" e-exporting-minwidth":"";o='<div class="e-exporting-date-picker'+l+'"><p class="e-exporting-paragraph">'+c+"<\/p><\/div>"}return n(o)},_getIndexofRangeValues:function(n,t){var r=-1,f=-1,u=Object.keys(JSON.parse(n)).map(function(t){return JSON.parse(n)[t]}),i;if(Object.keys(JSON.parse(n)).indexOf(t.DateFilterList[0])!==r)return Object.keys(JSON.parse(n)).indexOf(t.DateFilterList[0]);for(i=0;i<u.length;i++)u[i][0].indexOf(t.DateFilterList[0])!==r&&u[i][1].indexOf(t.DateFilterList[1])!==r&&(f=i);return f},_setDatePickerConfigInfo:function(n){n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ShowCustom=t.isNullOrUndefined(n.configInfo.ShowCustom)||n.configInfo.ShowCustom;n.configInfo.LimitDate=t.isNullOrUndefined(n.configInfo.LimitDate)||n.configInfo.LimitDate;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.Highlight=!t.isNullOrUndefined(n.configInfo.Highlight)&&n.configInfo.Highlight;n.configInfo.IsRangeDate=!t.isNullOrUndefined(n.configInfo.IsRangeDate)&&n.configInfo.IsRangeDate;n.configInfo.Ranges=t.isNullOrUndefined(n.configInfo.Ranges)?"":n.configInfo.Ranges;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.DateFormat=t.isNullOrUndefined(n.configInfo.DateFormat)?"":n.configInfo.DateFormat;n.configInfo.DisplayFormat=t.isNullOrUndefined(n.configInfo.DisplayFormat)?null:n.configInfo.DisplayFormat},_beforePopupOpen:function(n,t){t.model.scalingFactor=this.scalingFactor},_renderRangeSlider:function(i){var s=0,g=1,et=5,ot=55,st=120,u=i.configInfo,r=i,o=i.getCurrentPageData(),h,v,l,d,ht,ct,lt,rt,ut,b,k,ft,bt,kt;this._initializeSlider(u.dateformat);var c=null,f=null,e=null,w=this._getGlobalFilterId(u.IsGlobalFilter);if(e=n("#"+w+"_cell_"+u.Row+"_"+u.Column),h=null,o.isError){e.attr({"data-controlId":o.Id});e.find(".e-dbrd-control").attr({"data-controlId":u.Id});e.find(".e-dbrd-control").attr({id:w+t.DashboardConstants.Widget+u.Id});this._showControlError(o.pagedata,e.find(".e-dbrd-control"),u);return}if(this._hideControlError(e.find(".e-dbrd-control")),v=null,l=null,n("#"+w+t.DashboardConstants.Widget+u.Id).length===s||n("#"+w+t.DashboardConstants.Widget+u.Id).children().length===s){d=n("<div>").css({display:"table-cell","vertical-align":"middle"});h=n("<div>").attr({id:w+t.DashboardConstants.Widget+u.Id}).addClass("dashboardRangeSliderControl").addClass("e-FilterBox");d.append(h);v=n("<div>").attr({id:"leftcontainer_"+u.Id}).css({height:"15px",display:"block",position:"absolute"});v.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}).html(o.pagedata.RangeStart));l=n("<div>").attr({id:"rightcontainer_"+u.Id}).css({height:"15px",width:"50px",position:"absolute",display:"block"});ht=t.browserInfo();ht.name==="msie"?l.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block","vertical-align":"middle",position:u.orientation==="horizontal"?"absolute":"relative",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}).html(o.pagedata.RangeEnd)):l.append(n("<label>").css({"font-size":"12px","font-family":"Roboto","font-weight":"Normal",display:"block","vertical-align":"middle","white-space":"pre",overflow:"hidden","text-overflow":"ellipsis"}).html(o.pagedata.RangeEnd));u.orientation==="HORIZONTAL"?(v.css({width:"50%",left:"2%"}),v.children("label").css({"text-align":"left",margin:"0px 0px 0px 10px"}),l.css({width:"50%",right:"2%"}),l.children("label").css({"text-align":"right",margin:"0px 10px 0px 0px"})):(v.css({width:"100%","padding-top":"8px"}),v.children("label").css({"text-align":"center"}),l.css({width:"100%",top:"30px"}),l.children("label").css({"text-align":"center"}));e.find(".e-dbrd-control").height()>40&&(u.sliderType==="RANGE"&&d.append(v),d.append(l));e.addClass("e-dbrd-slider-control").css({"background-color":"transparent"}).attr({"data-controlId":u.Id});e.find(".e-dbrd-control").append(d).css({display:"table"});e.find(".e-dbrd-control").attr({"data-controlId":u.Id});e.find(".e-remove-control-filter").attr("id",h.attr("id")+"_removeControlFilter");e.attr({"data-controlId":o.Id,"data-controltype":"RangeSlider"});ct=e.width()===s?Number(e.attr("colspan"))*ot:e.width()*Number(e.attr("colspan"));lt=e.height()===s?Number(e.attr("rowspan"))*ot:e.height()*Number(e.attr("rowspan"));r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].MeasureFilterInfo)&&r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>s?r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>g?(c=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0],f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]):f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0]:r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo)&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>s?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>g?(c=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],f=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]):f=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]:(c=o.pagedata.RangeStart,f=o.pagedata.RangeEnd);var it=u.sliderType,nt=u.orientation,tt=o.pagedata,dt=parseInt(tt.RangeStart),gt=parseInt(tt.RangeEnd),at=nt==="HORIZONTAL"?et:lt-st,ni=[parseInt(c),parseInt(f)],ti=parseInt(f),vt=nt==="HORIZONTAL"?ct-st:et,yt=u.FormattedColumn,pt=n.proxy(this._onSlideChange,this,yt,u.Id),wt=[];if(u.isDate&&(wt=it==="RANGE"?[new Date(c.replace("-"," ","g")),new Date(f.replace("-"," ","g"))]:new Date(f.replace("-"," ","g"))),rt=n.proxy(this._onRangeSliderChange,this,u.Id,u.ColumnName,u.IsLinked?u.ControlLinkData:null,u.FormattedColumn,o.pagedata,u.DateTimeColumns,u),u.isDate?h.ejDashboardSlider({sliderType:it.toLowerCase(),orientation:nt.toLowerCase(),minDate:new Date(tt.RangeStart.replace("-"," ","g")),maxDate:new Date(tt.RangeEnd.replace("-"," ","g")),height:at,cssClass:" e-dbrd-canvas",dateValue:wt,width:vt,change:rt,slide:pt}):h.ejDashboardSlider({sliderType:it.toLowerCase(),orientation:nt.toLowerCase(),minValue:dt,maxValue:gt,height:at,cssClass:" e-dbrd-canvas",values:ni,value:ti,width:vt,change:rt,slide:pt,formatColumn:yt}),ut=!t.isNullOrUndefined(o.pagedata.RangeStart&&o.pagedata.RangeEnd)&&o.pagedata.RangeStart!==""&&o.pagedata.RangeEnd!==""?t.DashboardConstants.One:t.DashboardConstants.Zero,b=null,b=t.isNullOrUndefined(i.configInfo)||t.isNullOrUndefined(i.configInfo.ColumnName)||i.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?h.parents(".e-dbrd-layout-cell"):h.parents(".e-dbrd-filter-wrapper"),!t.isNullOrUndefined(b.find(".e-dbrd-control"))&&b.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(ut,b.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(ut,b.find(".e-dbrd-control")))return;!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>s&&(e.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.find(".e-dbrd-control-container").data({IsFilterApplied:!0}))}else{if(h=n("#"+w+t.DashboardConstants.Widget+u.Id),k=null,k=t.isNullOrUndefined(i.configInfo)||t.isNullOrUndefined(i.configInfo.ColumnName)||i.configInfo.ColumnName.indexOf("FILTERAREA")===t.DashboardConstants.IndexLowerBound?h.parents(".e-dbrd-layout-cell"):h.parents(".e-dbrd-filter-wrapper"),ft=!t.isNullOrUndefined(o.pagedata.RangeStart&&o.pagedata.RangeEnd)&&o.pagedata.RangeStart!==""&&o.pagedata.RangeEnd!==""?t.DashboardConstants.One:t.DashboardConstants.Zero,!t.isNullOrUndefined(k.find(".e-dbrd-control"))&&k.find(".e-dbrd-control").height()>60){if(!this._applyOrRemoveNoDataAvailable(ft,k.find(".e-dbrd-control")))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(ft,k.find(".e-dbrd-control")))return;var y=h.data("ejDashboardSlider"),p=o.pagedata.RangeStart,a=o.pagedata.RangeEnd;r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].MeasureFilterInfo)&&r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>s?r.SelectedFilterInfo[0].MeasureFilterInfo.Values.length>g?(c=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0]<p?p:r.SelectedFilterInfo[0].MeasureFilterInfo.Values[0],f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]<a?r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]:a):f=r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]<a?r.SelectedFilterInfo[0].MeasureFilterInfo.Values[1]:a:r.SelectedFilterInfo.length!==s&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo)&&!t.isNullOrUndefined(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList)&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>s?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length>g?(c=new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0].toString())<new Date(p)?p:r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],f=new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1].toString())<new Date(a)?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:a):f=new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1].toString())<new Date(a)?r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]:a:(c=!t.isNullOrUndefined(r.SelectedItems.Included)&&r.SelectedItems.Included.length!==s?r.SelectedItems.Included[0]:p,f=!t.isNullOrUndefined(r.SelectedItems.Included)&&r.SelectedItems.Included.length!==s?r.SelectedItems.Included[1]:a);u.isDate?(y.option("minDate",new Date(p.replace("-"," ","g"))),y.option("maxDate",new Date(a.replace("-"," ","g"))),y.option("dateValue",u.sliderType==="RANGE"?[new Date(c.replace("-"," ","g")),new Date(f.replace("-"," ","g"))]:new Date(f.replace("-"," ","g")))):(y.option("minValue",parseInt(p)),y.option("maxValue",parseInt(a)),u.sliderType==="RANGE"?y.option("values",[parseInt(c),parseInt(f)]):y.option("value",parseInt(f)));bt=h.attr("id");kt=r.SelectedFilterInfo.length===t.DashboardConstants.Zero;this._isSliderHasFilter(bt,kt)}n("#"+h.attr("id")+"_wrapper").addClass("rangeslider_wrapper");v=n("#leftcontainer_"+u.Id);l=n("#rightcontainer_"+u.Id);u.sliderType==="RANGE"?(v.children("label").html(u.FormattedColumn!==null?this._applyFormattingForSlider(u.FormattedColumn,c):c),l.children("label").html(u.FormattedColumn!==null?this._applyFormattingForSlider(u.FormattedColumn,f):f)):l.children("label").html(u.FormattedColumn!==null?this._applyFormattingForSlider(u.FormattedColumn,f):f)},_setRangeSliderConfigInfo:function(n){n.configInfo.sliderType=t.isNullOrUndefined(n.configInfo.sliderType)?"RANGE":n.configInfo.sliderType;n.configInfo.orientation=t.isNullOrUndefined(n.configInfo.orientation)?"HORIZONTAL":n.configInfo.orientation;n.configInfo.isDate=!t.isNullOrUndefined(n.configInfo.isDate)&&n.configInfo.isDate;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.FormattedColumn=t.isNullOrUndefined(n.configInfo.FormattedColumn)?null:n.configInfo.FormattedColumn;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;!t.isNullOrUndefined(n.configInfo.FormattedColumn)&&t.isNullOrUndefined(n.configInfo.FormattedColumn.unit)&&(n.configInfo.FormattedColumn.unit=t.DashboardConstants.Zero);n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.dateformat=t.isNullOrUndefined(n.configInfo.dateformat)?"":n.configInfo.dateformat;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns},_applyFormattingForSlider:function(n,i){var r,u;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(r="",t.preferredCulture(n.culture),u=t.globalize.parseFloat(i.toString(),n.culture),isNaN(u))return i;if(u<0){u=Math.abs(u);u=n.unit===t.DashboardConstants.Zero?this._truncateNumber(u):this._applyNumberUnit(n.unit,u);r=this._adjustZeros(u,n.unit,n.format,n.culture);t.isNullOrUndefined(n.decimalSeparator)||t.isNullOrUndefined(n.groupSeparator)||(r=r.replaceAll(n.decimalSeparator.CurrentValue,n.decimalSeparator.AliasValue),r=r.replaceAll(n.groupSeparator.CurrentValue,n.groupSeparator.AliasValue));switch(n.negativeValueFormat){case"Default":r="-"+r;break;case"NoNegativeSignWithBracket":r="("+r+")";break;case"NegativeSignInSuffix":r+="-"}}else u=n.unit===t.DashboardConstants.Zero?this._truncateNumber(u):this._applyNumberUnit(n.unit,u),r=this._adjustZeros(u,n.unit,n.format,n.culture),t.isNullOrUndefined(n.decimalSeparator)||t.isNullOrUndefined(n.groupSeparator)||(r=r.replaceAll(n.decimalSeparator.CurrentValue,n.decimalSeparator.AliasValue),r=r.replaceAll(n.groupSeparator.CurrentValue,n.groupSeparator.AliasValue));return n.prefix+r+n.suffix}return null},_initializeSlider:function(i){var u=24,r=60,f=1e3,e=t.Slider.prototype._init,o=t.Slider.prototype._setModel;n.extend(!0,t.Slider.prototype,{defaults:{minDate:null,maxDate:null,dateValue:null},_init:function(){if(this._isDate=this.model.minDate&&this.model.maxDate,this._isDate){this.model.incrementStep=u*r*r*f;this.model.minValue=Number(this.model.minDate);this.model.maxValue=Number(this.model.maxDate);var n=this.model.dateValue;n&&(this.model.sliderType==="range"?this.values([Number(n[0]),Number(n[1])]):this.value(Number(n)))}e.call(this)},_setModel:function(n){o.call(this,n);for(var t in n)if({}.hasOwnProperty.call(n,t))switch(t){case"minDate":this.option("minValue",Number(n[t]));break;case"maxDate":this.option("maxValue",Number(n[t]));break;case"dateValue":this._setDateValue(n[t])}},setValue:function(n,t){var i=n?Number(n):Number(this.model.minValue),r=t?Number(t):Number(this.model.minValue);this.model.sliderType==="range"?this._validateRangeValue([i,r]):this._validateValue(i)},_setDateValue:function(n){n&&(this.model.sliderType==="range"&&this.setValue(n[0],n[1]),this.setValue(n))},_updateModelValue:function(){var n=this._getHandleValue(!0);this.model.sliderType==="range"?this.values(n):this.value(n);this._hidden.val(this._getHandleValue())},_getHandleValue:function(n){return this.model.sliderType==="range"?[this._convertToDate(this.handleVal2,n),this._convertToDate(this.handleVal,n)]:this._convertToDate(this.handleVal,n)},_convertToDate:function(n,r){var u=null;return r||!this._isDate?n:(u=new Date(n),t.globalize.format(u,i))}})},_renderPage:function(t,i,r,u,f){for(var o,l,s,h,e=this._calculateCheckBoxSize(i,r,t),a=n("<table style='height: initial;'>").attr({cellspacing:3,cellpadding:3}),v=e.RowCount,y=e.ColumnCount,c=0;c<v;c++){for(o=n("<tr>"),l=v*(u-1)+c,o.attr({id:f+"_child_row_"+l}),s=0;s<y;s++)h=n("<td style='height:29px;padding-left:3px;padding-right:3px;padding-top:0px;padding-bottom:0px'>"),h.attr({id:f+"_child_column_"+(l*y+s)}),o.append(h),h.attr({align:"left"});a.append(o)}return{table:a,rowCount:e.RowCount,colCount:e.ColumnCount}},_addCheckbox:function(i,r,u,f,e){var o=0,v=1,d=i.find("td"),rt=i.find("tr"),l=u.currentPage,ot=u.getPageDataBypage(l),st=ot.pagedata,y=[],p=null,ut=e,w=!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>o&&(!t.isNullOrUndefined(u.SelectedFilterInfo[0].DimensionFilterInfo)||!t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)),ft,b,a,h,s,nt,k,tt,it;for(w?(this.currentTabContentElement.find("#"+f+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),this.currentTabContentElement.find("#"+f).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(this.currentTabContentElement.find("#"+f+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),this.currentTabContentElement.find("#"+f).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})),!t.isNullOrUndefined(u.SelectedFilterInfo)&&u.SelectedFilterInfo.length>o&&(t.isNullOrUndefined(u.SelectedFilterInfo[0].DimensionFilterInfo)||u.SelectedFilterInfo[0].DimensionFilterInfo.Text.length===o?t.isNullOrUndefined(u.SelectedFilterInfo[0].DateFilterInfo)||u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length===o||(y=u.SelectedFilterInfo[0].DateFilterInfo.DateFilterList,p=u.SelectedFilterInfo[0].DateFilterInfo.Action):(y=u.SelectedFilterInfo[0].DimensionFilterInfo.Text,p=u.SelectedFilterInfo[0].DimensionFilterInfo.Conditions)),!r.ShowAll||w||r.ShowAsRadioButton||(ft=i.find("#"+f+"_child_column_0"),b=ft.find("#"+f+"_0_chkbx"),b.length>o&&!t.isNullOrUndefined(b.attr("userunchecked"))&&(ut=b.attr("userunchecked")==="false")),a=u.scrollSetting.controlPerPage,h=0;h<a;h++)if(s=st[h],s){var et=n("<div>").addClass(r.ShowAsRadioButton?"e-dbrd-radiobtn-container":"e-dbrd-checkbox-container").css({"margin-left":"5px"}),g=f+"_"+((l-v)*a+h)+"_chkbx",c=null;c=r.ShowAsRadioButton?n("<input type='radio'>").attr({id:g,name:r.Id}):n("<input type='checkbox'>").attr({id:g,name:r.Id});nt=n("<label>").attr({"for":g}).html(s.text);k=d.eq(h).width();k<=o&&(k=170);nt.css({"max-width":k-30+"px","padding-left":"5px",color:"#5b5b5b","font-weight":"normal","font-size":"14px","vertical-align":"text-top"});et.append(c,nt);i.find("#"+f+"_child_column_"+((l-v)*a+h)).html("");i.find("#"+f+"_child_column_"+((l-v)*a+h)).append(et);r.ShowAsRadioButton?c.ejDashboardRadioButton({checked:w?this._getCheckBoxSelectionState(y,s.value,p,r.ShowAsRadioButton,f,l,r.DateTimeColumns):u.totalCount===v?!0:s.text===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All),size:"medium",value:s.value,change:r.IsMasterFilter||r.IsLinked?n.proxy(this._loadCheckBoxSlaves,this,r.Id,!0,f,r.IsLinked?r.ControlLinkData:null,r.IsMasterFilter,r.DateTimeColumns):null}):c.ejDashboardCheckBox({checked:w?this._getCheckBoxSelectionState(y,s.value,p,r.ShowAsRadioButton,r.DateTimeColumns):ut,value:s.value,size:"small",change:r.IsMasterFilter||r.IsLinked?n.proxy(this._loadCheckBoxSlaves,this,r.Id,!1,f,r.IsLinked?r.ControlLinkData:null,r.IsMasterFilter,r.DateTimeColumns):null});c.parent().attr("tabindex","-1").addClass("e-multiple-series");!r.ShowAsRadioButton&&s.text===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.SelectAll:this.locale.utils.SelectAll)&&u.SelectedItems.Included.length>o&&c.attr("userunchecked",!0)}return tt=0,it=0,d.length!==o&&(it=d.eq(o).width()),rt.length!==o&&(tt=rt.eq(o).height()),{widthOfColumn:it,heightOfColumn:tt}},_renderCheckBoxandRadioButton:function(i,r){var p=0,d=-1,g=100,f=i.configInfo,c=null,s=i.getCurrentPageData(),e=null,o=null,l,u,b,v,tt,k,it,rt,ut,ft,et,ot,st,y,h;if(this.sfType==="ej.DashboardViewer"&&this._isFilterPanelWidget(i.configInfo.Id)?(l=(f.IsGlobalFilter?this._getGlobalFilterId(f.IsGlobalFilter)+"_cell_":this._id+"_filter_panel_cell_")+f.Row+"_"+f.Column,e=t.isNullOrUndefined(this.currentTabContentElement.find("#"+l))?n("#"+l):this.currentTabContentElement.find("#"+l),o=f.IsGlobalFilter?this._getGlobalFilterId(f.IsGlobalFilter):this._id+"_filter_panel"):(o=this._getGlobalFilterId(f.IsGlobalFilter),e=t.isNullOrUndefined(this.currentTabContentElement.find("#"+o+"_cell_"+f.Row+"_"+f.Column))?n("#"+o+"_cell_"+f.Row+"_"+f.Column):this.currentTabContentElement.find("#"+o+"_cell_"+f.Row+"_"+f.Column)),u=e.find(".e-dbrd-control"),s.isError){u.attr({"data-controlId":f.Id});e.find(".e-dbrd-control").attr({id:o+t.DashboardConstants.Widget+f.Id});this._showControlError(s.pagedata,u,f);return}if(e.find(".e-dbrd-control").attr({id:""}),this._hideControlError(u),t.isNullOrUndefined(r)?(c=o+t.DashboardConstants.Widget+f.Id,u.attr({id:c}).addClass("e-dbrd-canvas").css({"overflow-y":"hidden","overflow-x":"hidden"}),e.find(".e-remove-control-filter").attr({id:c+"_removeControlFilter"}),e.attr({"data-controlType":"CheckBox","data-controlId":f.Id}),u.attr({"data-controlId":f.Id}).addClass("e-multiple-parent"),u.addClass(f.ShowAsRadioButton?"e-dbrd-control-radiobtn":"e-dbrd-control-checkbox").prop({"data-column":f.ColumnName})):u=r.cardDiv,!t.isNullOrUndefined(u)&&u.height()>60){if(!this._applyOrRemoveNoDataAvailable(s.pagedata.length,u))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(s.pagedata.length,u))return;var w=u.attr("id"),a=null,nt=!0;if(i.loadedPages.length===p){if(u.find(".e-radiobutton.e-js.e-input")||u.find(".e-checkbox.e-js.e-input"))try{f.ShowAsRadioButton?t.widget.destroyAll(u.find(".e-radiobutton.e-js.e-input")):(b=u.find(".e-checkbox.e-js.e-input"),nt=t.isNullOrUndefined(n(b[0]).attr("userunchecked"))||n(b[0]).attr("userunchecked")==="false",t.widget.destroyAll(u.find(".e-checkbox.e-js.e-input")))}catch(ht){console.info("An error occured while clearing check box items")}u.html("");i.loadedPages.indexOf(i.currentPage)===d&&i.loadedPages.push(i.currentPage);v=this._renderPage(u,i.totalCount,s.pagedata,i.currentPage,w,i);a=v.table;i.scrollSetting.rowPerPage=v.rowCount;i.scrollSetting.colPerPage=v.colCount;i.totalCount>g?(i.scrollSetting.controlPerPage=g,i.totalPages=Math.ceil(i.totalCount/i.scrollSetting.controlPerPage),s.pagedata.length=i.scrollSetting.controlPerPage):(i.scrollSetting.controlPerPage=i.totalCount,i.totalPages=1);tt=n("<div>").width(u.width()-10);u.append(tt.append(a));u.data("ejDashboardScroller")&&u.ejDashboardScroller("destroy");k=u.parents(".e-dbrd-control-container").height()-u.parents(".e-dbrd-control-container").find(".e-control-heading").height();u.ejDashboardScroller({height:k-5,scrollerSize:13});i.scrollSetting.visibleHeight=k;u.data("ejDashboardScroller").option("scrollTop",i.scrollSetting.scrollTop)}else it=0,rt=0,i.currentPage===i.totalPages&&u.data("ejDashboardScroller").refresh(),i.loadedPages.indexOf(i.currentPage)===d&&(i.loadedPages.push(i.currentPage),ut={controlId:w,previousPage:it,nextPage:rt,data:i,heightofColumn:"29"},this._renderRowsOndemand(ut));if(a=u.find("table"),ft=this._addCheckbox(a,f,i,w,nt),i.scrollSetting.widthOfColumn=ft.widthOfColumn,et=i.getPageDataBypage(i.currentPage),et.pagedata.length>1&&(u.data("ejDashboardScroller").refresh(),u.data("ejDashboardScroller").option("scrollTop",i.scrollSetting.scrollTop)),i.currentPage===i.totalPages){for(ot=Math.ceil(i.totalCount/i.scrollSetting.colPerPage),st=i.scrollSetting.rowPerPage*i.totalPages,y=ot;y<st;y++)h=n("#"+c+"_child_row_"+y),t.isNullOrUndefined(h)||h.find(".e-dbrd-checkbox-container").length!==p&&h.find(".e-dbrd-radiobtn-container").length!==p||h.remove();u.data("ejDashboardScroller").refresh();u.data("ejDashboardScroller").option("scrollTop",i.scrollSetting.scrollTop)}},_setChkboxConfigInfo:function(n){n.configInfo.ShowAsRadioButton=!t.isNullOrUndefined(n.configInfo.ShowAsRadioButton)&&n.configInfo.ShowAsRadioButton;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.ShowAll=t.isNullOrUndefined(n.configInfo.ShowAll)||n.configInfo.ShowAll;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns},_renderListBox:function(i,r){var y=0,bt=-1,b=1,s=null,u=null,v=null,at=null,o=null,k=null,it=null,h=0,e=0,a=0,l=null,rt=!0,p=this,ut=null,g=null,nt=!1,f,kt,w,dt,ti,et,vt,ot,ii,st,ht,yt,pt,lt,d;if(u=i.configInfo,at=i.getCurrentPageData(),f=this.dashboardControls.getControlByReport(u.Id),kt=JSON.parse(JSON.stringify(this.dashboardParameters)),s=at.pagedata,w=this._getGlobalFilterId(u.IsGlobalFilter),at.isError){dt=w+t.DashboardConstants.Widget+u.Id;it=n("#"+w+"_cell_"+u.Row+"_"+u.Column).find(".e-dbrd-control");it.attr({"data-controlId":u.Id,id:dt});this._showControlError("",it,u);return}it=n("#"+w+"_cell_"+u.Row+"_"+u.Column).find(".e-dbrd-control");this._hideControlError(it);var c=[],gt=!1,tt=200,ri=400,ui=(new t.UrlAdaptor).extend({beforeSend:function(i,r){var e,u,f;if(p.sfType==="ejDashboard.DashboardFilterPanel"&&(p=n("#"+p.dashboardElement).data("ejDashboardViewer")),p.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(e=p.requestHeaders.customHeaders.length,u=t.DashboardConstants.Zero;u<e;u++)f=p.requestHeaders.customHeaders[u],r.setRequestHeader(f.Key,f.Value);r.setRequestHeader("X-Sync-Header",JSON.stringify(p.requestHeaders.customHeaders))}},viewerObj:p,listboxId:w+t.DashboardConstants.Widget+u.Id,processResponse:function(t,i,r,u,f,e){var o,s;return t=this.viewerObj._processResponseMessage(t),o=n("#"+this.listboxId+"_lstbx").data("ejDashboardListBox"),t.d=JSON.parse(t.d[0].Value[0].value),s=o.model.showCheckbox?o._listitems:o.listitem,t.d.length<tt?o.model.totalItemsCount=s.length+t.d.length:(o.model.totalItemsCount=s.length+ri,o._oldStartValue=s.length+tt),this.base.processResponse.apply(this,[t,i,r,u,f,e])}}),ni=this.model.enableVirtualLoading?t.DataManager({url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,serverUrl:this.serverUrl(),adaptor:new ui}):s,ft=(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",u.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("listboxRowCount",JSON.stringify(f.totalCount)).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("isWebDesigner",this.model._isWebDesigner).addParams("filterParameters",this.initialFilters!==null?JSON.stringify(this.initialFilters):null).addParams("isPublic",this.isPublicDashboard).addParams("isUnlisted",this.isUnlistedDashboard).addParams("unlistedCode",this.unlistedCode).addParams("itemId",this.itemId).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("dateFormat",this.model.localeSettings.timeFormat).addParams("customCulture",this.model.localeSettings.culture).addParams("dashboardName",this.dashboardName).addParams("methodName",this.model.serviceMethods.getControlDataOnDemand).addParams("serverUrl",this.serverUrl()).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(kt)));if(!t.isNullOrUndefined(this.masterData))for(ti=this.masterData.length,a=0;a<ti;a++)this.masterData[a].Key===u.Id&&(ut=this.masterData[a].Filter,gt=!0);if(gt||(ut="Exclude"),et=n("#"+w+t.DashboardConstants.Widget+u.Id+"_lstbx"),vt=!1,!t.isNullOrUndefined(et)&&et.length>t.DashboardConstants.Zero&&(vt=n(et).attr("data-isuserunselect")==="true"),ot=s.length,f.SelectedFilterInfo.length!==y||vt){for(ii=f.SelectedFilterInfo.length,h=0;h<ii;h++)if(f.SelectedFilterInfo[h].DateFilterInfo!==null&&f.SelectedFilterInfo[h].DateFilterInfo.DateFilterList.length!==0){if(st=f.SelectedFilterInfo[h].DateFilterInfo.DateFilterList.length,f.SelectedFilterInfo[h].DateFilterInfo.Action===y){if(f.SelectedFilterInfo.length===b)for(e=0;e<st;e++)g=this._getItemIndex(s,f.SelectedFilterInfo[h].DateFilterInfo.DateFilterList[e]),g!==bt&&c.push(g);else if(f.SelectedFilterInfo.length!==y)for(e=0;e<st;e++)for(l=0;l<s.length;l++)s[l].text===f.SelectedFilterInfo[y].DateFilterInfo.DateFilterList[e]&&(s[l].id===f.SelectedFilterInfo[b].DateFilterInfo.DateFilterList[e]||s[l].id===f.SelectedFilterInfo[b].DimensionFilterInfo.Text[e])&&c.push(l)}else if(f.SelectedFilterInfo[h].DateFilterInfo.Action===b)for(e=1;e<ot;e++){for(nt=!1,a=0;a<st;a++)if(f.SelectedFilterInfo[h].DateFilterInfo.DisplayDateFilterList[a]===s[e].id){c.includes(e)&&c.splice(c.indexOf(e),b);nt=!0;break}nt||c.push(e)}}else if(f.SelectedFilterInfo[h].DimensionFilterInfo)if(ht=f.SelectedFilterInfo[h].DimensionFilterInfo.Text.length,f.SelectedFilterInfo[h].DimensionFilterInfo.Conditions===4){if(f.SelectedFilterInfo.length===b)for(e=0;e<ht;e++)g=this._getItemIndex(s,f.SelectedFilterInfo[h].DimensionFilterInfo.Text[e]),g!==bt&&c.push(g);else if(f.SelectedFilterInfo.length!==y)for(e=0;e<ht;e++)for(l=0;l<s.length;l++)s[l].text===f.SelectedFilterInfo[y].DimensionFilterInfo.Text[e]&&(s[l].id===f.SelectedFilterInfo[b].DimensionFilterInfo.Text[e]||s[l].id===f.SelectedFilterInfo[b].DateFilterInfo.DateFilterList[e])&&c.push(l)}else if(f.SelectedFilterInfo[h].DimensionFilterInfo.Conditions===5)for(e=1;e<ot;e++){for(nt=!1,a=0;a<ht;a++)if(f.SelectedFilterInfo[h].DimensionFilterInfo.Text[a]===s[e].id){c.includes(e)&&c.splice(c.indexOf(e),b);nt=!0;break}nt||c.push(e)}}else for(h=0;h<ot;h++)c.push(h);if(yt=100,n("#"+w+t.DashboardConstants.Widget+u.Id+"_lstbx").data("ejDashboardListBox")){if(v=this.currentTabContentElement.find("#"+w+t.DashboardConstants.Widget+u.Id+"_lstbx"),o=v.closest(".e-dbrd-control-listbox"),k=o.parents("td"),pt=v.data("ejDashboardListBox"),!t.isNullOrUndefined(o)&&o.height()>60){if(!this._applyOrRemoveNoDataAvailable(s.length,o))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(s.length,o))return;if(pt){pt.destroy();var wt=u.MultiSelect,ct=this.model.enableVirtualLoading,fi=ct?[]:c,ei=s.length+(s.length<yt?t.DashboardConstants.Zero:tt),oi=ct?n.proxy(this.listBoxActionBeforeSuccess,this,o.find("ul"),u.Id):null,si=ct?n.proxy(this.listBoxActionComplete,this,o.find("ul"),u.Id):null,hi=u.Id,ci=o.width().toString()+"px",li=o.height().toString(),ai=!t.isNullOrUndefined(f.SelectedFilterInfo)&&f.SelectedFilterInfo.length>y&&!u.MultiSelect?c[0]:null,vi=wt?n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,v[0].id,u.ColumnName,u.MultiSelect,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,o[0].id):null,yi=wt?null:n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,v[0].id,u.ColumnName,!1,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,o[0].id);o.find("ul").ejDashboardListBox({dataSource:ni,showCheckbox:wt,allowVirtualScrolling:!0,fields:{id:"id",value:"value",text:"text"},checkedIndices:fi,totalItemsCount:ei,virtualScrollMode:"continuous",itemRequestCount:tt,query:ft,actionBegin:ct?function(n){rt=p._listBoxActionBegin(this,n,rt,f.totalCount,o.find("ul"),s,ft,c,ut)}:null,actionBeforeSuccess:oi,actionComplete:si,name:hi,width:ci,height:li,checkChange:vi,selected:yi,selectedItemIndex:ai})}else v=null;!t.isNullOrUndefined(f.SelectedFilterInfo)&&f.SelectedFilterInfo.length>y?(n("#"+o.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").attr("tabindex","0").removeClass("e-remove-control-filter-disable"),n("#"+o.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+o.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-disable").attr("tabindex","0").removeClass("e-remove-control-filter-enable"),n("#"+o.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));return}if(v===null&&(v=w+t.DashboardConstants.Widget+u.Id,k=this.currentTabContentElement.find("#"+w+"_cell_"+u.Row+"_"+u.Column),o=k.find(".e-dbrd-control").removeAttr("tabindex"),o.attr({id:v}).addClass("e-dbrd-canvas").css({"overflow-y":"hidden","overflow-x":"hidden"}),k.find(".e-remove-control-filter").attr({id:v+"_removeControlFilter"}),k.attr({"data-controlType":r?"FilterComboBox":"ListBox","data-controlId":u.Id}),o.attr({"data-controlId":u.Id}),o.addClass("e-dbrd-control-listbox").prop({"data-column":u.ColumnName})),lt=v+"_lstbx",d=n("<ul>").attr({id:lt}).addClass("dashboardListBox").css({width:"100%"}),o.append(d),!t.isNullOrUndefined(o)&&o.height()>60){if(!this._applyOrRemoveNoDataAvailable(s.length,o))return}else if(!this._applyOrRemoveNoDataAvailableForFilters(s.length,o))return;!t.isNullOrUndefined(f.SelectedFilterInfo)&&f.SelectedFilterInfo.length>y&&(k.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),k.find(".e-dbrd-control-container").data({IsFilterApplied:!0}));t.support.stableSort=!1;d.ejDashboardListBox({dataSource:ni,showCheckbox:u.MultiSelect,allowVirtualScrolling:!0,fields:{id:"id",value:"value",text:"text"},checkedIndices:this.model.enableVirtualLoading?[]:c,totalItemsCount:s.length+(s.length<yt?t.DashboardConstants.Zero:tt),virtualScrollMode:"continuous",itemRequestCount:tt,query:ft,actionBegin:this.model.enableVirtualLoading?function(n){rt=p._listBoxActionBegin(this,n,rt,f.totalCount,d,s,ft,c,ut)}:null,actionBeforeSuccess:this.model.enableVirtualLoading?n.proxy(this.listBoxActionBeforeSuccess,this,d,u.Id):null,actionComplete:this.model.enableVirtualLoading?n.proxy(this.listBoxActionComplete,this,d,u.Id):null,name:u.Id,width:o.width().toString()+"px",height:o.height().toString(),checkChange:u.MultiSelect?n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,lt,u.ColumnName,u.MultiSelect,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,o[0].id):null,selected:u.MultiSelect?null:n.proxy(this._loadListBoxSlaves,this,u.HiddenDateTimeColumns,u.Fieldscount,u.HiddenColumnName,u.Id,lt,u.ColumnName,!1,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,u.DateTimeColumns,o[0].id),selectedItemIndex:!t.isNullOrUndefined(f.SelectedFilterInfo)&&f.SelectedFilterInfo.length>y&&!u.MultiSelect?c[0]:null});d.find(".e-ddl-popup").attr("tabindex","-1")},_setListBoxConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.HiddenColumnName=t.isNullOrUndefined(n.configInfo.HiddenColumnName)?null:n.configInfo.HiddenColumnName;n.configInfo.MultiSelect=!t.isNullOrUndefined(n.configInfo.MultiSelect)&&n.configInfo.MultiSelect;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.dd_master)||n.configInfo.IsMasterFilter;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.HiddenDateTimeColumns=t.isNullOrUndefined(n.configInfo.HiddenDateTimeColumns)?[]:n.configInfo.HiddenDateTimeColumns;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.Fieldscount=t.isNullOrUndefined(n.configInfo.Fieldscount)?t.DashboardConstants.One:n.configInfo.Fieldscount;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName},_getItemIndex:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].id===t)return i;return-1},_listBoxActionBegin:function(i,r,u,f,e,o,s,h,c){for(var l=0,a=r.model.query._params.length,l=0;l<a;l++)r.model.query._params[l].key==="masterData"?r.model.query._params[l].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData()):r.model.query._params[l].key==="currentUser"?r.model.query._params[l].value=JSON.stringify(this.currentUser):r.model.query._params[l].key==="filterParameters"&&(r.model.query._params[l].value=this.initialFilters!==null?JSON.stringify(this.initialFilters):null);return u?(r.cancel=!0,i.model.query=s,i.mergeData(o,!0),i._changeEvent=t.isNullOrUndefined(i.model)?"":i.model.checkChange,e.ejDashboardListBox({checkedIndices:h}),n(e).attr("data-isuserunselect",c==="Include"),!1):!1},listBoxActionComplete:function(t){var i=n(t).data("ejDashboardListBox");i.model.checkChange=i._changeEvent},listBoxActionBeforeSuccess:function(i,r,u){var h=n(i).data("ejDashboardListBox"),f=0,e=0,o,a,s,c,l,v;if(h._changeEvent=h.model.checkChange,h.model.checkChange=null,o=null,!t.isNullOrUndefined(this.masterData))for(a=this.masterData.length,s=0;s<a;s++)this.masterData[s].Key===r&&(o=this.masterData[s].Value[0].Items);if(c=u.result.length,n(i).attr("data-isuserunselect")==="true"){for(f=0;f<c;f++)if(o!==null){for(v=o.length,e=0;e<v;e++)if(u.result[f].text===o[e].Value){u.result[f].checkBy=!0;break}u.result[f].checkBy=!1}}else for(f=0;f<c;f++)if(o!==null){if(l=o.length,l>0)for(e=0;e<l;e++)if(u.result[f].text===o[e].Value){u.result[f].checkBy=!1;break}else u.result[f].checkBy=!0}else u.result[f].checkBy=!0},_selectGivenDates:function(n,i,r){var f,u;if(!t.isNullOrUndefined(r))for(f=n.length,u=0;u<f;u++)if(this.getDateInFormat(r.date)===n[u]){r.element.addClass("e-available-date").removeClass("e-disable");r.element.css({color:i?"white":"black"});break}else r.element.removeClass("e-disable").addClass("e-unavailable-date")},getDateInFormat:function(n){var u=10,r=new Date(n),t=r.getDate(),i=r.getMonth()+1,f=r.getFullYear();return t<u&&(t="0"+t),i<u&&(i="0"+i),t+"/"+i+"/"+f},_calculateCheckBoxSize:function(n,t,i){for(var h,o=0,c=190,r=1,u=0,e=t.length,f=0,s=0;s<e;s++)h=this._measureText(t[s],100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+23,h>f&&(f=h);return f+=i.attr("data-controlid").indexOf("RadioButton")!==-1?15:10,f>c&&(f=c),r=Math.floor((i.width()-17)/f),r<=o&&(r=1),e<r&&(r=e),u=Math.ceil(e/r),u<=o&&(u=1),u<=o&&(u=1),{ColumnCount:Math.round(r),RowCount:Math.round(u)}},_getCheckBoxSelectionState:function(n,i,r,u,f){var c=0,e=0,o=r,s,l,h,a,v;if((o===c||o===4)&&(o="Include"),!u){if(typeof n!="undefined"&&n.length>c){if(i===(t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.SelectAll:this.locale.utils.SelectAll)||(s=n.length>c,l=!s,l))return!1;for(h=s?n:[],a=h.length,e=0;e<a;e++)if(f!==null){if(s=o!=="Include",h[e]===i)return o==="Include"}else if(s=o!=="Include",h[e]===i)return o==="Include";return s===!0}return!0}for(v=n.length,e=0;e<v;e++)if(n[e]===i)return!0;return!1},_checkSelection:function(t){var i=0,u=n("#"+t),r=n("#"+t+"_popup").find(".e-content .e-ul .e-checkbox").eq(i).data("ejDashboardCheckBox");r.model.checkState==="check"&&u.data("ejDashboardDropDownList").model.selectedItems[0]===i&&r.option("enableTriState",!1)},_onDatePickerChange:function(i,r,u){for(var o,v,l,s,w,f=this._getViewerObj(i),y=0,e=[],c=null,a=null,p=null,b=f.controlRelations.length,h=0;h<b;h++)if(f.controlRelations[h].Master===i){a=f._getMasterElementName(f.controlRelations[h].Master);c=f.controlRelations[h].Slaves;break}if(o=f.dashboardControls.getControlByReport(i),o.SelectedItems.Included=[],o.SelectedFilterInfo=[],!t.isNullOrUndefined(u)&&(t.isNullOrUndefined(u.selectedRange)?u.datePickerType==="single"?e.push(u.value):(e.push(u.selectedValues.start),e.push(u.selectedValues.end)):(e.push(u.selectedRange),t.isNullOrUndefined(u.selectedValues)||(e.push(u.selectedValues.start),e.push(u.selectedValues.end))),!t.isNullOrUndefined(r))){f._controlNavigate(r,[]);return}if(f.model.enableVirtualLoading&&(c===null||c.length===y)){p=f._checkFilterOverviewData(i);f._addFilterDataToTitle(p);return}v=o.configInfo.ColumnName;e.length>y&&(l=f._checkFilterInfo(v,o.SelectedFilterInfo),t.isNullOrUndefined(l)||l===-1?(s=new selectedFilterInfo,s.UniqueColumnName=v,s.DateFilterInfo.DateFilterList=e,s.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange,s.DateFilterInfo.DateFilterType="Exact",s.ReportName=o.reportName,o.SelectedFilterInfo.push(s)):o.SelectedFilterInfo[l].DateFilterInfo.DateFilterList=e);w={master:i,masterData:f.masterData,slaves:c,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};f._makeSlaveDataRequest(w);t.isNullOrUndefined(u)||(n("#"+a+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+a).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},_onRangeSliderChange:function(n,i,r,u,f,e,o,s){var h=this._getViewerObj(n),k=0,d=-1,g=!1,nt=h.controlRelations.length,v,w,it,b,y,a,rt,ut;if(nt!==k&&(t.isNullOrUndefined(s)||s.isInteraction)){var p=null,tt=null,c=[],l=null;if(!t.isNullOrUndefined(s)&&(s.model.sliderType==="minrange"?(c.push(s.model.minDate!==null?f.RangeStart:s.model.minValue),c.push(s.value)):(c.push(s.value[0]),c.push(s.value[1])),h.updateValues(u,n,s),l=h.dashboardControls.getControlByReport(n),l.SelectedItems.Included=c,!t.isNullOrUndefined(r))){h._controlNavigate(r,[]);return}for(v=0;v<nt;v++)if(h.controlRelations[v].Master===n){if(p=h.controlRelations[v].Slaves,h.model.enableVirtualLoading&&(p===null||p.length===k)){tt=h._checkFilterOverviewData(n);h._addFilterDataToTitle(tt);return}if(w=h.model.enableVirtualLoading?h._checkMasterData(n):null,w!==null){if(it=h.masterData[w],b=it.Value[0].Items,s.model.sliderType==="minrange"){if(b[0].Value===s.value)return}else if(b[0].Value===s.value[0]&&b[1].Value===s.value[1])return;h.masterData.splice(w,1)}t.isNullOrUndefined(s)||(s.model.sliderType!=="minrange"&&s.model.minValue===s.value[0]&&s.model.maxValue===s.value[1]||s.model.sliderType!=="minrange"&&t.globalize.format(s.model.minDate,o.dateformat)===s.value[0]&&t.globalize.format(s.model.maxDate,o.dateformat)===s.value[1]||s.model.sliderType==="minrange"&&s.model.maxValue===s.value||s.model.sliderType==="minrange"&&t.globalize.format(s.model.maxDate,o.dateformat)===s.value)&&(g=!0,l.SelectedFilterInfo.push(new selectedFilterInfo),l.SelectedFilterInfo=[],c=[]);c.length>k&&!(s.model.minValue===s.value[0]&&s.model.maxValue===s.value[1])&&(y=h._checkFilterInfo(i,l.SelectedFilterInfo),t.isNullOrUndefined(y)||y===d?(a=new selectedFilterInfo,a.UniqueColumnName=i,a.ReportName=l.reportName,t.isNullOrUndefined(e)||e.indexOf(i.toUpperCase())===d?(a.MeasureFilterInfo.Conditions="IsBetween",a.MeasureFilterInfo.Values=c):(a.DateFilterInfo.DateFilterList=c,a.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange),l.SelectedFilterInfo.push(a)):t.isNullOrUndefined(e)||e.indexOf(i.toUpperCase())===d?l.SelectedFilterInfo[y].MeasureFilterInfo.Values=c:l.SelectedFilterInfo[y].DateFilterInfo.DateFilterList=c);rt={master:n,masterData:h.masterData,slaves:p,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};h._makeSlaveDataRequest(rt);t.isNullOrUndefined(s)||(ut=h._getGlobalFilterId(l.configInfo.IsGlobalFilter)+t.DashboardConstants.Widget+n,h._isSliderHasFilter(ut,g));break}}},_isSliderHasFilter:function(t,i){i?(n("#"+t+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+t).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+t+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+t).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))},_onSlideChange:function(n,t,i){this.updateValues(n,t,i)},updateValues:function(i,r,u){t.isNullOrUndefined(u)||(u.model.sliderType==="range"&&u.value.length===2?(n("#leftcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value[0]):u.value[0]),n("#rightcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value[1]):u.value[1])):u.model.sliderType!=="minrange"||t.isNullOrUndefined(u.value)||n("#rightcontainer_"+r).children("label").html(i!==null?this._applyFormattingForSlider(i,u.value):u.value))},_loadListBoxSlaves:function(i,r,u,f,o,s,h,c,l,a,v,y){var k=this._getViewerObj(o),w=0,dt=-1,ft=1,at=4,vt=5,st,ht,bt,kt,g,ct,lt;if(k.controlRelations.length!==w||!t.isNullOrUndefined(c)){var b=n("#"+o).ejDashboardListBox("instance"),ot=t.isNullOrUndefined(b.model)?"":b.model.checkChange,nt=[],it=[],yt=[],d="",ut="",rt=null,et=0,tt=0,p=k.dashboardControls.getControlByReport(f);if(h){if(!t.isNullOrUndefined(y))if(y.text===(t.isNullOrUndefined(k.locale.utils)?t.DashboardConstants.All:k.locale.utils.All))y.event.isChecked?(b.model.checkChange=null,b.checkAll(),b.model.checkChange=ot,n("#"+o).attr("data-isuserunselect",!1)):(b.model.checkChange=null,b.unCheckAll(),b.model.checkChange=ot,n("#"+o).attr("data-isuserunselect",!0));else{var gt=n("#"+o).children().eq(w).children().attr("aria-checked")==="true",pt=n("#"+o).find(".e-chkbox-wrap.e-widget[aria-checked=true]").length,wt=n("#"+o).find(".e-chkbox-wrap.e-widget[aria-checked=false]").length;gt?pt-=ft:wt-=ft;wt>w?(b.model.checkChange=null,b.uncheckItemByIndex(w),b.model.checkChange=ot):(b.model.checkChange=null,b.checkItemByIndex(w),b.model.checkChange=ot);pt===w&&n("#"+o).attr("data-isuserunselect",!0)}if(st=k.currentTabContentElement.find("#"+o+" .e-chkbox-wrap.e-widget[aria-checked=true]"),ht=k.currentTabContentElement.find("#"+o+" .e-chkbox-wrap.e-widget[aria-checked=false]"),n("#"+o).attr("data-isuserunselect")==="true"){for(p.SelectedItems.Included.length=0,p.SelectedItems.Excluded.length=0,bt=st.length,tt=0;tt<bt;tt++)d=st.eq(tt).parent().attr("id"),t.isNullOrUndefined(d)||(ut=st.eq(tt).parent()[0].textContent),d!=="All"&&(nt.push(d),it.push(ut));rt="Include"}else{for(p.SelectedItems.Included.length=0,p.SelectedItems.Excluded.length=0,kt=ht.length,tt=0;tt<kt;tt++)d=ht.eq(tt).parent().attr("id"),t.isNullOrUndefined(d)||(ut=ht.eq(tt).parent()[0].textContent),d!=="All"&&(nt.push(d),it.push(ut));rt="Exclude"}}else d=k.currentTabContentElement.find("#"+o+" .e-select").attr("id"),t.isNullOrUndefined(d)&&!t.isNullOrUndefined(y)&&(d=y.data.id),t.isNullOrUndefined(d)||(ut=k.currentTabContentElement.find("#"+o+" .e-select")[0].textContent,nt.push(d),it.push(ut)),typeof e!="undefined"&&(p.SelectedItems.Included=nt),rt="Include";(yt.push({Items:nt}),t.isNullOrUndefined(c)||(k._controlNavigate(c,yt),l))&&(g=k,k.requestTimer!==null&&clearTimeout(k.requestTimer),ct=null,lt=null,k.requestTimer=setTimeout(function(){var tt=g.controlRelations.length,b,e,k,l,c,h,d;for(et=0;et<tt;et++)if(g.controlRelations[et].Master===f){if(ct=g.controlRelations[et].Slaves,g.model.enableVirtualLoading&&ct.length===w){lt=g._checkFilterOverviewData(o);g._addFilterDataToTitle(lt);return}if(b=g.model.enableVirtualLoading?g._checkMasterData(f):null,b!==null&&g.masterData.splice(b,ft),y!==null&&nt.length!==w)if(p.SelectedFilterInfo.length>w)for(e=null,k=p.SelectedFilterInfo.length,l=0;l<k;l++)(p.SelectedFilterInfo[l].UniqueColumnName.toUpperCase()===s.toUpperCase()||p.SelectedFilterInfo[l].UniqueColumnName.toUpperCase()===u)&&(e=l),t.isNullOrUndefined(e)||e===dt||(!t.isNullOrUndefined(p.SelectedFilterInfo[e].DateFilterInfo)&&p.SelectedFilterInfo[e].DateFilterInfo.DateFilterList.length>w?(p.SelectedFilterInfo[e].DateFilterInfo.DateFilterList=!t.isNullOrUndefined(u)&&e===w?it:nt,p.SelectedFilterInfo[e].DateFilterInfo.DisplayDateFilterList=it,p.SelectedFilterInfo[e].DateFilterInfo.Action=rt==="Include"?w:ft):t.isNullOrUndefined(p.SelectedFilterInfo[e].DimensionFilterInfo)||(p.SelectedFilterInfo[e].DimensionFilterInfo.Text=!t.isNullOrUndefined(u)&&e===w?it:nt),t.isNullOrUndefined(p.SelectedFilterInfo[e].DimensionFilterInfo)||(p.SelectedFilterInfo[e].DimensionFilterInfo.Conditions=rt==="Include"?at:vt,p.SelectedFilterInfo[e].ReportName=p.reportName));else for(c=0;c<r;c++)h=new selectedFilterInfo,h.UniqueColumnName=c===w?s:u,d=c===w?!t.isNullOrUndefined(a)&&a===s.toUpperCase():!t.isNullOrUndefined(i)&&i===u.toUpperCase(),d?(h.DateFilterInfo.DateFilterList=!t.isNullOrUndefined(u)&&c===w?it:nt,h.DateFilterInfo.DisplayDateFilterList=it,h.DateFilterInfo.Action=rt==="Include"?w:ft):h.DimensionFilterInfo.Text=!t.isNullOrUndefined(u)&&c===w?it:nt,h.DimensionFilterInfo.Conditions=rt==="Include"?at:vt,h.ReportName=p.reportName,p.SelectedFilterInfo.push(h);else p.SelectedFilterInfo=[];g._makeSlaveDataRequest({master:f,slaves:ct,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}t.isNullOrUndefined(y)||p.SelectedFilterInfo===null||p.SelectedFilterInfo.length===w?(n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+v+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+v).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));g.requestTimer=null},y===null||!h?w:g.model.interactionSettings.multiSelectionInterval))}},_showListboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"visible"})},_hideListboxScrollhandle:function(t){var i=n(t.currentTarget).find(".e-scrollbar .e-vscroll .e-vhandlespace .e-vhandle");i.css({visibility:"hidden"})},_showListboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"visible"})},_hideListboxScrollbar:function(t){var i=n(t.currentTarget);i.css({visibility:"hidden"})},_checkFilterInfo:function(n,i){var u,r;if(i!==null&&!t.isNullOrUndefined(n))for(u=i.length,r=0;r<u;r++)if(i[r].UniqueColumnName.toUpperCase()===n.toUpperCase())return r;return null},_checkFilterInfos:function(n,i,r){var f,u;if(!t.isNullOrUndefined(n))for(f=r.length,u=0;u<f;u++)if(r[u].UniqueColumnName.toUpperCase()===n.toUpperCase()||r[u].UniqueColumnName.toUpperCase()===i)return u;return null},_loadCheckBoxSlaves:function(i,r,u,f,e,o,s){var b=this._getViewerObj(u),it,p,rt,et,w,h;t.isNullOrUndefined(s&&s.event)||s.event.stopPropagation();var k=0,ot=-1,d=null,ut=1;if((b.controlRelations.length!==k||!t.isNullOrUndefined(f))&&b.flag){var c=b.dashboardControls.getControlByReport(i),nt=n("#dashboard").data("ejDashboardViewer"),ft=t.isNullOrUndefined(c.configInfo.ShowAll)?c.configInfo.ShowSelectAll:c.configInfo.ShowAll,g=t.isNullOrUndefined(nt)?t.DashboardConstants.SelectAll:nt.locale.utils.SelectAll,tt=n("#"+u+" .e-checkbox.e-js.e-input"),v=null,a=0,l=0,y=null;if(!t.isNullOrUndefined(s)&&!r&&ft)if(s.model.value===g)if(it=tt.length,s.isChecked)for(n("#"+s.model.id).attr({userunchecked:!1}),a=0;a<it;a++)v=tt.eq(a).ejDashboardCheckBox("instance"),d=t.isNullOrUndefined(v.model)?"":v.model.change,v.model.change=null,v.option("checked",!0),v.model.change=d;else for(n("#"+s.model.id).attr({userunchecked:!0}),a=0;a<it;a++)v=tt.eq(a).ejDashboardCheckBox("instance"),d=t.isNullOrUndefined(v.model)?"":v.model.change,v.model.change=null,v.option("checked",!1),v.model.change=d;else p=n("#"+u+" .e-checkbox.e-js.e-input[value='"+g+"']"),!t.isNullOrUndefined(p)&&p.length>t.DashboardConstants.Zero&&(rt=n("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]").length,et=n("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=true]").length,p.ejDashboardCheckBox("instance").isChecked()?et-=ut:rt-=ut,rt>k?(d=p.ejDashboardCheckBox("instance").model.change,p.ejDashboardCheckBox("instance").model.change=null,p.ejDashboardCheckBox("instance").option("checked",!1),p.ejDashboardCheckBox("instance").model.change=d):p.ejDashboardCheckBox("instance").option("checked",!0));w=null;h=b;b.requestTimer!==null&&clearTimeout(b.requestTimer);b.requestTimer=setTimeout(function(){var it=null,et=null,yt=h.controlRelations.length,e,ht,ct,lt,at,p,v,vt,d;for(a=0;a<yt;a++)if(h.controlRelations[a].Master===i){if(it=h.controlRelations[a].Slaves,h.model.enableVirtualLoading&&it.length===k){et=h._checkFilterOverviewData(u);h._addFilterDataToTitle(et);return}var f=[],tt=h.currentTabContentElement.find("#"+u).prop("data-column"),b=[];if(r)t.isNullOrUndefined(s)||s.model.value===(t.isNullOrUndefined(nt)?t.DashboardConstants.All:nt.locale.utils.All)||(f.push(s.model.value),at=h.currentTabContentElement.find("#"+u+" .e-radiobtn-wrap.e-widget[aria-checked=true]"),b.push(at.eq(k).siblings("label").html()),w=t.DashboardConstants.DateFilterInfoInclude);else if(e=null,ft){var st=!1,rt=n("#"+u+" .e-checkbox.e-js.e-input[value='"+g+"']"),ut=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=true]");if(e=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]"),rt&&rt.attr(t.DashboardConstants.UserUnchecked)&&rt.attr(t.DashboardConstants.UserUnchecked)==="true"&&(st=!0),st){for(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,ht=ut.length,l=0;l<ht;l++)y=n(ut.eq(l)).find(".e-checkbox").attr("value"),y!==g&&(f.push(y),b.push(ut.eq(l).siblings("label").html()));w=t.DashboardConstants.DateFilterInfoInclude}else{if(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,e.length!==c.totalCount)for(ct=e.length,l=0;l<ct;l++)y=n(e.eq(l)).find(".e-checkbox").attr("value"),y!==g&&(f.push(y),b.push(e.eq(l).siblings("label").html()));w=t.DashboardConstants.DateFilterInfoExclude}}else{for(c.SelectedItems.Included.length=0,c.SelectedItems.Excluded.length=0,e=h.currentTabContentElement.find("#"+u+" .e-chkbox-wrap.e-widget[aria-checked=false]"),lt=e.length,l=0;l<lt;l++)y=n(e.eq(l)).find(".e-checkbox").attr("value"),y!==g&&f.push(y);w=t.DashboardConstants.DateFilterInfoExclude}f.length>k?(p=h._checkFilterInfo(tt,c.SelectedFilterInfo),t.isNullOrUndefined(p)||p===ot?(v=new selectedFilterInfo,v.UniqueColumnName=tt,t.isNullOrUndefined(o)||o!==tt.toUpperCase()?(v.DimensionFilterInfo.Text=f,v.DimensionFilterInfo.Conditions=w):(v.DateFilterInfo.DateFilterList=f,v.DateFilterInfo.Action=w,v.DateFilterInfo.DisplayDateFilterList=b),v.ReportName=c.reportName,c.SelectedFilterInfo.push(v)):t.isNullOrUndefined(o)||o!==tt.toUpperCase()?(c.SelectedFilterInfo[p].DimensionFilterInfo.Text=f,c.SelectedFilterInfo[p].DimensionFilterInfo.Conditions=w):(c.SelectedFilterInfo[p].DateFilterInfo.DateFilterList=f,c.SelectedFilterInfo[p].DateFilterInfo.Action=w,c.SelectedFilterInfo[p].DateFilterInfo.DisplayDateFilterList=b)):c.SelectedFilterInfo=[];vt={master:i,masterData:h.masterData,slaves:it,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};h._makeSlaveDataRequest(vt);break}d=h._getMasterElementName(i);t.isNullOrUndefined(c.SelectedFilterInfo)||c.SelectedFilterInfo.length===k?(h.currentTabContentElement.find("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),h.currentTabContentElement.find("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(h.currentTabContentElement.find("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),h.currentTabContentElement.find("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));h.requestTimer=null},s===null?k:h.model.interactionSettings.multiSelectionInterval)}},_getMasterElementName:function(n){return!t.isNullOrUndefined(n)&&n.trim()!==""?this._getIdByReportName(n)+t.DashboardConstants.Widget+n:n},_getGlobalFilterId:function(n){return n?this._globalFilterId:this._id},_isGlobalFilter:function(n){if(!t.isNullOrUndefined(n)){var i=this.dashboardControls.getControlByReport(n);return!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.configInfo)&&i.configInfo.IsGlobalFilter}return!1},_getIdByReportName:function(n){if(!t.isNullOrUndefined(n)){var i=this.dashboardControls.getControlByReport(n);return!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.configInfo)&&i.configInfo.IsGlobalFilter?this._globalFilterId:this._id}return n},_getViewerObj:function(i){var r,f,u;return this.includeGlobalFilter&&this._isGlobalFilter(i)&&!t.isNullOrUndefined(this._dashboardId)&&(r=n("#"+this._dashboardId).data("ejDashboardViewer"),f=r.dashboardDetails.length,f>t.DashboardConstants.One&&(u=n("#"+r._dashboardId+"_"+r.dashboardName+t.DashboardConstants.FilterPanel).data("ejDashboardDashboardFilterPanel"),!t.isNullOrUndefined(u)))?u:this}}}(jQuery,SyncfusionDashboard);"use strict";var dbrdcontrolData=function(){this.pageNumber=0;this.pagedata=[];this.LastUpdateTime="";this.isError=!1;this.scrollTop=0},dbrdsortSetting=function(){this.column="";this.sortDirection=""},dbrdfilterSetting=function(){this.column="";this.value=""},selectedFilterInfo=function(){this.UniqueColumnName="";this.ReportName="";this.DateFilterInfo={Action:"Include",DateFilterList:[],DateFilterType:"Basic",DisplayDateFilterList:[]};this.DimensionFilterInfo={Conditions:"Include",IsBoolean:!1,ClearAllSelection:!1,Text:[],SelectedBoolValues:[],SelectedIndex:0};this.MeasureFilterInfo={Conditions:"IsBetween",Values:[]};this.PointIndex=-1;this.SeriesIndex=-1;this.IsStdDateTime=!1;this.Value=null},expandedNodesInfo=function(){this.UniqueColumnName="";this.expandedNodes=[]},minifyEnum={UniqueColumnName:"ucn",ReportName:"rn",DateFilterInfo:"dfi",DimensionFilterInfo:"dimfi",MeasureFilterInfo:"mfi",PointIndex:"pi",SeriesIndex:"si",IsStdDateTime:"isdt",Value:"v",Action:"a",DateFilterList:"dfl",DateFilterType:"dft",DisplayDateFilterList:"ddfl",DimensionFilterInfoConditions:"c",MeasureFilterInfoConditions:"c",IsBoolean:"ib",ClearAllSelection:"cas",Text:"t",SelectedBoolValues:"sbv",SelectedIndex:"si",Values:"vs"},unMinifyEnum={UniqueColumnName:"UniqueColumnName",ReportName:"ReportName",DateFilterInfo:"DateFilterInfo",DimensionFilterInfo:"DimensionFilterInfo",MeasureFilterInfo:"MeasureFilterInfo",PointIndex:"PointIndex",SeriesIndex:"SeriesIndex",IsStdDateTime:"IsStdDateTime",Value:"Value",Action:"Action",DateFilterList:"DateFilterList",DateFilterType:"DateFilterType",DisplayDateFilterList:"DisplayDateFilterList",DimensionFilterInfoConditions:"Conditions",MeasureFilterInfoConditions:"Conditions",IsBoolean:"IsBoolean",ClearAllSelection:"ClearAllSelection",Text:"Text",SelectedBoolValues:"SelectedBoolValues",SelectedIndex:"SelectedIndex",Values:"Values"},chartsettings={palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],dataLabelColor:"#565656",xAxisLineColor:"#bdbdbd",yAxisLineColor:"#bdbdbd",axisLineColor:"#bdbdbd",primaryXAxismajorGridLines:"#dfdfdf",primaryYAxismajorGridLines:"#dfdfdf",legendfontcolor:"#636363",majorTickColor:"#191919",primaryXAxisfontcolor:"#636363",primaryYAxisfontcolor:"#636363",primaryXAxistitlecolor:"#636363",primaryYAxistitlecolor:"#636363",titletextcolor:"#636363"},bubblemapsettings={highlightColor:"#AFAFAF",highlightBorderColor:"white",fillColor:"#E0E0E0",borderColor:"#FFFFFF",bubbleColor:"#77A7FB"},choroplethmapsettings={highlightColor:"#AFAFAF",highlightBorderColor:"white",fillColor:"#E0E0E0",borderColor:"#FFFFFF",rangecolor:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"]},treemapsettings={drillDownHeaderColor:"#B2B2B2",drillDownSelectionColor:"#FFFFFF",highlightColor:"#666666",palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],rangeColorMap:["#77A7FB","#E57368","#FBCB43"],desaturationColorMap:"#77A7FB"},rangenavigatorsettings={toolTipData:"white",toolTipBackground:"gray",backgroundColor:"#F9F9F9",unSelectedRegionColor:"#F9F9F9",borderColor:"black"},gaugesettings={rangeColor1:"#e8e8e8",border1:"#e8e8e8",rangeColor2:"#77A7FB",border2:"#77A7FB",statusData:"#34B67A"},Dbrdcontrol=function(){this.data=[];this.customTheme={};this.theme={};this.errorOccured=!1;this.totalCount=0;this.configInfo=[];this.sortSettings=[];this.pivotSortSettings={};this.filterSetting=[];this.scrollSetting={scrollTop:0,rowPerPage:0,colPerPage:0,heightOfColumn:0,visibleHeight:0,controlPerPage:0,currentScrollTop:0,emptyCellsCount:0};this.heightPerPage=0;this.heightOfRow=0;this.SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};this.SelectedFilterInfo=[];this.controlType="";this.reportName="";this.loadedPages=[];this.totalPages=0;this.sortedHeader=null;this.lastUpdateTime="";this.isExpanded=!1;this.currentPage=0;this.maxMinData=[];this.drillLevelInfo=[];this.drillLevels=[];this.SeriesList=[];this.ComparisonChartProp={Type:[],Field:[]};this.drillLevelData=[];this.isExportFromMaximizedView=!1;this.PivotReport=[];this.PivotJSONData=[];this.controlThemeName="";this.staticFiles={};this.isControlFilter=!1;this.controlRelations=[];this.appliedFilterData=[];this.expandedNodes=[];this.initialExpandedNodes=[];this.widgetSettings="";this.Guid="";this.isFilterPanelControl=!1;this.sortData=[]};Dbrdcontrol.prototype.clone=function(n){return this.data=n.data,this.totalCount=n.totalCount,this.configInfo=n.configInfo,this.sortSettings=n.sortSettings,this.pivotSortSettings=n.pivotSortSettings,this.filterSetting=n.filterSetting,this.scrollSetting=n.scrollSetting,this.heightPerPage=n.heightPerPage,this.sortedHeader=n.sortedHeader,this.heightOfRow=n.heightOfRow,this.SelectedItems=n.SelectedItems,this.controlType=n.controlType,this.reportName=n.reportName,this.loadedPages=n.loadedPages,this.totalPages=n.totalPages,this.lastUpdateTime=n.lastUpdateTime,this.isExpanded=n.isExpanded,this.currentPage=n.currentPage,this.drillLevelInfo=n.drillLevelInfo,this.drillLevels=n.drillLevels,this.SeriesList=n.SeriesList,this.ComparisonChartProp=n.ComparisonChartProp,this.drillLevelData=n.drillLevelData,this.isExportFromMaximizedView=n.isExportFromMaximizedView,this.PivotReport=n.PivotReport,this.PivotJSONData=n.PivotJSONData,this.SelectedFilterInfo=n.SelectedFilterInfo,this.customTheme=n.customTheme,this.staticFiles=n.staticFiles,this.isControlFilter=n.isControlFilter,this.controlRelations=n.controlRelations,this.appliedFilterData=n.appliedFilterData,this.maxMinData=n.maxMinData,this.expandedNodes=n.expandedNodes,this.initialExpandedNodes=n.initialExpandedNodes,this.widgetSettings=n.widgetSettings,this.Guid=n.Guid,this.isFilterPanelControl=n.isFilterPanelControl,this.sortData=n.sortData,this};Dbrdcontrol.prototype.getCurrentPageData=function(){for(var t,i=this.data.length,n=0;n<i;n++)if(t=this.data[n],t.pageNumber===this.currentPage)return t;return i===1?this.data[0]:null};Dbrdcontrol.prototype.hasPageData=function(n){for(var i,r=this.data.length,t=0;t<r;t++)if(i=this.data[t],i.pageNumber===n)return!0;return!1};Dbrdcontrol.prototype.getPageDataBypage=function(n){for(var i,r=this.data.length,t=0;t<r;t++)if(i=this.data[t],i.pageNumber===n)return i;return null};Dbrdcontrol.prototype.getControlPagesforRefresh=function(n){for(var h,c,f=0,i=1,u=[],l=n.data.length,s=0;s<l-i;s++){var t=n.data[s].pageNumber,r=n.scrollSetting.currentScrollTop,e=0,o=0;if(n.scrollSetting.currentScrollTop>=n.getPageDataBypage(t).scrollTop&&n.getPageDataBypage(t+i).scrollTop!==f&&n.scrollSetting.currentScrollTop<=n.getPageDataBypage(t+i).scrollTop)if(h=t===i?f:n.getPageDataBypage(t-i).scrollTop-n.scrollSetting.visibleHeight,c=t===i?f:n.getPageDataBypage(t-i).scrollTop+n.scrollSetting.visibleHeight,e=n.getPageDataBypage(t).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(t).scrollTop+n.scrollSetting.visibleHeight,r>=h&&r<=c)t!==i&&u.push(t-i),u.push(t);else if(r>=e&&r<=o)u.push(t),r>n.getPageDataBypage(t).scrollTop&&u.push(t+i);else{u.push(t+i);break}else n.getPageDataBypage(t+i).scrollTop===f&&n.scrollSetting.currentScrollTop>=n.getPageDataBypage(t).scrollTop?(e=n.getPageDataBypage(t).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(t).scrollTop+n.scrollSetting.visibleHeight,r>=e&&r<=o&&t!==n.currentPage?(u.push(t),u.push(n.currentPage)):u.push(n.currentPage)):n.getPageDataBypage(i).scrollTop!==f&&r<=n.getPageDataBypage(i).scrollTop&&r>f&&(e=n.getPageDataBypage(i).scrollTop-n.scrollSetting.visibleHeight,o=n.getPageDataBypage(i).scrollTop+n.scrollSetting.visibleHeight,r>=e&&r<=o&&t!==n.currentPage&&(u.push(i),r>n.getPageDataBypage(i).scrollTop&&u.push(2)))}return u};dbrddashboardControls=function(){this.controls=[]};dbrddashboardControls.prototype.addControl=function(n){for(var i,r=null,u=this.controls.length,t=0;t<u;t++)if(i=this.controls[t],i.reportName!==""&&i.WidgetType!=="NoData"&&i.reportName===n.reportName){r=t;break}ejDashboard.isNullOrUndefined(r)?this.controls.push(n):this.controls[r]=n};dbrddashboardControls.prototype.getControlByReport=function(n){for(var i,r=this.controls.length,t=0;t<r;t++)if(i=this.controls[t],i.reportName===n)return i;return null};dbrddashboardControls.prototype.updateCurrentReport=function(n){for(var i=this.controls.length,t=0;t<i;t++)if(this.controls[t].reportName===n.reportName){this.controls[t]=n;break}return!1};dbrddashboardControls.prototype.getAllControls=function(){return this.controls};dbrddashboardControls.prototype.getAllControlsForImageExport=function(n){for(var r,u=n,i=[],f=this.controls.length,t=0;t<f;t++)this.controls[t].isControlFilter===!1&&(r=JSON.parse(JSON.stringify(this.controls[t])),r.loadedPages=[],i.push(r));return i.push({controlType:"Title",reportName:u}),i};dbrddashboardControls.prototype.getControlsForCurrentPage=function(n){for(var t,i=[],u=-1,f=0,e=this.controls.length,r=0;r<e;r++)t=this.controls[r],t.controlType!==ejDashboard.dashboardViewer.Controls.Label||ejDashboard.isNullOrUndefined(t.data[f].pagedata)||n.indexOf(t.data[f].pagedata.Page)===u?t.controlType===ejDashboard.DashboardConstants.Title?i.push(t):(n.indexOf(t.configInfo.Page)!==u||t.controlType==="parameterColumnData")&&i.push(t):i.push(t);return i};dbrddashboardControls.prototype.getAllControlsMasterData=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||ejDashboard.isNullOrUndefined(this.controls[n].SelectedFilterInfo)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(this.controls[n].SelectedFilterInfo.ReportName=this.controls[n].reportName,t=t.concat(this.controls[n].SelectedFilterInfo));return t};dbrddashboardControls.prototype.getGlobalControlsMasterData=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||!this.controls[n].configInfo.IsGlobalFilter||ejDashboard.isNullOrUndefined(this.controls[n].SelectedFilterInfo)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(this.controls[n].SelectedFilterInfo.ReportName=this.controls[n].reportName,t=t.concat(this.controls[n].SelectedFilterInfo));return t};dbrddashboardControls.prototype.getAllDashboardFilterControls=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||!ejDashboard.isNullOrUndefined(this.controls[n].configInfo.IsGlobalFilter)&&this.controls[n].configInfo.IsGlobalFilter||t.push(this.controls[n]);return t};dbrddashboardControls.prototype.getAllGlobalFilterControls=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)!ejDashboard.isNullOrUndefined(this.controls[n].configInfo)&&this.controls[n].configInfo.IsGlobalFilter&&t.push(this.controls[n]);return t};dbrddashboardControls.prototype.getAllFilterPanelControls=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++){if(this.controls[n].isFilterPanelControl){t.push(this.controls[n]);continue}break}return t};dbrddashboardControls.prototype.getAllControlsIsDefaultProperty=function(){for(var t=[],i=this.controls.length,n=0;n<i;n++)ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||ejDashboard.isNullOrUndefined(this.controls[n].configInfo.SelectFirstItem)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||t.push({ReportName:this.controls[n].reportName,IsFirstItemByDefault:this.controls[n].configInfo.SelectFirstItem});return t};dbrddashboardControls.prototype.getAllcontrolsSelectedItems=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)t=null,ejDashboard.isNullOrUndefined(this.controls[n].configInfo)||ejDashboard.isNullOrUndefined(this.controls[n].SelectedItems)||ejDashboard.isNullOrUndefined(this.controls[n].reportName)||this.controls[n].configInfo.IsMasterFilter&&(t={ReportName:this.controls[n].reportName,SelectedItems:this.controls[n].SelectedItems}),ejDashboard.isNullOrUndefined(t)||i.push(t);return i};dbrddashboardControls.prototype.removeSelectedControlsMasterData=function(n){for(var i=this.controls.length,t=0;t<i;t++)if(this.controls[t].configInfo.IsMasterFilter&&this.controls[t].SelectedFilterInfo.length>0&&this.controls[t].SelectedFilterInfo[0].ReportName===n){this.controls[t].SelectedFilterInfo=[];break}};dbrddashboardControls.prototype.getAllControlsForRefresh=function(){for(var n,t,e,u,f=[],i=0,o=this.controls.length,r=0;r<o;r++)if(n=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[r]))),t=null,n.controlType===ejDashboard.dashboardViewer.Controls.CheckBox&&n.data.length>1)for(i=n.getControlPagesforRefresh(n),e=i.length,u=0;u<e;u++)t={currentPage:i[u],reportName:n.reportName,controlPerPage:n.scrollSetting.controlPerPage},f.push(t),this.controls[r].loadedPages=i;else t={currentPage:n.currentPage,reportName:n.reportName,controlPerPage:ejDashboard.isNullOrUndefined(n.scrollSetting)?null:n.scrollSetting.controlPerPage},f.push(t);return f};dbrddashboardControls.prototype.getAllControlsId=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)t=this.controls[n].reportName,t!==""&&i.push(t);return i};dbrddashboardControls.prototype.getAllDashboardControlsId=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)t=this.controls[n].reportName,t===""||this.controls[n].isFilterPanelControl||i.push(t);return i};dbrddashboardControls.prototype.getControlForImageExport=function(n){for(var i,r=[],u=this.controls.length,t=0;t<u;t++)this.controls[t].reportName===n&&(i=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[t]))),i.loadedPages=[],r.push(i));return r};dbrddashboardControls.prototype.getControlForOfflineWidget=function(){for(var t,i=[],r=this.controls.length,n=0;n<r;n++)this.controls[n].controlType!==ejDashboard.DashboardConstants.ParameterColumnData&&(t=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.controls[n]))),t.loadedPages=[],i.push(t));return i};dbrddashboardControls.prototype.getAllControlsForOfflineDashboard=function(n){for(var r,u=n,t=[],f=this.controls.length,i=0;i<f;i++)r=JSON.parse(JSON.stringify(this.controls[i])),r.loadedPages=[],t.push(r);return t.push({controlType:"Title",reportName:u}),t};dbrddashboardControls.prototype.isControlExists=function(n){for(var i=this.getAllDashboardControlsId(),t=0;t<i.length;t++)if(i[t]===n)return!0;return!1};dbrddashboardControls.prototype.minifySelectedFilterInfo=function(n){for(var t,i,u=[],f=n.length,r=0;r<f;r++)t=n[r],i={},i[minifyEnum.UniqueColumnName]=t.UniqueColumnName,i[minifyEnum.ReportName]=t.ReportName,this.isDefaultValue(t,"PointIndex",-1)||(i[minifyEnum.PointIndex]=t.PointIndex),this.isDefaultValue(t,"SeriesIndex",-1)||(i[minifyEnum.SeriesIndex]=t.SeriesIndex),this.isDefaultValue(t,"IsStdDateTime",!1)||(i[minifyEnum.IsStdDateTime]=t.IsStdDateTime),this.isDefaultValue(t,"Value",null)||(i[minifyEnum.Value]=t.Value),ejDashboard.isNullOrUndefined(t.DateFilterInfo)||ejDashboard.isNullOrUndefined(t.DateFilterInfo.DateFilterList)||t.DateFilterInfo.DateFilterList.length===0||(i[minifyEnum.DateFilterInfo]={},i[minifyEnum.DateFilterInfo][minifyEnum.DateFilterList]=t.DateFilterInfo.DateFilterList,this.isDefaultValue(t.DateFilterInfo,"Action","Include")||(i[minifyEnum.DateFilterInfo][minifyEnum.Action]=t.DateFilterInfo.Action),this.isDefaultValue(t.DateFilterInfo,"DateFilterType","Basic")||(i[minifyEnum.DateFilterInfo][minifyEnum.DateFilterType]=t.DateFilterInfo.DateFilterType),this.isDefaultValue(t.DateFilterInfo,"DisplayDateFilterList",0,!0)||(i[minifyEnum.DateFilterInfo][minifyEnum.DisplayDateFilterList]=t.DateFilterInfo.DisplayDateFilterList)),ejDashboard.isNullOrUndefined(t.DimensionFilterInfo)||(ejDashboard.isNullOrUndefined(t.DimensionFilterInfo.Text)||t.DimensionFilterInfo.Text.length===0)&&(ejDashboard.isNullOrUndefined(t.DimensionFilterInfo.SelectedBoolValues)||t.DimensionFilterInfo.SelectedBoolValues.length===0)||(i[minifyEnum.DimensionFilterInfo]={},this.isDefaultValue(t.DimensionFilterInfo,"Conditions",0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.DimensionFilterInfoConditions]=t.DimensionFilterInfo.Conditions),this.isDefaultValue(t.DimensionFilterInfo,"IsBoolean",!1)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.IsBoolean]=t.DimensionFilterInfo.IsBoolean),this.isDefaultValue(t.DimensionFilterInfo,"ClearAllSelection",!1)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.ClearAllSelection]=t.DimensionFilterInfo.ClearAllSelection),this.isDefaultValue(t.DimensionFilterInfo,"Text",0,!0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.Text]=t.DimensionFilterInfo.Text),this.isDefaultValue(t.DimensionFilterInfo,"SelectedBoolValues",0,!0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedBoolValues]=t.DimensionFilterInfo.SelectedBoolValues),this.isDefaultValue(t.DimensionFilterInfo,"SelectedIndex",0)||(i[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedIndex]=t.DimensionFilterInfo.SelectedIndex)),ejDashboard.isNullOrUndefined(t.MeasureFilterInfo)||ejDashboard.isNullOrUndefined(t.MeasureFilterInfo.Values)||t.MeasureFilterInfo.Values.length===0||(i[minifyEnum.MeasureFilterInfo]={},this.isDefaultValue(t.MeasureFilterInfo,"Conditions","IsBetween")||(i[minifyEnum.MeasureFilterInfo][minifyEnum.MeasureFilterInfoConditions]=t.MeasureFilterInfo.Conditions),this.isDefaultValue(t.MeasureFilterInfo,"Values",0,!0)||(i[minifyEnum.MeasureFilterInfo][minifyEnum.Values]=t.MeasureFilterInfo.Values)),ejDashboard.isNullOrUndefined(i[minifyEnum.UniqueColumnName])||ejDashboard.isNullOrUndefined(i[minifyEnum.ReportName])||u.push(i);return u};dbrddashboardControls.prototype.unMinifySelectedFilterInfo=function(n){for(var i,t,u=[],f=[],e=n.length,r=0;r<e;r++)i=new selectedFilterInfo,t=n[r],this.hasValue(t,"dprmn")?f.push(t):(this.hasValue(t,minifyEnum.UniqueColumnName)&&(i[unMinifyEnum.UniqueColumnName]=t[minifyEnum.UniqueColumnName]),this.hasValue(t,minifyEnum.ReportName)&&(i[unMinifyEnum.ReportName]=t[minifyEnum.ReportName]),this.hasValue(t,minifyEnum.PointIndex)&&(i[unMinifyEnum.PointIndex]=t[minifyEnum.PointIndex]),this.hasValue(t,minifyEnum.IsStdDateTime)&&(i[unMinifyEnum.IsStdDateTime]=t[minifyEnum.IsStdDateTime]),this.hasValue(t,minifyEnum.SeriesIndex)&&(i[unMinifyEnum.SeriesIndex]=t[minifyEnum.SeriesIndex]),this.hasValue(t,minifyEnum.Value)&&(i[unMinifyEnum.Value]=t[minifyEnum.Value]),this.hasValue(t,minifyEnum.DateFilterInfo)&&(this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.Action)&&(i.DateFilterInfo[unMinifyEnum.Action]=t[minifyEnum.DateFilterInfo][minifyEnum.Action]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DateFilterList)&&(i.DateFilterInfo[unMinifyEnum.DateFilterList]=t[minifyEnum.DateFilterInfo][minifyEnum.DateFilterList]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DateFilterType)&&(i.DateFilterInfo[unMinifyEnum.DateFilterType]=t[minifyEnum.DateFilterInfo][minifyEnum.DateFilterType]),this.hasValue(t[minifyEnum.DateFilterInfo],minifyEnum.DisplayDateFilterList)&&(i.DateFilterInfo[unMinifyEnum.DisplayDateFilterList]=t[minifyEnum.DateFilterInfo][minifyEnum.DisplayDateFilterList])),this.hasValue(t,minifyEnum.DimensionFilterInfo)&&(this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.DimensionFilterInfoConditions)&&(i.DimensionFilterInfo[unMinifyEnum.DimensionFilterInfoConditions]=t[minifyEnum.DimensionFilterInfo][minifyEnum.DimensionFilterInfoConditions]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.IsBoolean)&&(i.DimensionFilterInfo[unMinifyEnum.IsBoolean]=t[minifyEnum.DimensionFilterInfo][minifyEnum.IsBoolean]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.ClearAllSelection)&&(i.DimensionFilterInfo[unMinifyEnum.ClearAllSelection]=t[minifyEnum.DimensionFilterInfo][minifyEnum.ClearAllSelection]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.Text)&&(i.DimensionFilterInfo[unMinifyEnum.Text]=t[minifyEnum.DimensionFilterInfo][minifyEnum.Text]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.SelectedBoolValues)&&(i.DimensionFilterInfo[unMinifyEnum.SelectedBoolValues]=t[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedBoolValues]),this.hasValue(t[minifyEnum.DimensionFilterInfo],minifyEnum.SelectedIndex)&&(i.DimensionFilterInfo[unMinifyEnum.SelectedIndex]=t[minifyEnum.DimensionFilterInfo][minifyEnum.SelectedIndex])),this.hasValue(t,minifyEnum.MeasureFilterInfo)&&(this.hasValue(t[minifyEnum.MeasureFilterInfo],minifyEnum.MeasureFilterInfoConditions)&&(i.MeasureFilterInfo[unMinifyEnum.MeasureFilterInfoConditions]=t[minifyEnum.MeasureFilterInfo][minifyEnum.MeasureFilterInfoConditions]),this.hasValue(t[minifyEnum.MeasureFilterInfo],minifyEnum.Values)&&(i.MeasureFilterInfo[unMinifyEnum.Values]=t[minifyEnum.MeasureFilterInfo][minifyEnum.Values])),this.hasValue(i,unMinifyEnum.UniqueColumnName)&&this.hasValue(i,unMinifyEnum.ReportName)&&u.push(i));return{masterData:u,dashboardParams:f}};dbrddashboardControls.prototype.hasValue=function(n,t){return!ejDashboard.isNullOrUndefined(n[t])};dbrddashboardControls.prototype.isDefaultValue=function(n,t,i,r){return r?ejDashboard.isNullOrUndefined(n[t])?!1:n[t].length===i:n[t]===i};RequestHeaders=function(){this.customHeaders=[]};RequestHeaders.prototype.setRequestHeader=function(n,t){if(!ejDashboard.isNullOrUndefined(n)&&n!==""&&!ejDashboard.isNullOrUndefined(t)&&t!==""){var i=this.isheaderPresent(n);i===-1?this.customHeaders.push({Key:n,Value:t}):this.customHeaders[i].Value=t}};RequestHeaders.prototype.isheaderPresent=function(n){for(var i=this.customHeaders.length,t=0;t<i;t++)if(this.customHeaders[t].Key===n)return t;return-1};widgetDetails=function(){return{widgetTitle:null,widgetSubTitle:null,widgetDescription:null,widgetId:null,widgetGuid:null,widgetType:null}};dashboardInfo=function(){return{isMultiTabbedDashboard:null,currentDashboard:{dashboardTabIndex:null,dashboardDescription:null,dashboardGuid:null,dashboardTitle:null,widgets:[]}}},function(n,t){t.widget("ejDashboardrectangularSelector","ejDashboard.rectangularSelector",{_rootCSS:"ejDashboardrectangularSelector",element:null,model:null,defaults:{selector:""},_init:function(){this._initPrivateProperties();this._wireEvents()},selector:t.util.valueFunction("selector"),_setModel:function(n){for(var t in n)if({}.hasOwnProperty.call(n,t))switch(t){case"selector":this._init()}},dataTypes:{selector:"string"},_initPrivateProperties:function(){this.rectangularSelectionPosition={x1:0,y1:0,x2:0,y2:0};this.ctrlKeyPressed=!1;this.scrollTop=0},_wireEvents:function(){this._on(this.element,"mousedown",this._onMouseDown);this._on(this.element.parents("body"),"mousemove",this._onMouseMove);this._on(this.element.parents("body"),"mouseup",this._onMouseUp);this._on(this.element.parent(),"scroll",this._onWheelMove)},_unWireEvents:function(){this._off(this.element,"mousedown",this._onMouseDown);this._off(this.element.parents("body"),"mousemove",this._onMouseMove);this._off(this.element.parents("body"),"mouseup",this._onMouseUp);this._off(this.element.parent(),"scroll",this._onWheelMove)},_wireSnippingEvents:function(){this.isReadyState=!0},_UnwireSnippingEvents:function(){this.isReadyState=!1},_onMouseDown:function(t){var i,r;t.stopPropagation();this.isReadyState=!1;this.ctrlKeyPressed=t.ctrlKey;i=this.element;i.parent().find(".e-dbrd-rectangularSelector").length===0&&i.parent().append(n("<div>").addClass("e-dbrd-rectangularSelector")).css({position:"relative"});r=i.parent().find(".e-dbrd-rectangularSelector");this.rectangularSelectionPosition.x1=t.clientX-i.parent().offset().left;this.rectangularSelectionPosition.y1=t.clientY-i.parent().offset().top+i.parent().scrollTop();this.scrollTop=i.parent().scrollTop();this._rectangularSelectionReCalc();r.hide();this._wireSnippingEvents()},_onMouseMove:function(n){var t,i;(this.ctrlKeyPressed=n.ctrlKey,this.isReadyState!==!1&&this.element!==null)&&(t=this.element,i=t.parent().find(".e-dbrd-rectangularSelector"),i.length!==0)&&(n.stopPropagation(),this.rectangularSelectionPosition.x2=n.clientX-t.parent().offset().left,this.rectangularSelectionPosition.y2=n.clientY-t.parent().offset().top+t.parent().scrollTop(),this.scrollTop=t.parent().scrollTop(),i.show(),this._rectangularSelectionReCalc())},_onMouseUp:function(t){var o=0,s=10,e,i,u,f,r;if(this.ctrlKeyPressed=t.ctrlKey,e=this.element,i=e.parent().find(".e-dbrd-rectangularSelector"),this.isReadyState===!1||i.css("display")==="none"||i.length===o||i.height()<s||i.width()<s){i.remove();return}for(u=e.find(this.selector()),f=[],r=0;r<u.length;r++){var h=!0,c=n(u[r]).offset().left,l=n(u[r]).offset().top,y=n(u[r]).outerHeight(!0),p=n(u[r]).outerWidth(!0),w=l+y,b=c+p,a=i.offset().left,v=i.offset().top,k=i.outerHeight(!0),d=i.outerWidth(!0),g=v+k,nt=a+d;h=w<v||l>g||b<a||c>nt?!1:!0;h&&f.push(n(u[r]))}f.length>o&&this._trigger("selected",{children:f,ctrlKey:this.ctrlKeyPressed});i.remove();this._UnwireSnippingEvents()},_onWheelMove:function(){var n=this.element;(this.rectangularSelectionPosition.y2=this.rectangularSelectionPosition.y2-this.scrollTop+n.parent().scrollTop(),this.scrollTop=n.parent().scrollTop(),this.isReadyState!==!1)&&this._rectangularSelectionReCalc()},_rectangularSelectionReCalc:function(){var e=this.element,o=e.parent().find(".e-dbrd-rectangularSelector"),n=this.rectangularSelectionPosition.x1,t=this.rectangularSelectionPosition.x2,i=this.rectangularSelectionPosition.y1,r=this.rectangularSelectionPosition.y2,u=Math.min(n,t),s=Math.max(n,t),f=Math.min(i,r),h=Math.max(i,r),c=s-u,l=h-f;o.css({top:f,left:u,height:l,width:c})},remove:function(t){n(t.currentTarget).parent().remove()},_destroy:function(){this._unWireEvents()}})}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardFilterPanel=t.dashboardFilterPanel||{};t.widget("ejDashboardDashboardFilterPanel","ejDashboard.DashboardFilterPanel",{_rootCSS:"e-dashboardviewer e-dashboardfilterpanel",element:null,model:null,validTags:["div"],defaults:{size:{height:"",width:""},dataSource:[],value:[],serviceMethods:{processRequestForPost:"ProcessRequestForPost",processRequestForGet:"ProcessRequestForGet",initializeControl:"InitializeControls",getDrilledChart:"GetChartDrilledData",savePdfFile:"SavePdfFile",saveCsvFile:"SaveCsvFile",saveExcelfile:"SaveExcelFile",saveImagefile:"SaveImageFile",exportAsExcel:"ExportAsExcel",navigateTo:"NavigateLinkedReport",viewData:"ViewData",downloadedexportedfiles:"DownloadedExportedFiles",saveImage:"SaveImage",multipleDashboardsExport:"MultipleDashboardsExport",getControlDataOnDemand:"GetControlDataOnDemand",getDrillControlData:"GetDrillControlData",authenticate:"Authenticate",getRefreshControlData:"GetRefreshControlData",getCultureScript:"GetCultureScript",getCultureScriptForCustomWidget:"GetCultureScriptForCustomWidget",getWidgetTitleInfo:"GetWidgetTitleInfo",savePdf:"SavePdf",exportAsCsv:"ExportAsCsv",getScriptsForCustomWidget:"GetScriptsForCustomWidget",getCustomWidgetCoreFiles:"GetCustomWidgetCoreFiles"},localeSettings:{heading:"Filters",globalFilters:"GLOBAL FILTER(S)",dashboardFilters:"DASHBOARD FILTER(S)",closeButtonText:"Close",backButtonText:"Back",clearFilterText:"Clear Master Filter",knowMore:"Know More...",reloadButtonText:"Reload",NoData:"There is no data to be displayed.",comment:"Comment"},viewerLocale:{},serviceUrl:"",serverUrl:"",dashboardPath:"",allowComment:!1,commentSettings:{isWidgetCommented:!1,widgets:[]},responsiveSettings:{showMaximize:!1,showExport:!1},interactionSettings:{multiSelectionInterval:500},dashboardParameterSettings:{showIcon:!0,data:[]},enableCustomTheming:!1,customThemeSettings:"",showHeader:!0,currentMasterReport:null,showCloseIcon:!0,selectedData:null,enableVirtualLoading:!0,currentUser:null,controlRelations:null,beforeFilterApplied:null,beforeFilterPanelOpen:null,filterPanelOpen:null,beforeFilterPanelClose:null,filterPanelClose:null,beforeWidgetRender:null,afterWidgetRender:null,onWidgetCommented:null,onDropDownSearch:null,loaded:null,dashboardElement:null,includeGlobalFilter:!1,scalingFactor:1},_init:function(){this._unWireEvents();this.initPrivateProperties();this.loadFilterLayout();this._wireEvents();var n=this,i=this.dashboardControls.controls;setTimeout(function(){n._trigger("filterPanelOpen",{dataSource:n.model.dataSource,element:n.element,controls:i})},t.DashboardConstants.Zero);this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&this._applyCustomTheme()},serviceUrl:function(){return this.model.serviceUrl},serverUrl:function(){return this.model.serverUrl},dashboardPath:function(){return this.model.dashboardPath},initPrivateProperties:function(){var n,i;for(this.currentMasterWidget=null,this.target=[],this.locale=this.model.viewerLocale,this.currentTabContentElement=this.element,this.controlRelations=t.isNullOrUndefined(this.model.controlRelations)?[]:this.model.controlRelations,this.dashboardControls=new dbrddashboardControls,n=0;n<this.model.value.length;n++)i=this.model.value[n],i.isFilterPanelControl=!0,this.dashboardControls.addControl(i);this.modifiedConnectionStrings=null;this._isFromTabSwitchRefresh=!1;this.externalFilterPanel=this.model.externalFilterPanel;this.includeGlobalFilter=this.model.includeGlobalFilter;this.isGlobalFilterUpdated=this.model.isGlobalFilterUpdated;this._globalFilterId=this.model.globalFilterId;this._dashboardId=this.model.dashboardId;this.globalFilterWrapper=this.model.globalFilterWrapper;this.dashboardFilterWrapper=null;this.currentUser=null;this.flag=!0;this.enableVirtualLoading=!1;this.dashboardName=this.model.dashboardName;this.target=[];this.isPublicDashboard=this.model._isPublic||!1;this.isUnlistedDashboard=this.model._isUnlisted||!1;this.unlistedCode=this.model._unlistedCode||"";this.itemId=this.model._itemId||"";this.currentUser=this.model.currentUser;this.isWebDesigner=this.model._isWebDesigner;this.filterpanelWrapper=null;this.dashboardParameters=this.model.dashboardParameterSettings;this.dashboardElement=t.isNullOrUndefined(this.model.dashboardElement)?null:this.model.dashboardElement;this.hasDashboardFilters=!1;this.scalingFactor=this.model.scalingFactor},_wireEvents:function(){this._on(this.element,"click",".e-dbrd-filter-back ,.e-dbrd-filter-icon-container",this._hideFilterPanel);this._on(this.element,"click",".e-remove-control-filter-enable",this._removeControlFilter);this._on(this.element,"click",".e-dbrd-filterPanel-widget-withoutcomments",this._openCommentDialog);this._on(this.element,"click",".e-dbrd-filterPanel-widget-withcomments",this._openCommentDialog);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-filter-hoverable",this._showFilterToolTip);this._on(this.element,"mouseout",".e-dbrd-filter-hoverable",this._hideFilterToolTip);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseOver);this._on(this.element,"mouseleave",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseLeave);this.enableVirtualLoading||(this._on(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseMove),this._on(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseLeave))},_unWireEvents:function(){this._off(this.element,"click",".e-dbrd-filter-back ,.e-dbrd-filter-icon-container",this._hideFilterPanel);this._off(this.element,"click",".e-remove-control-filter-enable",this._removeControlFilter);this._off(this.element,"click",".e-dbrd-filterPanel-widget-withoutcomments",this._openCommentDialog);this._off(this.element,"click",".e-dbrd-filterPanel-widget-withcomments",this._openCommentDialog);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-filter-hoverable",this._showFilterToolTip);this._off(this.element,"mouseout",".e-dbrd-filter-hoverable",this._hideFilterToolTip);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseOver);this._off(this.element,"mouseleave",".e-dbrd-filterwidget-title",this._onFilterControlTitleMouseLeave);this.enableVirtualLoading||(this._off(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseMove),this._off(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onFilterScrollBarMouseLeave))},_hideFilterBanner:function(i){if(!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.currentTarget)&&!t.isNullOrUndefined(i.target)&&n(i.target).attr("data-tooltip")!==this.model.localeSettings.closeButtonText){var r=n(i.currentTarget).attr("id");r==="dashboard_filter"?t.isNullOrUndefined(this.dashboardFilterWrapper)||n(this.dashboardFilterWrapper).css("display")!=="none"?n(this.dashboardFilterWrapper).css("display","none"):n(this.dashboardFilterWrapper).css("display","block"):t.isNullOrUndefined(this.globalFilterWrapper)||n(this.globalFilterWrapper).css("display")!=="none"?n(this.globalFilterWrapper).css("display","none"):n(this.globalFilterWrapper).css("display","block")}},_onFilterControlTitleMouseOver:function(i){var r,f,u,e;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.currentTabContentElement.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip e-filterpanel-tooltip")),i.bubbles=!1,r=this,f=t.DashboardConstants.Zero,this.longPress!==null&&i.type==="touchend"){clearTimeout(this.longPress);return}if(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,e=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY,i.type==="touchstart")f=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mouseover"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.longPress=setTimeout(function(){var o=n(i.currentTarget),s=null,h=null,c,f;if(o.length>t.DashboardConstants.Zero?(s=o.innerWidth(),h=o[0].scrollWidth):(s=n(i.currentTarget).innerWidth(),h=n(i.currentTarget)[0].scrollWidth),h<=s){r._onFilterControlTitleMouseLeave(i);return}c=r.element.offset().top===t.DashboardConstants.Zero?15/r.scalingFactor:r.externalFilterPanel?r.element.offset().top+10/r.scalingFactor:15/r.scalingFactor;f=r.element.find(".e-dbrd-tooltip");f.html(n(i.currentTarget).html());f.css({top:e/r.scalingFactor-r.element.offset().top+c,left:r.externalFilterPanel?u:u/r.scalingFactor-r.element.offset().left/r.scalingFactor,display:"block",width:u/r.scalingFactor-r.element.offset().left/r.scalingFactor+f.width()>r.element.width()?r.element.width()-(u/r.scalingFactor-r.element.offset().left/r.scalingFactor):u/r.scalingFactor})},f)}},_onFilterControlTitleMouseLeave:function(n){n.bubbles=!1;this.element.find(".e-dbrd-tooltip").remove()},_setAjaxDashboardParameterValue:function(n){var r=null,i;if(!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero){for(i=0;i<n.data.length;i++)n.data[i].data=null;r=JSON.parse(JSON.stringify(n))}else r=JSON.parse(JSON.stringify(n));return r},_showFilterToolTip:function(i){var r,u,f,e;if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),r=this,u=t.DashboardConstants.Zero,!t.isNullOrUndefined(this.tooltip)&&i.type==="touchend"){clearTimeout(this.tooltip);return}if(f=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,e=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY,i.type==="touchstart")u=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mousemove"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.tooltip=setTimeout(function(){var s,u;if(n(i.currentTarget).hasClass("e-dbrd-filter-hoverable")&&(i.bubbles=!1,n.isFunction(i.stopPropogation)&&i.stopPropagation(),n(i.currentTarget).parents(".e-dbrd-banner").siblings(".e-dbrd-fzone").length>t.DashboardConstants.Zero?r.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}):r.element.find(".e-dbrd-tooltip").css({"box-shadow":""}),s=n(i.currentTarget).attr("data-tooltip"),s!=="")){if(n(i.currentTarget).hasClass("e-remove-control-filter-disable")){r.element.find(".e-dbrd-tooltip").hide();return}if(n(i.currentTarget).css("cursor")==="default"){r.element.find(".e-dbrd-tooltip").hide();return}var h=r.element.offset().top===t.DashboardConstants.Zero?15:r.externalFilterPanel?r.element.offset().top+10:15,o=r._measureText(s,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12;o=o<300?o:300;r.element.find(".e-dbrd-tooltip").html(s).css({"z-index":"100001",left:r.externalFilterPanel?f-r.element.offset().left-o:f-r.element.offset().left-o,top:r.externalFilterPanel?e-r.element.offset().top+10:e-r.element.offset().top+h,width:""}).stop(!0,!0).show();u=r.element.find(".e-dbrd-tooltip");u.length&&u.offset().top+u.height()+10>n("body").height()&&u.css({top:u.offset().top-u.height()});r.model.enableCustomTheming&&r._customTheme(["tooltip"])}},u)},_measureText:function(i,r,u){var l=n(document).find("#measureTex"),o=i,f=null,s,h,e,p;n("#measureTex").css("display","block");l.length===t.DashboardConstants.Zero?(f=document.createElement("text"),n(f).attr({id:"measureTex"}),document.body.appendChild(f)):f=l[0];var a=null,c=null,v=null,y=null;if(typeof o=="string"&&(o.indexOf("<")>t.DashboardConstants.IndexLowerBound||o.indexOf(">")>t.DashboardConstants.IndexLowerBound)){for(s=o.split(" "),h=0;h<s.length;h++)s[h].indexOf("<br/>")===t.DashboardConstants.IndexLowerBound&&(s[h]=s[h].replace(/[<>]/g,"&"));o=s.join(" ")}return f.innerHTML=o,!t.isNullOrUndefined(u)&&t.isNullOrUndefined(u.size)&&(e=u,e=e.split(" "),a=e[0],c=e[1],v=e[2],y=e[3]),(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.size))&&t.isNullOrUndefined(c)||(f.style.fontSize=u.size>t.DashboardConstants.Zero?u.size+"px":u.size?u.size:c+"px",f.style.fontStyle&&(f.style.fontStyle=u.fontStyle?u.fontStyle:a),f.style.fontFamily=u.fontFamily?u.fontFamily:v,window.navigator.userAgent.indexOf("MSIE 8.0")===t.DashboardConstants.IndexLowerBound&&(f.style.fontWeight=u.fontWeight?u.fontWeight:y)),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",f.style.whiteSpace="nowrap",r&&(f.style.maxwidth=r+"px"),p={width:f.offsetWidth,height:f.offsetHeight},n("#measureTex").css("display","none"),p},_hideFilterToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);var i=this;this.tooltipTimer=setTimeout(function(){i.element.find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},500)},_searchDropDownList:function(n){t.isNullOrUndefined(this.model.onDropDownSearch)||this._trigger("onDropDownSearch",{data:n})},_reorderOnPopupHide:function(n){this._trigger("OnPopupHide",{data:n})},loadFilterLayout:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});t.isNullOrUndefined(this.model.size.height)?this.element.css({height:"100%"}):this.element.css({height:this.model.size.height});t.isNullOrUndefined(this.model.size.width)?this.element.css({width:"100%"}):this.element.css({width:this.model.size.width+"px"});this.includeGlobalFilter&&this.model.hasMultiTab&&(this.hasDashboardFilters=this._hasDashboardFilter());this._drawFilterBanner();this._drawFilterLayout();var n=this,i=this.element.find(".e-dbrd-dashboard-filter-banner").height();this.filterpanelWrapper.css({transform:"scale("+this.model.deScalingFactor+")"});this.filterpanelWrapper.ejDashboardScroller({height:this.element.height()-i+"px",width:this.element.width()-2+"px"});this.filterpanelWrapper.css({transform:"scale(1)"});setTimeout(function(){n.element.find("#"+n._id+"_layout_wrapper").data("ejDashboardScroller")&&(n.filterpanelWrapper.css({transform:"scale("+n.model.deScalingFactor+")"}),n.element.find("#"+n._id+"_layout_wrapper").data("ejDashboardScroller").refresh(),n.filterpanelWrapper.css({transform:"scale(1)"}));n._trigger("loaded",{dataSource:n.model.dataSource,element:n.element,controls:n.dashboardControls,instance:n})},1e3)},_openCommentDialog:function(i){var u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked"),f,r;u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");r=this.currentTabContentElement.find(".e-dbrd-filterPanel-widget-withcomments-menuClicked");r.length>t.DashboardConstants.Zero?r.removeClass("e-dbrd-filterPanel-widget-withcomments-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-filterPanel-widget-withcomments-menuClicked");t.isNullOrUndefined(i)||(f=n(i.target).attr("data-widget-id"));this._trigger("onWidgetCommented",{event:i,reportGuid:f,tabId:this.dashboardName})},_drawFilterBanner:function(){var n='<div class = "e-dbrd-dashboard-filter-banner"><div class= "e-dbrd-filter-back" style = "position: absolute; margin-left: 10px;"> <\/div><div class= "e-dbrd-filter-title-container"><p class="e-dbrd-filter-title"> '+this.model.localeSettings.heading+' <\/p> <\/div><div class = "e-dbrd-filter-icon-container"><div class = "e-dbrd-filter-close e-dbrd-filter-hoverable" style = "position: absolute; margin-left: 20px;" data-tooltip="'+this.model.localeSettings.closeButtonText+'"><\/div><\/div><\/div>';this.element.append(n);this._setFilterHeader();this._setFilterCloseIcon()},_setFilterHeader:function(){this.model.showHeader?this.element.find(".e-dbrd-dashboard-filter-banner").css({display:"block"}):this.element.find(".e-dbrd-dashboard-filter-banner").css({display:"none"})},_setFilterCloseIcon:function(){this.model.showHeader&&this.model.showCloseIcon?this.element.find(".e-dbrd-dashboard-filter-banner .e-dbrd-filter-icon-container").css({display:"block"}):this.element.find(".e-dbrd-dashboard-filter-banner .e-dbrd-filter-icon-container").css({display:"none"})},_drawFilterLayout:function(){this.filterpanelWrapper=n("<div>").addClass("e-dbrd-filterpanel-wrapper e-dbrd-control").css({position:"absolute",width:"100%",height:"98%"}).attr({id:this._id+"_layout_wrapper"});this.filterpanelContentWrapper=n("<div>").addClass("e-dbrd-filterPanel-content");this._createGlobalFilterWrapper();this.dashboardFilterWrapper=n("<div>").attr("id","dashboard_filter_wrapper").addClass("e-dbrd-filterPanel-content");this.filterpanelContentWrapper.append(this.dashboardFilterWrapper);this.filterpanelWrapper.append(this.filterpanelContentWrapper);this.element.append(this.filterpanelWrapper);this._createControlLoader(this.element);this._createWidgetContainers();this._renderWidgets(null);n(window).width()<t.DashboardConstants.MobileWidth?(this.element.find(".e-dbrd-filter-back").css({display:"block"}),this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"20px","padding-right":"20px"}),this.element.find(".e-control-heading").css({"padding-left":"0px"}),this.element.find(".e-dbrd-filter-title").css({"text-transform":"none"})):(this.element.find(".e-dbrd-filter-back").css({display:"none"}),this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"8px","padding-right":"8px"}),this.element.find(".e-dbrd-filter-title").css({"text-transform":"uppercase"}))},_createGlobalFilterWrapper:function(){var i,r;this.includeGlobalFilter&&(t.isNullOrUndefined(this.globalFilterWrapper)&&(this.isGlobalFilterUpdated=!0,this.globalFilterWrapper=n("<div>").attr("id",this._globalFilterId).addClass("e-dbrd-globalFilter-content")),this.hasDashboardFilters&&(t.isNullOrUndefined(this.globalFilterWrapper)||t.isNullOrUndefined(this.globalFilterWrapper.find("#global_filter_banner"))||this.globalFilterWrapper.find("#global_filter_banner").length!==t.DashboardConstants.Zero||(i='<div class = "e-dbrd-filter-banner" id = "global_filter_banner"> <div class= "e-dbrd-filter-title-container"> <p class="e-dbrd-filter-title"> '+this.model.localeSettings.globalFilters+" <\/p> <\/div>",this.globalFilterWrapper.prepend(i)),r='<div class = "e-dbrd-filter-banner" id = "dashboard_filter_banner" style="border-top: .5px solid #c4ced7; margin-top: 20px;"> <div class= "e-dbrd-filter-title-container"> <p class="e-dbrd-filter-title"> '+this.model.localeSettings.dashboardFilters+" <\/p> <\/div>",this.filterpanelContentWrapper.append(r)),this.filterpanelContentWrapper.prepend(this.globalFilterWrapper),this._setGlobalFilterBanner())},_setGlobalFilterBanner:function(){t.isNullOrUndefined(this.globalFilterWrapper)||(this.includeGlobalFilter&&this.hasDashboardFilters?this.globalFilterWrapper.find("#global_filter_banner").css("display","block"):this.globalFilterWrapper.find("#global_filter_banner").css("display","none"))},_onFilterScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"#ff000000"});r.find(".e-vup").css({"font-size":"6px"});r.find(".e-vdown").css({"font-size":"6px",top:"-5px"});r.find(".e-vhandle").css({width:"5px"});r.find(".e-hup").css({"font-size":"7px"});r.find(".e-hdown").css({"font-size":"7px"});r.find(".e-hhandle").css({height:"8px","margin-top":"2px",bottom:"3px"})}},_onFilterScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vup").css({"font-size":"0"});r.find(".e-vdown").css({"font-size":"0"});r.find(".e-vhandle").css({width:"5px",left:"0"});r.find(".e-hup").css({"font-size":"0"});r.find(".e-hdown").css({"font-size":"0"});r.find(".e-hhandle").css({height:"5px"})}},_adjustZeros:function(n,i,r,u){if(!t.isNullOrUndefined(u&&r&&i&&n)){t.preferredCulture(u);var e=r,f=n,o=parseInt(r.replace(/^\D+/g,""));return i===t.DashboardConstants.Zero?(f.fraction===t.DashboardConstants.Zero?(f={fraction:t.DashboardConstants.Zero,symbol:""},e=r.replace(o,"0")):(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.symbol):i===""?f.fraction:(f.fraction===t.DashboardConstants.Zero&&(f={fraction:t.DashboardConstants.Zero,postFixLabel:""},e=r.replace(o,"0")),(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.postFixLabel)}return null},_truncateNumber:function(n){var f=Math.pow(10,3),i=Math.pow(10,6),r=Math.pow(10,9),u=Math.pow(10,12),t=n;return t>=f&&t<i||t<=-f&&t>-i?{fraction:this._calculateFraction(t,f),symbol:"K"}:t>=i&&t<r||t<=-i&&t>-r?{fraction:this._calculateFraction(t,i),symbol:"M"}:t>=r&&t<u||t<=-r&&t>-u?{fraction:this._calculateFraction(t,r),symbol:"B"}:t>=u||t<=-u?{fraction:this._calculateFraction(t,u),symbol:"T"}:{fraction:t,symbol:""}},_calculateFraction:function(n,i){return!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)?n/i:null},_applyNumberUnit:function(n,i){var r=t.DashboardConstants.One,u=Math.pow(10,3),f=Math.pow(10,6),e=Math.pow(10,9),o=Math.pow(10,12);switch(n){case t.DashboardConstants.One:return{fraction:i/r,postFixLabel:""};case 2:return{fraction:i/u,postFixLabel:"K"};case 3:return{fraction:i/f,postFixLabel:"M"};case 4:return{fraction:i/e,postFixLabel:"B"};case 5:return{fraction:i/o,postFixLabel:"T"};default:return{fraction:i,postFixLabel:""}}},_callFunction:function(n,t){var i=this;setTimeout(function(){i._trigger("beforeWidgetRender",{data:t});t?n.call(i,t):n.call(i);i._trigger("afterWidgetRender",{data:t})},4)},refreshData:function(n){var a=100,o={},s,h,r,f,v,l;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){var u="",c=0,i=null,e=null;if(t.isNullOrUndefined(n))return;if(this.flag=!1,t.isNullOrUndefined(this.model.dataSource)||this.model.dataSource.length!==t.DashboardConstants.Zero){if(!t.isNullOrUndefined(n))for(s=0;s<n.length;s++)for(h=0;h<this.model.dataSource.length;h++)n[s].filterId===this.model.dataSource[h].filterId&&(this.model.dataSource[h]=n[s])}else{this.model.dataSource=n;this.loadFilterLayout();return}for(this.target=[],c=0;c<this.model.dataSource.length;c++)if(r=this.model.dataSource[c],i=new Dbrdcontrol,f=new dbrdcontrolData,i.isControlFilter=!0,u=r.filterId.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.filterId:r.filterId.substr(t.DashboardConstants.Zero,r.filterId.indexOf("_")),u=u.toLowerCase(),i.reportName=r.filterId,v=this.element.find(".e-dbrd-control .e-dbrd-filter-wrapper[data-controlid="+r.filterId+"]"),v.length===t.DashboardConstants.One&&(l=v.find(".e-js").attr("id"),t.isNullOrUndefined(l)||l===""||this.target.push(l)),u===t.dashboardFilterPanel.controls.DatePicker.toLowerCase()||u===t.dashboardFilterPanel.controls.CheckBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RadioButton.toLowerCase()||u===t.dashboardFilterPanel.controls.FilterComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.ComboBox.toLowerCase()||u===t.dashboardFilterPanel.controls.RangeSlider.toLowerCase()||u===t.dashboardFilterPanel.controls.ListBox.toLowerCase()){i.currentPage=1;!t.isNullOrUndefined(r.filterInfo.data)&&r.filterInfo.data.length>0&&(f.pagedata=JSON.parse(r.filterInfo.data),i.errorOccured=!1,f.pageNumber=1,f.LastUpdateTime="");t.isNullOrUndefined(r.filterInfo.error)||(f.pagedata=r.filterInfo.error,i.errorOccured=!0,f.isError=!0);t.isNullOrUndefined(r.filterInfo.configInfo)||(i.configInfo=JSON.parse(r.filterInfo.configInfo));t.isNullOrUndefined(r.filterInfo.dynamicData)||(i.dynamicData=JSON.parse(r.filterInfo.dynamicData));t.isNullOrUndefined(r.filterInfo.layout)||(i.layout=JSON.parse(r.filterInfo.layout));i.data.push(f);e=this.dashboardControls.getControlByReport(i.reportName);e!==null&&(e.customTheme!==null&&(i.customTheme=e.customTheme),!f.isError&&e.errorOccured&&(e.configInfo=i.configInfo,e.errorOccured=!1),i.SelectedFilterInfo=e.SelectedFilterInfo,i.SelectedItems=e.SelectedItems);switch(u){case"datepicker":i.controlType=t.dashboardFilterPanel.controls.DatePicker;i.maxMinData=i.dynamicData.Data;break;case"checkbox":case"radiobutton":i.controlType=u==="checkbox"?t.dashboardFilterPanel.controls.CheckBox:t.dashboardFilterPanel.controls.RadioButton;i.scrollSetting.controlPerPage=100;o={controldata:f,widgetType:i.controlType};this._updateVirtualScrollSettings(o,i,a);break;case"rangeslider":i.controlType=t.dashboardFilterPanel.controls.RangeSlider;break;case"combobox":case"filtercombobox":i.controlType=t.dashboardViewer.Controls.FilterComboBox;i.data[0].selectedValues=i.dynamicData.SelectedValues;i.scrollSetting.controlPerPage=100;o={controldata:f,widgetType:i.controlType};this._updateVirtualScrollSettings(o,i,a);t.isNullOrUndefined(i.dynamicData)||i.dynamicData.SelectedValues===null||!i.configInfo.SelectFirstItem||t.isNullOrUndefined(i)||i.reportName!==this.currentMasterWidget||(i.SelectedFilterInfo=t.isNullOrUndefined(i.dynamicData.SelectedValues)?[]:i.dynamicData.SelectedValues);break;case"listbox":i.controlType=t.dashboardViewer.Controls.ListBox;i.scrollSetting.controlPerPage=100;o={controldata:f,widgetType:i.controlType};this._updateVirtualScrollSettings(o,i,a)}i.loadedPages=[];this.dashboardControls.updateCurrentReport(i)}this._renderWidgets(n)}else t.isNullOrUndefined(this.currentMasterWidget)||this._destoryAllLoaders()},_updateVirtualScrollSettings:function(n,t,i){var r=0;Array.isArray(n.controldata.pagedata)?r=n.controldata.pagedata.length:typeof n.controldata.pagedata=="string"&&(r=0);r<i?t.totalCount+=r:t.totalCount=r+i},_removeAllControlSelectedValues:function(n){var i=[],r;for(t.isNullOrUndefined(n)?i=this.dashboardControls.getAllControls():i.push(this.dashboardControls.getControlByReport(n)),r=0;r<i.length;r++)switch(i[r].controlType){case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardFilterPanel.controls.ComboBox:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.ListBox:i[r].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.RangeSlider:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[]}},resizeFilterPanel:function(){for(var c=n(this.element).find(".e-dashboarddatepicker"),i=null,r=0,u,o,e,l,h,v,a,s,f,y,r=0;r<c.length;r++)i=c.eq(r).parents(".e-dbrd-filter-wrapper"),i.width()!==t.DashboardConstants.Zero&&c.eq(r).ejDashboardDashboardDatePicker({width:i.width()-(i.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.Zero:30)+"px"});for(u=n(this.element).find(".e-dropdownlist"),r=0;r<u.length;r++)i=u.eq(r).parents(".e-dbrd-filter-wrapper"),i.width()!==t.DashboardConstants.Zero&&(u.eq(r).ejDashboardDropDownList({width:i.width()-(i.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.IndexLowerBound:30)+"px"}),t.isNullOrUndefined(u)||n("#"+n(u).attr("id")+"_popup_list_wrapper").css({"max-width":this.element.width()-this.currentTabContentElement.find("#"+n(u).attr("id")).offset().left+"px"})),i.height()!==t.DashboardConstants.Zero&&u.eq(r).ejDashboardDropDownList({height:"31px"});for(o=n(this.element).find(".e-slider"),e=0;e<o.length;e++)i=o.eq(e).parents(".e-dbrd-filter-wrapper"),l=this.dashboardControls.getControlByReport(i.attr("data-controlid")),i.width()!==t.DashboardConstants.Zero&&l&&(l.configInfo.orientation==="vertical"?o.eq(e).ejDashboardSlider({height:i.height()-120+"px"}):o.eq(e).ejDashboardSlider({width:i.width()-120+"px"}));for(h=n(this.element).find(".e-listbox"),v=n(this.element).find(".e-dbrd-control-listbox"),r=h.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--)i=h.eq(r).parents(".e-dbrd-filter-wrapper"),a=h.eq(r).attr("id"),s=n("#"+a).data("ejDashboardListBox"),!t.isNullOrUndefined(s)&&s.length>t.DashboardConstants.Zero&&(s.option("height",i.height()-37+"px"),s.option("width",i.width()-15+"px")),v.eq(r).css({height:"100%",width:"100%"}),n("#"+a+"_container").css({width:"100%",height:"100%"});n(window).width()<t.DashboardConstants.MobileWidth?this.element.find(".e-dbrd-filter-title").css({"text-transform":"none"}):this.element.find(".e-dbrd-filter-title").css({"text-transform":"uppercase"});f=this;y=this.element.find(".e-dbrd-dashboard-filter-banner").height();n(window).width()<t.DashboardConstants.MobileWidth?this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"20px","padding-right":"20px"}):(this.element.find(".e-dbrd-filter-wrapper").css({"padding-left":"8px","padding-right":"8px"}),this.filterpanelWrapper.css({transform:"scale("+this.model.deScalingFactor+")"}),this.filterpanelWrapper.ejDashboardScroller({height:this.element.height()-y+"px",width:this.element.width()+"px"}),this.filterpanelWrapper.css({transform:"scale(1)"}));setTimeout(function(){f.element.find("#"+f._id+"_layout_wrapper").data("ejDashboardScroller")&&(f.filterpanelWrapper.css({transform:"scale("+f.model.deScalingFactor+")"}),f.element.find("#"+f._id+"_layout_wrapper").data("ejDashboardScroller").refresh(),f.filterpanelWrapper.css({transform:"scale(1)"}))},1e3)},_createWidgetContainers:function(){this.dashboardControls.controls.length!==t.DashboardConstants.Zero&&(this.includeGlobalFilter&&this.isGlobalFilterUpdated&&this._createGlobalFilterContainer(),this._createDashboardFilterContainer())},_hasDashboardFilter:function(){var r,n,i;if(!t.isNullOrUndefined(this.dashboardControls)&&!t.isNullOrUndefined(this.dashboardControls.controls))for(r=this.dashboardControls.controls.length,n=0;n<r;n++)if(i=this.dashboardControls.controls[n],!t.isNullOrUndefined(i.configInfo)&&(t.isNullOrUndefined(i.configInfo.IsGlobalFilter)||!i.configInfo.IsGlobalFilter))return!0;return!1},_createDashboardFilterContainer:function(){var i=this.dashboardControls.getAllDashboardFilterControls(),r,n,u;if(!t.isNullOrUndefined(i))for(r=i.length,n=0;n<r;n++){var f=i[n],e=n===r-t.DashboardConstants.One,o=this._createWidgetContainer(f,e,this._id);this.dashboardFilterWrapper.append(o);n!==t.DashboardConstants.Zero||this.includeGlobalFilter||(u=this.element.find(".e-dbrd-loader-outer-circle"),u.css({"box-shadow":"0px 1px 3px 0px rgba(0,0,0,0.26)"}))}},_createGlobalFilterContainer:function(){var i=this.dashboardControls.getAllGlobalFilterControls(),r,n,u;if(!t.isNullOrUndefined(i))for(r=i.length,n=0;n<r;n++){var f=i[n],e=n===r-t.DashboardConstants.One,o=this._createWidgetContainer(f,e&&this.model.hasMultiTab,this._globalFilterId);this.globalFilterWrapper.append(o);n===t.DashboardConstants.Zero&&(u=this.element.find(".e-dbrd-loader-outer-circle"),u.css({"box-shadow":"0px 1px 3px 0px rgba(0,0,0,0.26)"}))}},_createWidgetContainer:function(i,r,u){var o='<div class="e-dbrd-filter-wrapper" id="'+u+"_cell_"+i.configInfo.Row+"_"+i.configInfo.Column+'" data-controlId="'+i.configInfo.Id+'" controlType="'+i.controlType+'"><div class="e-dbrd-control-container" style="position:relative" id="'+(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)+'"><div class="e-control-heading"><div class="e-dbrd-filterwidget-title-container"><div class="e-dbrd-filterwidget-title">'+(t.isNullOrUndefined(i.layout)?i.configInfo.Id:t.isNullOrUndefined(i.layout.DisplayName)?i.layout.ReportName:i.layout.DisplayName)+'<\/div><div class= "e-dbrd-filterwidget-icon-container"><div class="e-remove-control-filter e-dbrd-filter-hoverable e-remove-control-filter-disable e-dbrd-filterpanel-icon" data-tooltip="'+this.model.localeSettings.clearFilterText+'"><\/div><div class="e-dbrd-filterPanel-widget-withoutcomments e-dbrd-filter-hoverable e-dbrd-filterpanel-icon" data-widget-id="'+(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)+'" data-tooltip="'+this.model.localeSettings.comment+'"><\/div><\/div><\/div><\/div><div class ="e-dbrd-filter-control-wrapper"><div class = "e-dbrd-control"> <\/div><\/div>'+(r?'<div class = "e-dbrd-control-separater" ><\/div>':'<div class = "e-dbrd-control-separater" ><hr  style = "margin: 0!important"/><\/div>')+"<\/div>",f=n(o),e;return i.controlType===t.dashboardFilterPanel.controls.ListBox?n(f).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:""+i.configInfo.VisibleItemCount*32+"px"}):i.controlType===t.dashboardFilterPanel.controls.CheckBox||i.controlType===t.dashboardFilterPanel.controls.RadioButton?n(f).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:"96px"}):n(f).find(".e-dbrd-filter-control-wrapper").css({width:"100%",height:"50px"}),this.model.allowComment?(e=n(f).find(".e-dbrd-filterPanel-widget-withoutcomments"),this._isWidgetCommented(t.isNullOrUndefined(i.layout)?"":i.layout.Guid)&&e.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-filterPanel-widget-withcomments"),e.show()):n(f).find(".e-dbrd-filterPanel-widget-withoutcomments").hide(),f},_isWidgetCommented:function(n){for(var t=0;t<this.model.commentSettings.widgets.length;t++)if(this.model.commentSettings.widgets[t]===n)return!0;return!1},_renderWidgets:function(n){var u,i,e,o,c,f,s;if(this.dashboardControls.controls.length===t.DashboardConstants.Zero){this._destoryAllLoaders();return}var h={},r=null;for(t.isNullOrUndefined(this.model.selectedData)||(r=this.model.selectedData),u=t.DashboardConstants.Zero;u<this.model.dataSource.length;u++)if(i=this.dashboardControls.getControlByReport(this.model.dataSource[u].filterId),!this.includeGlobalFilter||!i.configInfo.IsGlobalFilter||this.isGlobalFilterUpdated){if(this.model.dataSource.length===u&&(this._isFromTabSwitchRefresh=!1),e=!1,t.isNullOrUndefined(n))e=!0;else for(o=0;o<n.length;o++)if(n[o].filterId===i.reportName){e=!0;break}if(!t.isNullOrUndefined(i)&&i.reportName!==this.currentMasterWidget&&e){if(c=i.controlType,!t.isNullOrUndefined(r))for(f=0;f<r.length;f++)if(r[f].ReportName===i.reportName){i.SelectedFilterInfo.push(r[f]);break}switch(c){case"ComboBox":case"FilterComboBox":this._callFunction(this._renderFDropDownList,i);break;case"DatePicker":this._callFunction(this._renderDatePicker,i);break;case"RangeSlider":this._callFunction(this._renderRangeSlider,i);break;case"CheckBox":case"RadioButton":i.scrollSetting.controlPerPage=100;h.controldata=i.data[i.currentPage-1];this._updateVirtualScrollSettings(h,i,100);this._callFunction(this._renderCheckBoxandRadioButton,i);break;case"ListBox":this._callFunction(this._renderListBox,i)}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.widgetCustomThemeValues)&&this.applyCustomThemeForWidgets()}}s=this;this.currentMasterWidget=null;this._callFunction(function(){s._destoryAllLoaders()});setTimeout(function(){s.flag=!0},500)},_destroyLoader:function(){var i=this.element.find(".e-dbrd-loader"),n,r;if(i.length!==t.DashboardConstants.Zero)for(n=t.DashboardConstants.Zero;n<i.length;n++)r=i.eq(n),r.remove()},_makeSlaveDataRequest:function(n){if(this.target=[],this.currentMasterWidget=n.master,!t.isNullOrUndefined(this.model.beforeFilterApplied)){var i=this.dashboardControls.getControlByReport(n.master);this._trigger("beforeFilterApplied",{data:n,selectedValue:i.SelectedFilterInfo,filterControls:this.dashboardControls,master:n.master})}},_removeControlFilter:function(i){var r=n(i.currentTarget),u;if(this.clearFilter=!0,!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero))r.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}),r.parents(".e-dbrd-control-container").find(".e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");else{if(n(i.currentTarget).hasClass("e-remove-control-filter-disable"))return;n(r).addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");n(r).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}u=this.element.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&u.remove();var e=!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?n(r).attr("id").substr(t.DashboardConstants.Zero,n(r).attr("id").indexOf("_removeControlFilter")):n(r).attr("id").substr(t.DashboardConstants.Zero,n(r).attr("id").indexOf("_removeControlFilter")),f=!t.isNullOrUndefined(r.hasClass)&&(r.hasClass("e-dbrd-control")||r.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?r.parents(".e-dbrd-filter-wrapper"):r.parents(".e-dbrd-filter-wrapper"),o=n(f).attr("data-controltype");this.CurrentMaster=n(f).attr("data-controlId");this._removeAppliedFilter(e,o,i)},_removeAppliedFilter:function(i,r){var c,l,h,w,o;this.CurrentMaster===""||t.isNullOrUndefined(this.CurrentMaster)||this._removeAllControlSelectedValues(this.CurrentMaster);var b=i+"_removeControlFilter",a=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All,s=this.element.find("#"+b);t.isNullOrUndefined(s)&&s.length!==t.DashboardConstants.Zero||(s.addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));var f=t.DashboardConstants.Zero,u=null,e=!1;switch(r){case"CheckBox":if(c=!n("#"+i).hasClass("e-dbrd-control-checkbox"),c)l=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+a+"]"),l.length!==t.DashboardConstants.Zero&&l.ejDashboardRadioButton("instance").option("checked",!0);else if(h=n("#"+i+" .e-checkbox.e-js.e-input"),h.length!==t.DashboardConstants.Zero)for(f=0;f<h.length;f++)h.eq(f).ejDashboardCheckBox("instance").option("checked",!0);this._loadCheckBoxSlaves(this.CurrentMaster,c);break;case"RangeSlider":u=n("#"+i).data("ejDashboardSlider");t.isNullOrUndefined(u._isDate)?(u.option("values",[u.model.minValue,u.model.maxValue]),u.option("value",u.model.maxValue)):u.model.sliderType==="range"?u.option("dateValue",[u.model.minDate,u.model.maxDate]):u.option("dateValue",u.model.maxDate);u.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.Zero]:this._applyFormattingForSlider(u.model.formatColumn,u.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.One]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[t.DashboardConstants.One]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue));this._onRangeSliderChange(this.CurrentMaster,"",null);break;case"DatePicker":u=n("#"+i).ejDashboardDashboardDatePicker("instance");u&&(u.model.value=null,u.redraw());this._onDatePickerChange(this.CurrentMaster,null);break;case"FilterComboBox":case"ComboBox":u=n("#"+i).data("ejDashboardDropDownList");var k=JSON.parse(JSON.stringify(this.dashboardParameters)),v="false",y="false",p=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;if(t.isNullOrUndefined(u))u=n("#"+i+"_lstbx").data("ejDashboardListBox"),e=!1,t.isNullOrUndefined(u)||(e=u.model.showCheckbox,e?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(u.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0))),this._loadListBoxSlaves(this.CurrentMaster,i+"_lstbx","",e,null);else{for(w=u.model.change,u.model.change=null,u._isFilterCleared=!0,u._totalSelectedItems=[],p.SelectFirstItem=!1,o=t.DashboardConstants.Zero;o<u.model.query._params.length;o++)switch(u.model.query._params[o].key){case"masterData":u.model.query._params[o].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":u.model.query._params[o].value=JSON.stringify([]);break;case"searchSelectedCount":u.model.query._params[o].value=0}for(f=t.DashboardConstants.Zero;f<u.model.query._params.length;f++)u.model.query._params[f].key==="hasNull"?v=u.model.query._params[f].value:u.model.query._params[f].key==="hasEmpty"&&(y=u.model.query._params[f].value);u.model.showCheckbox?u.option("checkAll",!1):u.unselectItemsByIndices(u.model.selectedItems);u.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",p.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",u._totalCount).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("selectedItems",JSON.stringify([])).addParams("searchSelectedCount",t.DashboardConstants.Zero).addParams("hasNull",v).addParams("hasEmpty",y).addParams("isPublic",this.isPublicDashboard).addParams("isUnlisted",this.isUnlistedDashboard).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("isWebDesigner",this.isWebDesigner).addParams("unlistedCode",this.unlistedCode).addParams("itemId",this.itemId).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("customCulture",this.model.localeSettings.culture).addParams("dashboardName",this.dashboardName).addParams("methodName",this.model.serviceMethods.getControlDataOnDemand).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(k))).addParams("serverUrl",this.serverUrl()));u.clearText();u.option("watermarkText",a);this._onGlobalFilterChange(!1,u.model.showCheckbox,!0,this.CurrentMaster,null);u.model.change=w}break;case"ListBox":u=n("#"+i+"_lstbx").data("ejDashboardListBox");e=!1;t.isNullOrUndefined(u)||(e=u.model.showCheckbox,e?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):u.unSelectAll());this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",e,null)}},_hideFilterPanel:function(){this.close()},_destroy:function(){this._unWireEvents();this._destroySlaveControls();this.element.empty().removeClass("e-dashboardfilterpanel"+this.model.cssClass);this._clearTimers()},_destroySlaveControls:function(){try{t.widget.destroyAll(n(this.element).find(".e-js").off())}catch(i){console(i.message)}},_destoryAllLoaders:function(){for(var i,r=this.element.find(".e-dbrd-loader"),n=0;n<r.length;n++)r.eq(n).remove();i=this.element.find(".e-dbrd-filterpanel-wrapper");t.isNullOrUndefined(i)||i.css({opacity:"1"})},_createControlLoader:function(i,r){var u,o,f,e;i.length!==t.DashboardConstants.Zero&&(t.isNullOrUndefined(r)&&(r=.5),u=i.find(".e-dbrd-loader"),u.length!==t.DashboardConstants.Zero?(u.show(),u.find("e-dbrd-loader-circle").css({zoom:r})):(o='<div class="e-dbrd-loader"><div class="e-dbrd-loader-outer-circle"><svg class="e-dbrd-loader-circle"><circle class="path" cx="24" cy="24" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div><\/div>',f=this.element.find(".e-dbrd-filterpanel-wrapper"),t.isNullOrUndefined(f)||f.css({opacity:"0.26"}),e=n(o),e.css({fill:"#FFFFFF",opacity:"1"}),i.append(e)))},_hideControlLoader:function(n){var i=n.find(".e-dbrd-loader");i.length!==t.DashboardConstants.Zero&&i.remove()},_checkMasterData:function(n){if(!t.isNullOrUndefined(this.masterData))for(var i=0;i<this.masterData.length;i++)if(this.masterData[i].Key===n)return i;return null},_showControlError:function(i,r,u){var f,e;t.isNullOrUndefined(i&&r&&u)||(f=r,f.hasClass("e-dbrd-layout-cell")&&(f=f.children()),e=f.siblings(".e-dbrd-control-error")||f.children(".e-dbrd-control-error"),f.children().hide(),e.length===t.DashboardConstants.Zero?(e=n("<div>").addClass("e-dbrd-control-error align-center"),e.append(n("<div>").addClass("widget-error-icon").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable"),n("<div>").addClass("e-dbrd-controlError-msg").html(i),n("<div class='e-dbrd-link-btn'>").html(this.model.localeSettings.knowMore).data({"error-msg":u.msg})),f.css({display:"table"}),e.css({"border-radius":f.parent().css("border-radius")}),e.append(n("<button type='button' class='reload-retrievalerror-icon reload-button'>   Reload<\/button>").addClass("e-dbrd-refresh-link-btn").data({control:f})),f.append(e),e.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),e.find(".e-dbrd-controlError-msg").remove(),e.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single")):e.show().html(i),f.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}),f.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"none"}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]))},_hideControlError:function(n){var i,r;t.isNullOrUndefined(n)||(i=n.find(".e-dbrd-control-error")||n.siblings(".e-dbrd-control-error"),i.length!==t.DashboardConstants.Zero&&(r=n.find(".e-control-heading"),r.length!==t.DashboardConstants.Zero&&r.css({display:"block"}),n.css({width:"100%"}),n.children().show(),i.hide(),n.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"block"})))},_applyOrRemoveNoDataAvailableForFilters:function(i,r){return t.isNullOrUndefined(i,r)?null:i===t.DashboardConstants.Zero?(n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-nodata").length===t.DashboardConstants.Zero&&n(r).closest(".e-dbrd-filter-control-wrapper").css({display:"table"}).append(n('<div style="margin-top:12px;" >').html(this.model.localeSettings.NoData).addClass("e-nodata")),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide(),!1):(n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-nodata").remove(),n(r).closest(".e-dbrd-filter-control-wrapper").find(".e-dbrd-control").show(),!0)},_applyOrRemoveNoDataAvailable:function(i,r){var u=r,f,e,s,o;return(u&&u.find(".e-dbrd-control-nodatainfo").remove(),u.hasClass("e-dbrd-layout-cell")&&(u=u.children()),f=u.siblings(".e-dbrd-control-nodatainfo")||u.children(".e-dbrd-control-nodatainfo"),e=n("<div>").addClass("e-dbrd-control-nodatainfo align-center").css({display:"inline-block"}),i===t.DashboardConstants.Zero)?(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}),f.length===t.DashboardConstants.Zero?(u.children().hide(),f=n('<div style="height:auto; width:100%; display:table">').addClass("e-dbrd-control-nodatainfo"),e.append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.model.localeSettings.NoData).addClass("e-nodata")),u.css({display:"table"}),f.append(e),u.append(f)):(u.children().hide(),f.show().html(this.model.localeSettings.NoData).addClass("e-nodata")),s=u.height()-e.height(),e.css({"margin-top":s/2}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]),!1):(u.children().show(),o=u.parents(".e-dbrd-filter-wrapper").attr("controltype"),o===t.dashboardFilterPanel.controls.ComboBox||o===t.dashboardFilterPanel.controls.FilterComboBox||o===t.dashboardFilterPanel.controls.RangeSlider?u.css({display:"table"}):u.css({display:"block"}),this._hideControlError(u),f.remove(),this.model.responsiveSettings.showMaximize?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}):n(window).width()<786?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),this.model.responsiveSettings.showExport?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}):n(window).width()<786?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"none"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),!0)},clearAppliedFilters:function(){var o=this.model.dataSource,e=null,f=null,u=null,r,i;if(o.length>t.DashboardConstants.Zero)for(r=this.element.find(".e-remove-control-filter-enable"),i=0;i<r.length;i++)r.eq(i).removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable"),f=n(r[i]).attr("id"),e=f.substring(t.DashboardConstants.Zero,f.lastIndexOf("_")),u=n(r[i]).parents(".e-dbrd-filter-wrapper").attr("controlType"),u==="ComboBox"&&(u="FilterComboBox"),this._removeAppliedFilter(e,u)},_applyCustomTheme:function(){!t.isNullOrUndefined(this.model.customThemeSettings.filterPanel["background-color"])&&this.model.customThemeSettings.filterPanel["background-color"].length>t.DashboardConstants.Zero&&n(".e-dashboardfilterpanel").css({"background-color":this.model.customThemeSettings.filterPanel["background-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.filterPanel["separator-color"])&&this.model.customThemeSettings.filterPanel["separator-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-dashboard-filter-banner").css({"border-bottom-color":this.model.customThemeSettings.filterPanel["separator-color"]}),this.element.find(".e-dbrd-control-separater hr").css({color:this.model.customThemeSettings.filterPanel["separator-color"]}));this._customThemeFontSettings();this._customThemeBannerSettings();this._customThemeForContainer()},_customThemeFontSettings:function(){var i,r;!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.css("font-family",this.model.customThemeSettings.fontSettings["font-family"]),this.element.find(".e-dbrd-filter-title").css("font-family",this.model.customThemeSettings.fontSettings["font-family"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(i=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(i["font-family"])&&i["font-family"].length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.src)&&i.src.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.format)&&i.format.length>t.DashboardConstants.Zero&&(n("head").prepend('<style type= "text/css"> @font-face {\n font-family: "'+i["font-family"]+'" ;\n  src: url(  "'+i.src+'" )format( "'+i.format+'");\n } \n  <\/style>'),r=this.element[0],r.style.setProperty("font-family",i["font-family"],"important"),this.element.find(".e-dbrd-filter-title").css("font-family",i["font-family"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-filter-title").css("font-size",this.model.customThemeSettings.fontSettings["font-size"]),this.element.find(".e-dbrd-filterwidget-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}))},_customThemeBannerSettings:function(){!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["background-color"])&&this.model.customThemeSettings.bannerSettings["background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-dashboard-filter-banner").css({"background-color":this.model.customThemeSettings.bannerSettings["background-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["title-color"])&&this.model.customThemeSettings.bannerSettings["title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filter-title").css({color:this.model.customThemeSettings.bannerSettings["title-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["icons-color"])&&this.model.customThemeSettings.bannerSettings["icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-filter-close").css({color:this.model.customThemeSettings.bannerSettings["icons-color"]}),this.element.find(".e-dbrd-filter-back").css({color:this.model.customThemeSettings.bannerSettings["icons-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.bannerSettings["font-size"])&&this.model.customThemeSettings.bannerSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.css({"font-size":this.model.customThemeSettings.bannerSettings["font-size"]})},_customThemeForContainer:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.container)){var i=this.model.customThemeSettings.container,r="";!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(r=r+"background-color:"+i["background-color"]+" !important;");!t.isNullOrUndefined(i["border-radius"])&&i["border-radius"].length>t.DashboardConstants.Zero&&(r=r+"border-radius:"+i["border-radius"]+" !important;");!t.isNullOrUndefined(i["box-shadow"])&&i["box-shadow"].length>t.DashboardConstants.Zero&&(r=r+"box-shadow:"+i["box-shadow"]+"!important");n(".e-dbrd-control-container").each(function(){this.style.cssText=r});r="";!t.isNullOrUndefined(i["header-background-color"])&&i["header-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-control-heading").css({"background-color":i["header-background-color"]});!t.isNullOrUndefined(i["title-color"])&&i["title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterwidget-title").css({color:i["title-color"]});!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterwidget-title").css({"font-size":i["font-size"]});!t.isNullOrUndefined(i["icons-color"])&&i["icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-filterpanel-icon").css({color:i["icons-color"]})}},applyCustomThemeForWidgets:function(){var r,i,f;if(!t.isNullOrUndefined(this.model.customThemeSettings.widgetThemeSettings)&&n(this.model.customThemeSettings.widgetThemeSettings).length>t.DashboardConstants.Zero){var s=this.model.customThemeSettings.widgetThemeSettings,e=this.dashboardControls.controls,u=null,o=null;for(r=t.DashboardConstants.Zero;r<e.length;r++){if(u=e[r],!t.isNullOrUndefined(this.model.customThemeSettings.widgetCustomThemeValues))for(i=t.DashboardConstants.Zero;i<this.model.customThemeSettings.widgetCustomThemeValues.length;i++)f=u.controlType.toLocaleLowerCase(),this.model.customThemeSettings.widgetCustomThemeValues[i].control===f&&(t.isNullOrUndefined(s[f])||(o=this.model.customThemeSettings.widgetCustomThemeValues[i].customThemeValue));this.customThemeForFiltersInPanel(u,o)}}},customThemeForFiltersInPanel:function(i,r){var h,l,c;if(this.model.enableCustomTheming&&!t.isNullOrUndefined(r)&&r!=="")for(var f=null,u=null,s=this.dashboardControls.controls,f=t.DashboardConstants.Zero;f<s.length;f++)if(s[f].controlType===i.controlType&&s[f].reportName===i.reportName&&(h=i.isMaximize?i.Id:this._id+"_"+i.controlType+"_"+i.reportName,s[f].controlThemeName=r,this.model.customThemeSettings.widgetThemeSettings!==null&&(l=n("<style>").attr("id",h+"_style"),c=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLowerCase()],c!==null&&c[r]!==null))){var a=c[r],e=Object.keys(a),o=null;for(u=t.DashboardConstants.Zero;u<e.length;u++)t.isNullOrUndefined(o)?o=this._generateCSSFromJson(h,i.controlType,e[u],a[e[u]]):o+=" "+this._generateCSSFromJson(h,i.controlType,e[u],a[e[u]]);t.isNullOrUndefined(o)||(l.append(o),n("head").append(l))}},_objectValues:function(n){var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(n[i]);return t},_generateCSSFromJson:function(n,i,r,u){var f=t.DashboardConstants.Zero,s=null,o=null,e=Object.keys(u),c,h;for(i==="PivotGrid"&&(n=n+"_div"),f=t.DashboardConstants.Zero;f<e.length;f++)if(c=this._getControlClassName(r,e[f],i,n),!t.isNullOrUndefined(c))for(h=c.split(","),o=t.DashboardConstants.Zero;o<h.length;o++)t.isNullOrUndefined(s)?s="#"+n+h[o]+" { "+this._getPropertyName(e[f])+" : "+u[e[f]]+" !important}":s+=" #"+n+h[o]+" { "+this._getPropertyName(e[f])+" : "+u[e[f]]+" !important}";return s},_getControlClassName:function(n,i,r,u){switch(r){case"FilterComboBox":switch(n){case"combobox":return"_container .e-input,_container ::-webkit-input-placeholder,_container ::-moz-placeholder,_container :-ms-input-placeholder,_container :-moz-placeholder";case"button":return"_container .e-select";case"dropdownlist":return"_popup_wrapper .e-dbrd-canvas.e-ddl-popup";case"icon":return i==="tick-color"?"_popup_wrapper .e-ddl-popup .e-check-act:before":i==="search-icon-color"?"_popup_wrapper .e-atc.e-search .e-isearch:before, .e-atc.e-search .e-iclose:before":"_popup_wrapper .e-ddl-popup .e-checkwrap";case"hover":return"_popup_wrapper li.e-hover";case"searchbox":return"_popup_wrapper .e-atc .e-input";case"selection":return"_popup_wrapper.e-drbd-cntrl-combobox .e-active"}break;case"CheckBox":if(u.indexOf("RadioButton")!==t.DashboardConstants.IndexLowerBound)switch(n){case"label":return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-rad-active:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-spanicon"}else switch(n){case"label":return".e-dbrd-control-checkbox .e-dbrd-checkbox-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-image:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-act"}break;case"RangeSlider":switch(n){case"container":return"_wrapper.rangeslider_wrapper";case"range":return i==="range-color"?".e-slider .e-range":".e-slider.e-widget";case"handle":return" .e-handle.e-select";case"label":return"leftcontainer_"+u+" label","rightcontainer_"+u+" label"}break;case"ListBox":switch(n){case"listbox":return" .e-content";case"icon":return i==="tick-color"?" .e-chkbox-wrap .e-chk-image:before":" .e-chkbox-wrap .e-chk-act";case"hover":return" .e-listbox .e-hover"}break;case"DatePicker":switch(n){case"textbox":return".e-FilterBox.e-dashboarddatepicker.e-js.e-input-main";case"calendar":return i==="currentmonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-current-month":i==="week-header-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-week-header th":i==="days-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td":i==="othermonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .other-month":i==="next-arrow-color"?"_wrapper .e-dashboarddatepicker-icon i:before":"_popup_wrapper.e-dashboarddatepicker-popup-wrapper";case"selection":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td.selected";case"hover":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td:hover";case"icon":if(i==="calendar-color")return"_wrapper .e-dashboarddatepicker-icon:before";if(i==="arrow-color")return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-arrow-enabled  i:before"}}},_processResponseMessage:function(i){return t.isNullOrUndefined(i.d)&&(i={d:i}),t.isNullOrUndefined(i.d.ResponseObject)||(i.d=n.type(i.d.ResponseObject)===t.DashboardConstants.typeArray?i.d.ResponseObject:this._keyValuePairConversion(i.d.ResponseObject)),t.isNullOrUndefined(i.d.ResponseData)||(i.d=n.type(i.d.ResponseData)===t.DashboardConstants.typeArray?i.d.ResponseData:this._keyValuePairConversion(i.d.ResponseData)),i},_keyValuePairConversion:function(i){var r=Object.keys(i),e=i,u=[],f,o;return n.type(i)===t.DashboardConstants.typeObject&&r.length===t.DashboardConstants.One&&r[t.DashboardConstants.Zero]!=="WidgetDetails"?(f=e[r[t.DashboardConstants.Zero]],o=Object.keys(f),u.push({Key:r[t.DashboardConstants.Zero],Value:this._getResponseKeyValuePair(o,f,!0)})):u=this._getResponseKeyValuePair(r,e,!1),u},_getResponseKeyValuePair:function(n,t,i){var u=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i?u.push({key:n[r],value:t[n[r]]}):u.push({Key:n[r],Value:t[n[r]]}));return u},_getPropertyName:function(n){switch(n){case"font-color":case"filter-icon-color":case"sort-icon-color":case"expand-icon-color":case"collapse-icon-color":case"symbol-color":case"tick-color":case"box-color":case"currentmonth-font-color":case"week-header-color":case"days-color":case"arrow-color":case"calendar-color":case"search-icon-color":return"color";case"othermonth-font-color":case"range-color":return"background-color";case"highlight-color":return"border-color"}return n},open:function(){this._trigger("beforeFilterPanelOpen",{dataSource:this.model.dataSource,element:this.element});this.element.show();this._trigger("filterPanelOpen",{dataSource:this.model.dataSource,element:this.element,controls:this.dashboardControls})},close:function(){this._trigger("beforeFilterPanelClose",{dataSource:this.model.dataSource,element:this.element});this.element.hide();this._trigger("filterPanelClose",{dataSource:this.model.dataSource,element:this.element})},getState:function(){return this.element.css("display")==="block"?t.dashboardFilterPanel.state.Open:t.dashboardFilterPanel.state.Closed},showLoader:function(){this._createControlLoader(this.element)},hideLoader:function(){this._hideControlLoader(this.element)}});t.isNullOrUndefined(t.dashboardViewer.filters)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.filters);t.isNullOrUndefined(t.dashboardViewer.dropdownlist)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.dropdownlist);t.isNullOrUndefined(t.dashboardViewer.core)||n.extend(t.DashboardFilterPanel.prototype,t.dashboardViewer.core);t.dashboardFilterPanel.controls={RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",ComboBox:"ComboBox",CheckBox:"CheckBox",RadioButton:"RadioButton",ListBox:"ListBox"};t.dashboardFilterPanel.state={Open:"opened",Closed:"closed"};t.DashboardConstants={All:"All",SelectAll:"(Select All)",SelectDate:"Select Date",Apply:"Apply",From:"From",To:"To",DaysOfWeek:{DaysOfWeekSu:"Su",DaysOfWeekMo:"Mo",DaysOfWeekTu:"Tu",DaysOfWeekWe:"We",DaysOfWeekTh:"Th",DaysOfWeekFr:"Fr",DaysOfWeekSa:"Sa"},MonthNames:{MonthJan:"January",MonthFeb:"February",MonthMar:"March",MonthApr:"April",MonthMay:"May",MonthJun:"June",MonthJul:"July",MonthAug:"August",MonthNov:"November",MonthOct:"October",MonthSep:"September",MonthDec:"December"},MultipleValues:"(Multiple Values)",UrlLink:"Url",DashboardLink:"Dashboard",Culture:"Culture",LoadedVersion:"LoadedVersion",WrongExcel:"WrongExcel",UserUnchecked:"userunchecked",RequireAuthentication:"RequireAuthentication",Authenticate:"Authenticate",Title:"Title",Desc:"Desc",TimeSpan:"TimeSpan",TimeSpanMinutes:"TimeSpanMinutes",TimeSpanHours:"TimeSpanHours",TimeSpanDays:"TimeSpanDays",TimeSpanWeeks:"TimeSpanWeeks",TimeSpanMonths:"TimeSpanMonths",TimeSpanYears:"TimeSpanYears",DateFilterInfoRange:"Range",DateFilterInfoInclude:"Include",ClearAllFilters:"CLEAR ALL",FilterOverview:"Filters Overview",AppliedFilters:"Applied Filters",DateFilterInfoExclude:"Exclude",HasFilterPanel:"HasFilterPanel",GlobalFilter:"GlobalFilter",EnableComments:"EnableComment",Subtitle:"Subtitle",IndexLowerBound:-1,Zero:0,One:1,MinimumWidth:650,MobileWidth:769,Resolution:96,Window:window,Widget:"_Widget_",TabInformation:"TabInformation",ExportSettings:"ExportSettings",Resources:"Resources",IsWidget:"IsWidget",Layout:"Layout",DashboardParameters:"DashboardParameters",ExtendedColumnCount:24,WidgetElement:"Widgets",FilterPanelElement:"FilterPanel",TitleElement:"Title",EmptyObject:"{}",ParameterColumnData:"parameterColumnData",typeObject:"object",typeArray:"array",Gauge:{PointerTypeRangeBar:"RangeBar",PointerTypeNeedle:"Needle",PointerTypeMarker:"Marker",MarkerShapeRectangle:"Rectangle",MarkerShapeTriangle:"Triangle",MarkerShapeInvertedTriangle:"InvertedTriangle",TargetPointerInvertedTriangle:"Inverted Triangle",TargetPointerTrianlge:"Triangle",TargetPointerLine:"Line",TickPositionInside:"Inside",TickPositionOutside:"Outside",ScaleLabelPositionInside:"Inside",ScaleLabelPositionOutside:"Outside",ValueLabelPositionInside:"Inside",TypeHalfRadialGauge:"Half Circle",TypeFullRadialGauge:"Full Circle",TypeHorseShoe:"Horse Shoe",PointerNeedle:"Needle Pointer",PointerRange:"Range Pointer",PointerRangeWithNeedle:"Range with Needle",DirectionHigherIsGood:"HighIsGood",DirectionLowerIsGood:"LowIsGood"},Grid:{RequestTypeSorting:"sorting",RequestTypeFiltering:"filtering"}};t.dashboardViewer.Controls={Grid:"Grid",Chart:"Chart",Card:"Card",TreeMap:"TreeMap",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",DrillDownChart:"DrillDownChart",ComparisonChart:"ComparisonChart",ProportionChart:"ProportionChart",RangeNavigator:"RangeNavigator",RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",CheckBox:"CheckBox",ListBox:"ListBox",Image:"Image",Label:"Label",Gauge:"Gauge",PivotGrid:"PivotGrid",CustomWidget:"CustomWidget"}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.layoutEngine={_renderAuthPromptDialog:function(i){var r,f;if(!t.isNullOrUndefined(i)){var h='<div class="e-dbrd-dialog-content"><p class="e-datasource-name"><\/p><p class="e-error">'+this.locale.utils.InvalidCredentials+'<\/p><div class="e-input-container"><span><input type="text" name="username" class="e-text-box" placeholder="'+this.locale.utils.UserName+'"/><\/span><span><input type="password" name="password" class="e-text-box" placeholder="'+this.locale.utils.Password+'" /><\/span><\/div><\/div>',c='<div class="e-dbrd-dialog"><div class="e-dbrd-dialog-heading"><span class="e-dbrd-dialog-icon e-dbrd-popup-icon"><\/span><strong class="e-dbrd-dialog-title">'+this.locale.utils.AuthenticationRequired+'<\/strong><span class="e-dbrd-dialog-header-error">'+this.locale.utils.FixIssues+'<\/span><\/div><div class="e-dbrd-dialog-content-wrapper e-dbrd-control" id="'+this._id+'_authWindowWrapper"><div><\/div><\/div><div class="e-dbrd-dialog-footer"><input type="button" value="'+this.locale.utils.Open+'" class="e-dbrd-btn e-success" /><\/div><\/div>',u=n(c),l=i.AuthData.length;for(r=0;r<l;r++){var e=i.AuthData[r],o=n(h),s=o.find(".e-datasource-name");s.html(e.DataSourceName);s.attr({"data-name":e.DataSourceName});u.find(".e-dbrd-dialog-content-wrapper>div").append(o)}this.element.append(u);n(this.element).find(".e-dbrd-dialog .e-dbrd-control input:first").focus();f=this;this._on(this.element,"keypress",function(i){i.keyCode===13&&n(f.element).find(".e-dbrd-dialog").find(".e-dbrd-controlWaiting").length===t.DashboardConstants.Zero&&f._validateCredentials()});i.AuthData.length>t.DashboardConstants.One&&u.find("#"+this._id+"_authWindowWrapper").ejDashboardScroller({height:"135",orientation:"vertical"});this.model.enableCustomTheming&&this._customTheme(["popup"])}return null},_renderErrorMsgDialog:function(){var t='<div class="e-dbrd-dialog-bgrnd" style = " width: '+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><div class="e-dbrd-dialog e-dbrd-alert" id="'+this._id+'_error_dialog"><div class="e-dbrd-dialog-heading"><span class="e-dbrd-dialog-warning-icon e-dbrd-popup-icon"><\/span><span class ="e-dbrd-error-text-close e-dbrd-popup-icon"><\/span><strong class="e-dbrd-dialog-title">'+this.locale.utils.Error+'<\/strong><span class="e-dbrd-dialog-close-icon e-dbrd-popup-icon e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Close+'"><\/span><\/div><div class="e-dbrd-dialog-content-wrapper" id="'+this._id+'_error_dialog_content"><div class="e-dbrd-content"><button class="e-dbrd-showDetails">'+this.locale.utils.ShowDetails+'<\/button><div class="e-dbrd-stacktrace  e-dbrd-control" id="'+this._id+'_error_dialog_show_content"><\/div><\/div><\/div><div class="e-dbrd-dialog-footer"><input type="button" class="e-dbrd-btn-support" value="'+this.locale.utils.Clipboard+'" /><input type="button" value="'+this.locale.utils.Ok+'" class="e-dbrd-btn-ok e-success"/><\/div><\/div>',i=n(t);this.element.append(i)},_renderGetLinkDialog:function(){var i='<div class="e-dbrd-dialog-bgrnd" style = " width: '+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><div class="e-dbrd-dialog e-dbrd-alert e-dbrd-getlink" id="'+this._id+'_get_link_dialog"><div class="e-dbrd-dialog-heading"><strong class="e-dbrd-dialog-title">'+this.locale.utils.GetLink+'<\/strong><span class="e-dbrd-dialog-close-icon e-dbrd-popup-icon e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Close+'"><\/span><\/div><div class="e-dbrd-dialog-share-content-wrapper e-dbrd-control" id="'+this._id+'_get_link_dialog_content"><div class="e-share-default">'+this.locale.utils.GetLinkContent+'<\/div><div style="padding-top:15px;display:flex;float:left;width:100%;"> <input class="e-share-text" onClick="this.select()" type="text" value="'+this.getCurrentViewUrl()+'"><button class="e-share-copy-btn e-dbrd-hoverable" data-tooltip="'+this.locale.utils.Clipboard+'"><\/button><\/div><\/div>',t=n(i);this.element.find(".e-dbrd-dialog-bgrnd").remove();this.element.append(t);t.find("#"+this._id+"_get_link_dialog_content").ejDashboardScroller({height:"130",orientation:"vertical"})},_renderDashboardLayout:function(n,i){var u,r,f;if(this._setScalingFactor(),this._addOrRemoveScalingStyle(!0),this.model.enableDashboardScaling&&(this.dashboardWrapper.css({transform:"scale("+this.scalingFactor+")"}),this.dashboardWrapper.offset({left:0})),i=this._processResponseMessage(i),!this.stopRendering){if(this.onDemandTabs&&!t.isNullOrUndefined(n)&&this._isHiddenTabData(n.tabId)){this._saveRenderedHiddenTabData(n.tabId,{data:i,type:"layout"});return}if(this.locale=jQuery.extend(!0,{},t.dashboardViewer.localization["en-US"]),!t.isNullOrUndefined(i)){for(this.currentReport={layout:i.d,data:[]},u=i.d.length,r=0;r<u;r++)this._initializeDashboardLayoutInfo(i.d[r].Key,i.d[r].Value);this.onDemandTabs||t.isNullOrUndefined(this.dashboardDetails)||this._createDashboardTabsOnInitialRendering(i);this.onDemandTabs&&(f=this._privateFilterData,this._initateFilterParameterForSelectedTab(f));this.isWidget||this._drawBannerRevamp(i.d);this._setDashboardSize();this._trigger("beforeLayoutRender",{layoutData:this.currentReport.layout,tabId:this.dashboardName,dashboardParameters:this.dashboardParameters});this._drawLayout(this.layout,i.d);this._renderErrorMsgDialog();this._trigger("afterLayoutRender",{layoutData:this.currentReport.layout,wrapperElement:this.currentTabContentElement.find("#"+this._id+"layout_wrapper"),tabId:this.dashboardName});this.onDemandTabs&&this.currentTabContentElement.data({rendered:"true"})}return null}},_initializeDashboardLayoutInfo:function(n,i){switch(n){case t.DashboardConstants.TabInformation:this.onDemandTabs||(this.dashboardDetails=JSON.parse(i));break;case t.DashboardConstants.IncludeGlobalFilter:this.includeGlobalFilter=JSON.parse(i);this.includeGlobalFilter&&(this._setGlobalFilterWrapper(),this._setGlobalFilterForCurrentTab());break;case t.DashboardConstants.Culture:this.onDemandTabs||(this.model.dashboardCulture=i);break;case t.DashboardConstants.ExportSettings:if(!this.onDemandTabs){var r=JSON.parse(i);this.model._exportSettings.canExportImage=this.model._exportSettings.canExportImage&&r.CanExportImage;this.model._exportSettings.canExportPdf=this.model._exportSettings.canExportPdf&&r.CanExportPdf;this.model._exportSettings.canExportExcel=this.model._exportSettings.canExportExcel&&r.CanExportExcel;this.model._exportSettings.canExportCsv=this.model._exportSettings.canExportCsv&&r.CanExportCsv}break;case t.DashboardConstants.Resources:!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&this._updateViewerResources(JSON.parse(i));break;case t.DashboardConstants.LoadedVersion:t.isNullOrUndefined(i)||(this._errorOnHigherVersionReport(i),this._destroyWaitingPopup());break;case t.DashboardConstants.RequireAuthentication:if(!t.isNullOrUndefined(i)){this._renderAuthPromptDialog(JSON.parse(i));this._destroyWaitingPopup();return}break;case t.DashboardConstants.IsWidget:this.isWidget=i;break;case t.DashboardConstants.Layout:this.layout=JSON.parse(i);this.isExtendedLayout=this.layout.ColumnCount===t.DashboardConstants.ExtendedColumnCount;break;case t.DashboardConstants.DashboardParameters:t.isNullOrUndefined(this.dashboardParameters.data)&&(this.dashboardParameters=JSON.parse(i),this._loadDashboardParamData(this.dashboardControls.initialDashboardParameters));break;case t.DashboardConstants.DataSource:this.dataSourceInfoCollection=JSON.parse(i);break;case t.DashboardConstants.IsDashboardParameter:this.onDemandTabs||(this.isParameterApplied=i);break;default:return}},_getDashboardExportSettings:function(n){var r,i;if(!t.isNullOrUndefined(this.dashboardExportSettings)&&!t.isNullOrUndefined(n)){for(r=!1,i=0;i<this.dashboardExportSettings.length;i++)this.dashboardExportSettings[i].DashboardName===n.DashboardName&&(this.dashboardExportSettings[i]=n,r=!0);r||this.dashboardExportSettings.push(n)}},_applyCurrentDashboardExportType:function(){var i,n;if(!t.isNullOrUndefined(this.dashboardDetails)&&this.dashboardDetails.length>t.DashboardConstants.Zero){for(i=t.isNullOrUndefined(this.dashboardName)?this.dashboardDetails[t.DashboardConstants.Zero].DashboardName:this.dashboardName,n=0;n<this.dashboardExportSettings.length;n++)if(this.dashboardExportSettings[n].DashboardName===i){this.currentDashboardExportType=this.dashboardExportSettings[n];break}t.isNullOrUndefined(this.currentDashboardExportType.DashboardName)&&(this.currentDashboardExportType.DashboardName=i)}},_createDashboardTabsOnInitialRendering:function(n){var i=this.dashboardDetails.length;i>t.DashboardConstants.One?this._createDashboardTabs(n):t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||i!==t.DashboardConstants.One||this.model._selectedTabGuid===this.dashboardDetails[t.DashboardConstants.Zero].DashboardId?t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||i!==t.DashboardConstants.Zero||this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:null}):(this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this.dashboardDetails[t.DashboardConstants.One].DashboardId}),this.model._selectedTabGuid=this.dashboardDetails[t.DashboardConstants.One].DashboardId)},_initateFilterParameterForSelectedTab:function(i){for(var u,f=this.dashboardDetails.length,r=t.DashboardConstants.Zero;r<f;r++)if(this.dashboardDetails[r].DashboardId===this.model._selectedTabGuid&&this._hasPrivateFilterData&&!t.isNullOrUndefined(i[this.model._selectedTabGuid].masterData)){u=this.dashboardControls.unMinifySelectedFilterInfo(n.parseJSON(i[this.model._selectedTabGuid].masterData));this.model.currentMasterReport=u.masterData;this.dashboardControls.initialDashboardParameters=u.dashboardParams;break}},_setDashboardSize:function(){var i,r;this.model.size&&(this.model.size.height?(this.dashboardHeight=this.model.size.height,this.containerHeight=n(this.currentTabContentElement).parent().height(),this.dashboardHeight=typeof this.dashboardHeight=="string"&&this.dashboardHeight.indexOf("%")>t.DashboardConstants.IndexLowerBound?this.containerHeight/100*parseInt(this.dashboardHeight):parseFloat(this.dashboardHeight)):(i=null,this.onDemandTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&this.model.showTab?(i=this.dashboardWrapper.height()-this.element.find(".e-tab .e-header").height(),this.element.find(".e-tab>.e-content").css({height:i+"px"}),this.dashboardHeight=this.element.find(".e-content").height()):this.dashboardHeight=this.dashboardWrapper.height()));this.model.size&&(this.model.size.width?(this.dashboardWidth=this.model.size.width,this.containerWidth=n(this.currentTabContentElement).parent().width(),this.dashboardWidth=typeof this.dashboardWidth=="string"&&this.dashboardWidth.indexOf("%")>t.DashboardConstants.IndexLowerBound?this.containerWidth/100*parseInt(this.dashboardWidth):parseFloat(this.dashboardWidth)):this.onDemandTabs?(r=this.dashboardWrapper.width(),this.element.find(".e-tab.e-js>.e-content").css({width:r}),this.dashboardWidth=this.element.find(".e-content").width()):this.dashboardWidth=this.currentTabContentElement.width())},_updateViewerResources:function(n){if(!t.isNullOrUndefined(n))for(var i in n)n.hasOwnProperty(i)&&(t.isNullOrUndefined(this.locale.utils[i])?t.isNullOrUndefined(this.locale.errorMessages[i])||(this.locale.errorMessages[i]=n[i].replace(/[""]/g,"")):this.locale.utils[i]=n[i].replace(/[""]/g,""));return null},_errorOnHigherVersionReport:function(i){var r,u,o,f,h,e;if(n(window).width()<t.DashboardConstants.MobileWidth)this._errorOnHigherVersionReportForMobile(i);else{if(this.currentTabContentElement.find(".e-error-notification")&&(this.currentTabContentElement.find(".e-error-notification").remove(),this.currentTabContentElement.css({position:"relative"})),r=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px","z-index":"100000"}),u=this.isWidget?this.locale.utils.ErrorOnHigherVersionForWidget:this.locale.utils.ErrorOnHigherVersion,o=":",u.match(o)){f=u.substr(t.DashboardConstants.Zero,u.indexOf(":"));f=f.toLowerCase();var s=u.substr(u.indexOf(":")+t.DashboardConstants.One),c=this.errorHyperLink.replace("#errorCode","#"+f),l="<a href = "+c+" target= _blank>"+f+"<\/a>";r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable").html(l+":"+s+i+")").attr({"data-tooltip":s+i+")"}),n("<div>").addClass("e-close-notification"))}else r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable").html(u+i+")").attr({"data-tooltip":u+i+")"}),n("<div>").addClass("e-close-notification"));this.element.append(r);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);r.css({left:-(r.width()/2)});this.isWidget?n("#"+this._id+"_errorShown").css({"max-width":"90%",left:this.dashboardWidth/20,right:"0"}):n("#"+this._id+"_errorShown").css({"margin-left":"50%"});this.currentTabContentElement.css({position:"relative"});h=r.html();e={errorDialog:h};this._trigger("beforePassiveErrorRender",e);r.html(e.errorDialog)}},_errorOnHigherVersionReportForMobile:function(i){var e,h,u,l,a,v,o;this.currentTabContentElement.find(".e-error-notification-mobile")&&(this.currentTabContentElement.find(".e-error-notification-mobile").remove(),this.currentTabContentElement.css({position:"relative"}));var f=n("<div>").addClass("e-errorDiv").css({width:"100%",height:"100%"}),s=n("<div>").attr({id:this._id+"_errorShown_mobile"}).addClass("e-error-notification-mobile").css({"z-index":"10001"}),r;if(r=this.isWidget?this.locale.utils.ErrorOnHigherVersionForWidget:this.locale.utils.ErrorOnHigherVersion,e=null,h=":",r.match(h)){u=r.substr(t.DashboardConstants.Zero,r.indexOf(":"));u=u.toLowerCase();var c=r.substr(r.indexOf(":")+t.DashboardConstants.One),y=this.errorHyperLink.replace("#errorCode","#"+u),p="<a href = "+y+" target= _blank>"+u+"<\/a>";e='<div class = "e-error-msg-mobile e-dbrd-hoverable" data-tooltip = "'+c+i+')">'+p+":"+c+i+")<\/div>"}else e='<div class = "e-error-msg-mobile e-dbrd-hoverable" data-tooltip = "'+r+i+')">'+r+i+")<\/div>";l='<button class = "reload-button-mobile">RELOAD<\/button>';a='<div class = "e-error-icon"><\/div>'+e+l;s.append(a);f.append(s);this.element.append(f);this._calculateErrorDialogSize();this.model.enableCustomTheming&&this._customTheme(["passiveError"]);this.currentTabContentElement.css({position:"relative"});v=f.html();o={errorDialog:v};this._trigger("beforePassiveErrorRender",o);f.html(o.errorDialog)},_reloadDashboard:function(){this.loadLayout(null,!0)},_calculateErrorDialogSize:function(){var t=this.element.find(".e-error-notification-mobile");t.css({"margin-left":-n(".e-error-notification-mobile").width()/2,"margin-top":-n(".e-error-notification-mobile").height()/2})},_noWidgetConfiguredMessage:function(){var t=n("<div>").attr({id:this._id+"_noWidgetConfigured"}).addClass("e-higher-popup"),i=n("<div>").attr({id:this._id+"_noWidgetCenterDiv"}).css({position:"absolute"});i.append(n("<div>").addClass("widget-error-icon"),n("<div>").addClass("e-higher-error-message").html(this.locale.utils.NoWidgetConfigured));t.append(i);this.element.append(t);this._nowidgetPreviewAlign()},_nowidgetPreviewAlign:function(){var t=2,n=this.element.find("#"+this._id+"_noWidgetCenterDiv");n.css({top:"0px",left:"0px"});n.css("top",this.element.height()/t-n.height()/t);n.css("left",this.element.width()/t-n.width()/t)},_showOrHideBannerIcons:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-icon-container");n(window).width()<t.DashboardConstants.MobileWidth?(i.find(".e-dbrd-banner-smallMenu").css({display:"block"}),i.find(".e-dbrd-banner-menu").css({display:"none"}),i.find(".e-dbrd-banner-refresh").css({display:"none"}),i.find(".e-dbrd-banner-link").css({display:"none"}),i.find(".e-dbrd-banner-params").css({display:"none"}),i.find(".e-dbrd-dashboardunfavIcon").css({display:"none"}),i.find(".e-dynamic-title-container").css({display:"none"})):(i.find(".e-dbrd-banner-menu").css({display:"block"}),i.find(".e-dbrd-banner-refresh").css({display:"block"}),i.find(".e-dbrd-banner-link").css({display:"block"}),i.find(".e-dbrd-banner-params").css({display:"block"}),i.find(".e-dbrd-dashboardunfavIcon").css({display:"block"}),i.find(".e-dynamic-title-container").css({display:"block"}),i.find(".e-dbrd-banner-smallMenu").css({display:"none"}))},_beforeDashboardIconRendered:function(i){var u,f,r;if(!t.isNullOrUndefined(i))for(u=this.model._selectedTabGuid?this.model._selectedTabGuid:null,f=t.isNullOrUndefined(this.model.dashboardPath)?null:this.model.dashboardPath,this._trigger("beforeDashboardIconRendered",{iconsinformation:i,tabId:u,dashboardPath:f,tabName:this.dashboardName}),r=0;r<i.length;r++)i[r].classname==="e-dbrd-banner-text-icon"?this.currentTabContentElement.find(".e-dbrd-banner-icon-container").append(n("<div>").addClass(i[r].classname+" e-dbrd-banner-icons e-dbrd-hoverable").removeClass(i[r].removeClass).attr({tabindex:i[r].tabindex,name:i[r].name,"data-tooltip":t.isNullOrUndefined(i[r].datatooltip)?i[r].content:i[r].datatooltip}).css({float:i[r].float,"margin-top":i[r].margintop,"margin-right":i[r].marginright,display:i[r].display}).html(i[r].content)):this.currentTabContentElement.find(".e-dbrd-banner-icon-container").append(n("<div>").addClass(i[r].classname+" e-dbrd-banner-icons e-dbrd-hoverable").removeClass(i[r].removeClass).attr({tabindex:i[r].tabindex,name:i[r].name,"data-tooltip":i[r].datatooltip,"aria-haspopup":i[r].ariahaspopup,"aria-label":i[r].arialabel,oncontextmenu:i[r].oncontextmenu,"data-html2canvasignore":i[r].datahtml2canvasignore}).css({float:i[r].float,"margin-top":i[r].margintop,"margin-right":i[r].marginright,display:i[r].display}))},_renderBannerControls:function(i){var f={enableComments:!1,titleProp:null},u,e,r;if(!t.isNullOrUndefined(i))for(u=0,e=i.length,u=e-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--){r=i[u];switch(r.Key){case t.DashboardConstants.HasFilterPanel:this.hasFilterPanel=r.Value;break;case t.DashboardConstants.EnableComments:f.enableComments=r.Value;break;case t.DashboardConstants.HasDashboardParameter:this.HasDashboardParameter=r.Value;break;case t.DashboardConstants.Title:f.titleProp=n.parseJSON(r.Value);break;case t.DashboardConstants.DashboardExportSettings:this._getDashboardExportSettings(JSON.parse(r.Value))}}return f},_bannerIcon:function(n){var t=[];t=this._addBannerIcons(t,"e-dbrd-banner-smallMenu e-dbrd-bannerIcon","e-dbrd-banner-icons e-dbrd-hoverable","0","menu","menu",i,"true","Dashboard Options","true",i,"none");this.model.filterPanelSettings.showIcon&&this.hasFilterPanel&&(t=this._addBannerIcons(t,"e-dbrd-filter-icon e-dbrd-bannerIcon","e-dbrd-banner-icons","0","filterPanel","menu",i,"true","Dashboard Options","true",this.locale.utils.ToggleFilterPanel));(this.model._exportSettings.canExportImage&&this.currentDashboardExportType.HasExportImage||this.model._exportSettings.canExportPdf&&this.currentDashboardExportType.HasExportPdf||this.model._exportSettings.canExportExcel&&this.currentDashboardExportType.HasExportExcel)&&(t=this._addBannerIcons(t,"e-dbrd-banner-menu e-dbrd-bannerIcon","e-dbrd-banner-icons","0","menu","menu",i,"true","Dashboard Options","true",this.locale.utils.Export));t=this._addBannerIcons(t,"e-dbrd-banner-refresh e-dbrd-hoverable e-dbrd-bannerIcon","e-dbrd-banner-icons","0","refresh","button","return false","true","Update Dashboard","true",this.locale.utils.UpdateDashboard);this.model.showGetLinkIcon&&(t=this._addBannerIcons(t,"e-dbrd-banner-link e-dbrd-hoverable e-dbrd-bannerIcon","e-dbrd-banner-icons","0","Share","button","return false","true","Share","true",this.locale.utils.GetLink));this.dashboardParameters.showIcon&&!this.onDemandTabs&&this.HasDashboardParameter&&(t=this._addBannerIcons(t,"e-dbrd-banner-params  e-dbrd-hoverable e-dbrd-bannerIcon","e-dbrd-banner-icons","0","dashboardParameters","button","return false","true",this.locale.utils.DashboardParameters,"true",this.locale.utils.DashboardParameters));this.model.allowComment&&n.enableComments&&(t=this.model.commentSettings.isDashboardCommented?this._addBannerIcons(t,"e-dbrd-banner-dashboardwithcomment","e-dbrd-banner-icons","0","comment","menu",i,"true","Dashboard Options","true",this.locale.utils.Comment,i,"right"):this._addBannerIcons(t,"e-dbrd-banner-dashboardwithoutcomment e-dbrd-hoverable","e-dbrd-banner-icons","0","comment","menu",i,"true","Dashboard Options","true",this.locale.utils.Comment,i,"right"));this._beforeDashboardIconRendered(t)},_drawFilterOverviewBanner:function(){var i=this.element.find("#"+this._id+"_overview_banner"),f=this.currentTabContentElement.find(".e-dbrd-banner-icon-container"),u=this.currentTabContentElement.find(".e-dbrd-layout-wrapper"),r=null,s=this.element.find(".e-dbrd-filterListMenuPopUp"),e,o;n(window).width()<t.DashboardConstants.MobileWidth?(e=i.find(".e-dbrd-filterListMenu"),this.element.css({"overflow-y":"hidden"}),r=f.find(".e-dbrd-filterListMenu"),u.css({"overflow-y":this.model.enableWidgetMode||this.isWidget?"hidden":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-banner").after(i),r.css("display")==="block"?(e.length===t.DashboardConstants.Zero&&i.append(r),i.css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-banner").addClass("e-banner-boxshadow"),u.css({height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-i.height()})):i.css("display")==="block"?(i.css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-banner").addClass("e-banner-boxshadow")):(e.length===t.DashboardConstants.Zero&&i.append(r),i.css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-banner").addClass("e-banner-overview-boxshadow"))):(this.element.append(i),s.css({display:"none"}),r=i.find(".e-dbrd-filterListMenu"),o=f.find(".e-dbrd-filterListMenu"),o.length===t.DashboardConstants.Zero&&f.append(r),i.css({display:"none"}),n("#"+this._id+"controlDescriptionDiv").remove(),this.currentTabContentElement.find(".e-dbrd-banner").addClass("e-banner-overview-boxshadow"),this._dashboardData().isExportImage?u.css({overflow:"hidden",height:this.currentTabContentElement.height()-n(".e-dbrd-banner").height()}):u.css({"overflow-y":"hidden",height:this.currentTabContentElement.height()-n(".e-dbrd-banner").height()}));this._dashboardData().isWidgetSpecific&&u.css({height:"auto","overflow-y":"hidden"})},_bannertemplate:function(){var t='<div class="e-dbrd-banner"><div class="e-dbrd-banner-title" role = "heading"  aria-label = "Dashboard Title" oncontextmenu ="return false" ><\/div><div class="e-dbrd-banner-icon-container"><\/div><div class="e-dynamic-title-container"><span class="e-dynamic-title"/><div class="e-dbrd-banner-description  e-dbrd-bannerIcon" role = "button" aria-label = "description" data-tooltip= "'+this.locale.utils.DashboardDescription+'"  data-html2canvas-ignore= "true" tabindex= "0"/><\/div><div class="e-dbrd-banner-filters e-dbrd-banner-filter"/><\/div>';return t=n(t),this.currentTabContentElement.append(t),t},_filterOverview:function(i){var r=n("<div>").addClass("e-dbrd-overview-banner");r.attr("id",this._id+"_overview_banner");n(window).width()<t.DashboardConstants.MobileWidth&&i.length!==t.DashboardConstants.Zero&&r.append(i);this.element.append(r);this.model.enableCustomTheming&&this._customTheme(["banner"]);this._dashboardData().loadFromData&&this._dashboardData().isExportImage&&this.currentTabContentElement.find(".e-dbrd-banner-icon-container").remove()},_favoriteSetting:function(i){var r,u;this.currentTabContentElement.find(".e-dbrd-banner-title").addClass("e-bannertitle-fav");this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth?(r=null,this.currentTabContentElement.find(".e-dbrd-banner-title").addClass("e-bannertitle-fav-mob"),r=this.model.favoriteSettings.isFavorite?this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon").outerWidth():this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon").outerWidth(),u=i.width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-r-parseInt(this.currentTabContentElement.find(".e-dbrd-banner-title").css("margin-left"))-10+"px",this.currentTabContentElement.find(".e-dbrd-banner-title").css({"max-width":u})):n(window).width()<t.DashboardConstants.MobileWidth&&this.onDemandTabs?this.currentTabContentElement.find(".e-dbrd-banner-title").css({"max-width":i.width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.element.find(".e-dbrd-tab-res-icon-container").width()-10+"px"}):this.currentTabContentElement.find(".e-dbrd-banner-title").css({"max-width":i.width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-12+"px"})},_Addfilteroverview:function(){this.currentTabContentElement.find(".e-dbrd-banner-icon-container").append(n('<div class="e-banner-verticalsplitline  e-dbrd-bannerIcon"/>'));var i='<span class="e-dynamic-title-moreFilter" name="'+this.locale.utils.FilterOverview+'"/><span class="e-dynamic-title-display" name ="'+this.locale.utils.FilterOverview+'">'+this.locale.utils.FilterOverview+'<\/span> <span class="e-dynamic-filterdroparrow"  aria-label = "Filters Applied" name= "'+this.locale.utils.FilterOverview+'" />',t='<div id="'+this._id+'_filter" class ="e-dbrd-filterListMenu" tabindex =  "0" name = "'+this.locale.utils.FilterOverview+'"/>';return t=n(t),t.append(n(i)),this.currentTabContentElement.find(".e-dbrd-banner-icon-container").append(t),t},_FavoriteSettingsglobal:function(t){var i,r,u;this.model.favoriteSettings.enabled&&(i="e-dbrd-dashboardunfavIcon",r=this.locale.utils.MarkFavorite,this.model.favoriteSettings.isFavorite&&(i="e-dbrd-dashboardfavIcon",r=this.locale.utils.RemoveFavorite),u='<div class="'+i+' e-dbrd-hoverable  e-dbrd-bannerIcon" data-tooltip ="'+r+'"/>',t.prepend(n(u)))},_validateDashboardParameterProperty:function(){var i=!1,n;if(!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data))for(n=0;n<this.dashboardParameters.data.length;n++)if(this.dashboardParameters.data[n].showInParameterDialog){i=!0;break}return i},_drawBannerRevamp:function(i){var r=this._renderBannerControls(i),u=this._bannertemplate();this.onDemandTabs&&this.model.showTab&&u.addClass("e-dbrd-multitab-banner");this._applyCurrentDashboardExportType();this._FavoriteSettingsglobal(u);this._bannerIcon(r);var o=this._Addfilteroverview(),f=n("<span>"),e=this._measureText(f[0].innerText,100,{size:"14",fontStyle:"Normal",fontFamily:"Roboto"}).width;return this._appendHeader(t.isNullOrUndefined(r.titleProp)?"":r.titleProp.Title,t.isNullOrUndefined(r.titleProp)?null:r.titleProp.Parameters,f),this.currentTabContentElement.find(".e-dbrd-banner-title").html(f),e>50?this.currentTabContentElement.find(".e-dbrd-banner-title").addClass("e-banner-minimum"):this.currentTabContentElement.find(".e-dbrd-banner-title").css({"min-width":e}),this.isExtendedLayout&&u.addClass("e-banner-extendedlayout"),this._filterOverview(o),this._showOrHideBannerIcons(),this._favoriteSetting(u),this._adjustParameterColumn(f),null},_addBannerIcons:function(n,t,i,r,u,f,e,o,s,h,c,l,a){return n.push({classname:t,removeClass:i,tabindex:r,name:u,role:f,oncontextmenu:e,ariahaspopup:o,arialabel:s,datahtml2canvasignore:h,datatooltip:c,display:l,float:a}),n},_toolBarManipulation:function(i){var f,e,l,o,a,v,u;if(!t.isNullOrUndefined(i)){var s=null,h=null,c=null,r=[];if(!i[0].layoutInformation.IsMaster||this.isWidget||this.model.enableWidgetMode||r.push({role:"button",removeClass:"e-dbrd-widget-icons",ariadisabled:"false",name:"filter",id:this._id+i[0].layoutInformation.ReportName+"_filter",classname:"e-remove-control-filter-disable e-remove-control-filter",arialabel:this.locale.utils.ClearMasterFilter,datatooltip:this.locale.utils.ClearMasterFilter}),i[0].layoutInformation.Label.EnableComment&&this.model.allowComment){if(f={tabindex:"0",role:"button",removeClass:"e-dbrd-widget-icons",name:"comment",id:this._id+i[0].layoutInformation.ReportName+"_comment",classname:"e-dbrd-banner-widget-withoutcomments",arialabel:"maximize",datatooltip:this.locale.utils.Comment,type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datawidgetid:i[0].layoutInformation.Guid},e=this.model.commentSettings.widgets,!t.isNullOrUndefined(e))for(l=e.length,o=t.DashboardConstants.Zero;o<l;o++)if(i[0].layoutInformation.Guid===e[o]){f.classname="e-dbrd-banner-widget-withcomments";break}else f.classname="e-dbrd-banner-widget-withoutcomments";this.isWidget&&this.model.commentSettings.isWidgetCommented&&(f.classname="e-dbrd-banner-widget-withcomments");r.push(f)}for(this._widgetIconInformation(i,r),a=i[0].layoutInformation,s=this.currentTabContentElement.find(".e-dbrd-containerWrapper").width(),c=parseInt(i[0].controlTitle.css("min-width")),h=Math.round((s-c)/21),this._trigger("beforeWidgetIconRendered",{iconsinformation:r,widgetInformation:a,isFilterWidget:this.isFilterWidget,visibleIconsCount:h,tabId:this.model._selectedTabGuid,tabName:this.dashboardName}),v=r.length,u=0;u<v;u++)i[0].controlProp.append(n("<div>").attr({tabindex:r[u].tabindex,name:r[u].name,id:r[u].id,"aria-disabled":r[u].ariadisabled,"aria-haspopup":r[u].ariahaspopup,role:r[u].role}).addClass(r[u].classname).addClass(r[u].menuIcon).addClass("e-dbrd-hoverable e-dbrd-border e-dbrd-containerIcon e-dbrd-widget-icons").removeClass(r[u].removeClass).css({"margin-top":r[u].margintop,display:r[u].display,"margin-right":r[u].marginright}).attr({"aria-label":r[u].arialabel,"data-tooltip":r[u].datatooltip,type:r[u].type,value:r[u].value,"data-widget-id":r[u].datawidgetid}).html(r[u].html))}},_triggerCustomEvent:function(t){this._trigger("customIconCliked",{event:t,reportGuid:n(t.target).attr("data-widget-id"),iconName:n(t.target).attr("icon-name")})},_setRefreshSettings:function(n){var e,r;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){this.model._isLiveData=!1;var f=[],i=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero;if(n=this._replaceRefreshSettingAPIValues(n),!t.isNullOrUndefined(n))if(this.onDemandTabs)for(this.model.autoRefreshSettings=[],e=n.length,u=i;u<e;u++)r=n[u],!t.isNullOrUndefined(n[u].widgets)&&n[u].widgets.length>i&&!t.isNullOrUndefined(n[u].widgets[i].id)&&(f=this._getAutoRefreshIntervalCollection(r.widgets)),t.isNullOrUndefined(r.autoRefresh)&&this.model.autoRefreshSettings.push(n[u]),!t.isNullOrUndefined(r.autoRefresh)&&r.autoRefresh&&(this.model.enableAutoRefresh=!0,this.model.autoRefreshSettings.push({tabName:r.tabName,tabIndex:r.tabIndex,intervalSettings:this._getAutoRefreshIntervalCollection(r.intervalSettings),showWaitingIndicator:!1,isWidgetSpecific:r.isWidgetSpecific,widgets:f.length>t.DashboardConstants.Zero?f:t.isNullOrUndefined(r.widget)?null:r.widget,trackData:r.trackData}));else t.isNullOrUndefined(this.model.autoRefreshSettings[i].intervalSettings)||t.isNullOrUndefined(n[i].autoRefresh)||!n[i].autoRefresh||(this.model.enableAutoRefresh=!0,!t.isNullOrUndefined(n[u].widgets)&&n[u].widgets.length>i&&!t.isNullOrUndefined(n[u].widgets[i].id)&&(f=this._getAutoRefreshIntervalCollection(n[i].widgets)),this.model.autoRefreshSettings[i].intervalSettings=this._getAutoRefreshIntervalCollection(n[i].intervalSettings),this.model.autoRefreshSettings[i].widgets=f.length>t.DashboardConstants.Zero?f:n[i].widget,this.model.autoRefreshSettings[i].isWidgetSpecific=n[i].isWidgetSpecific,this.model.autoRefreshSettings[i].trackData=n[i].trackData,this.model.autoRefreshSettings[i].showWaitingIndicator=!1)}return null},_replaceRefreshSettingAPIValues:function(n){for(var f,r,e,u=!1,o=this.model.autoRefreshSettings.length,i=t.DashboardConstants.Zero;i<o;i++)if(this.model.enableAutoRefresh){for(f=n.length,r=t.DashboardConstants.Zero;r<f;r++)if(this.onDemandTabs&&t.isNullOrUndefined(this.model.autoRefreshSettings[i].tabName)&&(this.model.autoRefreshSettings[i].tabName=this.dashboardDetails[t.DashboardConstants.Zero].DashboardDisplayName,this.model.autoRefreshSettings[i].tabIndex=t.DashboardConstants.Zero),this.model.autoRefreshSettings[i].isWidgetSpecific||t.isNullOrUndefined(this.model.autoRefreshSettings[i].widgets)||this.model.autoRefreshSettings[i].widgets.length!==t.DashboardConstants.Zero||(this.model.autoRefreshSettings[i].widgets=t.isNullOrUndefined(n[r].widget)?[]:n[r].widget),this.model.autoRefreshSettings[i].tabName===n[r].tabName){this.model.autoRefreshSettings[i].widgets.length===t.DashboardConstants.Zero&&(e=n[r].widget.length>t.DashboardConstants.Zero?n[r].widget:n[r].widgets.length>t.DashboardConstants.Zero?n[r].widgets:[],this.model.autoRefreshSettings[i].widgets=e);n[r]=this.model.autoRefreshSettings[i];u=!0;break}else if(!this.onDemandTabs){n[r]=this.model.autoRefreshSettings[i];u=!0;break}u||n.push(this.model.autoRefreshSettings[i]);!t.isNullOrUndefined(this.model.autoRefreshSettings[i].widgets)&&this.model.autoRefreshSettings[i].widgets.length>t.DashboardConstants.Zero&&this._replaceAutoRefreshWidgetGuid()}return n},_replaceAutoRefreshWidgetGuid:function(){for(var u,i,r=[],n=0;n<this.model.autoRefreshSettings.length;n++)for(u=this.model.autoRefreshSettings[n].widgets.length,i=0;i<u;i++)t.isNullOrUndefined(this.model.autoRefreshSettings[n].widgets[i].id)?(r=this.currentTabContentElement.find("#"+this.model.autoRefreshSettings[n].widgets[i].id).attr("data-widget-id"),this.model.autoRefreshSettings[n].widgets[i]=t.isNullOrUndefined(r)?this.model.autoRefreshSettings[n].widgets[i]:r):(r=this.currentTabContentElement.find("#"+this.model.autoRefreshSettings[n].widgets[i].id).attr("data-widget-id"),this.model.autoRefreshSettings[n].widgets[i].id=t.isNullOrUndefined(r)?this.model.autoRefreshSettings[n].widgets[i].id:r)},_getAutoRefreshIntervalCollection:function(n){var r,f;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero){var u={},i=[],s=n.length;for(r=t.DashboardConstants.Zero;r<s;r++){if(i=t.isNullOrUndefined(n[r].mode)?n[r].intervalSettings:n[r],!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.mode))switch(i.mode){case t.dashboardViewer.refreshTimer.mode.hourly:u={mode:i.mode,hourlySchedule:i.hourlySchedule};break;case t.dashboardViewer.refreshTimer.mode.daily:u={mode:i.mode,dailySchedule:i.dailySchedule};break;case t.dashboardViewer.refreshTimer.mode.weekly:var e=i.weeklySchedule.weekDay,o=[],h=e.length;for(f=0;f<h;f++)t.isNullOrUndefined(e[f].weekDay)?o.push(parseInt(e[f])):o.push(parseInt(e[f].weekDay));i.weeklySchedule.weekDay=o;u={mode:i.mode,weeklySchedule:i.weeklySchedule};break;case t.dashboardViewer.refreshTimer.mode.monthly:u={mode:i.mode,monthlySchedule:i.monthlySchedule};break;case t.dashboardViewer.refreshTimer.mode.yearly:u={mode:i.mode,yearlySchedule:i.yearlySchedule}}t.isNullOrUndefined(n[r].id)?n=u:n[r].intervalSettings=u}}return n},_appendHeader:function(i,r,u){var o=i,h,f,s,e;if(!t.isNullOrUndefined(r)){for(h=r.length,f=0;f<h;f++){if(s=o.split(r[f].ParameterText),s.length!==t.DashboardConstants.Zero&&(s[0]!==""&&u.append(n("<span>").html(s[0]).addClass("e-spanned-header")),s.splice(t.DashboardConstants.Zero,t.DashboardConstants.One)),r[f].ParameterText==="{{:UpdatedTime}}")u.append(n("<span>").html("").addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}));else if(r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpan)!==t.DashboardConstants.IndexLowerBound){e=null;switch(!0){case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanMinutes+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Minutes;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanHours+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Hours;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanDays+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Days;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanWeeks+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Weeks;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanMonths+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Months;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpanYears+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Years;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;case r[f].ParameterText.indexOf(t.DashboardConstants.TimeSpan+"(")!==t.DashboardConstants.IndexLowerBound:e=this.locale.utils.Minutes;u.append(n("<span>").html(e.replace("*",t.DashboardConstants.Zero.toString())).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-min":null,"data-source":r[f].DataSource}));break;default:u.append(n("<span>").html(r[f].ParameterText).addClass("e-dbrd-param-column").css({"font-weight":"normal"}).attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}))}}else i.indexOf(r[f].ParameterText)===t.DashboardConstants.Zero?u.append(n("<span>").html(t.DashboardConstants.All).addClass("e-dbrd-param-column e-initial").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource})):u.append(n("<span>").html(t.DashboardConstants.All).addClass("e-dbrd-param-column").attr({"data-param":r[f].ParameterText,"data-source":r[f].DataSource}));o=s.join(" "+r[f].ParameterText+" ")}o!==""&&o!=="."&&o!==":"&&r.length>t.DashboardConstants.Zero?u.append(n("<span>").html(o).addClass("e-spanned-header")):u.append(o)}return null},_getControlTitleAlignment:function(n){switch(n){case 0:return"e-textalign-left";case 1:return"e-textalign-center";case 2:return"e-textalign-right";case 3:return"e-textalign-center"}return"e-textalign-center"},_inactiveFooterWidth:function(){var t=null,i=null;t=n("#"+this._id+"_InActiveDiv").width();i=this.currentTabContentElement.find(".e-dbrd-inactive-footer").width(t*80/100);this.currentTabContentElement.find(".e-dbrd-inactive-footer-description").width(i.width())},_showFilterPanel:function(i){var o,s,c,u,h,a,v;this.filterPanelId=this._id+"_filter_panel";this.filterPanelDiv=null;this.externalFilterPanel=!1;o=null;t.isNullOrUndefined(i)||n(i.target).hasClass("e-dbrd-icons")?t.isNullOrUndefined(i)||n(i.target).removeClass("e-dbrd-icons"):n(i.target).addClass("e-dbrd-icons");t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(o=this.model.filterPanelSettings.filterPanelId,this.externalFilterPanel=!0);this.externalFilterPanel&&n("#"+o).length!==t.DashboardConstants.Zero?(this.filterPanelDiv=n("<div>").attr({id:this.filterPanelId}),n("#"+o).append(this.filterPanelDiv)):t.isNullOrUndefined(this.filterPanelObj)?(this.filterPanelDiv=n("<div>").attr({id:this.filterPanelId}),this.currentTabContentElement.append(this.filterPanelDiv)):this.filterPanelDiv=n("#"+this.filterPanelId);s=this.model.showTab?this.element.find(".e-tab>.e-header").height():null;t.isNullOrUndefined(s)&&(s=0);c=null;u=null;this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.filterPanelSettings)&&(c=this.model.enableCustomTheming,u=this.model.customThemeSettings.filterPanelSettings,t.isNullOrUndefined(this.model.customThemeSettings.widgetThemeSettings)||(u.widgetThemeSettings=this.model.customThemeSettings.widgetThemeSettings,u.widgetCustomThemeValues=this.filterPanelCustomThemeCol));var y=[],l=this.dashboardControls.getAllControls(),p=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length;for(h=0;h<p;h++)a=l[h],this._isFilterPanelWidget(a.reportName)&&y.push(a);if(v=this._refreshDashboardWithGlobalFilter(),t.isNullOrUndefined(this.filterPanelObj)){this.externalFilterPanel||this.filterPanelDiv.css({overflow:"hidden",float:"right",height:"99%","min-width":"250px",width:"20%",position:"absolute",top:s+"px",right:"0px"});var r=this,f=this.currentTabContentElement.width()-250,e=this.currentTabContentElement.width()*.2<250;this.filterPanelObj=this.filterPanelDiv.ejDashboardDashboardFilterPanel({showHeader:this.model.filterPanelSettings.showHeader,showCloseIcon:this.model.filterPanelSettings.showCloseIcon,dataSource:this.tempDataForFilter,controlRelations:this.controlRelations,externalFilterPanel:this.externalFilterPanel,includeGlobalFilter:this.includeGlobalFilter,hasMultiTab:!t.isNullOrUndefined(this.dashboardDetails)&&this.dashboardDetails.length>t.DashboardConstants.One,currentMasterReport:this.model.currentMasterReport,allowComment:this.model.allowComment,currentUser:this.currentUser,dashboardElement:this._id,commentSettings:this.model.commentSettings,viewerLocale:this.locale,enableCustomTheming:c,customThemeSettings:u,enableVirtualLoading:t.isNullOrUndefined(this.model.enableVirtualLoading)?null:this.model.enableVirtualLoading,_isPublic:this.isPublicDashboard,_itemId:this.itemId,_isWebDesigner:this.model._isWebDesigner,dashboardName:this.dashboardName,serviceUrl:this.serviceUrl(),serverUrl:this.serverUrl(),dashboardPath:this.dashboardPath(),dashboardParameterSettings:this.dashboardParameters,interactionSettings:this.model.interactionSettings,globalFilterId:this._globalFilterId,dashboardId:this._dashboardId,globalFilterWrapper:this.globalFilterWrapper,isTabSwitch:this.isTabSwitch,isGlobalFilterUpdated:v,value:y,scalingFactor:this.scalingFactor,deScalingFactor:this.deScalingFactor,size:{height:"99%"},beforeWidgetRender:n.proxy(function(n){r._trigger("beforeWidgetRender",{data:n.data,tabId:r.dashboardName})},this),onWidgetCommented:n.proxy(function(n){r._trigger("onWidgetCommented",{event:n.event,reportGuid:n.reportGuid,tabId:r.dashboardName})},this),filterPanelOpen:n.proxy(function(n){r._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterPanelOpen,source:{element:r.filterPanelDiv,data:r.filterPanelObj}});r.isFilterPanelOpen=!0;r.preventFilterPanelEvents||r._trigger("filterPanelOpen",n);r.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.expand;r._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterPanelOpen,source:{element:r.filterPanelDiv,data:r.filterPanelObj}})},this),afterWidgetRender:n.proxy(function(n){r._trigger("afterWidgetRender",{data:n.data,tabId:r.dashboardName})},this),onDropDownSearch:n.proxy(function(n){r.doAjaxPost(n.data)},this),beforeFilterApplied:n.proxy(function(n){r.currentMaster=n.master;r._updateDashboardControls(!0);r._makeSlaveDataRequest(n.data)},this),beforeFilterPanelOpen:n.proxy(function(i){n(window).width()<t.DashboardConstants.MobileWidth?r.filterPanelDiv.css({left:"0","z-index":"1000",width:"100%"}):r.externalFilterPanel||(r.isExtendedLayout?(r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:e?""+f+"px":"80%"}),r.currentTabContentElement.find("#"+r._id+"_layout").css({width:e?""+(f-10)+"px":"99%"}),r.currentTabContentElement.find(".e-dbrd-banner").css({width:e?""+f+"px":"80%"})):(r.currentTabContentElement.find("#"+r._id+"_layout").css({width:e?""+(f-10)+"px":"79%"}),r.currentTabContentElement.find(".e-dbrd-banner").css({width:e?""+f+"px":"80%"})));r.preventFilterPanelEvents||r._trigger("beforeFilterPanelOpen",i);t.isNullOrUndefined(r.model.filterPanelSettings.filterPanelId)||r.model.filterPanelSettings.state!==t.dashboardViewer.filterPanelSettings.state.expand||n("#"+r.model.filterPanelSettings.filterPanelId).show()},this),beforeFilterPanelClose:n.proxy(function(n){r.preventFilterPanelEvents||r._trigger("beforeFilterPanelClose",n)},this),filterPanelClose:n.proxy(function(i){r._closeFilterPanel(i);r.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.collapse;!t.isNullOrUndefined(r.model.filterPanelSettings.filterPanelId)&&r.model.filterPanelSettings.state===t.dashboardViewer.filterPanelSettings.state.expand&&r.model.filterPanelSettings.showIcon&&n("#"+r.model.filterPanelSettings.filterPanelId).hide()},this),loaded:n.proxy(function(n){for(var i=n.controls.length,t=0;t<i;t++)r.dashboardControls.addControl(n.controls[t]);r._initializeRelationships();n.model.controlRelations=n.instance.controlRelations=r.controlRelations;n.model.dashboardName=n.instance.dashboardName=r.dashboardName},this)}).data("ejDashboardDashboardFilterPanel");this._resizeFilterWidgetTitle();setTimeout(function(){var i,n,u;if(r._initializeRelationships(),!t.isNullOrUndefined(r.filterPanelObj))for(i=r.filterPanelObj.dashboardControls.controls.length,n=0;n<i;n++)u=r.dashboardControls.getControlByReport(r.filterPanelObj.dashboardControls.controls[n].reportName),u===null&&r.dashboardControls.addControl(r.filterPanelObj.dashboardControls.controls[n])},this.tempDataForFilter?this.tempDataForFilter.length:10)}else this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open?this.filterPanelObj.close():(this.filterPanelObj.isGlobalFilterUpdated=v,this.filterPanelObj.refreshData(this.tempDataForFilter),this.filterPanelObj.open(),this.filterPanelObj.resizeFilterPanel());this.externalFilterPanel&&this._on(this.filterPanelDiv,"click",this._closeCommentDialog);n(window).width()>=t.DashboardConstants.MobileWidth?this._resizeDashboard():this.externalFilterPanel||(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").data("ejDashboardScroller")&&(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").ejDashboardScroller("destroy"),this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").css({position:""})),this.filterPanelDiv.css({left:"0px",top:"0px","z-index":"1000",position:"absolute","overflow-y":"auto",width:"100%",height:"100%","max-height":this.element.height()}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"30px"}));this.filterPanelObj.resizeFilterPanel()},_getGlobalFilterWrapper:function(){return t.isNullOrUndefined(this.filterPanelObj)?null:this.filterPanelObj.globalFilterWrapper},_closeFilterPanel:function(i){t.isNullOrUndefined(this.filterPanelObj)||i.type!=="filterPanelClose"||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterPanelClose,source:{element:this.filterPanelDiv,data:this.filterPanelObj}}),this.isFilterPanelOpen=!1,n("#"+this._id).find(".e-dbrd-filter-icon").hasClass("e-dbrd-icons")&&n("#"+this._id).find(".e-dbrd-filter-icon").removeClass("e-dbrd-icons"),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:""}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),n(window).width()>=t.DashboardConstants.MobileWidth&&this._resizeDashboard(),this.preventFilterPanelEvents||this._trigger("filterPanelClose",i),this.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.collapse,this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterPanelClose,source:{element:this.filterPanelDiv,data:this.filterPanelObj}}))},_setScalingFactor:function(){var i=this._checkExternalDashboardHeight(),r=this._checkExternalDashboardWidth(),f,u;this.dashboardWrapper.css("transform","scale("+t.DashboardConstants.One+")");this.dashboardWrapper.css({width:r,height:i});n(".e-dbrd-dialog-bgrnd-export").css({width:r,height:i});n(".e-dbrd-dialog-bgrnd").css({width:r,height:i});n(".e-dbrd-params-inactive-prompt").css({width:r,height:i});n(".e-dbrd-dialog-bgrnd-export-waiting").css({width:r,height:i});n(window).width()>t.DashboardConstants.MobileWidth?this.model.enableDashboardScaling&&(t.isNullOrUndefined(this.model.scaleSettings.scalingFactor)?(f=i/768,u=r/1366,this.scalingFactor=u-f<t.DashboardConstants.Zero?Math.min(u,f):u):this.scalingFactor=this.model.scaleSettings.scalingFactor):this.scalingFactor=t.DashboardConstants.One;this.deScalingFactor=t.DashboardConstants.One/this.scalingFactor;this.dashboardWrapper.css({width:r/this.scalingFactor,height:i/this.scalingFactor});n(".e-dbrd-dialog-bgrnd-export").css({width:r/this.scalingFactor,height:i/this.scalingFactor});n(".e-dbrd-dialog-bgrnd").css({width:r/this.scalingFactor,height:i/this.scalingFactor});n(".e-dbrd-params-inactive-prompt").css({width:r/this.scalingFactor,height:i/this.scalingFactor});n(".e-dbrd-dialog-bgrnd-export-waiting").css({width:r/this.scalingFactor,height:i/this.scalingFactor})},_addOrRemoveScalingStyle:function(i){var f,r,u;i?(f=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style"),r.type="text/css",r.id="scalingStyle",u=".e-dbrd-tooltip:not(.e-filterpanel-tooltip), .e-dbrd-desc-tooltip, .e-dashboarddatepicker-popup-wrapper,.e-drbd-cntrl-combobox .e-ddl-popup, .shapeToolTip, .e-dbrd-report-desc, .e-gauge-tooltip, .e-tree-tooltip, .e-dbrd-dialog-bgrnd-export, .e-menu, .e-dbrd-filterListMenuPopUp, .e-dbrd-tab-menu-popup, .e-error-notification, .e-dbrd-dialog-bgrnd, .e-dbrd-params-inactive-prompt, .e-dbrd-dialog-bgrnd-export-waiting, .ejTooltip, .tooltipelement, .e-card-tooltip { transform: scale("+this.scalingFactor+"); transform-origin: 0 0 }",r.styleSheet?r.styleSheet.cssText=u:r.appendChild(document.createTextNode(u)),f.appendChild(r)):n("#scalingStyle").length!==t.DashboardConstants.Zero&&(n("#scalingStyle")[0].innerHTML=".e-dbrd-tooltip:not(.e-filterpanel-tooltip), .e-dbrd-desc-tooltip, .e-dashboarddatepicker-popup-wrapper, .e-drbd-cntrl-combobox .e-ddl-popup, .shapeToolTip, .e-dbrd-report-desc, .e-gauge-tooltip, .e-tree-tooltip, .e-dbrd-dialog-bgrnd-export, .e-menu, .e-dbrd-filterListMenuPopUp, .e-dbrd-tab-menu-popup .e-error-notification, .e-dbrd-dialog-bgrnd, .e-dbrd-params-inactive-prompt, .e-dbrd-dialog-bgrnd-export-waiting, .ejTooltip, .tooltipelement, .e-card-tooltip { transform: scale("+this.scalingFactor+"); transform-origin: 0 0 }")},_checkExternalDashboardHeight:function(){var i=this.element.height(),r;return this.model.size&&this.model.size.height&&(i=this.model.size.height,r=n(this.currentTabContentElement).parent().height(),i=typeof i=="string"&&i.indexOf("%")>t.DashboardConstants.IndexLowerBound?r/100*parseInt(i):parseFloat(i),this.model.enableDashboardScaling=!1),i},_checkExternalDashboardWidth:function(){var i=this.element.width(),r;return this.model.size&&this.model.size.width&&(i=this.model.size.width,r=n(this.currentTabContentElement).parent().width(),i=typeof i=="string"&&i.indexOf("%")>t.DashboardConstants.IndexLowerBound?r/100*parseInt(i):parseFloat(i),this.model.enableDashboardScaling=!1),i}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.layoutEngine.render={_resizeDashboard:function(i){var ct,c,h,u,w,b,y,ut,at,d,vt,ft,f,s,yt,e,et,g,pt,nt,wt,bt,l,a,kt,ot,st,ht,tt,it,dt,gt,ni;this._clearTimers();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.resize,source:{element:i,data:null}});this._trigger("resizeDashboard",{event:i});this._destroyContextMenu();this._destroyDashboardMenu();this._destroyControlMenu();this._destroyInteractionMenu();(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(event);ct=t.isNullOrUndefined(this.previousDashboardSize.width)||this.previousDashboardSize.width<t.DashboardConstants.MobileWidth&&n(window).width()>t.DashboardConstants.MobileWidth||this.previousDashboardSize.width>t.DashboardConstants.MobileWidth&&n(window).width()<t.DashboardConstants.MobileWidth;this._setScalingFactor();this._addOrRemoveScalingStyle(!1);this._setDashboardSize();this._calculateExportDialogSize();this._mobileKeyBoardScroll();this._calculateErrorDialogSize();c=null;h=null;n(window).width()>t.DashboardConstants.MobileWidth&&this.onDemandTabs&&this._hideResPopup();this.onDemandTabs&&this._resizeContentPadding();var r=0,p=0,o=0,rt=null;for(!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&!window.isExportPdf&&this.isExtendedLayout&&(this.dashboardHeight=this.exportImageHeightForExtendedLayout),this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth?(o=50,rt=Math.max(o,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/12)):(o=80,rt=Math.max(o,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount"))),u=this.currentTabContentElement.find(".e-dbrd-control"),w=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,b=0;b<w;b++){var k=this.element.find(".e-dbrd-widget-menu"),ti=t.isNullOrUndefined(k)?t.DashboardConstants.Zero:k.length,v=n(u[b]).parent(".e-dbrd-control-container");for(y=0;y<ti;y++)if(!t.isNullOrUndefined(v.attr("type"))&&v.attr("type")===n(k[y]).attr("type")){ut=n(k[y]);n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment?ut.css({display:"block"}):ut.css({display:"none"});var lt=v.children(),ii=lt.find(".e-control-title"),ri=lt.find(".e-control-subtitle");v.attr("type")===t.dashboardViewer.Controls.RangeSlider&&(at=10,v.find(".e-dbrd-control").css({height:"100%"-(ii.height()+ri.height()+at)+"px"}))}}if(n(window).width()>=t.DashboardConstants.MobileWidth)for(d=this.currentTabContentElement.find(".e-dbrd-layout-cell"),vt=t.isNullOrUndefined(d)?t.DashboardConstants.Zero:d.length,r;r<vt;r++)ft=d.eq(r),ft.find(".e-dbrd-containerWrapper").removeClass("e-controlcell-mobile"),ft.css({height:rt});for(this.model.size.width&&this.element.css({width:this.dashboardWidth}),this.model.size.height&&this.element.css({height:this.dashboardHeight}),f=null,r=0,w=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<w;r++)f=u.eq(r),n(window).width()<t.DashboardConstants.MobileWidth?f.parents(".e-dbrd-containerWrapper").eq(0).css({height:"100%",width:"100%"}):f.parents(".e-dbrd-containerWrapper").eq(0).css({height:f.parents(".e-dbrd-layout-cell").eq(0).attr("rowspan")+"00%",width:f.parents(".e-dbrd-layout-cell").eq(0).attr("colspan")+"00%"});if(n(window).width()<t.DashboardConstants.MobileWidth){for(s=null,yt=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<yt;r++)f=u.eq(r),c=f.parents(".e-dbrd-control-container"),o=this._defaultLayoutCellHeight(c),s=this.isWidget||this.model.enableWidgetMode?Math.max(o,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount")):Math.max(o,this.dashboardHeight/this.totalColumn),s===o&&this.element.css({"overflow-y":"auto"}),e=f.parents(".e-dbrd-layout-cell"),e.attr("IsStandardSize")!=="true"||this.model.enableWidgetMode||this.isWidget?this.model.enableWidgetMode||this.isWidget?e.css({height:e.attr("rowspan")*s}):(et=this._heightOfCell(f.parents().eq(0).attr("type"),s),e.css({height:e.attr("rowspan")*s>et?e.attr("rowspan")*s:et})):(p=e.width(),e.width()>n(window).height()&&(p=n(window).height()),e.css({height:p}));if(this.model.enableWidgetMode){for(h=n(".e-bottom-line"),g=0;g<h.length;g++)h.eq(g).css({display:"none"});pt=this.currentTabContentElement.find(".e-dbrd-layout-cell");pt.css({height:s})}}if(this.model.enableWidgetMode)for(h=n(".e-bottom-line"),nt=0;nt<h.length;nt++)h.eq(nt).css({display:"none"});if(this.element.find(".e-dbrd-banner-description").length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),this.element.find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active")),wt=this.currentTabContentElement.find("#"+this._id+"_filter_overview_dialog"),wt.css("display")==="block"&&(bt=this.currentTabContentElement.find(".e-dbrd-filterListMenu"),this._filterDlgPosition(bt)),l=this.currentTabContentElement.find(".e-dbrd-control-nodatainfo"),a=0,l)for(kt=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length,a;a<kt;a++)l.eq(a).css({height:"100%"}),l.eq(a).find(".align-center").css({display:"table-cell"});if(ot=this.currentTabContentElement.find(".e-dbrd-filter-view-loader-wrapper"),ot.length!==t.DashboardConstants.Zero&&(st=ot.find(".e-dbrd-filter-view-loader"),ht=this.currentTabContentElement.find("#"+this._id+"_filter"),ht.length===t.DashboardConstants.Zero?st.css({left:"85%"}):st.css({left:ht.offset().left-25+"px"})),!this.isPrintTriggered){if(t.isNullOrUndefined(this.previousDashboardSize)){if(this.previousDashboardSize.width===this.dashboardWidth&&this.previousDashboardSize.height===this.dashboardHeight)return;this.previousDashboardSize.width=this.dashboardWidth;this.previousDashboardSize.height=this.dashboardHeight}else this.previousDashboardSize={height:this.dashboardHeight,width:this.dashboardWidth};this.flag=!1;p=t.DashboardConstants.Zero;c=this.currentTabContentElement.find(".e-dbrd-control-container");(this.isWidget||this.model.enableWidgetMode)&&(c.css({width:this.model.size.width?this.dashboardWidth:"100%"}),c.css({height:this.model.size.height?this.dashboardHeight:"100%"}));tt=!1;it=null;this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length!==t.DashboardConstants.Zero&&(dt=n(this.element).height(),gt=n(this.element).width(),n("#"+this._id+"_InActiveDiv").css({width:gt,height:dt}),tt=!0,n(window).width()>t.DashboardConstants.MobileWidth&&this._inactiveFooterWidth(),it=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),it.css({height:this.dashboardHeight*.9-120}));this._resizemMaximizedControlTitle();ni=this;this._resizeViewDataDialog();this._resizeRangeSlider();this._resizeMaximizedComboChart(tt);this._resizeChart();this._showOrHideIcons();this._resizeWidgetTitle();this._resizeHalfSizeWidget();this._showOrHideBannerIcons();this._drawFilterOverviewBanner();this._resizeLayout();this._filterPanelResize();this._resizeFilterWidgetTitle();this._resizeWidget(tt,it);this._resizeMaximizedGrid();this._resizeLabel();this._resizeRangeNavigator();this._resizeCustomWidget();this._resizePivotGrid();this._resizeDropDown();this._resizeMaximizeControl(ct);this._resizeListBox();this._resizeDatePicker();this._resizeImage();this._resizeTreeMap();this._callFunction(this._mapResponsive);this._callFunction(function(){ni.flag=!0});this._resizeTitle();this._resizeErrorDialog();this._mobileExportDropdownResize();this._nowidgetPreviewAlign();this._showGetLinkIcon();this._resizeGetLinkDialog();this._resizeDashboardParametersDialog();this._resizeControlError();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.resizeComplete,source:{element:i,data:null}})}},_defaultLayoutCellHeight:function(n){var i=n.find(".e-control-subtitleHeading").find(".e-control-subtitle");return i.length!==t.DashboardConstants.Zero?105:this.isExtendedLayout?40:80},_resizemMaximizedControlTitle:function(){var i=this.currentTabContentElement.find(".e-dbrd-inactive-header"),r=i.find(".e-dbrd-maxControl-title"),u=i.find(".e-dbrd-maximize-controlprop");i&&r&&u&&(r.width()>=i.width()-u.width()?r.css({"max-width":i.width()-u.width()-20+"px",width:"auto"}):r.css({"max-width":i.width()-u.width()-20+"px",width:"auto"}),n(window).width()<t.DashboardConstants.MobileWidth&&r.css({"max-width":"100%",width:"100%"}))},_resizeRangeSlider:function(){var i=this;this.timers.push(setTimeout(function(){for(var f,e,r=n(i.currentTabContentElement).find(".e-slider"),o=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<o;u++)f=r.eq(u).parents(".e-dbrd-containerWrapper"),e=i.dashboardControls.getControlByReport(f.attr("data-controlid")),f.width()!==t.DashboardConstants.Zero&&e&&(e.configInfo.orientation==="vertical"?r.eq(u).ejDashboardSlider({height:f.height()-120+"px"}):r.eq(u).ejDashboardSlider({width:f.width()-120+"px"}))},0))},_resizeMaximizedComboChart:function(i){var u=null,r;i&&(r=n(this.currentTabContentElement).find(".e-dbrd-MaximizedControl"),r.attr("data-controlid").indexOf("ComboChart")!==t.DashboardConstants.IndexLowerBound&&(u=r.data("ejDashboardScroller"),r.hasClass("e-chartseries")&&u&&(u.option("height",r.height()),u.refresh())))},_resizeChart:function(){var i=this;this.timers.push(setTimeout(function(){for(var f,u,e,h,c,r=null,o=n(i.currentTabContentElement).find(".e-dbrd-control.dashboardChartControl"),l=t.isNullOrUndefined(o)?t.DashboardConstants.Zero:o.length,s=0;s<l;s++)r=o.eq(s),f=r.data("ejDashboardChart"),t.isNullOrUndefined(f)||f.redraw(),u=i.dashboardControls.getControlByReport(r.attr("data-controlid")),u.configInfo.isDrillDown&&!t.isNullOrUndefined(u.drillLevelData)&&u.drillLevelData.length!==t.DashboardConstants.Zero&&n("#"+i._id+t.DashboardConstants.Widget+u.configInfo.Id+"_Drilled"+u.configInfo.Id).css({height:r.height()}),e=r.data("ejDashboardScroller"),u&&u.controlType===t.dashboardViewer.Controls.ComparisonChart&&r.hasClass("e-chartseries")&&(e?(h=r.closest(".e-dbrd-control-container"),e.option("height",h.height()-h.find(".e-control-heading").height()),e.refresh()):t.isNullOrUndefined(r.find(".e-datavisualization-chart"))||r.find(".e-datavisualization-chart").length!==1||(c=r.find(".e-datavisualization-chart"),c.height(r.height()),f=c.data("ejDashboardChart"),t.isNullOrUndefined(f)||f.redraw()))},0))},_resizeLayout:function(){var i=0,r=80,h=12,u=3,c,e,l,a,o,f,s;this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth?(r=50,i=Math.max(r,(this.dashboardHeight-this.currentTabContentElement.find(".e-dbrd-banner").height())/h),this.heightOfCell=i,this.pageHeight=i*h):i=Math.max(r,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/this.currentTabContentElement.find("#"+this._id+"layout_wrapper").attr("rowCount"));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth?i!==r||this.isExtendedLayout?i===r&&this.isExtendedLayout?(c=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(c)&&this.actualPages.length===t.DashboardConstants.One&&this.currentTabContentElement.find(".e-dbrd-layout-wrapper").ejDashboardScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u),orientation:"vertical",scrollerSize:7,buttonSize:0,scrollOneStepBy:30})):(e=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(e)||this.actualPages.length!==t.DashboardConstants.One||e.destroy(),this.element.find(".e-dbrd-tab-wrapper").css({height:this.dashboardWrapper.height()}),l=this.model.showTab?this.element.find(".e-dbrd-tab-menu-container").height():t.DashboardConstants.Zero,a=this.element.find(".e-dbrd-banner").height(),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.dashboardWrapper.height()-(a+l),"overflow-y":"hidden"})):this.onDemandTabs&&!this.model.showTab?(this.element.find(".e-dbrd-layout-wrapper").css({height:this.dashboardWrapper.height()-this.element.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto"})):(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto"})):this.model.enableWidgetMode&&this.isWidget?(this.element.find(".e-dbrd-tab-wrapper").css({height:this.dashboardWrapper.height()}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.dashboardWrapper.height(),"overflow-y":"hidden"})):(o=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(o)||this.actualPages.length!==t.DashboardConstants.One||o.destroy(),this.element.find(".e-dbrd-tab-wrapper").css({height:this.dashboardWrapper.height()}),this.onDemandTabs&&this.currentTabContentElement.css({height:this.dashboardWrapper.height()}));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth?this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth?(this.onDemandTabs&&!this.model.showTab&&this.currentTabContentElement.css({height:this.dashboardWrapper.height()}),this.currentTabContentElement.css({"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"})):(this.currentTabContentElement.css({"max-width":"",overflow:"hidden"}),this.onDemandTabs&&this.currentTabContentElement.css({height:"auto"}),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.isExtendedLayout&&n(window).width()>=t.DashboardConstants.MobileWidth&&(n(window).height()!==this.previousDashboardSize.height&&Math.max.apply(Math,this.pageInfo)!==t.DashboardConstants.One&&this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0),f=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),t.isNullOrUndefined(f)?this.actualPages.length!==t.DashboardConstants.One&&(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").ejDashboardScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u),orientation:"vertical",scrollerSize:7,buttonSize:0,scrollOneStepBy:30}),this.layoutWrapperHeight=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!1),this._initializeDashboardScroller(this.currentTabContentElement.find(".e-dbrd-layout-wrapper")),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"})):(f.option("height",this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u)),f.refresh(),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"none"}),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!1),this.layoutWrapperHeight=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height()))):(this.currentTabContentElement.css("width",this.element.width()),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.onDemandTabs&&this.currentTabContentElement.css({height:"auto"}),this.isExtendedLayout&&(s=this.currentTabContentElement.find(".e-dbrd-layout-wrapper.e-scroller").data("ejDashboardScroller"),t.isNullOrUndefined(s)||(s.destroy(),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+u)}),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0))));this.model.enableDashboardScaling&&(this.dashboardWrapper.css({transform:"scale("+this.scalingFactor+")"}),this.dashboardWrapper.offset({left:0}))},_resizeWidget:function(n,i){for(var f,r=this.dashboardControls.getAllControls(),e=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<e;u++)f=r[u],this._isFilterPanelWidget(f.reportName)||this._resizeControls(n,i,f)},_resizeMaximizedGrid:function(){var r=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length!==t.DashboardConstants.Zero,n=null,i=this;r?this.timers.push(setTimeout(function(){var r=i.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),u;n=r.data("ejDashboardGrid");n&&(u=n.model.allowFiltering?r.parent().height()-77:r.parent().height()-49,n.setModel({scrollSettings:{height:u}}),n.element.find(".e-table").width("100%"));i._resizeGrid()},0)):this.timers.push(setTimeout(function(){i._resizeGrid()},0))},_resizeLabel:function(){var r=this.currentTabContentElement.find(".dashboardLabelControl"),i,c,u;if(r.length!==t.DashboardConstants.Zero)for(i=0;i<r.length;i++){var o=r[i],f=n(o).find(".e-dbrd-control"),s=f[0].lastChild.attributes.style.value,e=r.eq(i).find(".e-dbrd-control-container"),h=r.eq(i).find(".e-dbrd-control-container p");h.css({width:e.width()});c=n(o).find(".e-dbrd-containerWrapper");u=f.data("ejDashboardScroller");u&&(u.option("height",e.height()),u.option("width",e.width()),u.refresh());f[0].lastChild.attributes.style.value=s}},_resizeRangeNavigator:function(){var i=this;this.timers.push(setTimeout(function(){for(var u=n(i.currentTabContentElement).find(".e-datavisualization-rangenavigator"),e=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<e;f++){var r=u.eq(f).parents(".e-dbrd-control-container"),o=r.children().eq(t.DashboardConstants.Zero).hasClass("e-control-heading"),s=o?r.height()-50:r.height()-20;u.eq(f).ejDashboardRangeNavigator({sizeSettings:{height:s<t.DashboardConstants.Zero?t.DashboardConstants.One:r.height()>120?120:r.height()-15,width:r.width()}})}},0))},_resizeCustomWidget:function(){var i=this;this.timers.push(setTimeout(function(){for(var s,h,f,o,r=n("#"+i._id).find(".dashboardCustomWidget"),l=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<l;u++)s=i.dashboardControls.getControlByReport(n(r[u]).attr("data-controlid")),h=n(r[u]).hasClass("e-dbrd-MaximizedControl"),h||i._renderWidget(s,null,{type:"resize",size:{width:n(r[u]).width(),height:n(r[u]).height()}});if(f=i.currentTabContentElement.find(".e-dbrd-inactive"),o=f.attr("type"),f.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(o)&&o===t.dashboardViewer.Controls.CustomWidget){var e=f.find(".e-dbrd-MaximizedControl"),c=e.attr("data-controlid"),a=i.dashboardControls.getControlByReport(c),v=n(window).width()*.8;e.css("width",v);i._renderWidget(a,{id:c,Div:e,isMaximize:!0},{type:"resize",size:{width:"100%",height:e.height()}})}},0))},_resizePivotGrid:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,e,u=n(i.currentTabContentElement).find(".dashboardPivotGridControl"),o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<o;f++)r=n(u[f]),r.css({width:r.parent().width(),"margin-left":"1px",height:r.parent().height()-25}),e=r.find("#"+r.attr("id")+"_div"),e.css({height:r.height(),width:r.parent().width()}),i._pivotGridRenderSuccess(r,{action:"resizeWindow"})},0))},_resizeDropDown:function(){var i=this;this.timers.push(setTimeout(function(){for(var u,s,f,r=n(i.currentTabContentElement).find(".e-dropdownlist"),o=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,e=0;e<o;e++)n("#"+r[e].id+"_popup_list_wrapper").css({display:"none"});for(u=0;u<o;u++)r.eq(u).parents(".e-dbrd-inactive-export").length===t.DashboardConstants.Zero&&(s=r.eq(u).attr("id"),i._isFilterPanelWidget(s)||(f=r.eq(u).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(f.width())||f.width()===t.DashboardConstants.Zero||(r.eq(u).ejDashboardDropDownList({width:f.width()-(f.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.IndexLowerBound:30)+"px"}),t.isNullOrUndefined(r)||n("#"+n(r).attr("id")+"_popup_list_wrapper").css({"max-width":i.currentTabContentElement.width()-i.currentTabContentElement.find("#"+n(r).attr("id")).offset().left+"px"})),t.isNullOrUndefined(f.height())||f.height()===t.DashboardConstants.Zero||r.eq(u).ejDashboardDropDownList({height:f.height()<50?"18px":"30px"})))},0))},_resizeMaximizeControl:function(i){var r=this;this.timers.push(setTimeout(function(){var u=r.currentTabContentElement.find("#"+r._id+"_InActiveDiv");if(u.length!==t.DashboardConstants.Zero&&i){var o=u.find(".e-dbrd-MaximizedControl"),s=n(o).attr("data-controlid"),h=r._id+s+"_Maximize",c=u.find(".e-dbrd-control-container"),f=u.find(".e-dbrd-mobileExport").detach(),e=u.find(".e-dbrd-dialog-bgrnd-export").detach();t.widget.destroyAll(c.find(".e-js"));u.remove();r._maximizeControl(h);f.length!==t.DashboardConstants.Zero?r.currentTabContentElement.find("#"+r._id+"_InActiveDiv").append(f):e.length!==t.DashboardConstants.Zero&&r.currentTabContentElement.find("#"+r._id+"_InActiveDiv").append(e)}else u.length!==t.DashboardConstants.Zero&&u.find(".e-dbrd-MaximizedControl").css({width:"100%",height:"100%"})},0))},_resizeListBox:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,s,f,e,o=n(i.currentTabContentElement).find(".e-listbox"),h=n(i.currentTabContentElement).find(".e-dbrd-control-listbox"),u=o.length-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--)r=o.eq(u).parents(".e-dbrd-containerWrapper"),s=r.find(".e-control-heading").length>t.DashboardConstants.Zero&&r.find(".e-control-subtitleHeading").length>t.DashboardConstants.Zero?r.find(".e-control-heading").height()+r.find(".e-control-subtitleHeading").height():r.find(".e-control-heading").height(),t.isNullOrUndefined(r)||(f=o.eq(u).attr("id"),i._isFilterPanelWidget(f)||(e=n("#"+f).data("ejDashboardListBox"),t.isNullOrUndefined(e)||(e.option("height",r.height()-s+"px"),e.option("width",r.width()-15+"px")),h.eq(u).css({width:"100%"}),n("#"+f+"_container").css({width:"100%",height:"100%"})))},0))},_resizeDatePicker:function(){var i=this;this.timers.push(setTimeout(function(){for(var r,e,o,u=n(i.currentTabContentElement).find(".e-dashboarddatepicker"),s=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<s;f++)r=u.eq(f).parents(".e-dbrd-containerWrapper"),t.isNullOrUndefined(r.height())||r.height()===t.DashboardConstants.Zero||t.isNullOrUndefined(r.width())||r.width()===t.DashboardConstants.Zero||(e=r.find(".e-dashboarddatepicker"),e.css({height:"100%",width:"100%"}),o=e.data("ejDashboardDashboardDatePicker"),o.option("height",r.height()<50?"18px":"25px"),o.option("width",r.width()-(r.hasClass("e-dbrd-fzone-layout-cell")?t.DashboardConstants.Zero:30)+"px"))},t.DashboardConstants.Zero))},_resizeImage:function(){for(var u,f,i=n(this.currentTabContentElement).find(".dashboardImageControl"),e=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<e;r++)u=i.eq(r).find(".e-dbrd-containerWrapper"),f=i.eq(r).find(".e-dbrd-control"),u.height()!==t.DashboardConstants.Zero&&f.css({height:"100%",width:"100%"})},_resizeTreeMap:function(){var i=this;this.timers.push(setTimeout(function(){for(var f,r=n(i.currentTabContentElement).find(".e-dbrd-control.e-datavisualization-treemap"),e=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<e;u++)f=r.eq(u).data("ejTreeMap"),t.isNullOrUndefined(f)||f.refresh()},0))},_resizeErrorDialog:function(){var n=this.element.find("#"+this._id+"_error_dialog"),u=n.find(".e-dbrd-dialog-content-wrapper"),i=0,r=this._getErrorSwitchDetails(n);r==="mobile"?(i=this.currentTabContentElement.height()-(n.find(".e-dbrd-dialog-heading").outerHeight()+n.find(".e-info-msg").outerHeight()+n.find(".e-dbrd-content .e-dbrd-hideDetails").outerHeight()+n.find(".e-dbrd-content .e-dbrd-showDetails").outerHeight()+40),n.find(".e-info-msg").length===t.DashboardConstants.Zero&&(u.css("max-height",this.currentTabContentElement.height()),i=this.currentTabContentElement.height()-n.find(".e-dbrd-dialog-heading").height()-50),this._refreshErrorScroller(i)):r==="Desktop"&&(i=100,n.find(".e-info-msg").length===t.DashboardConstants.Zero&&(i=130),this._refreshErrorScroller(i))},_resizeGetLinkDialog:function(){var n=this.element.find("#"+this._id+"_get_link_dialog");!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero&&(n.remove(),this.openGetLinkDialog())},_resizeGrid:function(){for(var f=0,e=0,i=null,r=null,o=0,s=null,c=n(this.currentTabContentElement).find(".dashboardGridControl"),p=t.isNullOrUndefined(c)?t.DashboardConstants.Zero:c.length,l,a,v,h,y,u,f=0;f<p;f++)if(i=c.eq(f),l=i.parent().find(".e-control-heading").length>o?i.parent().find(".e-control-heading").height():o,a=i.parent().find(".e-control-subtitleHeading").length>o?i.parent().find(".e-control-subtitleHeading").height():o,i.css({width:i.parent().width()-20,overflow:"hidden",height:i.parent().height()-(l+a)}),s=this.dashboardControls.getControlByReport(i.attr("data-controlid")),r=i.data("ejDashboardGrid"),r){if(i.ejDashboardGrid({allowScrolling:!0,scrollSettings:{width:i.parents(".e-dbrd-containerWrapper").width(),height:r.model.allowFiltering?i.height()-68:i.height()-36}}),r.model.allowPaging||r.model.showSummary){if(e=r.model.scrollSettings.height,r.model.allowPaging&&(v=36,e=r.model.scrollSettings.height-v),r.model.showSummary){for(h=0,y=25,u=0;u<s.configInfo.SummaryRows.length;u++)h<s.configInfo.SummaryRows[u].SummaryRowInfos.length&&(h=s.configInfo.SummaryRows[u].SummaryRowInfos.length);e-=h*y}r.setModel({scrollSettings:{height:e,width:r.model.scrollSettings.width}})}i.find(".e-gridheader").find("table").css({width:i.width()});i.find(".e-scrollbar").hide()}},_mapResponsive:function(){for(var i,r=n(this.currentTabContentElement).find(".dashboardMapControl"),f=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<f;u++)for(i=0;i<f;i++)this.mapControlsData[i].key===r[u].id&&this._callFunction(this._setMapResponsiveProperties,this.mapControlsData[i].key,this.mapControlsData[i].value)},_resizeDrilledChart:function(i){for(var e,u=n(this.currentTabContentElement).find(".e-datavisualization-chart"),o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<o;f++){var r=u.eq(f),s=r.attr("id"),h=s.substr(r.attr("id").length-14).split("_")[0];r.attr("data-controlid")===i&&(e=r.data("ejDashboardChart"),e.model.size.height=r.height()+"px",h.indexOf("Drilled")!==t.DashboardConstants.IndexLowerBound&&r.css({width:r.parent().width()}),e.model.size.width=r.width()+"px")}},_drawLayout:function(i,r){var f=12,o=0,s=0,h=null,u=null,c=!1;this.totalColumn=0;this.isExtendedLayout=!this.isWidget&&!this.model.enableWidgetMode&&i.ColumnCount===24;s=this.isExtendedLayout?50:80;i.RowCount=this.isWidget||this.model.enableWidgetMode?t.DashboardConstants.One:i.RowCount;i.ColumnCount=this.isWidget||this.model.enableWidgetMode?t.DashboardConstants.One:i.ColumnCount;var l=this.isExtendedLayout?f:i.RowCount,a=this.isExtendedLayout?t.DashboardConstants.Zero:15,v=this.isExtendedLayout&&this.filterHeight===t.DashboardConstants.Zero?7.5:22.5,e=Math.max(s,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+a+this.filterHeight))/l),y=this.isExtendedLayout||this.filterHeight>t.DashboardConstants.Zero&&this.model._dashboardData.isExportImage?(this.currentTabContentElement.find(".e-dbrd-banner").height()+v+this.filterHeight)/f:t.DashboardConstants.Zero;c=this.model.enableWidgetMode&&this.isWidget;!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&i.RowCount>f&&(this.exportImageHeightForExtendedLayout=this.dashboardHeight,this.currentTabContentElement.css({height:"auto"}));this.isExtendedLayout&&!c&&(o=i.RowCount,i.RowCount=this._calculateRowCount(i.RowCount),this.availableRowCount=this._getAvailabelRowCount(o));h=this._createDashboardLayoutWrapper(i.RowCount,i.ColumnCount,c);this._addLayoutCell(i.RowCount,i.ColumnCount,e,y);this._addCellStyle(i.ColumnCount);u=this._assignLayoutInfomationsValue(r);t.isNullOrUndefined(u)||u.length!==t.DashboardConstants.Zero||this._layoutCreationForNoWidgetConfigured(u);this._createLayout(u);this._removeLayoutCellForPDF(i.RowCount,i.ColumnCount);!t.isNullOrUndefined(u)&&n(window).width()<t.DashboardConstants.MobileWidth&&(this._controlSizeCalculationForMobile(u,i),this._hideShowPageForMobile(Math.max.apply(Math,this.pageInfo),!0),this._on(h,"scroll",this._layoutScroll));this._loadDashboardControls(u);this._showOrHideIcons();this._drawFilterOverviewBanner();this._resizeWidgetTitle();this.model.enableCustomTheming&&this._initiateCustomThemeForDashboardLayout();this.model._dashboardData.loadFromData&&this.model._dashboardData.isExportImage&&this._resetLayoutForExporting(i.RowCount);n(window).width()>t.DashboardConstants.MobileWidth&&(this.isExtendedLayout&&(o>f||e===s)&&this._addLayoutScroller(h,e),this._layoutSizeCalculation(e))},_loadDashboardControls:function(n){!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero?this._showPromptDialogPopup(this.dashboardParameters.data,this.isParameterApplied):this._dashboardData().loadFromData||(this._downloadScriptFromCdnLink(n),this.loadDashboard())},_resetLayoutForExporting:function(n){t.isNullOrUndefined(n)||(this.currentTabContentElement.find(".e-control-prop").addClass("e-hide-element"),this.currentTabContentElement.find(".e-dbrd-banner-description").addClass("e-hide-element"),this.currentTabContentElement.find(".e-control-description").addClass("e-hide-element"))},_createDashboardLayoutWrapper:function(i,r,u){var e=this.onDemandTabs?"e-dbrd-res-layout-wrapper":"",o=n(window).width()<t.DashboardConstants.MobileWidth&&!u?"e-dashboardtable-mobile":this.isExtendedLayout||u?"e-dashboardtable-widgetmode":"e-dashboardtable-dbrd",f='<div id="'+this._id+'layout_wrapper" class = "e-dbrd-layout-wrapper e-dbrd-scroller '+e+'" rowCount = "'+i+'" columnCount = "'+r+'" ><div id="'+this._id+'_layout" class= "'+o+'"/><\/div>';return f=n(f),this.currentTabContentElement.append(f),f},_assignLayoutInfomationsValue:function(n){for(var f,i,u=null,r=0;r<n.length;r++){f=n[r].Key;i=f===t.DashboardConstants.Description||f===t.DashboardConstants.Culture?JSON.stringify(n[r].Value):n[r].Value;i=JSON.parse(i);switch(f){case t.DashboardConstants.LayoutInformation:u=this._addPageNumer(i);break;case t.DashboardConstants.RefreshSettings:t.isNullOrUndefined(i)||this._dashboardData().isTestCase||this._setRefreshSettings(i);break;case t.DashboardConstants.Title:this.model.reportName=i.Title;break;case t.DashboardConstants.WidgetCultures:this._fetchCultureFiles(i);break;case t.DashboardConstants.FilterPanelInformation:this.filterPanelWidgetscollection=n[r].Value;break;case t.DashboardConstants.CustomWidgetCultures:this._fetchCultureFilesForCustomWidget(i);break;case t.DashboardConstants.CustomWidgetSettings:t.isNullOrUndefined(u)||(u=this._addWidgetSettings(u,i));break;case t.DashboardConstants.Description:this.reportDescription=n[r].Value;(t.isNullOrUndefined(this.reportDescription)||this.reportDescription.length===t.DashboardConstants.Zero)&&this.currentTabContentElement.find(".e-dbrd-banner-description").remove()}}return this.layoutControls=u,u},_addWidgetSettings:function(n,i){var u,r;if(t.isNullOrUndefined(i))return n;var f=null,o=n.length,e=Object.keys(i);for(u=0;u<e.length;u++)for(r=0;r<o;r++)f=n[r],n[r].ReportName===e[u]&&(f.configuration=i[n[r].ReportName]);return n},_addPageNumer:function(n){for(var r=0,e=null,u=0,o=[],h=n.length,i,s,f,r=0;r<h;r++)e=n[r],u=Math.floor(e.Row/12)+t.DashboardConstants.One,this.actualPages.indexOf(u)===t.DashboardConstants.IndexLowerBound&&this.actualPages.push(u),e.Page=u;for(i=t.DashboardConstants.One;i<this.actualPages.length;i++)if(s=this.actualPages[i]-this.actualPages[i-t.DashboardConstants.One],s!==t.DashboardConstants.One)for(f=t.DashboardConstants.One;f<s;f++)o.push(this.actualPages[i]-f);return this.actualPages=o.concat(this.actualPages.filter(function(n){return o.indexOf(n)<t.DashboardConstants.Zero})),n},_removeLayoutCellForPDF:function(i,r){var s,h,u,c,f,o,l,e;if(this._dashboardData().isWidgetSpecific){for(s=i,h=10,u=t.DashboardConstants.Zero;u<s;u++)for(c=r,f=t.DashboardConstants.Zero;f<c;f++)o=this.currentTabContentElement.find("#"+this._id+"_cell_"+u+"_"+f),!t.isNullOrUndefined(o[t.DashboardConstants.Zero])&&t.isNullOrUndefined(o[t.DashboardConstants.Zero].childNodes[t.DashboardConstants.Zero])&&this.currentTabContentElement.find("#"+this._id+"_cell_"+u+"_"+f).remove();l=0;e=this.currentTabContentElement.find(".e-dbrd-layout-cell").eq(l);e.find(".e-dbrd-control-container").attr("type")!==t.dashboardViewer.Controls.Grid&&e.css({height:e.height()-n(".e-dbrd-banner").height()-h})}},_addLayoutCell:function(n,i,r,u){for(var e,o,s=12,h=null,c="",l=0,y=this.currentTabContentElement.find("#"+this._id+"_layout"),a=!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage,v=this.pageInfo.length===t.DashboardConstants.One&&this.pageInfo[0]===t.DashboardConstants.One||a?t.DashboardConstants.Zero:Math.max.apply(Math,this.pageInfo)*s,f=v;f<v+n;f++)for(e=t.DashboardConstants.Zero;e<i;e++)h=this.isWidget||this.model.enableWidgetMode||this._dashboardData().isWidgetSpecific?"e-dbrd-mobile-cell":"e-dbrd-cell",o=Math.floor(f/s)+t.DashboardConstants.One,l=o>=2&&a&&window.isExportPdf?r+u:r,c+='<div class = "e-dbrd-layout-cell '+h+' e-dbrd-cell-block e-dbrd" id = "'+this._id+"_cell_"+f+"_"+e+'" style = "height :'+l+'px" data-Page = "'+o+'"><\/div>';y.append(c);this.heightOfCell=this.isExtendedLayout?r:t.DashboardConstants.Zero},_calculateRowCount:function(n){var i=12,r=24;return!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage?n:this.availableRowCount===t.DashboardConstants.Zero?n>=r?r:n:n>=i?i:n},_getAvailabelRowCount:function(n){var i=12,r=24;if(this.availableRowCount===t.DashboardConstants.Zero){if(n>=r)return n-r;if(n>=i)return this.isRowsAvailable=!1,n-i}else if(n>=i)return n-i;return t.DashboardConstants.Zero},_hideShowPageForMobile:function(i,r){var u=0,e;r&&(r=this._isNeedToBeHided(i));var o=i+t.DashboardConstants.One,f=n("#"+this._id+"layout_wrapper").find(".e-dbrd-layout-cell"),s=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length;for(u=0;u<s;u++)e=f.eq(u).attr("data-Page"),parseInt(e)===o&&r?f.eq(u).css({display:"none"}):f.eq(u).css({display:"block"})},_isNeedToBeHided:function(i){var r=0,f=!0,e=0,u,o;if(i===t.DashboardConstants.One&&n(window).width()<t.DashboardConstants.MobileWidth){for(u=n("#"+this._id+"layout_wrapper").find(".e-dbrd-control").parents(".e-dbrd-layout-cell[data-page="+i+"]"),o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<o;r++)e+=u.eq(r).height();e<=n(window).height()&&(f=!1,this.pageInfo.push(i+t.DashboardConstants.One))}return f},_initiateCustomThemeForDashboardLayout:function(){if(this._customTheme(["dashboard","container"]),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)){var n=this.model.customThemeSettings.fontSettings;!t.isNullOrUndefined(n["font-family"])&&n["font-family"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.css("font-family")!==n["font-family"]&&this._customTheme(["font"])}},_addLayoutScroller:function(n,t){this._dashboardData().isExportImage||(this.pageHeight=t*12,n.css({transform:"scale("+this.deScalingFactor+")"}),n.ejDashboardScroller({height:this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+3),orientation:"vertical",scrollerSize:7,buttonSize:0,scrollOneStepBy:30}),n.css({width:"100%"}),this.layoutWrapperHeight=n.height(),this._initializeDashboardScroller(n),this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").addClass("e-hide-element"),n.css({transform:"scale(1)"}))},_initializeDashboardScroller:function(i){var r=this,u=0,e=0,f=r.layoutWrapperHeight;i.ejDashboardScroller({thumbMove:function(n){if(this.element.hasClass("e-dbrd-layout-wrapper")){if(n.direction===t.DashboardConstants.IndexLowerBound){r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);r._onDemandSlaveRequest();r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();r.isRefreshClicked&&r._refreshPageOnDemand();return}r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);r._onDemandSlaveRequest();n.scrollData.scrollable>=f&&(e!==f&&(u=r.layoutWrapperHeight+n.model.scrollTop>=r.pageHeight?n.model.scrollTop>=n.scrollData.scrollable?Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One:Math.max.apply(Math,r._getPageForCurrentView()):t.DashboardConstants.One),r.actualPages.indexOf(u)!==t.DashboardConstants.IndexLowerBound&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(u)===t.DashboardConstants.IndexLowerBound?(r._dashboardScroll(u,!1,n.model.scrollTop,n.scrollData.scrollable),e=f):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages(),r.isRefreshClicked&&r._refreshPageOnDemand()))}},thumbEnd:function(i){r._renderNextPageLayout(u,!0);n(window).width()>t.DashboardConstants.MobileWidth&&r._refreshDashboardScroller(i.model.scrollTop);f=i.scrollData.scrollable},wheelMove:function(n){if(n.direction===t.DashboardConstants.IndexLowerBound){r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);r._onDemandSlaveRequest();r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages();r.isRefreshClicked&&r._refreshPageOnDemand();return}r._getCurrentScrollObjects(n.model.scrollTop,n.scrollData.scrollable);r._onDemandSlaveRequest();u=r.layoutWrapperHeight+n.model.scrollTop>=r.pageHeight?n.model.scrollTop>=n.scrollData.scrollable?Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One:Math.max.apply(Math,r._getPageForCurrentView()):t.DashboardConstants.One;r.actualPages.indexOf(u)!==t.DashboardConstants.IndexLowerBound&&(r.pageInformations=r.pageInformations.concat(r.pageInfo.filter(function(n){return r.pageInformations.indexOf(n)<t.DashboardConstants.Zero})),r.pageInformations.indexOf(u)===t.DashboardConstants.IndexLowerBound?r._dashboardScroll(u,!0):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages(),r.isRefreshClicked&&r._refreshPageOnDemand())}})},_refreshDashboardScroller:function(n){var t=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller");t.option("scrollTop",n);t.refresh()},_onDemandSlaveRequest:function(){t.isNullOrUndefined(this.filteredInfo)||this._getPagesToFilter().length===t.DashboardConstants.Zero||this._makeSlaveDataRequest({master:this.filteredInfo.filterInfo.master,masterData:this.filteredInfo.masterData,slaves:this.filteredInfo.filterInfo.slaves,canDrill:this.filteredInfo.filterInfo.canDrill,showIndicator:this.filteredInfo.filterInfo.showIndicator,isAutoRefresh:this.filteredInfo.filterInfo.isAutoRefresh,isWheelMove:!0})},_getCurrentScrollObjects:function(n,t){this._destroyContextMenu();this._destroyControlMenu();this.currentScrollTop=n;this.currentScrollHeight=t},_getPageForCurrentView:function(){if(this.isExtendedLayout){var r=[],i=0,u=10,h=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height(),o=this.currentTabContentElement.find(".e-dbrd-banner").height(),f=n(window).width()<t.DashboardConstants.MobileWidth?this.element.find(".e-dbrd-overview-banner"):[],c=f.length>t.DashboardConstants.Zero&&f.css("display")!=="none"?f.height():t.DashboardConstants.Zero;if(this._destroyDashboardMenu(),n(window).width()<t.DashboardConstants.MobileWidth){if(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").scrollTop()===t.DashboardConstants.Zero)return r.push(t.DashboardConstants.One),r;var l=document.elementFromPoint(u,o+c+u),a=document.elementFromPoint(u,h),e=parseInt(n(l).parents(".e-dbrd-layout-cell").attr("data-page")),s=parseInt(n(a).parents(".e-dbrd-layout-cell").attr("data-page"));return e===s?[e]:[e,s]}return this.pageHeight=this.heightOfCell===50?this.dashboardHeight-o:this.pageHeight,this.currentScrollTop===t.DashboardConstants.Zero?(i=t.DashboardConstants.One,r.push(i)):this.currentScrollTop<this.pageHeight?(i=t.DashboardConstants.One,r.push(i),r.push(i+t.DashboardConstants.One)):this.currentScrollTop%this.pageHeight!==t.DashboardConstants.Zero?(i=Math.floor(this.currentScrollTop/this.pageHeight)+t.DashboardConstants.One,r.push(i),r.push(i+t.DashboardConstants.One)):(i=Math.floor(this.currentScrollTop/this.pageHeight)+t.DashboardConstants.One,r.push(i)),r}return this.pageInfo},_onLayoutWrapperMouseMove:function(){this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").stop(!0).fadeIn()},_onLayoutWrapperMouseLeave:function(i){t.isNullOrUndefined(n(i))||n(i.target).hasClass("e-scrollbar")||this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").stop(!0).fadeOut()},_refreshPageOnDemand:function(){var i,n;for(this.pagesToRefresh=[],i=this._getPageForCurrentView(),n=0;n<i.length;n++)this.refreshedPages.indexOf(i[n])===t.DashboardConstants.IndexLowerBound&&this.pagesToRefresh.push(i[n]);this.pagesToRefresh.length>t.DashboardConstants.Zero&&this.refreshDashboard(null,!1);this.refreshedPages.length===this.actualPages.length&&(this.isRefreshClicked=!1)},_showPromptDialogPopup:function(n,i){var u=!1,f=[],e=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r;if(n.length>t.DashboardConstants.Zero&&i){for(r=0;r<e;r++)n[r].showInPromptDialog&&(f.push(n[r]),u=!0);f.length>t.DashboardConstants.Zero&&this._openDashboardParametersDialog(f,u)}this._dashboardData().loadFromData||u||this.loadDashboard()},_layoutCreationForNoWidgetConfigured:function(i){var r;if(i.length===t.DashboardConstants.Zero)if(this.model.enableWidgetMode){this.currentTabContentElement.find(".e-dbrd-layout-wrapper").addClass("e-hidden-layoutwrapper");var o=this.currentTabContentElement.find("#"+this._id+"_cell_"+t.DashboardConstants.Zero+"_"+t.DashboardConstants.Zero),s=n("<div>").addClass("e-dbrd-control-container"),f=n("<div>").addClass("e-dbrd-containerWrapper e-widgetmode-containerwrapper").append(s);this.model.size.height&&(f.css({height:parseInt(this.model.size.height)-15+"px",width:"100%"}),this.element.css({height:this.dashboardHeight}));this.model.size.width&&(f.css({height:"100%",width:this.model.size.width}),this.element.css({width:this.dashboardWidth}));o.append(f).removeClass("e-dbrd-cell-block").addClass("e-dbrd-cell");n(window).width()<t.DashboardConstants.MobileWidth&&o.find("div").eq(t.DashboardConstants.Zero).addClass("e-controlcell-mobile");var h=n("<div>").addClass("e-control-prop").attr({"data-html2canvas-ignore":"true",float:"right"}),u=[];for(this._trigger("beforeWidgetIconRendered",{iconsinformation:u,widgetInformation:{Name:"widget Not Configured"}}),r=0;r<u.length;r++)h.append(n("<div>").attr({"tab-index":u[r].tabindex,role:u[r].role,name:u[r].name,"aria-label":u[r].arialabel,"data-tooltip":u[r].datatooltip,type:u[r].type,value:u[r].value,"data-widget-id":u[r].datawidgetid}).addClass(u[r].classname+" e-dbrd-hoverable e-dbrd-border").removeClass(u[r].removeClass).css({float:u[r].float,"margin-right":u[r].marginright,"margin-top":u[r].margintop}));var e=n("<div>"),c=n("<div>").addClass("e-control-heading e-widgetmode-heading"),l=n("<span/>").addClass("e-control-title e-widgetmode-title").html(t.isNullOrUndefined(this.widgetModeSettings.title)?"":this.widgetModeSettings.title);e.addClass("e-textalign-left");e.append(l);c.append(e);s.prepend(c,h)}else this._noWidgetConfiguredMessage()},_createLayout:function(i){for(var r,b,k,y,f=null,e=null,p=null,d=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,h=2,c=!1,l=0;l<d;l++)if(r=i[l],(this.isWidget||this.model.enableWidgetMode)&&(r.RowSpan=1,r.ColumnSpan=1,r.Row=0,r.Column=0),c=this.pageInfo.length===t.DashboardConstants.One&&this.pageInfo[0]===t.DashboardConstants.One?r.Page===t.DashboardConstants.One||r.Page===h:r.Page===Math.max.apply(Math,this.pageInfo)+t.DashboardConstants.One,!t.isNullOrUndefined(this._dashboardData())&&this._dashboardData().isExportImage&&(c=!0),c){f=this.currentTabContentElement.find("#"+this._id+"_cell_"+r.Row+"_"+r.Column);f.attr({IsStandardSize:r.IsStandardSize});this.totalColumn=this.totalColumn+r.RowSpan;var u=this._createControlContainer(f,r),g=this._createControl(u,r),o=this._createControlHeading(u,r),s=n("<div>"),a=1,nt=f.width(),w=!0,v=null,tt=f.height();!this._dashboardData().isExportImage||t.isNullOrUndefined(r.Label)||r.Label.ShowHeader||o.addClass("e-export-control-heading");!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?(e=this._createControlTitle(r,o),s.addClass(this._getControlTitleAlignment(r.Label.LabelAlignment)),s.append(e),o.append(s),v=n("<div>").addClass("e-control-prop").attr({"data-html2canvas-ignore":"true"}),b=[{layoutControls:i,layoutInformation:r,width:g.width(),controlProp:v,controlTitle:e}],this._toolBarManipulation(b),r.Label.ShowDescription&&(k=this._createControlDescription(r),s.append(k)),t.isNullOrUndefined(r.Label)||(p=this._createLinkOrDrillIcon(r),s.append(p)),t.isNullOrUndefined(r.Label.BorderThickness)||(a=r.Label.BorderThickness===t.DashboardConstants.Zero?t.DashboardConstants.One:r.Label.BorderThickness,nt-=h*a,tt-=h*a)):!this.model.enableWidgetMode||t.isNullOrUndefined(r.Label)||r.Label.ShowHeader?(w=!1,e=null):(y=n("<span/>"),this._appendHeader(t.isNullOrUndefined(this.widgetModeSettings.title)?r.Label.HeaderText:this.widgetModeSettings.title,t.isNullOrUndefined(this.widgetModeSettings.title)?r.ParameterColumns[t.DashboardConstants.Title]:[],y),o.append(y),u.find(".e-dbrd-control").css({"margin-top":"25px"}));this._createSubtitleLayoutCreation(r,u,e,o,w,v);u.height()<100&&n(window).width()>this._mobileWidth&&u.find(".e-control-subtitleHeading").hide();this._dashboardData().isExportImage||this._createControlWaitingIndicator(u,!1);this._dashboardData().isWidgetSpecific&&this._createLayoutForWidgetSpecificExport(r,f)}},_createControlContainer:function(i,r){var u=n("<div>").addClass("e-dbrd-control-container").attr({"data-widget-id":r.ReportName,id:r.Guid,type:r.Name,oncontextmenu:"return false"}).data({IsMaster:r.isMaster,ExportImage:t.isNullOrUndefined(r.Label)?null:r.Label.EnableImageExport,ExportPdf:t.isNullOrUndefined(r.Label)?null:r.Label.EnablePdfExport,ExportCSV:t.isNullOrUndefined(r.Label)?null:r.Label.EnableCsvExport,ExportExcel:t.isNullOrUndefined(r.Label)?null:r.Label.EnableExcelExport,EnableMaximize:t.isNullOrUndefined(r.Label)?null:r.Label.ShowMaximize,EnableViewData:t.isNullOrUndefined(r.Label)?null:r.Label.ViewData}).css({border:!t.isNullOrUndefined(r.Label)&&r.Label.ShowBorder?"1px solid #b7b7b7":"none","border-top-left-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-top-right-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-bottom-left-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px","border-bottom-right-radius":t.isNullOrUndefined(r.Label)?t.DashboardConstants.Zero:r.Label.CornerRadius+"px"});return this._containerWrapperSizeCalculation(r,u,i),n(window).width()<t.DashboardConstants.MobileWidth&&i.find("div").eq(t.DashboardConstants.Zero).addClass("e-controlcell-mobile"),u},_createControl:function(t,i){var u=n("<div>").addClass("e-dbrd-control").attr({tabindex:"0","data-controlid":i.ReportName}),r;return t.append(u),i.Name==="CustomWidget"&&(r=new Dbrdcontrol,r.reportName=i.ReportName,r.controlType=i.Name,r.widgetSettings=i.configuration,r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName),this.dashboardControls.addControl(r),r.Guid=i.Guid,this._createCustomWidgetInstance(r,u,!1)),u},_createControlTitle:function(i,r){var u=n("<span/>").addClass("e-control-title").css({color:"#"+i.Label.HeaderLabelForeground.substr(3)}).attr({oncontextmenu:"return false"});return this._appendHeader(t.isNullOrUndefined(this.widgetModeSettings.title)?i.Label.HeaderText:this.widgetModeSettings.title,t.isNullOrUndefined(this.widgetModeSettings.title)?i.ParameterColumns[t.DashboardConstants.Title]:[],u),r.css({"border-top-left-radius":i.Label.CornerRadius+"px","border-top-right-radius":i.Label.CornerRadius+"px","background-color":t.isNullOrUndefined(i.Label.HeaderLabelBackground)?"#f9f9f9":i.Label.HeaderLabelBackground.length===9?"#"+i.Label.HeaderLabelBackground.substr(3):i.Label.HeaderLabelBackground}),i.Label.IsBold&&u.addClass("e-ctrl-title-bold"),i.Label.IsItalic&&u.addClass("e-ctrl-title-bold"),u},_createControlHeading:function(i,r){var u=n("<div>").addClass("e-control-heading");return n(window).width()<t.DashboardConstants.MobileWidth&&(u=!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?u.addClass("e-ctrlheading-max"):u.addClass("e-ctrlheading-zero")),50>=i.parents(".e-dbrd-containerWrapper").height()&&!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader?u.addClass("e-ctrlheading-min"):!t.isNullOrUndefined(r.Label)&&r.Label.ShowHeader||this.model.enableWidgetMode&&!t.isNullOrUndefined(r.Label)&&!r.Label.ShowHeader?u.addClass("e-ctrlheading-max"):u.addClass("e-ctrlheading-zero")},_createControlDescription:function(i){var u=n("<span>").addClass("e-control-description e-dbrd-containerIcon"),f=n("<div>").addClass("e-ctrl-descdiv"),r=n("<p>");return this._appendHeader(i.Label.Description,i.ParameterColumns[t.DashboardConstants.Desc],r),f.append(r),u.append(f),this._adjustParameterColumn(r),u},_createLinkOrDrillIcon:function(t){var i=null;return t.IsLink&&t.Label.ShowLinkIcon?(i=n("<span/>").addClass("e-dbrd-link-enable e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.LinkingEnabled}).addClass("e-ctrl-link-icon"),this._dashboardData().isExportImage&&i.addClass("e-dbrd-drill-export")):t.IsDrillThrough&&t.Label.ShowDrillThroughIcon&&(i=n("<span/>").addClass("e-dbrd-drill-enable e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.DrillThrough}).addClass("e-ctrl-drill-icon"),this._dashboardData().isExportImage&&i.addClass("e-dbrd-drill-export")),i},_createLayoutForWidgetSpecificExport:function(i,r){var u=0;(i.Name===t.dashboardViewer.Controls.FilterComboBox||i.Name===t.dashboardViewer.Controls.IMAGE||i.Name===t.dashboardViewer.Controls.DatePicker||i.Name===t.dashboardViewer.Controls.CheckBox||i.Name===t.dashboardViewer.Controls.RangeNavigator||i.Name===t.dashboardViewer.Controls.RangeSlider||i.Name===t.dashboardViewer.Controls.RadioButton||i.Name===t.dashboardViewer.Controls.ListBox||i.Name===t.dashboardViewer.Controls.Label)&&r.remove();i.Name===t.dashboardViewer.Controls.Grid?r.css({height:"auto"}):(u=n(window).height(),r.css({height:u}),i.Name===t.dashboardViewer.Controls.Card&&r.css({height:u-5+"px"}));r.addClass("e-export-layout");n("#"+this._id+"_Wrapper").css({position:"relative"});n("body").css({height:"auto"});this.element.css({"overflow-y":"hidden"})},_getlayoutFromControlId:function(n){if(!t.isNullOrUndefined(this.layoutControls))for(var i=0;i<this.layoutControls.length;i++)if(this.layoutControls[i].ReportName===n)return this.layoutControls[i];return null},_createCustomWidgetInstance:function(i,r,u){var f=0,e=0,o=0,c="",l="",a="",v="",s,p,rt,w,ut,b,k,d;if(this.model.customWidgetStatus.push({widgetId:i.reportName,isRendered:!1}),!t.isNullOrUndefined(i.widgetSettings)&&i.widgetSettings.capabilities.EnableIFrame){r.addClass("dependenciesLoadStarted");var nt=this._id+"_Widget_"+i.reportName+"_iframe"+(u?"_maximized":""),tt=n("<iframe>").attr({id:nt,frameBorder:"0",marginwidth:"0",marginheight:"0",scrolling:"no",width:n(r).width()+"px",height:n(r).height()+"px"}),h="",g="",ft="{'customScriptUrl':'/customwidgetcore.min.js','methodName':'"+this.model.serviceMethods.getCustomWidgetCoreFiles+"'}",et="{'customScriptUrl':'/formatting.min.js','methodName':'"+this.model.serviceMethods.getCustomWidgetCoreFiles+"'}",it=!t.isNullOrUndefined(this.model.cdnFilePath)&&!this._isEmptyOrSpaces(this.model.cdnFilePath),ot=it?this.model.cdnFilePath+"/formatting.min.js":this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+et,st=it?this.model.cdnFilePath+"/customwidgetcore.min.js":this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+ft,y={JS:[ot,st]};if(!t.isNullOrUndefined(this.reportCultures))for(s=o;s<this.reportCultures.length;s++)if(this.reportCultures[s].reportName===i.reportName&&this.reportCultures[s].Cultures.length>o){for(p=o;p<this.reportCultures[s].Cultures.length;p++)rt="{'culture':'"+this.reportCultures[s].Cultures[p]+"','methodName':'"+this.model.serviceMethods.getCultureScriptForCustomWidget+"'}",y.JS.push(this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+rt);break}for(w=o;w<y.JS.length;w++)h=h+' <script src="'+y.JS[w]+'" type="text/javascript"> <\/script> ';if(i.widgetSettings.capabilities.Dependencies.Scripts!==null)for(e=o;e<i.widgetSettings.capabilities.Dependencies.Scripts.length;e++)this._validURL(i.widgetSettings.capabilities.Dependencies.Scripts[e])?h+=" <script src='"+i.widgetSettings.capabilities.Dependencies.Scripts[e]+"' type='text/javascript'> <\/script> ":(c=JSON.stringify({customScriptUrl:"/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Scripts[e]),methodName:this.model.serviceMethods.getScriptsForCustomWidget}),l=this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+c,h+=" <script src='"+l+"' type='text/javascript'> <\/script> ");if(i.widgetSettings.capabilities.Dependencies.Styles!==null)for(f=o;f<i.widgetSettings.capabilities.Dependencies.Styles.length;f++)this._validURL(i.widgetSettings.capabilities.Dependencies.Styles[f])?g+=" <link rel='stylesheet' href='"+i.widgetSettings.capabilities.Dependencies.Styles[f]+"' type='text/css' > <\/link>":(a=JSON.stringify({customScriptUrl:"/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Styles[f]),methodName:this.model.serviceMethods.getScriptsForCustomWidget}),v=this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+a,g+=" <link rel='stylesheet' href='"+v+"' type='text/css' > <\/link>");var ht="{'customScriptUrl':'/"+i.widgetSettings.extractedPath+"/','methodName':'"+this.model.serviceMethods.getScriptsForCustomWidget+"'}",ct={coreDependencies:y,guid:i.widgetSettings.capabilities.Guid,dashboardId:this._dashboardId,widgetId:i.reportName,isIFrameEnable:i.widgetSettings.capabilities.EnableIFrame,baseURL:this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+ht},lt=JSON.stringify({action:"dependenciesLoad",data:ct});tt.src="data:text/html;charset=utf-8,"+encodeURI("<html><head><\/head><body><\/body><\/html>");r.append(tt);ut="<html> <head> <script> window.isdependenciesLoaded = false; if (window.addEventListener) { window.addEventListener('message', function (e) { if (!window.isdependenciesLoaded) { try { var parsedData = JSON.parse(e.data); if (parsedData.action !== undefined  || parsedData.action !== null) { window.widgetData = e.data;  }  } catch (e) {}    } }, false); } else { window.attachEvent('onmessage', function (e) { if (!window.isdependenciesLoaded) { try { var parsedData = JSON.parse(e.data); if (parsedData.action !== undefined  || parsedData.action !== null) { window.widgetData = e.data;  }  } catch (e) {}               } });}<\/script>                                                    <style> html,body { margin:0px; padding:0px; width:100%; height:100%; border : 0px solid;} <\/style> "+h+" "+g+' <script> window.onload = function (e) { window.isdependenciesLoaded = true; ej.dashboard.createWidgetWithInIFrame("\\'+JSON.stringify(lt).replace(/.$/,'\\"')+"\"); if (window.widgetData != null || window.widgetData != undefined) { var evt = {}; evt.data = window.widgetData; ej.dashboard.postMessageToIFrame(evt);  }     }; <\/script>  <\/head> <body> <div id ='container' style = 'width: 100%; height: 100%;' > <\/div><\/body><\/html>";b=document.getElementById(nt).contentWindow;b.document.open();b.document.write(ut);b.document.close()}else if(!t.isNullOrUndefined(i.widgetSettings)&&!i.widgetSettings.capabilities.EnableIFrame){if(i.widgetSettings.capabilities.Dependencies.Scripts!==null){for(k=[],e=o;e<i.widgetSettings.capabilities.Dependencies.Scripts.length;e++)this._validURL(i.widgetSettings.capabilities.Dependencies.Scripts[e])?k.push(i.widgetSettings.capabilities.Dependencies.Scripts[e]):(c=JSON.stringify({customScriptUrl:"/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Scripts[e]),methodName:this.model.serviceMethods.getScriptsForCustomWidget}),l=this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+c,k.push(l));d=null;d=u?n("#"+this._id+"_maximized")[0]:(this._dashboardData().isExportImage||this._dashboardData().isExportPdf)&&this._dashboardData().isControl?this.element.find(".e-dbrd-control")[0]:r[0];n(d).addClass("dependenciesLoadStarted");this._getScripts(k,this._renderWidget,i,d)}if(i.widgetSettings.capabilities.Dependencies.Styles!==null)for(f=o;f<i.widgetSettings.capabilities.Dependencies.Styles.length;f++)this._validURL(i.widgetSettings.capabilities.Dependencies.Styles[f])?n("head").append("<link rel='stylesheet' href='"+i.widgetSettings.capabilities.Dependencies.Styles[f]+"' type='text/css' />"):(a=JSON.stringify({customScriptUrl:"/"+(i.widgetSettings.extractedPath+"/"+i.widgetSettings.capabilities.Dependencies.Styles[f]),methodName:this.model.serviceMethods.getScriptsForCustomWidget}),v=this.serviceUrl()+"//"+this.model.serviceMethods.processRequestForGet+"?arguments="+a,n("head").append("<link rel='stylesheet' href='"+v+"' type='text/css' />"))}},_createSubtitleLayoutCreation:function(i,r,u,f,e,o){var c=n("<div>"),s=n("<div>").addClass("e-control-subtitleHeading"),h=null;t.isNullOrUndefined(i.Label)||!i.Label.ShowHeader||t.isNullOrUndefined(i.Label.SubTitle)?s=s.addClass("e-ctrlsubheading-zero"):(s=i.Label.SubTitle!==""?s.addClass("e-ctrlheading-min"):s.addClass("e-ctrlheading-zero"),i.Label.SubTitle!==""&&(h=n("<span/>").addClass("e-control-subtitle").attr({oncontextmenu:"return false"}),this._appendHeader(i.Label.SubTitle,i.ParameterColumns[t.DashboardConstants.Subtitle].length>t.DashboardConstants.Zero?i.ParameterColumns[t.DashboardConstants.Subtitle]:[],h),s.css({"border-top-left-radius":i.Label.CornerRadius+"px","border-top-right-radius":i.Label.CornerRadius+"px","background-color":t.isNullOrUndefined(i.Label.HeaderLabelBackground)?"#f9f9f9":"#"+i.Label.HeaderLabelBackground.substr(3)}),this._dashboardData().isExportImage&&h.addClass("e-export-control-subtitle"),i.Label.IsBold&&h.addClass("e-ctrl-title-bold"),i.Label.IsItalic&&h.addClass("e-ctrl-title-italic"),c.addClass(this._getControlTitleAlignment(i.Label.LabelAlignment)),c.append(h),s.append(c)));r.prepend(f,"",e?o:"",i,s);this._singleCardIcon(i,u,r,f,e,o,s);this._controlTiltleSizeCalculation(u,h,r);t.isNullOrUndefined(i.Label)||i.Label.ShowHeader||!this.model.enableWidgetMode||(f.addClass("e-heading-subtitelayout"),f.css({"max-width":r.width()-10+"px",width:r.width()}))},_containerWrapperSizeCalculation:function(t,i,r){var u=n("<div>").css({height:t.RowSpan*100+"%",width:t.ColumnSpan*100+"%"}).css({position:"relative"}).addClass("e-dbrd-containerWrapper").append(i);(this.isWidget||this.model.enableWidgetMode)&&(u.css({padding:"0"}),this.model.size.height&&u.css({height:parseInt(this.model.size.height)-15+"px",width:t.ColumnSpan*100+"%"}),this.model.size.width&&u.css({height:t.RowSpan*100+"%",width:this.model.size.width}));this._dashboardData().isWidgetSpecific&&u.css({height:"100%",width:"100%"});this.model.size.width&&this.element.css({width:this.dashboardWidth});this.model.size.height&&this.element.css({height:this.dashboardHeight});r.append(u).removeClass("e-dbrd-cell-block").addClass("e-dbrd-cell");r.attr({rowspan:t.RowSpan,colspan:t.ColumnSpan})},_singleCardIcon:function(i,r,u,f,e,o,s){var h,l,c;if(!t.isNullOrUndefined(i.Label)){if(h=[],l=null,!i.Label.ShowHeader&&i.Name==="Card"){l=n("<div>").addClass("e-control-singleCard e-singleCard-layout").attr({"data-html2canvas-ignore":"true"});i.Label.ShowLinkIcon&&i.IsLink&&h.push({tabindex:"0",classname:"e-dbrd-link-enable",removeClass:"e-dbrd-widget-icons",datatooltip:this.locale.utils.LinkingEnabled,float:"left",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_linking"});i.Label.EnableComment&&this.model.allowComment&&(n(window).width()<t.DashboardConstants.MobileWidth?h.push({tabindex:"0",role:"menu",name:"menu",id:this._id+i.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-menu e-dbrd-border",removeClass:"e-dbrd-widget-icons e-dbrd-hoverable",float:"right",type:i.Name,value:i.Id,display:"block"}):h.push({tabindex:"0",role:"menu",name:"menu",id:this._id+i.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-menu e-dbrd-border",removeClass:"e-dbrd-widget-icons e-dbrd-hoverable",float:"right",type:i.Name,value:i.Id,display:"none"}),this.isWidget&&this.model.commentSettings.isWidgetCommented?h.push({tabindex:"0",role:"button",classname:"e-dbrd-banner-widget-withcomments",arialabel:"Maximize",removeClass:"e-dbrd-widget-icons",datatooltip:"Comment",float:"right",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_comment"}):h.push({tabindex:"0",role:"button",classname:"e-dbrd-banner-widget-withoutcomments",arialabel:"Maximize",removeClass:"e-dbrd-widget-icons",datatooltip:"Comment",float:"right",type:i.Name,value:i.Id,datawidgetid:i.Guid,id:this._id+i.ReportName+"_comment"}));var a=this.currentTabContentElement.find(".e-dbrd-containerWrapper").width(),v=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.css("min-width"),y=Math.round((a-v)/21);for(this._trigger("beforeWidgetIconRendered",{iconsinformation:h,widgetInformation:i,isFilterWidget:!1,visibleIconsCount:y,tabId:this.dashboardName}),c=0;c<h.length;c++)l.append(n("<div>").attr({"tab-index":h[c].tabindex,id:h[c].id,role:h[c].role,name:h[c].name,"aria-label":h[c].arialabel,"data-tooltip":h[c].datatooltip,type:h[c].type,value:h[c].value,"data-widget-id":h[c].datawidgetid}).addClass(h[c].classname+" e-dbrd-hoverable e-dbrd-border e-dbrd-card-widget-icons").removeClass(h[c].removeClass).css({float:h[c].float,"margin-right":h[c].marginright,display:h[c].display,"margin-top":h[c].margintop}));h.length===t.DashboardConstants.Zero&&(l=null)}u.prepend(f,t.isNullOrUndefined(l)?"":l,e?o:"",i,s)}},_controlTiltleSizeCalculation:function(i,r,u){var f=null,e,o,s,h;t.isNullOrUndefined(i)||(e=i.height()!==t.DashboardConstants.Zero?i.height():i.parents(".e-control-heading").height(),t.isNullOrUndefined(r)?f=e:(o=r.height()!==t.DashboardConstants.Zero?r.height():r.parents(".e-control-subtitleHeading").height(),f=e+o),u.find(".e-dbrd-control").css({height:"calc(100% - "+f+"px)"}),s=n(u[0]).attr("type"),s===t.dashboardViewer.Controls.RangeSlider&&n(window).width()<t.DashboardConstants.MobileWidth&&(h=10,u.find(".e-dbrd-control").css({height:"calc(100% - "+(f+h)+"px)"})))},_controlSizeCalculationForMobile:function(i,r){var o,u,c;if(n(window).width()<t.DashboardConstants.MobileWidth)for(o=0;o<i.length;o++){var f=i[o],e=null,s="",l=n("#"+f.Guid),h=this._defaultLayoutCellHeight(l);e=this.isWidget||this.model.enableWidgetMode?Math.max(h,(this.dashboardHeight-(this.currentTabContentElement.find(".e-dbrd-banner").height()+15))/r.RowCount):Math.max(h,this.dashboardHeight/this.totalColumn);e===h&&this.element.addClass("e-hidden-element");u=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column);u.attr("IsStandardSize")!=="true"||this.model.enableWidgetMode||this.isWidget?this.model.enableWidgetMode||this.isWidget?u.css({height:u.attr("rowspan")*e}):(c=this._heightOfCell(f.Name,e),u.css({height:f.RowSpan*e>c?f.RowSpan*e:c})):(s=u.width(),u.width()>n(window).height()&&(s=n(window).height()),u.css({height:s}))}},_layoutSizeCalculation:function(i){var r=this.onDemandTabs?this.element.find(".e-tab .e-header").height():t.DashboardConstants.Zero,u=this.isExtendedLayout?50:80;this.model.enableWidgetMode||this.isWidget||this._dashboardData().loadFromData||i===u&&n(window).width()>t.DashboardConstants.MobileWidth&&!this.isExtendedLayout&&(this.onDemandTabs&&!this.model.showTab?this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-(this.currentTabContentElement.find(".e-dbrd-banner").height()+r),"overflow-y":"auto"}):this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this.currentTabContentElement.height()-this.currentTabContentElement.find(".e-dbrd-banner").height(),"overflow-y":"auto"}));this.model.enableWidgetMode||this.isWidget||this._dashboardData().loadFromData||!(n(window).width()>t.DashboardConstants.MobileWidth)||this.isExtendedLayout||(this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth?(this.onDemandTabs&&!this.model.showTab&&this.currentTabContentElement.css({height:this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height()+this.currentTabContentElement.find(".e-dbrd-banner").height()}),this.currentTabContentElement.addClass("e-currentTab-layout-Minimum"),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"})):(this.currentTabContentElement.addClass("e-currentTab-layout"),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:this.currentTabContentElement.width()}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:this.currentTabContentElement.width()})))},_addCellStyle:function(n){var r=100/n,u=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),i;t.type="text/css";i="#"+this._id+" > * .e-dbrd-cell { width:"+r+"%; }";t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i));u.appendChild(t)},_resizeControlError:function(){var u=this.currentTabContentElement.find(".e-dbrd-control-error"),r,i,f;if(u.length>t.DashboardConstants.Zero)for(r=0;r<u.length;r++)i=u.eq(r),f=i.parents(".e-dbrd-control"),n(window).width()<t.DashboardConstants.MobileWidth&&f.parents(".e-dbrd-layout-cell").attr("rowspan")==="2"?(i.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),i.find(".e-dbrd-controlError-msg").remove(),i.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single")):n(window).width()>t.DashboardConstants.MobileWidth&&f.parents(".e-dbrd-layout-cell").attr("rowspan")==="2"&&(i.find(".widget-error-icon").removeClass("e-dbrd-iocn-single"),i.addClass(".e-dbrd-controlError-msg"),i.find(".e-dbrd-refresh-link-btn").removeClass("e-dbrd-refresh-single"))}}}(jQuery,SyncfusionDashboard);ejDashboard.dashboardViewer=ejDashboard.dashboardViewer||{};ejDashboard.dashboardViewer.localization=[];ejDashboard.dashboardViewer.localization["en-US"]={utils:{NoData:"There is no data to be displayed.",ErrorOnHigherVersion:"DV001:Unable to load the Dashboard since it was created in a higher version of Dashboard Designer(Version:",ErrorOnHigherVersionForWidget:"DV001:Unable to load the Widget since it was created in a higher version of Dashboard Designer(Version:",NoWidgetConfigured:"No Widgets to Preview",LoadedVersion:"LoadedVersion",ExportToCSV:"CSV...",ExportToPdf:"PDF...",ExportToExcel:"Excel...",ExportToExcel97To2003:"Excel 97-2003 Workbook (*.xls)",ExportToExcel2013:"Excel Workbook (*.xlsx)",Maximize:"Maximize",TextMore:"More",TextLess:"Less",LearnMore:"Learn More",Clear:"Clear",RemoveFavorite:"Remove from favorites",MarkFavorite:"Mark as favorite",ExportControl:"Export Widget",ExportDashboard:"Export Dashboard",UpdateDashboard:"Update Dashboard",ExportToImage:"Image...",FileName:"File Name",Format:"Format",FileType:"File Type",Resolution:"Resolution(dpi)",Reload:"Reload",SavedFilters:"VIEW SAVED FILTERS",UnSavedView:"Unsaved View",Export:"Export",Reset:"Reset",Cancel:"Cancel",Title:"Title",Save:"Save",SaveAs:"Save As",ExportTitle:"Dashboard/Widget Title",Jpeg:"JPEG (*.jpg)",Png:"PNG (*.png)",Bmp:"BMP (*.bmp)",FileNameError:"Invalid File Name",A3:"A3",A4:"A4",A5:"A5",AppliedFilters:"Applied Filters:",Letter:"Letter",PageSize:"Page Size",Orientation:"Orientation",Portrait:"Portrait",Landscape:"Landscape",ExportToPdfWaitingText:"Exporting to PDF...",ExportToImageWaitingText:"Exporting to Image...",ExportToCSVWaitingText:"Exporting to CSV...",ExportToExcelWaitingText:"Exporting to Excel...",FetchingData:"Fetching data...",Description:"Description",Information:"Information",DefaultFileName:"Dashboard",ResolutionLow:"The resolution must be greater than or equal to 96 DPI.",ResolutionAlert:"The preferred resolution is between 96 and 300 DPI. Resolution  greater than that leads to out of memory exception if your system does not have enough memory.",WidgetNotConfigured:"This widget has not been configured.",DashboardServerTimedOut:"DV002:The Dashboard service could not be contacted. There may be a temporary glitch or the server may be down.",AuthenticationFailure:"You require authorization to view this dashboard.",SessionExpired:"Your Session Has Expired",DashboardServerFail:"DV002:The Dashboard service could not be contacted. There may be a temporary glitch or the server may be down.",ExcelError:"The Excel File in the server is not the one which is used for Designing this Dashboard, Kindly contact the Administrator, or republish the Dashboard.",FixIssues:"Please fix the below errors...",InvalidCredentials:"Invalid Credentials",UserName:"Username",Password:"Password",Open:"Open",Ok:"OK",Refresh:"Refresh",Error:"Error",Clipboard:"Copy to Clipboard",AuthenticationRequired:"SQL Authentication Required",KnowMore:"Know More...",UserNamePasswordEmpty:"Username / Password cannot be empty",EncryptError:"Dashboard service returned an invalid key. Please try again. If the issue persists please contact administrator",ViewData:"View Data",Close:"Close",Row:"{{:Row}}",Value:"{{:Value}}",DashboardDescription:"Dashboard Description",Yes:"Yes",No:"No",Confirm:"Confirmation",ClearMasterFilter:"Clear Master Filter",LinkingEnabled:"This widget navigates to a URL or to another dashboard.",DrillThrough:"This widget is configured to drill into more than one level.",Comment:"Comment",DeleteConfirmText:"Are you sure you want to delete this view?",ClearFilter:"Clear Filter",CultureFileDownloadError:"Unable to load the culture ",ServiceNotConfigured:"DV003:Dashboard could not be rendered since the service URL is not set.",ServiceNotConfiguredForWidget:"DV003:Widget could not be rendered since the service URL is not set.",DashboardNotConfigured:"DV004:Dashboard could not be rendered since the dashboard path is not set.",DashboardNotConfiguredForWidget:"DV004:Widget could not be rendered since the dashboard path is not set.",DataError:"Data Retrieval Error",DefaultOrientation:"Landscape",ToggleFilterPanel:"Toggle Filter Panel",Dashboard:"Dashboard",Widgets:"Widgets",ExportImage:"Image Export",ExportPdf:"PDF Export",ExportExcel:"Excel Export",ExportCsv:"CSV Export",ExportAs:"Export As",ExportDashboards:"Export Dashboard(s)",Dashboards:"Dashboard(s)",ChooseDashboards:"Choose Dashboards",ChooseWidgets:"Choose Widgets",Widget:"Widget(s)",Image:"Image",Pdf:"PDF",Excel:"Excel",Csv:"CSV",ExportBtn:"EXPORT",All:"All",SelectAll:"(Select All)",SelectDate:"Select Date",From:"From",To:"To",Success:"Success",Failure:"Failure",GetLink:"Get Link",GetLinkContent:"This link holds the current view data along with the filters.",Minutes:"* Minute(s)",Hours:"* Hour(s)",Days:"* Day(s)",Weeks:"* Week(s)",Months:"* Month(s)",Years:"* Year(s)",MoreOptions:"More Options",DatePickerCustomText:"Custom",TimeSpan:"TimeSpan",DashboardParameters:"Parameters",Apply:"Apply",ResetAll:"RESET ALL",ResetParameters:"Reset Parameters",EmptyImageMsg:"No Image to be displayed",ShowDetails:"Show Details",HideDetails:"Hide Details",DataRetrievalError:"Data Retrieval Error",Filter:"Apply Filter",DrillDown:"Drill Down",Linking:"Open Link",CopyError:"Error Message:",Stacktrace:"Stack-trace:",FilterOverview:"Filters Overview",Pages:"Pages",Items:"Items",PreviousPage:"Go to previous page",NextPage:"Go to next page",BetweenTo:"to",SummaryData:"Summary Data",RawData:"Raw Data",ShowAllColumns:"Show All Columns"},mapControl:{fillColor:"#E0E0E0",strokeColor:"#FFFFFF"},DaysOfWeek:{DaysOfWeekSu:"Su",DaysOfWeekMo:"Mo",DaysOfWeekTu:"Tu",DaysOfWeekWe:"We",DaysOfWeekTh:"Th",DaysOfWeekFr:"Fr",DaysOfWeekSa:"Sa"},MonthNames:{MonthJan:"January",MonthFeb:"February",MonthMar:"March",MonthApr:"April",MonthMay:"May",MonthJun:"June",MonthJul:"July",MonthAug:"August",MonthSep:"September",MonthOct:"October",MonthNov:"November",MonthDec:"December"},errorMessages:{ErrorAccessDenied:"DV005:Access to the service is denied to the current user.",ErrorControlException:"Data retrieval error.",ErrorControlNotConfigured:"The Data received at the service was tampered. Please try again later.",ErrorCrypto:"The Data received at the service was tampered. Please try again later.",ErrorDashboardNotFound:"DV006:The requested dashboard file was not found. It may be either moved or renamed.",ErrorDashboardNotFoundForWidget:"DV006:The requested Widget file was not found. It may be either moved or renamed.",ErrorFileNotFound:"DV007:The requested file or assembly was not found. It may be either moved or renamed.",ErrorGeneral:"DV008:Dashboard could not be viewed due to an error.",ErrorGeneralForWidget:"DV008:Widget could not be viewed due to an error.",ErrorInvalidFile:"DV009:The loaded file is not a valid dashboard file",ErrorInvalidFileForWidget:"DV009:The loaded file is not a valid widget file",ErrorServerError:"DV010:The dashboard could not be viewed since we were unable to validate the current user authorization.",ErrorServerErrorForWidget:"DV010:The widget could not be viewed since we were unable to validate the current user authorization.",ErrorSqlHostNotFound:"The SQL server could not be contacted. Please make sure that the server is accessible.",ErrorSqlTimeout:"An attempt to retrieve data from server failed due to time expiration.",ErrorWcfBinding:"The CorsSupport behavior can only be used in WebHttpBinding endpoints.",ErrorOutOfMemory:"DV011:The exported image File could not be downloaded due to large file size.",ErrorInMultiDbrdExport:"The given dashboard name was not found.",ErrorInMultipleWidgetExport:"The given widget name was not found in the active dashboard."}},function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.common={_copyToClipboard:function(i){var f,u,r;t.isNullOrUndefined(i)||(f="",u="",n(i.currentTarget).hasClass("e-share-copy-btn")||n(i.currentTarget).hasClass("e-dbrd-mobileCopyBtn")?f=n(i.currentTarget).parents(".e-dbrd-alert").find(".e-share-text").val():(f=n(".e-dbrd-dialog-title").text()!==this.locale.utils.DataRetrievalError?n(i.currentTarget).parents(".e-dbrd-alert").find(".e-dbrd-content").text():n(i.currentTarget).parents(".e-dbrd-alert").find(".e-info-msg").text(),u=this.currentTabContentElement.find(".e-dbrd-link-btn").data("error-msg")),r=document.createElement("textarea"),n(r).attr({id:this._id+"copy_clipboard_edit"}).css({position:"fixed",bottom:"-200px"}),document.body.appendChild(r),r.value=!t.isNullOrUndefined(u)&&u!==""&&n(window).width()<t.DashboardConstants.MobileWidth?this.locale.utils.CopyError+"\n\n"+f+"\n\n"+this.locale.utils.Stacktrace+"\n\n"+u:!t.isNullOrUndefined(u)&&u!==""&&n(window).width()>=t.DashboardConstants.MobileWidth?this.locale.utils.CopyError+"\n\n"+f+"\n\n"+this.locale.utils.Stacktrace+"\n\n"+u:f,r.focus(),r.select(),document.execCommand("Copy"),t.browserInfo().name==="msie"||t.browserInfo().name==="webkit"?r.parentNode.removeChild(r):r.remove())},_getWidgetDetails:function(n){var f=t.isNullOrUndefined(this.currentReport)?null:this.currentReport.layout,r=0,i=0,u=null,o=t.DashboardConstants.Zero,s,e,h;if(!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(n))for(s=f.length,r=0;r<s;r++)if(t.isNullOrUndefined(f[r].Key)||f[r].Key!==t.DashboardConstants.LayoutInformation){if(!t.isNullOrUndefined(f[r].Key)&&f[r].Key==="widgetModeLayout"&&this.model.enableWidgetMode)for(u=JSON.parse(f[r].Value),o=u.length,i=0;i<o;i++)if(u[i].ReportName===n)return{type:u[i].Name,title:t.isNullOrUndefined(u[i].Label)?n:u[i].Label.HeaderText,id:u[i].Guid}}else for(u=JSON.parse(f[r].Value),o=u.length,i=0;i<o;i++)if(u[i].ReportName===n&&!t.isNullOrUndefined(u[i].Label))return{type:u[i].Name,title:t.isNullOrUndefined(u[i].Label)?n:u[i].Label.HeaderText,id:u[i].Guid};if((!t.isNullOrUndefined(this.tempDataForFilter)||!t.isNullOrUndefined(this.filterPanelObj))&&!t.isNullOrUndefined(n))for(e=null,e=t.isNullOrUndefined(this.filterPanelObj)?this.tempDataForFilter:this.filterPanelObj.model.dataSource,h=e.length,r=0;r<h;r++)if(e[r].filterId===n)return{type:this._getWidgetType(n),title:JSON.parse(e[r].filterInfo.layout).DisplayName,id:JSON.parse(e[r].filterInfo.layout).Guid};return""},_updateTextWithParameterColumns:function(n,i){var u=n,f,r;if(!t.isNullOrUndefined(i))for(f=i.length,r=0;r<f;r++)u=u.replaceAll(i[r].ParameterText,this._getParemeterColumnTemplate(i[r]));return u},_getParemeterColumnTemplate:function(n){return'<span class="e-dbrd-param-column" data-param="'+n.ParameterText+'" data-source ="'+n.DataSource+'">'+t.DashboardConstants.All+"<\/span>"},_adjustParameterColumn:function(n){var s,u,i;if(!t.isNullOrUndefined(n)){var f=0,e=!0;n.parents().hasClass("e-control-description")||n.parent().hasClass("e-dbrd-divHtml")?e=!1:(n.parent(".e-dbrd-information-title").length>f||n.hasClass("e-dbrd-information-title"))&&(e=!1,n.children("span").css({float:"none"}));var h=n.find(".e-dbrd-param-column").length,r=n.children("span"),o=n.parent(".e-dbrd-banner-title").length>f?parseInt(n.parent(".e-dbrd-banner-title").css("max-width")):n.parent().hasClass("e-link")?parseInt(n.parent().css("max-width")):parseInt(n.css("max-width")),c=o/(r.length+1);if(h>f&&e){for(s=r.length,u=0;u<s;u++)i=r.eq(u),i.hasClass("e-dbrd-param-column")?i.css({"max-width":c}).addClass("e-dbrd-params-display"):i.hasClass("e-spanned-header")&&i.addClass("e-dbrd-params-display");this._getParameterColumnMaxWidth(r,o);n.css({"max-width":o});n.hasClass("e-control-title")?n.addClass("e-control-title-maxheight"):n.hasClass("e-control-subtitle")?n.addClass("e-subtitle-maximize-maxheight"):n.hasClass("e-dbrd-maxControl-title")&&n.find(".e-dbrd-maximize-titleDiv").addClass("e-subtitle-maximize-maxheight")}}},_getParameterColumnMaxWidth:function(n,t){for(var i,u=[],e=t-this._getAvailedParameterColumnWidth(n),f=n.length,r=0;r<f;r++)n.eq(r).hasClass("e-dbrd-param-column")&&n.eq(r).width()>=parseInt(n.eq(r).css("max-width"))&&u.push(n.eq(r));for(i=0;i<f;i++)n.eq(i).hasClass("e-dbrd-param-column")&&n.eq(i).width()>=parseInt(n.eq(i).css("max-width"))&&n.eq(i).css({"max-width":parseInt(n.eq(i).css("max-width"))+e/u.length+"px"})},_getAvailedParameterColumnWidth:function(n){for(var i=0,r=n.length,t=0;t<r;t++)i+=n.eq(t).width();return i},_setFilterIcon:function(){this.model.filterPanelSettings.showIcon?this.element.find(".e-dbrd-filter-icon").css({display:"block"}):this.element.find(".e-dbrd-filter-icon").css({display:"none"})},_getControlHeaderAlignment:function(n){return n.find(".e-textalign-left").length>t.DashboardConstants.Zero?"left":n.find(".e-textalign-right").length>t.DashboardConstants.Zero?"right":"center"},_showInactiveDIv:function(){if(n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").length===t.DashboardConstants.Zero){var i=t.buildTag("div");i.attr({id:this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv"}).css({width:this.currentTabContentElement.width(),height:this.currentTabContentElement.height(),position:"absolute",top:this.currentTabContentElement.offset().top,left:"0","z-index":"999"});this.currentTabContentElement.append(i)}else n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").fadeIn()},_applyPaddingInactiveDiv:function(){n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").css({"background-color":"rgba(0, 0, 0, 0.6)"})},_hideInactiveDiv:function(){n("#"+this.currentTabContentElement.attr("id")+"_DashboardInActiveDiv").hide()},_showGetLinkDialogForMobile:function(){var i=this.element.find("#"+this._id+"_get_link_dialog"),u,f,r;i.length===t.DashboardConstants.Zero&&(this._renderGetLinkDialog(),i=this.element.find("#"+this._id+"_get_link_dialog"));u=i.find(".e-dbrd-dialog-share-content-wrapper");u.css({height:this.currentTabContentElement.height()-113,"max-height":this.currentTabContentElement.height()-63});this.element.find(".e-dbrd-dialog-bgrnd").show();i.show();i.addClass("e-dbrd-get-link-content").css({display:"block",width:"100%",height:"100%",position:"absolute","margin-left":"0px"});this.element.find(".e-dbrd-dialog-close-icon").remove();this.element.find(".e-share-copy-btn").remove();this.element.find(".e-share-default").css({"padding-bottom":"0px"});f=n("<button class='e-dbrd-mobileCopyBtn'><\/button>").text(this.locale.utils.Clipboard.toUpperCase());i.append(f);r=this.element.find(".e-dbrd-dialog-heading");r.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"});r.prepend(n("<div>").addClass("e-dbrd-error-text-close e-dbrd-popup-icon"));this.model.enableCustomTheming&&this._customTheme(["popup"])},_clearAllFilters:function(i){var o=null,c,a,p,w,r,b,u,k,s,d,e,v,g,h;t.isNullOrUndefined(i)||t.isNullOrUndefined(i.currentTarget)?(o=n("#"+this._id).find(".e-brd-clearDiv"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:o,data:this.appliedFilterData}}),o.length>t.DashboardConstants.Zero&&n("#"+n(o).parent().parent().attr("id")).remove()):(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:n(i.target),data:this.appliedFilterData}}),n("#"+n(i.currentTarget).parent().parent().attr("id")).remove());this.rangeData=[];this.masterData=[];c=this.element.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(c)&&c.length>t.DashboardConstants.Zero&&c.remove();this.removeFilter=!0;this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":this.isExtendedLayout&&n(window).width()>t.DashboardConstants.MobileWidth?"hidden":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()});for(var y=this.currentTabContentElement.find(".e-remove-control-filter-enable"),l=[],f=t.DashboardConstants.Zero,nt=y.length,f=0;f<nt;f++)y.eq(f).removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable");for(a=this.currentTabContentElement.find(".e-dbrd-containerWrapper").find(".e-dbrd-control"),p=a.length,f=0;f<p;f++)w=n(a[f]).parents(".e-dbrd-control-container"),w.data({IsFilterApplied:!1});if(r=this._getMasterWidgets(),!t.isNullOrUndefined(r))for(b=r.length,u=0;u<b;u++)if(k=this._getSlaveWidgets(r[u]),l=this._generateSlaves(l,k),s=this.dashboardControls.getControlByReport(r[u]),this.CurrentMaster=r[u],t.isNullOrUndefined(this.filterPanelObj)&&this._isFilterPanelWidget(r[u]))for(d=this.tempDataForFilter.length,e=t.DashboardConstants.Zero;e<d;e++)s.reportName===this.tempDataForFilter[e].filterId&&(v=JSON.parse(this.tempDataForFilter[e].filterInfo.dynamicData),v.SelectedValues=null,this.tempDataForFilter[e].filterInfo.dynamicData=JSON.stringify(v));else this._removeWidgetSelection(this._getIdByReportName(r[u])+(this._isFilterPanelWidget(r[u])&&!s.configInfo.IsGlobalFilter?t.DashboardConstants.FilterPanel:"")+t.DashboardConstants.Widget+r[u],t.isNullOrUndefined(s)?null:s.controlType);for(this.flag=!1,this._removeAllControlSelectedValues(),g={master:null,masterList:r,masterData:null,slaves:l,showIndicator:!1,isAutoRefresh:!1},t.isNullOrUndefined(this.filterPanelObj)||(this.filterPanelObj.currentMasterWidget=null),this._updateDashboardControls(!1),!this.isInitialFilterCleared&&this.isExtendedLayout&&(this.isInitialFilterCleared=!0),h=0;h<r.length;h++)this.isExtendedLayout&&this.initialFilterClearedList.indexOf(r[h])===t.DashboardConstants.IndexLowerBound&&this.initialFilterClearedList.push(r[h]);this._makeSlaveDataRequest(g);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.clearAllFilter,source:{element:t.isNullOrUndefined(i)?o:n(i.target),data:this.appliedFilterData}});this._off(this.element,"click",this._closeFilterOverviewDialog)},_getMasterWidgetsFromFilterPanel:function(n){var u=n,f,i,r;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(this.tempDataForFilter))for(f=this.tempDataForFilter.length,i=t.DashboardConstants.Zero;i<f;i++)r=JSON.parse(this.tempDataForFilter[i].filterInfo.dynamicData),this.tempDataForFilter[i].filterInfo.dynamicData=JSON.stringify({SelectedValues:[]}),t.isNullOrUndefined(r.SelectedValues)||r.SelectedValues.length===t.DashboardConstants.Zero||u.push(this.tempDataForFilter[i].filterId);return u},_getSlaveWidgetsForFilterPanel:function(n){var f=n,e,o,u,i,s,r;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(this.tempDataForFilter))for(e=this.tempDataForFilter.length,o=this.controlRelations.length,u=t.DashboardConstants.Zero;u<e;u++)for(i=t.DashboardConstants.Zero;i<o;i++)if(this.controlRelations[i].Master===this.tempDataForFilter[u].filterId)for(s=this.controlRelations[i].Slaves.length,r=t.DashboardConstants.Zero;r<s;r++)this._hasWidget(this.controlRelations[i].Slaves[r],f)||f.push(this.controlRelations[i].Slaves[r]);return f},_getMasterWidgets:function(){var r=[],u=this.getCurrentFilters(),n,f,i;if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.masterData)&&(n=u.masterData,!t.isNullOrUndefined(n)))for(f=n.length,i=0;i<f;i++)this._hasWidget(n[i].Control,r)||r.push(n[i].Control);return r},_hasWidget:function(n,i){var u,r;if(!t.isNullOrUndefined(i))for(u=i.length,r=0;r<u;r++)if(n===i[r])return!0;return!1},_getSlaveWidgets:function(n){for(var i=[],r=this.controlRelations.length,t=0;t<r;t++)this.controlRelations[t].Master===n&&(i=this.controlRelations[t].Slaves);return i},_generateSlaves:function(n,i){var u,r;if(!t.isNullOrUndefined(i))for(u=i.length,r=0;r<u;r++)this._hasWidget(i[r],n)||n.push(i[r]);return n},_updateDashboardControls:function(n){var e,i,u,o,r,f;if(!t.isNullOrUndefined(this.filterPanelObj))for(e=this.filterPanelObj.dashboardControls.controls.length,i=0;i<e;i++)for(u=this.filterPanelObj.dashboardControls.controls[i],o=this.dashboardControls.controls.length,r=0;r<o;r++)f=this.dashboardControls.controls[r],f.reportName===u.reportName&&(n?this.dashboardControls.controls[r]=u:this.filterPanelObj.dashboardControls.controls[i]=f)},_toolbarsInBanner:function(i){var u=n(i.target),r=n(i.target).attr("name"),f=t.isNullOrUndefined(this.model._selectedTabGuid)?null:this.model._selectedTabGuid,e=t.isNullOrUndefined(this.model.dashboardPath)?null:this.model.dashboardPath,o=this.currentTabContentElement.find(".e-dbrd-banner-title").text();t.isNullOrUndefined(r)||this._trigger("onBannerIconClick",{target:u,event:i,tabId:f,dashboardPath:e,headertext:o,name:r,tabName:this.dashboardName});switch(r){case"menu":(i.type==="click"||i.type==="keydown")&&this._showDashoardMenu(i);break;case"comment":this._openDashboardCommentDialog(i);break;case"refresh":this.isRefreshClicked||(this.isRefreshClicked=!0);this.refreshDashboard(null,!1);break;case"filterPanel":this._showFilterPanel(i);break;case"dashboardParameters":this._openDashboardParametersDialog(this.dashboardParameters.data,!1)}},_filterPanelResize:function(){if(!t.isNullOrUndefined(this.filterPanelObj)&&this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open){if(n(window).width()>=t.DashboardConstants.MobileWidth){if(!this.externalFilterPanel){this.filterPanelDiv.css({right:"0px","z-index":"",left:"","overflow-y":"hidden",top:"0px",width:"20%",height:"99%","max-height":this.dashboardHeight});var i=this.currentTabContentElement.width()-250,r=this.currentTabContentElement.width()*.2<250;this.isExtendedLayout?(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({width:r?""+i+"px":"80%"}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:r?""+(i-10)+"px":"99%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:r?""+i+"px":"80%"})):(this.currentTabContentElement.find("#"+this._id+"_layout").css({width:r?""+(i-10)+"px":"79%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:r?""+i+"px":"80%"}));this.model.showFilterPanelClose?this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"block"}):this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"});this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"none"});this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"10px"})}this.filterPanelObj.resizeFilterPanel()}else this.externalFilterPanel||(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").data("ejDashboardScroller")&&(this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").ejDashboardScroller("destroy"),this.currentTabContentElement.find(".e-dbrd-filterpanel-wrapper").css({position:""})),this.filterPanelDiv.css({left:"0px",top:"0px","z-index":"1000",position:"absolute","overflow-y":"auto",width:"100%",height:"100%","max-height":this.dashboardHeight}),this.currentTabContentElement.find("#"+this._id+"_layout").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-banner").css({width:"100%"}),this.currentTabContentElement.find(".e-dbrd-filter-close").css({display:"none"}),this.currentTabContentElement.find(".e-dbrd-filter-back").css({display:"block"}),this.currentTabContentElement.find(".e-dbrd-filter-title-container").css({"margin-left":"20px"}));this.filterPanelObj.resizeFilterPanel()}},_tabIndexFocus:function(i){this.isMouseClick=!0;n(this.currentTabContentElement).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.currentTabContentElement).find(".e-hightlight").removeClass("e-hightlight");t.isNullOrUndefined(i)||n(i.currentTarget).css("outline","0")},_focusMultipleSeriesOnClick:function(t){n(t.currentTarget).hasClass("e-Card")||this._handleTabIndexForMultipleSeries(n(t.currentTarget).closest(".e-multiple-parent"),!0)},_handleTabIndexForMultipleSeries:function(i,r){var u=[];n(i).find(".e-multiple-series").attr("tabindex","0");n(i).find(".e-multiple-series").first().addClass("e-first-child");n(i).find(".e-multiple-series").last().addClass("e-last-child");n(i).addClass("e-focus-in");r&&(u=n(i).hasClass("e-parentGauge")?n(i).find(".e-circularGauge-Selected"):n(i).hasClass("e-card-Series")?n(i).find(".e-dbrd-clicked-card"):n(i).hasClass("e-dbrd-control-radiobtn")||n(i).hasClass("e-dbrd-control-checkbox")?n(i).find("div[aria-checked='true']"):n(i).find(".e-multiple-series").first(),u.length>t.DashboardConstants.Zero?n(u[0]).focus(function(t){t.stopPropagation();n(this).unbind(t)}).focus():n(i).find(".e-first-child").focus(function(t){t.stopPropagation();n(this).unbind(t)}).focus());n(document).bind("focusin",{outerElement:n(i)},this._focusInhandler)},_focusInhandler:function(i){n(i.data.outerElement).find(i.target).length===t.DashboardConstants.Zero&&i.target.id!==n(i.data.outerElement).attr("id")&&(n(i.data.outerElement).find(".e-multiple-series").attr("tabindex","-1"),n(i.data.outerElement).removeClass("e-focus-in"),n(this).unbind(i))},_resizeHalfSizeWidget:function(){for(var f=50,e=this.currentTabContentElement.find(".e-dbrd-control"),h=e.length,u=t.DashboardConstants.Zero;u<h;u++){var o=e.eq(u),i=o.parents(".e-dbrd-containerWrapper"),s=i.find(".e-dbrd-control-container"),r=i.find(".e-control-heading");!t.isNullOrUndefined(r)&&r.length>t.DashboardConstants.Zero&&r.find(".e-control-title").length>t.DashboardConstants.Zero&&s.attr("type")!==t.dashboardViewer.Controls.RangeNavigator&&s.attr("type")!==t.dashboardViewer.Controls.IMAGE&&!(o.hasClass("e-Card-Single")||i.hasClass("e-control-singleCard"))&&i.find(".e-control-singleCard").length!==t.DashboardConstants.One&&(n(window).width()>t.DashboardConstants.MobileWidth?r.css({"line-height":f>=i.height()?"15px":"25px",height:f>=i.height()?"15px":"25px"}):r.css({"line-height":"25px",height:"25px"}))}},_resizeWidgetTitle:function(){for(var i=null,o=null,f=null,v=null,u=null,h=5,y=this.currentTabContentElement.find(".e-dbrd-control"),p=null,c=t.DashboardConstants.Zero,r=null,l=null,w=5,e=null,d=y.length,b,k,c=t.DashboardConstants.Zero;c<d;c++){u=y.eq(c);e=u.parents(".e-dbrd-control-container");i=u.parents(".e-dbrd-containerWrapper").find(".e-control-heading").find(".e-control-title");o=u.parents(".e-dbrd-containerWrapper").find(".e-control-heading");o.css("width",e.width());r=u.parents(".e-dbrd-containerWrapper").find(".e-control-subtitleHeading").find(".e-control-subtitle");l=u.parents(".e-dbrd-containerWrapper").find(".e-control-subtitleHeading");f=u.parents(".e-dbrd-containerWrapper").find(".e-control-prop");v=u.parents(".e-dbrd-containerWrapper").find(".e-dbrd-link-enable");var a=u.parents(".e-dbrd-containerWrapper"),s=e.find(".e-control-description");this.model.enableWidgetMode||this.isWidget||(!t.isNullOrUndefined(a)&&a.length>=t.DashboardConstants.One&&a.height()<50&&n(window).width()>t.DashboardConstants.MobileWidth?(!t.isNullOrUndefined(s)&&s.length>t.DashboardConstants.Zero&&s.parents(".e-control-heading").addClass("e-single-row"),f.addClass("e-single-row")):(f.hasClass("e-single-row")&&f.removeClass("e-single-row"),s.hasClass("e-single-row")&&s.removeClass("e-single-row")));o.find(".e-control-description").length===t.DashboardConstants.One&&(h=30);p=this._measureText(i.text(),100,{size:"16",fontStyle:"Normal",fontFamily:"Segoe UI"}).width;i.css({"max-width":Math.abs(o.width()-(v.width()+f.width()+4)-h)+"px",width:"auto"});r.css({"max-width":l.width()});r.length>t.DashboardConstants.Zero&&(b=2,r.parent().attr("class")==="e-textalign-center"?(r.parent().css({"margin-left":(l.width()-r.width())/b-h}),this._dashboardData().isExportImage&&r.parent().css({"margin-top":w+"px"})):r.parent().attr("class")==="e-textalign-right"?(r.parent().addClass("e-subtitle-alignright"),r.parent().css({"margin-right":"10px"}),this._dashboardData().isExportImage&&r.parent().css({"margin-top":w+"px"})):r.parent().attr("class")==="e-textalign-left"&&r.parent().addClass("e-subtitle-alignleft"),n(window).width()>t.DashboardConstants.MobileWidth?(k=105,e.height()>k?e.find(".e-control-subtitleHeading").css({display:"block"}):e.find(".e-control-subtitleHeading").hide()):e.find(".e-control-subtitleHeading").css({display:"block"}));i&&f&&(p>=o.width()-f.width()?(i.parent().attr("class")==="e-textalign-center"&&i.parent().addClass("e-title-aligncenter"),i.parent().attr("class")==="e-textalign-right"&&(i.parent().addClass("e-title-alignleft"),i.parent().css({"margin-right":t.DashboardConstants.Zero+"px"}))):(i.parent().attr("class")==="e-textalign-center"&&i.parent().css({"margin-left":(o.width()-i.width())/2-h}),i.parent().attr("class")!=="e-textalign-right"||this.model._dashboardData.isExportImage||(i.parent().addClass("e-title-alignright"),i.parent().css({"margin-right":f.width()+5+"px"}))));this._adjustParameterColumn(i);this._adjustParameterColumn(r)}},_resizeFilterWidgetTitle:function(){for(var r,e=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=null,u=null,s=null,i=null,h=null,c=e.length,f=0;f<c;f++)i=e.eq(f),o=i.find(".e-control-heading"),u=i.find(".e-dbrd-filterwidget-title"),s=i.find(".e-dbrd-filterwidget-icon-container"),r=o.width()-s.width(),h=this._measureText(u.text(),100,{size:"16",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,r!==t.DashboardConstants.Zero&&h>r&&u.css({width:"auto","max-width":r})},_showOrHideIcons:function(){for(var f=null,o=null,s=this.currentTabContentElement.find(".e-dbrd-control"),i=null,r=null,u=null,e=0,h=s.length,e=0;e<h;e++)o=s.eq(e),f=o.parents(".e-dbrd-containerWrapper").find(".e-control-prop"),i=f.find(".e-dbrd-control-menu"),r=f.find(".e-dbrd-banner-widget-withoutcomments"),u=f.find(".e-dbrd-banner-widget-withcomments"),i.length>t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?i.addClass("e-ctrlmenu-show"):n(i).hasClass("enable-csv-export")||n(i).hasClass("enable-excel-export")||n(i).hasClass("enable-image-export")||n(i).hasClass("enable-pdf-export")||n(i).hasClass("enable-view-Data")?i.addClass("e-ctrlmenu-show"):i.addClass("e-ctrlmenu-hide")),r.length>t.DashboardConstants.Zero?n(window).width()<t.DashboardConstants.MobileWidth?r.addClass("e-commenticon-hide"):this.model.responsiveSettings.onWidgetCommented?r.addClass("e-commenticon-show"):r.addClass("e-commenticon-show"):u.length>t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?u.addClass("e-commenticon-hide"):this.model.responsiveSettings.onWidgetCommented?u.addClass("e-commenticon-show"):u.addClass("e-commenticon-show"))},_resizeTitle:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-title"),r=this.element.find(".e-dbrd-banner"),u=this.currentTabContentElement.find(".e-dbrd-banner-icon-container"),f,e;this.model.favoriteSettings.enabled&&n(window).width()>t.DashboardConstants.MobileWidth?(f=null,f=this.model.favoriteSettings.isFavorite?this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon").outerWidth():this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon").outerWidth(),e=r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-f-10+"px",i.css({"max-width":e,width:"auto","margin-left":"0px"})):this.onDemandTabs?i.css({"max-width":r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()-this.element.find(".e-dbrd-tab-res-icon-container").width()-"2px",width:"auto"}):i.css({"max-width":r.width()-u.outerWidth()-this.currentTabContentElement.find(".e-dbrd-filterListMenu").width()+"px",width:"auto"});this._adjustParameterColumn(i.find("p"))},_showGetLinkIcon:function(){if(n(window).width()>t.DashboardConstants.MobileWidth){var i=this.element.find(".e-dbrd-banner-link");this.model.showGetLinkIcon?i.show():i.hide()}},_validURL:function(n){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n)},_hasOfflineData:function(n){var i;if(!t.isNullOrUndefined(this.model.dashboardData)){var r=JSON.parse(this.model.dashboardData),u=t.isNullOrUndefined(n)?this.model.reportName:n,f=r.length;for(i=0;i<f;i++)if(r[i].dashboardName===u)return!0}return!1},_getCurrentTabOfflineData:function(n){var i;if(!t.isNullOrUndefined(this.model.dashboardData)){var r=JSON.parse(this.model.dashboardData),u=t.isNullOrUndefined(n)?this.model.reportName:n,f=r.length;for(i=0;i<f;i++)if(r[i].dashboardName===u)return r[i]}return null},_getDashboardInfoFromOfflineData:function(){var n,r,i;if(!t.isNullOrUndefined(this.model.dashboardData)){if(n=JSON.parse(this.model.dashboardData),r=n.length,n.length>t.DashboardConstants.One)for(i=0;i<r;i++)if(!t.isNullOrUndefined(n[i].selectedTabIndex))return this.model._selectedTabGuid=n[0].id,n[i];return this.model._selectedTabGuid=n[0].id,n[0]}return null},_generateMultiTabOfflineData:function(n){var u=0,e,r;if(!t.isNullOrUndefined(this.dashboardDetails)&&this.dashboardDetails.length>t.DashboardConstants.One&&this.tabInfoCollection.length>t.DashboardConstants.Zero)for(u=0;u<this.tabInfoCollection.length;u++){var i=this.tabInfoCollection[u],o=t.isNullOrUndefined(i.initPrivatePropertiesInfo.currentReport)?"":JSON.stringify(i.initPrivatePropertiesInfo.currentReport.layout),f=i.initPrivatePropertiesInfo.isWidget?i.initPrivatePropertiesInfo.dashboardControls.getControlForOfflineWidget():i.initPrivatePropertiesInfo.dashboardControls.getAllControlsForOfflineDashboard();f=this._processWidgetString(f,i.initPrivatePropertiesInfo.controlRelations,i.initPrivatePropertiesInfo.appliedFilterData);e=this._getGridSettings(i.initPrivatePropertiesInfo.dashboardControls,i.initPrivatePropertiesInfo._id);r=this._getTabInfoByDashboardName(i.tabIdInfo);r.tabIndex!==this.model.selectedTabIndex&&n.push({dashboardName:r.tabName,id:r.tabId,index:r.tabIndex,layout:o,widgetData:f,renderedPages:i.initPrivatePropertiesInfo.pageInformations,selectedTabIndex:null,masterData:JSON.stringify(i.initPrivatePropertiesInfo.dashboardControls.getAllControlsMasterData()),gridSettings:JSON.stringify(e),isWidget:i.initPrivatePropertiesInfo.isWidget,filterPanelData:JSON.stringify(i.initPrivatePropertiesInfo.tempDataForFilter),includeGlobalFilter:i.initPrivatePropertiesInfo.includeGlobalFilter})}return n},_processWidgetString:function(n,t,i){for(var r=0,u=n.length,r=0;r<u;r++)n[r].controlType==="parameterColumnData"&&(n[r].controlRelations=t,n[r].appliedFilterData=i);return JSON.stringify(n)},_widgetActionHandler:function(n){var i,r,f;if(!t.isNullOrUndefined(n)){var e=n.id,l=n.actionType,o=this.dashboardControls.getControlByReport(e),s=[],h="";if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetAction,source:{element:null,data:n}}),!t.isNullOrUndefined(o)){var a=o.configInfo,u=this._setActionSettingsAPIValues(e,a),c=!1,v=t.isNullOrUndefined(u)?null:u.length;for(i=0;i<v;i++)if(r=u[i],f=r.ActionType,l===f){if(h=f,s=r.Action,c=r.ShowMenu,n.actionData=s,n.type=h,c){this.currentActionSettings=n;this.isActionMenu=!0;this.model.enableViewData&&(this.tempViewDataDetails.viewDataSelectedInfo=n.filterInfo);break}else this._loadNavigation(n,null);break}}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetAction,source:{element:null,data:n}})}},_setActionSettingsAPIValues:function(n,i){var f=i.ActionSetting,c,s,r,o,l,u,h,a,e;if(!t.isNullOrUndefined(this.model.widgetActionSettings))for(c=this.model.widgetActionSettings.length,s=0;s<c;s++)if(r=this.model.widgetActionSettings[s],o=r.widgetId,!t.isNullOrUndefined(o)&&o!==""&&(o===n||this.currentTabContentElement.find("#"+o).attr("data-widget-id")===n))for(l=r.actionSettings.length,u=0;u<l;u++){for(h=!1,a=f.length,e=0;e<a;e++)r.actionSettings[u].type===f[e].ActionType&&(f[e].Action=r.actionSettings[u].actions,f[e].ShowMenu=f[e].ActionType===t.dashboardViewer.ActionType.ContextMenu,h=!0);h||f.push({ActionType:r.actionSettings[u].type,Action:r.actionSettings[u].actions,ShowMenu:r.actionSettings[u].type===t.dashboardViewer.ActionType.ContextMenu})}return f},_loadNavigation:function(i,r){var h,a,s,v,f;this._destroyInteractionMenu();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetActionNavigate,source:{element:null,data:i}});var c=this._id+t.DashboardConstants.Widget+i.id,y=n("#"+c+"_removeControlFilter").parents(".e-dbrd-control-container").data("IsFilterApplied"),p=n("#"+c+"_removeControlFilter").parents(".e-dbrd-control-container").find(".e-dbrd-control");if(!t.isNullOrUndefined(i)){var l=null,u=i.actionData,e=i.callbackfn,o=this.dashboardControls.getControlByReport(i.id);t.isNullOrUndefined(r)||(u=[],u.push(r.text));t.isNullOrUndefined(o)||(l=o.configInfo,t.isNullOrUndefined(u)||u[t.DashboardConstants.Zero]!==t.dashboardViewer.Action.Filter||o.SelectedFilterInfo.length!==t.DashboardConstants.Zero||t.isNullOrUndefined(i.filterInfo)||(o.SelectedFilterInfo=[],o.SelectedFilterInfo=i.filterInfo,o.SelectedFilterInfo.ReportName=i.id));for(h in u)if(u.hasOwnProperty(h))switch(u[h]){case t.dashboardViewer.Action.Filter:a={master:i.id,masterData:i.masterData,slaves:i.slaves,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};!i.isMaximizedView&&!t.isNullOrUndefined(i.slaves)&&i.slaves.length>t.DashboardConstants.Zero&&this._makeSlaveDataRequest(a);break;case t.dashboardViewer.Action.Linking:if(s=[],v=0,s=i.id.indexOf("Chart")===v?i.controlLinkData:l.ControlLinkData,i.id.indexOf("TreeMap")!==t.DashboardConstants.IndexLowerBound)this.treeMapLinking=!0,i.isSelected&&i.actionType!=="ContextMenu"&&(i.evt.evt.public=!0,i.treeMap.rectClick(i.evt.evt));else if(i.id.indexOf("PivotGrid")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(e)){if(i.id.indexOf("Card")!==t.DashboardConstants.IndexLowerBound){y&&n(i.evt.currentTarget).hasClass("e-dbrd-clicked-card")&&this._AddCardSelection([i.evt.name],p,i.cardCount,!1);i.type==="ContextMenu"&&(n(i.evt.currentTarget).css("background-color")==="rgb(247, 247, 247)"||n(i.evt.currentTarget).css("background-color")==="rgb(255, 255, 255)")&&n(i.evt.currentTarget).css({"background-color":"white"});this._controlNavigate(s,i.cardLink,i.widgetInstance);break}}else{e.call(this,i.linkingData.pivotGridControl,i.linkingData.cellClickInfo);break}this._controlNavigate(s,i.dataWrapper,i.widgetInstance);break;case t.dashboardViewer.Action.DrillDown:t.isNullOrUndefined(e)||(i.id.indexOf("Chart")!==t.DashboardConstants.IndexLowerBound?e.call(this,i.drillDownData.chart,i.drillDownData.config,i.drillDownData.controlLink,i.drillDownData.isMaximize,i.drillDownData.evt):i.id.indexOf("TreeMap")!==t.DashboardConstants.IndexLowerBound&&i.drillDownData.configInfo&&i.drillDownData.configInfo.LoadOnDemand?(t.isNullOrUndefined(i.treeMap)||(f=i.treeMap,f.model.drillDownLevel++,i.drillDownData.evt.model.tooltipTemplate=i.drillDownData.evt.model.isVirtualRender?this._id+"_"+i.id+"_toolTip"+i.drillDownData.evt.model.drillDownLevel:this._id+"_"+i.id+"_toolTip"+i.drillDownData.drillDownLevel,f.model.drillDownLevel!==i.drillDownData.configInfo.rowCount&&f.model.drillDownLevel<i.drillDownData.configInfo.rowCount&&(f._backgroundTile[0].innerHTML="",f._drillHoverDiv[0].innerHTML="",f._templateDiv[0].innerHTML="")),e.call(this,i.drillDownData.configInfo,i.drillDownData.isMaximizedView,i.drillDownData.evt)):i.id.indexOf("TreeMap")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.drillDownData.value)||(i.drillDownData.evt.model.tooltipTemplate=i.drillDownData.evt.model.isVirtualRender?this._id+"_"+i.id+"_toolTip"+i.drillDownData.evt.model.drillDownLevel:this._id+"_"+i.id+"_toolTip"+i.drillDownData.drillDownLevel,e.call(i.drillDownData.treeMap,i.drillDownData.value,i.drillDownData.drillDownLevel)))}}this._trigger("actionBegin",{eventType:t.dashboardViewer.event.afterWidgetActionNavigate,source:{element:null,data:i}})},_destroyWidgetSelection:function(){t.isNullOrUndefined(this.currentActionSettings)||t.isNullOrUndefined(this.currentActionSettings.id)||(this._clearSelectionForWidget(this.currentActionSettings,this.currentActionSettings.id,this.currentActionSettings.widgetInstance),this.currentActionSettings=null)},_destroyInteractionMenu:function(){var n=this.currentTabContentElement.find("#"+this._id+"_InteractionMenuPopup");n.length!==t.DashboardConstants.Zero&&n.remove()},_destroyErrorMsg:function(){this.currentTabContentElement.find(".e-error-notification").remove();this.currentTabContentElement.css({position:""});var n=this.currentTabContentElement.find(".e-dbrd-banner");n.css({"margin-top":"0px"})},_removeLinkTemplate:function(){for(var u,f=n("body"),r=n(f).children(),e=r.length,i=0;i<e;i++)u=n(r[i]).attr("id"),t.isNullOrUndefined(u)||u.indexOf("LinkTemplate")===t.DashboardConstants.IndexLowerBound||n(r[i]).remove()},_updateDashboardDetails:function(n){var u,r,i;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(this.dashboardDetails))for(u=this.dashboardDetails.length,r=0;r<u;r++)if(i=this.dashboardDetails[r],n.tabId===i.DashboardName||n.tabName===i.DashboardDisplayName||n.tabIndex===this._getTabIndexById(i.DashboardName)){i.UserDisplayName=n.displayName;break}},_updateTabInfo:function(n){var u,r,i;if(!t.isNullOrUndefined(n))for(u=n.length,r=0;r<u;r++)i=n[r],t.isNullOrUndefined(i)||t.isNullOrUndefined(i.tabId)&&t.isNullOrUndefined(i.tabName)&&t.isNullOrUndefined(i.tabIndex)?this.dashboardDetails[r].UserDisplayName=i:this._updateDashboardDetails(i)},_getTabUserDisplayName:function(n){for(var i,r=this.dashboardDetails.length,t=0;t<r;t++)if(i=this.dashboardDetails[t],n===i.DashboardName)return i.UserDisplayName;return null},_processResponseMessage:function(i){return t.isNullOrUndefined(i.d)&&(t.isNullOrUndefined(i.ResponseObject)?i={d:i}:i.d=n.type(i.ResponseObject)===t.DashboardConstants.typeArray?i.ResponseObject:this._keyValuePairConversion(i.ResponseObject)),t.isNullOrUndefined(i.d.ResponseObject)||(i.d=n.type(i.d.ResponseObject)===t.DashboardConstants.typeArray?i.d.ResponseObject:this._keyValuePairConversion(i.d.ResponseObject)),t.isNullOrUndefined(i.d.ResponseData)||(i.d=n.type(i.d.ResponseData)===t.DashboardConstants.typeArray?i.d.ResponseData:this._keyValuePairConversion(i.d.ResponseData)),i},_keyValuePairConversion:function(i){var r=Object.keys(i),e=i,u=[],f,o;return n.type(i)===t.DashboardConstants.typeObject&&r.length===t.DashboardConstants.One&&r[t.DashboardConstants.Zero]!=="WidgetDetails"?(f=e[r[t.DashboardConstants.Zero]],o=Object.keys(f),u.push({Key:r[t.DashboardConstants.Zero],Value:this._getResponseKeyValuePair(o,f,!0)})):u=this._getResponseKeyValuePair(r,e,!1),u},_getResponseKeyValuePair:function(n,t,i){var u=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i?u.push({key:n[r],value:t[n[r]]}):u.push({Key:n[r],Value:t[n[r]]}));return u},_checkHasViewData:function(n){var r=!1,i;return t.isNullOrUndefined(n)||(i=this.currentTabContentElement.find("[data-widget-id="+n+"]"),r=!t.isNullOrUndefined(i)&&i.find(".enable-view-Data").length>t.DashboardConstants.Zero),r}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.grid={_renderGrid:function(r,u){var p=0,ei=-1,ut=50,o=null,v=null,c=null,f=null,h=null,a=[],ft=null,e=0,l=null,w=null,ct=null,lt=null,b=!1,oi="",s=0,et=0,si=36,hi,ci,li,d,at,g,k,ai,vi,vt,yi,y,yt,pt,pi,wi,nt,bi,ot,tt,ki,wt,it,bt,st,rt,di,nr,ht,fi,ir,rr,ur,fr;if(f=r.configInfo,c=r.getCurrentPageData(),t.parseDateInUTC=!0,hi=JSON.parse(JSON.stringify(this.dashboardParameters)),this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.weekDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.isNullOrUndefined(u)||t.isNullOrUndefined(u.gridDiv)){for(e=0;e<this.target.length;e++)if(this.target[e].indexOf(f.Id)!==ei&&this.target[e].indexOf("PivotGrid")===ei){if(ft=this._id+t.DashboardConstants.Widget+f.Id,o=n("#"+ft),this.target.splice(e,1),c.isError){this._showControlError(c.pagedata,o,f);return}if(this._hideControlError(o),o.show(),h=o.data("ejDashboardGrid"),t.isNullOrUndefined(h)){ft=null;break}if(!this._applyOrRemoveNoDataAvailable(c.pagedata.length,o)){o.addClass("e-nodatagrid");return}if(o.removeClass("e-nodatagrid"),h.model.query._params[2].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),h.model.query._params[4].value="",h.model.query._params[6].value=JSON.stringify(r.maxMinData),h.model.pageSettings.totalRecordsCount=f.AllowPaging?h.model.pageSettings.totalRecordsCount:r.totalCount,!t.isNullOrUndefined(h.model.filterSettings.filteredColumns)&&h.model.filterSettings.filteredColumns.length!==p){for(ci=h.model.filterSettings.filteredColumns.length,e=0;e<ci;e++)n("#"+h.model.filterSettings.filteredColumns[e].field+"_filterBarcell").val("");h.model.filterSettings.filteredColumns=[]}if(li={instance:h,json:t.parseJSON(c.pagedata),count:r.totalCount,isLocal:!1,update:!0,needRefresh:!0,sortedColumns:f.SortedColumns,dataSource:r.totalCount>ut,reportName:f.Id,formattedData:c.formattedData},h.model.showSummary){for(s=0;s<this.summaryData.length;s++)this.summaryData[s].id===f.Id&&(this.summaryData[s].data=c.SummaryData);window.summaryInfo=this.summaryData}this._updateDataSource(li);o.parent().data("IsFilterApplied",r.SelectedFilterInfo.length>t.DashboardConstants.Zero);o.parent().data("IsFilterApplied")?this._gridInitialSelection(r,h,o):(o.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),o.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}));return}if(ft===null&&(d=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),d.find(".e-dbrd-control-container").css({overflow:"hidden"}),o=d.find(".e-dbrd-control"),o.addClass(".e-table dashboardGridControl").css({overflow:"hidden",height:o.height(),padding:"1px"}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),d.find(".e-remove-control-filter").attr("id",o.attr("id")+"_removeControlFilter"),d.find(".e-dbrd-export").attr({value:f.Id}),d.attr({"data-controltype":"Grid"})),c.isError){o.attr({"data-controlId":f.Id});this._showControlError(c.pagedata,o,f);return}this._hideControlError(o)}else if(o=u.gridDiv,o.addClass("e-dbrd-control"),o.css({position:"relative"}),b=u.isMaximize,b)for(v=n("#"+n("#"+this._id+"_cell_"+f.Row+"_"+f.Column).find(".e-dbrd-control").attr("id")).ejDashboardGrid("instance"),s=0;s<v.model.sortSettings.sortedColumns.length;s++)a.push(w={field:v.model.sortSettings.sortedColumns[s].field,direction:v.model.sortSettings.sortedColumns[s].direction});if(at=n(o).height(),o.attr({"data-controlId":f.Id}),g=null,k=c.formattedData,this.model._dashboardData.isExportImage&&window.exportImageDashboardData){for(ai=window.exportImageDashboardData.length,e=0;e<ai;e++)r.reportName===window.exportImageDashboardData[e].Key&&(g=JSON.parse(window.exportImageDashboardData[e].Value),g=JSON.parse(g.Value));lt=new t.DataManager({json:t.parseJSON(g)});ct=g.length;vi=".e-grid .e-columnheader.e-wrap .e-headercelldiv,.e-grid .e-gridcontent.e-wrap .e-rowcell,.e-grid.e-responsive .e-gridcontent.e-wrap .e-rowcell,.e-grid.e-wrap .e-columnheader .e-headercelldiv,.e-grid.e-wrap .e-rowcell,.e-grid.e-wrap.e-responsive .e-rowcell {word-wrap: break-word;}";n("head").prepend('<style type= "text/css">'+vi+"<\/style>")}else vt=null,vt=b&&v!==null&&v.model.currentViewData!==null&&v.model.filterSettings.filteredColumns.length>p?v.model.currentViewData:b&&v!==null&&a.length>p?!t.isNullOrUndefined(r.sortData)&&r.sortData.length===p?v.model.currentViewData:r.sortData:c.pagedata,lt=new t.DataManager({json:t.parseJSON(vt)}),ct=ut;if(this.model._dashboardData.isExportImage&&window.formattedDataForExport)for(yi=window.formattedDataForExport.length,e=0;e<yi;e++)r.reportName===window.formattedDataForExport[e].Key&&(k=JSON.parse(window.formattedDataForExport[e].Value),k=t.isNullOrUndefined(k.Value)?JSON.parse(k):JSON.parse(k.Value));if(y={width:o.parent().width(),height:f.AllowFiltering?at-(32+si):at-si,autoHide:!1,allowVirtualScrolling:f.AllowPaging?!1:r.totalCount>ut,scrollerSize:10,enableTouchScroll:!0,virtualScrollMode:f.AllowPaging?"normal":"continuous"},this.model._dashboardData.isExportImage&&(this.model._dashboardData.isWidgetSpecific||this.model._dashboardData.isControl)&&(y={width:o.parent().width(),height:""},f.AllowPaging=!1),this.model._dashboardData.isExportImage&&(f.AllowContenttoFit=!1),yt=null,pt=null,yt=n.proxy(this._applyGrdRowFormatting,this,f.GridColumnFormats,f.GridDeltaColumns,f.ColumnList),pt=n.proxy(this._applyGridFormatting,this,f.Id,f.DateTimeColumns,f.GridDeltaColumns,f.BarTemplate,f.FormattedColumns),pi=n("<div>").attr({id:o.attr("id")+"_indicator"}).addClass("e-dbrd-controlWaiting"),this.currentTabContentElement.append(pi),w={field:"",direction:""},!t.isNullOrUndefined(f.SortedColumns)&&f.SortedColumns.length>p)for(a=[],wi=f.SortedColumns.length,e=0;e<wi;e++)a.push(w={field:f.SortedColumns[e].field,direction:f.SortedColumns[e].direction});if(this.model._dashboardData.isExportImage&&!window.isExportPdf){for(a=[],e=0;e<gridSettings.length;e++)if(gridSettings[e].reportName===r.reportName)for(s=0;s<gridSettings[e].sortSettings.sortedColumns.length;s++)a.push(w={field:gridSettings[e].sortSettings.sortedColumns[s].field,direction:gridSettings[e].sortSettings.sortedColumns[s].direction})}else if(this.model._dashboardData.isExportImage&&window.isExportPdf){for(a=[],nt="",bi=window.dashboardName.length,ot=0;ot<bi;ot++)if(nt=window.dashboardName[ot],window.gridSettings[nt]===""&&(window.gridSettings[nt]="[]"),!t.isNullOrUndefined(window.gridSettings[nt]))for(tt=JSON.parse(window.gridSettings[nt]),ki=tt.length,e=0;e<ki;e++)if(tt[e].reportName===r.reportName)for(s=0;s<tt[e].sortSettings.sortedColumns.length;s++)a.push(w={field:tt[e].sortSettings.sortedColumns[s].field,direction:tt[e].sortSettings.sortedColumns[s].direction})}else if(this.model.canLoadDataOffline&&!t.isNullOrUndefined(this.model.dashboardData)&&(wt=this._getCurrentTabOfflineData(this.model.selectedTabName),!t.isNullOrUndefined(wt.gridSettings)))for(a=[],it=JSON.parse(wt.gridSettings),e=0;e<it.length;e++)if(it[e].reportName===r.reportName)for(s=0;s<it[e].sortSettings.sortedColumns.length;s++)a.push(w={field:it[e].sortSettings.sortedColumns[s].field,direction:it[e].sortSettings.sortedColumns[s].direction});if(f.IsShowSummary)if(bt=25,st=t.DashboardConstants.Zero,this.model._dashboardData.isExportImage||window.isExportPdf)st=f.SummaryRows.length>t.DashboardConstants.Zero?f.SummaryRows[t.DashboardConstants.Zero].SummaryRowInfos.length:st,y.height=!t.isNullOrUndefined(y.height)&&y.height>t.DashboardConstants.Zero&&y.height!==""?y.height-st*bt:y.height;else{for(rt=0;rt<f.SummaryRows.length;rt++)et<f.SummaryRows[rt].SummaryRowInfos.length&&(et=f.SummaryRows[rt].SummaryRowInfos.length);y.height-=et*bt}f.AllowPaging&&(di=36,y.height-=di,oi='<script id="'+o.attr("id")+'_pagerTemplate" type="text/x-jsrender"><div class="dashboard_grid_pagerAlignment pager_marginClass"><input id ="'+o.attr("id")+'_currentPage" type="text" class="dashboard_grid_pagerInput dashboard_grid_pagerAlignment"><\/input><\/div><div class="totalPages dashboard_grid_pagerAlignment"><span class="emptyText dashboard_grid_pagerAlignment pager_marginClass"><\/span><span class="pageCount dashboard_grid_pagerAlignment pager_marginClass"><\/span><span  class="rowCount dashboard_grid_pagerAlignment"><\/span><\/div><div class ="pageNavigationContainer" style="padding-top:2px" ><div><div class="e-prev e-icon e-arrowheadleft-2x e-prevpagedisabled e-disable dashboard_grid_pagerAlignment" title="'+this.locale.utils.PreviousPage+'"><\/div><\/div><div><div class="e-nextpage e-icon e-arrowheadright-2x e-default dashboard_grid_pagerAlignment" title="'+this.locale.utils.NextPage+'"><\/div><\/div><\/div><\/script>');l=this.dashboardControls.getControlByReport(f.Id);var gi=f.AllowSorting,er=f.AllowPaging,kt=f.AllowContenttoFit,dt=f.AllowFiltering,gt=f.IsMasterFilter||f.IsLinked||this.model.enableViewData,or=b&&dt&&(t.isNullOrUndefined(l.filterSetting)||l.filterSetting.length===p||!t.isNullOrUndefined(l.filterSetting)&&l.filterSetting[0].value!=="")?l.filterSetting:[],ni=f.ShowHorizontalLine,ti=f.ShowVerticalLine,sr=f.IsShowSummary,hr=ni&&ti?"both":ni&&!ti?"horizontal":!ni&&ti?"vertical":"none",cr=f.AllowMultipleSelection?"multiple":"single",lr=this._createSummaryRows(f.SummaryRows,f.IsShowSummary,f.Id,et),ii=this._CreateColumns(f.ColumnList,f.BarTemplate,f.GridDeltaColumns,f.Id,kt,f.ColorsaturationColumns,dt,k),ar=gt?n.proxy(this._loadGridSlaves,this,f.Id,f.HiddenColumns,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,b,f.DateTimeColumns):[];if(f.ActionSetting!==null&&f.ActionSetting.length>p&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>p&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click")for(nr=".customCss { cursor: pointer;}",n("head").prepend('<style type= "text/css">'+nr+"<\/style>"),ht=0;ht<ii.length;ht++)ii[ht].cssClass="customCss";f.IsShowSummary&&(this.summaryData.push({id:f.Id,data:c.SummaryData,summaryRows:f.SummaryRows,formattedColumns:f.FormattedColumns}),window.summaryInfo=this.summaryData);var tr=ut,ri=0,ui=c.pagedata.length;if(ui<tr?ri+=ui:ri=ui+tr,fi=b&&!v.model.allowPaging?ri:r.totalCount,o.ejDashboardGrid({dataSource:lt,allowMultiSorting:gi,allowPaging:er,enableRTL:this.rtl,query:(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",f.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("rangeData",JSON.stringify(this.rangeData)).addParams("action","Initialize").addParams("GridRowCount",JSON.stringify(r.totalCount)).addParams("maxmindata",JSON.stringify(r.maxMinData)).addParams("token",this.token).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("isWebDesigner",this.model._isWebDesigner).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("methodName",this.model.serviceMethods.getControlDataOnDemand).addParams("serverUrl",this.serverUrl()).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(hi))),allowResizing:!0,allowKeyboardNavigation:!0,allowResizeToFit:kt,allowSorting:gi,allowFiltering:dt,allowSelection:gt,allowScrolling:!0,showSummary:sr,summaryRows:lr,filterSettings:{filteredColumns:or},allowTextWrap:this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl?!0:kt?!1:f.AllowTextWrap,load:function(){this.element.ejDashboardWaitingPopup({showOnInit:!1,template:n("#"+this._id+"_indicator")})},enableAltRow:!1,gridLines:hr,selectionType:cr,columns:ii,rowSelected:ar,rightClick:gt?n.proxy(this._loadGridSlaves,this,f.Id,f.HiddenColumns,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,b,f.DateTimeColumns):[],rowDataBound:yt,queryCellInfo:pt,sortSettings:{sortedColumns:a},scrollSettings:y,pageSettings:{pageSize:ct,totalRecordsCount:fi,enableTemplates:!0,template:oi},actionBegin:this._actionBeginEvent,actionComplete:n.proxy(this._actionCompleteForVirtualScrolling,this,fi,a,o,f.HeaderSettings)}),!this._applyOrRemoveNoDataAvailable(c.pagedata.length,o)){o.addClass("e-nodatagrid");return}if(o.removeClass("e-nodatagrid"),this.model._dashboardData.isWidgetSpecific&&o.css({overflow:"auto",height:"auto"}),b&&!t.isNullOrUndefined(l.filterSetting)&&l.filterSetting.length!==p)for(ir=l.filterSetting.length,e=0;e<ir;e++)o.find("#"+l.filterSetting[e].field+"_filterBarcell").val(t.isNullOrUndefined(l.filterSetting[e].excelFilterText)?l.filterSetting[e].value:l.filterSetting[e].excelFilterText);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&window.exportImageDashboardData&&(n("body").css({overflow:"auto"}),o.css({overflow:"auto",height:""}),o.parent().css({"overflow-y":"auto","overflow-x":"hidden",height:""}),o.parent().parent().css({overflow:"auto",height:""}),f.AllowContenttoFit=!0,this.model.enableCustomTheming&&this._customTheme(["export"]));this.model._dashboardData.isExportImage&&(rr=".e-rarrowup-2x:before{font-family:ejDashboardViewerIconFont; content:'\\e904' !important}.e-rarrowdown-2x:before{font-family:ejDashboardViewerIconFont; content:'\\e901' !important}",n("head").prepend('<style type= "text/css">'+rr+"<\/style>"),ur=".e-grid .e-rowcell {border-style:solid !important;border-color:rgba(0,0,0,.15)!important;border-width:1px 1px 1px 1px !important;border-collapse:collapse;}.e-DashboardViewer .e-grid .e-gridcontent .e-table tr:last-child .e-rowcell {border-bottom: 0px !important;border-left: 0px !important;border-right: 0px !important;}",n("head").prepend('<style type= "text/css">'+ur+"<\/style>"));o.find(".e-scrollbar").hide();f.AllowContenttoFit?o.find(".e-headercelldiv").removeClass("e-grid-header-ellipsis"):o.find(".e-headercelldiv").addClass("e-grid-header-ellipsis");f.AllowFiltering?o.find(".e-gridheader").addClass("e-addfilter-separator"):o.find(".e-gridheader").removeClass("e-addfilter-separator");w=o.find(".e-vhandle");w.css({height:w.height()+16+"px"});this._gridInitialSelection(r,h,o);fr="<script type=\"text/x-jsrender\" id='colTip'>{{:value}}<\/script>";this.element.append(fr)},_setGridConfigInfo:function(n){n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AllowContenttoFit=!t.isNullOrUndefined(n.configInfo.AllowContenttoFit)&&n.configInfo.AllowContenttoFit;n.configInfo.AllowFiltering=!t.isNullOrUndefined(n.configInfo.AllowFiltering)&&n.configInfo.AllowFiltering;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.AllowPaging=!t.isNullOrUndefined(n.configInfo.AllowPaging)&&n.configInfo.AllowPaging;n.configInfo.AllowSorting=t.isNullOrUndefined(n.configInfo.AllowSorting)||n.configInfo.AllowSorting;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.BarTemplate=t.isNullOrUndefined(n.configInfo.BarTemplate)?{}:n.configInfo.BarTemplate;n.configInfo.GridDeltaColumns=t.isNullOrUndefined(n.configInfo.GridDeltaColumns)?[]:n.configInfo.GridDeltaColumns;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ShowHorizontalLine=t.isNullOrUndefined(n.configInfo.ShowHorizontalLine)||n.configInfo.ShowHorizontalLine;n.configInfo.ShowVerticalLine=t.isNullOrUndefined(n.configInfo.ShowVerticalLine)||n.configInfo.ShowVerticalLine;n.configInfo.GridColumnFormats=t.isNullOrUndefined(n.configInfo.GridColumnFormats)?[]:n.configInfo.GridColumnFormats;n.configInfo.FormattedColumns=t.isNullOrUndefined(n.configInfo.FormattedColumns)?[]:n.configInfo.FormattedColumns;n.configInfo.SortedColumns=t.isNullOrUndefined(n.configInfo.SortedColumns)?[]:n.configInfo.SortedColumns;n.configInfo.ColorsaturationColumns=t.isNullOrUndefined(n.configInfo.ColorsaturationColumns)?[]:n.configInfo.ColorsaturationColumns;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.HiddenColumns=t.isNullOrUndefined(n.configInfo.HiddenColumns)?null:n.configInfo.HiddenColumns;n.configInfo.ColumnList=t.isNullOrUndefined(n.configInfo.ColumnList)?[]:n.configInfo.ColumnList;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.AllowMultipleSelection=!t.isNullOrUndefined(n.configInfo.AllowMultipleSelection)&&n.configInfo.AllowMultipleSelection;n.configInfo.AllowTextWrap=!t.isNullOrUndefined(n.configInfo.AllowTextWrap)&&n.configInfo.AllowTextWrap;n.configInfo.IsBlendingWidget=!t.isNullOrUndefined(n.configInfo.IsBlendingWidget)&&n.configInfo.IsBlendingWidget},_actionBeginEvent:function(n){n.requestType==="filtering"&&(n.currentFilterObject[0].value=n.currentFilterObject[0].value.trimRight())},_actionCompleteForVirtualScrolling:function(i,r,u,f,e){var b=50,tt=13,l=null,a=0,k=3,c=null,s=null,d,g,o,h,w,v,y,p,nt;if(l=n("#"+u[0].id).attr("data-controlid"),!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(e.filterCollection)&&e.filterCollection){if(d=this.currentTabContentElement.find(".e-dbrd-MaximizedControl"),c=d.length>a?this.maximizedashboardControls.getControlByReport(l):this.dashboardControls.getControlByReport(l),c.filterSetting.length>a)for(g=e.filterCollection.length,s=0;s<g;s++)t.isNullOrUndefined(c.filterSetting[s])||(e.filterCollection[s].excelFilterText=c.filterSetting[s].excelFilterText);c.filterSetting=e.filterCollection}if(o=u.data("ejDashboardGrid"),h=u.find(".e-pagercontainer"),!t.isNullOrUndefined(o)&&!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(f.Background)&&(w=o.getHeaderTable(),v=w.find(".e-headercelldiv"),w.find(".e-columnheader")[0].style.background="#"+f.Background.substring(k),!t.isNullOrUndefined(v)))for(y=0;y<v.length;y++)v[y].style.color="#"+f.Foreground.substring(k);(!t.isNullOrUndefined(o)&&o.model.allowPaging&&(h.find("input").val(o.model.pageSettings.currentPage),u.find(".totalPages").find(".emptyText").text("of"),u.find(".totalPages").find(".pageCount").text(o.model.pageSettings.totalPages+" "+this.locale.utils.Pages),u.find(".totalPages").find(".rowCount").text(" - "+o.model.pageSettings.totalRecordsCount+" "+this.locale.utils.Items),o.initialRender&&(h.find("input").val(1),h.find("input").keydown(function(t){if(t.keyCode>=65)return!1;if(t.keyCode===tt){var u=t.currentTarget.getAttribute("id"),f=u.replace("_currentPage",""),r=n("#"+f).data("ejDashboardGrid"),i=parseInt(n(t.currentTarget).val());return i>r.model.pageSettings.totalPages&&(i=r.model.pageSettings.totalPages),i<=0&&(i=1),isNaN(i)?(i=r.model.pageSettings.currentPage,h.find("input").val(o.model.pageSettings.currentPage)):r.gotoPage(i),!1}return!0})),o.model.pageSettings.currentPage===o.model.pageSettings.totalPages?u.find(".e-nextpage").addClass("e-nextpagedisabled").removeClass("e-nextpage"):u.find(".e-nextpagedisabled").addClass("e-nextpage").removeClass("e-nextpagedisabled"),t.isNullOrUndefined(e)||t.isNullOrUndefined(e.requestType)||e.requestType!=="paging"||(o.model.pageSettings.currentPage===1?u.find(".e-prevpage").addClass("e-prevpagedisabled e-disable").removeClass("e-prevpage"):u.find(".e-prevpagedisabled").addClass("e-prevpage").removeClass("e-prevpagedisabled e-disable"),h.find("input").val(o.model.pageSettings.currentPage))),p=this.dashboardControls.getControlByReport(n(u).attr("data-controlid")),(i<b||!t.isNullOrUndefined(p.sortData)&&p.sortData.length===a)&&(o._requestType===t.DashboardConstants.Grid.RequestTypeSorting||o._requestType===t.DashboardConstants.Grid.RequestTypeFiltering)&&(p.sortData=o.model.currentViewData),i<b||this.model._dashboardData.isExportImage)||(o.initialRender&&e.requestType==="refresh"&&(nt={instance:o,count:i,isLocal:!1,offline:!1,dataSource:!0,sortedColumns:r,reportName:l},this._updateDataSource(nt)),o.model.pageSettings.totalPages>2&&(e.requestType==="virtualscroll"||e.requestType==="sorting")&&(o.getScrollObject().refresh(),e.requestType==="sorting"&&(o.model.allowPaging&&o.gotoPage(1),o._scrollObject.scrollY(a))))},_updateDataSource:function(i,r){var s=0,h=50,u=i.instance,f=null,o=null,e=this.dashboardControls.getControlByReport(i.reportName),c,l;if(u._gridRecordsCount=i.count,u._isLocalData=i.isLocal,u.model.sortSettings.sortedColumns=typeof i.sortedColumns!="undefined"&&i.sortedColumns.length>s?i.sortedColumns:[],u.model.pageSettings.totalPages=Math.ceil(i.count/h),i.update){if(u.model.dataSource=i.json,o=u.model.columns,!t.isNullOrUndefined(i.formattedData))for(c=o.length,f=0;f<c;f++)t.isNullOrUndefined(o[f].foreignKeyField)||(o[f].dataSource=t.parseJSON(i.formattedData));u.model.actionComplete=n.proxy(this._actionCompleteForVirtualScrolling,this,i.count,i.sortedColumns,u.element,e.configInfo.HeaderSettings);u.refreshContent();(i.count>h||u.model.showSummary)&&u._dataSource(this._getCustomDatamanager(r));u._isLocalData=i.isLocal}if(i.dataSource===!0)u.option({scrollSettings:{allowVirtualScrolling:!i.instance.model.allowPaging}}),u.model!==null&&n.extend(u.model.dataSource,this._getCustomDatamanager(r)),u._isLocalData=!1;else if(u._isLocalData=!0,u.dataSource(i.json),!t.isNullOrUndefined(e.filterSetting)&&e.filterSetting.length!==s)for(l=e.filterSetting.length,f=0;f<l;f++)n("#"+e.filterSetting[f].field+"_filterBarcell").val(e.filterSetting[f].excelFilterText);i.needRefresh&&(u._gridRecordsCount=i.count,u.getScrollObject().refresh());u.initialRender||u.model===null||(u.model.query._params[5].value=String(i.count))},_processQuery:function(n,i,r){var c=0,y=1,d=null,p=null,g=[],l=[],a=null,u=null,f=null,e=[],w=null,o=null,ut=JSON.parse(JSON.stringify(this.dashboardParameters)),ft=this.model.localeSettings.resourcePath,et=this.model.localeSettings.culture,b,nt,s,k,tt,it,v,h,rt;if(r.queries[0].fn==="onWhere"){if(b=this.currentTabContentElement.find(".e-dbrd-MaximizedControl"),o=b.length>c?this.maximizedashboardControls.getControlByReport(r._params[1].value):this.dashboardControls.getControlByReport(r._params[1].value),r.queries[0].e.isComplex)for(e=JSON.parse(JSON.stringify(r.queries[0].e.predicates)),nt=e.length,u=0;u<nt;u++)e[u].excelFilterText=e[0].value;else e.push(JSON.parse(JSON.stringify(r.queries[0].e))),e[0].excelFilterText=e[0].value;t.isNullOrUndefined(o)||(o.filterSetting=e);b.length>c?this.maximizedashboardControls.updateCurrentReport(o):this.dashboardControls.updateCurrentReport(o)}else for(f=0;u<this.dashboardControls.controls.length;u++)this.dashboardControls.controls[f].reportName===r._params[1].value&&(this.dashboardControls.controls[f].filterSetting=[]);if(a=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length===c&&t.isNullOrUndefined(n)&&!n?this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+r._params[1].value):this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(c),a&&this._createControlWaitingIndicator(a,!0),s=a.data("ejDashboardGrid"),k=r.queries.length,s._requestType===t.DashboardConstants.Grid.RequestTypeSorting&&s.model.allowPaging)for(u=0;u<k;u++)r.queries[u].fn==="onPage"&&(r.queries[u].e.pageIndex=y);for(u=0;u<k;u++)if(r.queries[u]!=="undefined")if(r.queries[u].fn==="onPage")d=r.queries[u].e.pageIndex,p=r.queries[u].e.pageSize,w=p*(d-y)+y;else if(r.queries[u].fn==="onSortBy")g.push(r.queries[u].e);else if(r.queries[u].fn==="onWhere")if(r.queries[u].e.isComplex)for(tt=r.queries[u].e.predicates.length,f=0;f<tt;f++)if(r.queries[u].e.predicates[f].isComplex)for(it=r.queries[u].e.predicates[f].predicates.length,v=0;v<it;v++)l.push(r.queries[u].e.predicates[f].predicates[v]);else l.push(r.queries[u].e.predicates[f]);else l.push(r.queries[u].e);return!t.isNullOrUndefined(s._isClearSearchFilter)&&s._isClearSearchFilter&&(w=t.DashboardConstants.One),h={},rt=!t.isNullOrUndefined(this.tempViewDataDetails.viewDataSelectedInfo)&&this.tempViewDataDetails.viewDataSelectedInfo.length===t.DashboardConstants.Zero?this.tempViewDataDetails.viewDataSelectedInfo:this._removeCurrentWidgetMasterData(r._params[1].value),h.methodName=n?this.model.serviceMethods.viewData:this.model.serviceMethods.getControlDataOnDemand,h.controlType=n?r._params[2].value:"",{url:i.dataSource.url,type:"POST",contentType:"application/json",data:JSON.stringify({dashboardPath:r._params[0].value,controlId:r._params[1].value,controlType:h.controlType,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),controlRowCount:r._params[5].value,startIndex:w,pageSizeOnDemand:p,sortData:JSON.stringify(g),allowFilterData:JSON.stringify(l),maxmindata:r._params[6].value,action:n,modifiedConnectionStrings:this.modifiedConnectionStrings,token:r._params[7].value,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardName:this.dashboardName,customCulture:et,CustomLanguagePath:ft,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,dashboardParameterSettings:this._setAjaxDashboardParameterValue(ut),methodName:h.methodName,serverUrl:this.serverUrl(),data:JSON.stringify(rt),isFromVirtualScrolling:!0,isRawData:this.tempViewDataDetails.isRawData,showAllColumns:this.tempViewDataDetails.isShowAllColumns,isWebDesigner:this.model._isWebDesigner})}},_processResponse:function(i,r){var y,d,g,p,nt,h,w,u,e,o,l,tt,b,a,it,v;r=this._processResponseMessage(r);var f=0,k=50,c=[],s=[];if(this._destroyAllControlWaitingIndicator(),y=i&&!t.isNullOrUndefined(r.d[0].Key)&&r.d[0].Key!=="Error",y)return s=JSON.parse(r.d[0].Value.replace("/\r?\r\n|\r/","")),d=r.d[2].Value,g=this.currentTabContentElement.find(".e-active"),this._checkRenderedField(g,d),{result:t.parseJSON(s),count:r.d[1].Value};if(!t.isNullOrUndefined(r.d[0].Value)&&!t.isNullOrUndefined(r.d[0].Value[0].value)||!y){if(r.d[0].Value[0].key==="Error"||r.d[0].Key==="Error")return p=i?this.currentTabContentElement.find(".e-active-content"):n("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key),p.attr({"data-controlId":r.d[0].Key}),nt=i?JSON.parse(r.d[1].Value):JSON.parse(r.d[0].Value[1].value),this._showControlError("",p,nt,i),{result:[],count:t.DashboardConstants.Zero};s=JSON.parse(r.d[0].Value[0].value)}if(h=0,w=null,w=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").length===t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key):this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero),u=w.data("ejDashboardGrid"),e=t.isNullOrUndefined(u)?[]:JSON.parse(s.Result.replace("/\r?\r\n|\r/","")),t.isNullOrUndefined(u)||u.model.allowPaging?h=JSON.parse(r.d[0].Value[2].value).totalCount:(u._isClearSearchFilter?(u._gridRecordsCount=e.length,u.model.pageSettings.currentPage=t.DashboardConstants.One,u._isClearSearchFilter=!1):u._hasSearchFilter&&(u._gridRecordsCount=e.length,u._hasSearchFilter=!1),h=e.length<k?u._gridRecordsCount-e.length:u._requestType===t.DashboardConstants.Grid.RequestTypeSorting?u.model.pageSettings.totalRecordsCount:u._gridRecordsCount+k),o=this.dashboardControls.getControlByReport(r.d[0].Key),this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length===t.DashboardConstants.Zero&&((u._requestType===t.DashboardConstants.Grid.RequestTypeSorting||u._requestType===t.DashboardConstants.Grid.RequestTypeFiltering)&&(o.sortData=e),o.totalCount=h,this.dashboardControls.updateCurrentReport(o)),!t.isNullOrUndefined(r.d[0].Value)&&!t.isNullOrUndefined(r.d[0].Value[1].value)){for(l=n("#"+this._id+t.DashboardConstants.Widget+r.d[0].Key).data("ejDashboardGrid").model.columns,tt=l.length,f=0;f<tt;f++)t.isNullOrUndefined(l[f].foreignKeyField)||(c=r.d[0].Value[1].key==="FormattedData"?JSON.parse(r.d[0].Value[1].value):[],l[f].dataSource=t.parseJSON(JSON.parse(c.Result.replace("/\r?\r\n|\r/",""))));if(b=n("#dashboard_maximized").data("ejDashboardGrid"),!t.isNullOrUndefined(b))for(a=b.model.columns,it=a.length,f=0;f<it;f++)t.isNullOrUndefined(a[f].foreignKeyField)||(c=r.d[0].Value[1].key==="FormattedData"?JSON.parse(r.d[0].Value[1].value):[],a[f].dataSource=t.parseJSON(c.Result.replace("/\r?\r\n|\r/","")))}if(o.configInfo.IsShowSummary)for(f=0;f<this.summaryData.length;f++)if(this.summaryData[f].id===o.configInfo.Id){this.summaryData[f].data=r.d[0].Value[1].key==="SummaryData"?r.d[0].Value[1].value:r.d[0].Value[2].key==="SummaryData"?r.d[0].Value[2].value:this.summaryData[f].data;break}return v=this.element.find(".e-dbrd-control[data-controlid="+r.d[0].Key+"]").find(".e-scrollbar"),t.isNullOrUndefined(v)||v.length===t.DashboardConstants.Zero||v.css({right:"2px"}),{result:t.parseJSON(JSON.parse(s.Result.replace("/\r?\r\n|\r/",""))),count:h}},_getCustomDatamanager:function(i){var r=this,u=(new t.Adaptor).extend({processQuery:n.proxy(this._processQuery,this,i),beforeSend:function(n,i){var e,u,f;if(r.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(e=r.requestHeaders.customHeaders.length,u=t.DashboardConstants.Zero;u<e;u++)f=r.requestHeaders.customHeaders[u],i.setRequestHeader(f.Key,f.Value);i.setRequestHeader("X-Sync-Header",JSON.stringify(r.requestHeaders.customHeaders))}},processResponse:n.proxy(this._processResponse,this,i)},this);return t.DataManager({url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,crossDomain:!0,adaptor:new u})},_gridInitialSelection:function(n,i,r){var g=-1,nt=1,e,tt,it,rt,o,s,h,k,ft;if(n.configInfo.IsMasterFilter&&n.SelectedFilterInfo&&n.SelectedFilterInfo.length>0){var c=null,a=n.getCurrentPageData(),f=0,u=0,v=0,y=r.data("ejDashboardGrid"),et=y.model.rowSelected;for(y.model.rowSelected=null,e=[],tt=n.SelectedFilterInfo.length,u=0;u<tt;u++)if(n.SelectedFilterInfo[u].DateFilterInfo&&n.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&(c=n.SelectedFilterInfo[u].DateFilterInfo.DateFilterList),n.SelectedFilterInfo[u].DimensionFilterInfo&&n.SelectedFilterInfo[u].DimensionFilterInfo.Text.length>t.DashboardConstants.Zero&&(c=n.SelectedFilterInfo[u].DimensionFilterInfo.Text),c)for(it=a.pagedata.length,rt=c.length,f=0;f<it;f++)for(o=-1,v=0;v<rt;v++){if(s=a.pagedata[f][n.SelectedFilterInfo[u].UniqueColumnName.toUpperCase()],h=c[v],s&&h)if(Date.parse(s).toString()==="NaN"&&Date.parse(h).toString()==="NaN"&&s===h)o=(a.pageNumber-nt)*n.scrollSetting.controlPerPage+f;else if(Date.parse(h)!=="NaN"&&Date.parse(s)!=="NaN"&&Date.parse(h)===Date.parse(s))o=(a.pageNumber-nt)*n.scrollSetting.controlPerPage+f;else{o=g;break}o!==g&&e.push(o)}for(var p="",d="",l=t.DashboardConstants.Zero,w=t.DashboardConstants.Zero,b=t.DashboardConstants.Zero,ut=t.DashboardConstants.Zero,l=t.DashboardConstants.Zero;l<e.length;l++){for(k=e[l],b=t.DashboardConstants.Zero,w=l+t.DashboardConstants.One;w<e.length;w++)ft=e[w],k===ft&&(p=k,b+=t.DashboardConstants.One);p===""&&(p=k);b>=ut&&(ut=b,d=p)}d!==""&&y.selectRows(d);r.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-disable").addClass("e-remove-control-filter-enable").attr("tabindex","0");r.parents(".e-dbrd-control-container").data({IsFilterApplied:!0});y.model.rowSelected=et}else r.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),r.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})},_applyGrdRowFormatting:function(i,r,u,f){var c=0,b=-1,d=2,g=3,ct=100,o=0,vt=String.fromCharCode(127),ft=null,et=null,lt,l,nt,e,ot,ut,st,p,v,ht;if(i.length>c)for(lt=i.length,l=0;l<lt;l++)for(o=0;o<f.model.columns.length;o++)if(f.model.columns[o].field===i[l].name&&i[l].type!==d&&(nt=f.data[i[l].name],f.data[i[l].mappingcolor])){var yt=f.data[i[l].mappingcolor],a=yt.toString().split(vt),pt=a[0],k=a[1],tt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(k);t.isNullOrUndefined(tt)||(k="rgba("+parseInt(tt[1],16)+", "+parseInt(tt[2],16)+", "+parseInt(tt[3],16)+", 1)");var at=a[2],it="normal",rt="normal";if(k!==""&&pt===i[l].formatName){i[l].colorScaleStyle===c&&a.length>g&&(ft=a[3].indexOf("True")!==b?"line-through":"",et=a[4].indexOf("True")!==b?"underline":"",it=a[5].indexOf("True")!==b?"bold":it,rt=a[6].indexOf("True")!==b?"italic":rt);i[l].type===c?t.isNullOrUndefined(nt)||n(f.row).children().eq(o).html(nt.value).css("cssText","text-align:"+f.model.columns[o].textAlign+"; color:"+at+"!important; background-color:"+k+" !important; text-decoration: "+ft+" "+et+"; font-style:"+rt+";font-weight: "+it+";"):(n(f.row).css({color:at,"background-color":k,"text-decoration":ft+" "+et,"font-style":rt,"font-weight":it}),n(f.row).children().eq(o).html(nt));break}}for(o=0;o<f.model.columns.length;o++)if(e=f.model.columns[o].field.toUpperCase(),!t.isNullOrUndefined(r[e])&&r[e].deltaExpression!==c){var w=r[e].indication===c,y=null,s=null,h=null;r[e].deltaExpression!==4?(ot=f.data[r[e].actualValue],y=f.data[r[e].targetValue],ut=f.data[f.model.columns[o].field],st=ot-y,s=this._calculateGridDeltaActualValue(ot,y,ut,r[e].deltaExpression===g||r[e].deltaExpression===d,w,r[e].isBackground,this._getFormatString(r[e].formatproperties.FormatType,r[e].formatproperties.DecimalPoints),r[e].formatproperties.Culture,r[e].formatproperties.Unit),(r[e].deltaExpression===g||r[e].deltaExpression===d)&&t.isNullOrUndefined(ut)&&t.isNullOrUndefined(y)&&(s=""),r[e].deltaExpression!==t.DashboardConstants.One||t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(r[e].formatproperties.GroupSeparator)||t.isNullOrUndefined(s.value)||(s.value=s.value.replaceAll(r[e].formatproperties.DecimalSeparator.CurrentValue,r[e].formatproperties.DecimalSeparator.AliasValue),s.value=s.value.replaceAll(r[e].formatproperties.GroupSeparator.CurrentValue,r[e].formatproperties.GroupSeparator.AliasValue)),h=r[e].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+s.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+s.css),h.append(n("<div>").addClass("img"),n("<div>").html(s.value).addClass("value")),f.model.columns[o].textAlign!=="Center"?n(h).css("float",f.model.columns[o].textAlign):(n(h).css("display","flex"),n(h).css("Justify-content","center")),n(f.row).children().eq(o).html(h),r[e].isBackground&&!t.isNullOrUndefined(ut)&&(st>c?n(f.row).children().eq(o).html(h.value).css("cssText",w?"background-color :#34B67A !important;":" background-color :#E57368 !important;"):st===c?n(f.row).children().eq(o).html(h.value).css("cssText","background-color :#FBCB43 !important;"):n(f.row).children().eq(o).html(h.value).css("cssText",w?"background-color :#E57368 !important;":"background-color :#34B67A !important;"))):(y=f.data[r[e].targetValue],p=f.data[f.model.columns[o].field],s=this._calculateGridDeltaColumnValues(p,r[e].deltaExpression===g,r[e].deltaExpression===d,w,r[e].isBackground,this._getFormatString(r[e].formatproperties.FormatType,r[e].formatproperties.DecimalPoints),r[e].formatproperties.Culture,r[e].formatproperties.Unit),t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(r[e].formatproperties.DecimalSeparator)||t.isNullOrUndefined(s.value)||(s.value=s.value.replaceAll(r[e].formatproperties.DecimalSeparator.CurrentValue,r[e].formatproperties.DecimalSeparator.AliasValue),s.value=s.value.replaceAll(r[e].formatproperties.GroupSeparator.CurrentValue,r[e].formatproperties.GroupSeparator.AliasValue)),v=y!==c?parseFloat(p/y*ct):ct,v=Math.round(v),v=parseFloat(v)<c?parseFloat(v)*b:v,ht="",t.isNullOrUndefined(p)||(ht=s.value+"("+v+"%)"),h=r[e].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+s.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+s.css),h.append(n("<div>").addClass("img"),n("<div>").html(ht).addClass("value")),f.model.columns[o].textAlign!=="Center"?n(h).css("float",f.model.columns[o].textAlign):(n(h).css("display","flex"),n(h).css("Justify-content","center")),n(f.row).children().eq(o).html(h),r[e].isBackground&&!t.isNullOrUndefined(p)&&(p>c?n(f.row).children().eq(o).html(h.value).css("cssText",w?"background-color :#34B67A !important;":" background-color :#E57368 !important;"):p===c?n(f.row).children().eq(o).html(h.value).css("cssText","background-color :#FBCB43 !important;"):n(f.row).children().eq(o).html(h.value).css("cssText",w?"background-color :#E57368 !important;":"background-color :#34B67A !important;")))}},_applyGridFormatting:function(i,r,u,f,e,o){var h=0,v=-1,w=2,c=null,l=null,y=null,s=o.column.field.toUpperCase(),a,p;if(f[s]){if(c=f[s],isNaN(parseFloat(o.text)))return;l=n(o.cell).parents("tbody").children().index(n(o.cell).parent());y=n('<div id="'+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+'" style="height:15px;width:auto;" data-value="'+parseFloat(o.text)+'">');n(o.cell).html("").append(y);parseFloat(o.text)>=h?(y.ejDashboardProgressBar({minvalue:c.Min>h?h:c.Min,maxValue:parseFloat(o.text)===h&&c.Min<h?v*c.Min:c.Max,value:parseFloat(o.text).toFixed(w)}),t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#00A551"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")}):n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#00A551"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator)})):(y.ejDashboardProgressBar({minvalue:c.Max<h?v*c.Max:h,maxValue:v*c.Min,value:v*parseFloat(o.text).toFixed(w),enableRTL:!0}),t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#E04946"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")}):n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:"#E04946"}).attr({"data-value":this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator)}));return}if(e[s]){e[s].type==="Percent"?n(o.cell).html(this._applyPercentage(e[s].format,e[s].culture,e[s].unit,o.text)):t.isNullOrUndefined(e[s].decimalSeparator)||t.isNullOrUndefined(e[s].groupSeparator)?n(o.cell).html(this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,".",",")):n(o.cell).html(this._applyStringFormattingForGrid(e[s].format,e[s].culture,e[s].unit,e[s].negativeValueFormat,e[s].prefix,e[s].suffix,o.text,e[s].decimalSeparator,e[s].groupSeparator));return}if(u[s]){if(u[s].isBar){if(c=u[s],isNaN(parseFloat(o.text)))return;l=n(o.cell).parents("tbody").children().index(n(o.cell).parent());y=n('<div id="'+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+'" style="height:15px;width:auto;" data-value="'+parseFloat(o.text)+'">');n(o.cell).html("").append(y);parseFloat(o.text)>=h?(y.ejDashboardProgressBar({minvalue:c.Min>h?h:c.Min,maxValue:parseFloat(o.text)===h&&c.Min<h?v*c.Min:c.Max,value:parseFloat(o.text).toFixed(w)}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:u[o.column.field].indication===h?"#00A551":"#E04946"}).attr({"data-value":o.text})):(y.ejDashboardProgressBar({minvalue:c.Max<h?v*c.Max:h,maxValue:v*c.Min,value:v*parseFloat(o.text).toFixed(w),enableRTL:!0}),n(o.cell).find("#"+this._id+"_"+i+"_"+o.column.field+"_gridbar_"+l+" .e-progress").css({background:u[o.column.field].indication===h?"#E04946":"#00A551"}).attr({"data-value":o.text}));return}u[s].deltaExpression===h&&(a=this._calculateGridDeltaColumnValues(o.text,!1,!1,u[s].indication===h,u[s].isBackground,this._getFormatString(u[s].formatproperties.FormatType,u[s].formatproperties.DecimalPoints),u[s].formatproperties.Culture,u[s].formatproperties.Unit),t.isNullOrUndefined(u[s].formatproperties.DecimalSeparator)||t.isNullOrUndefined(u[s].formatproperties.GroupSeparator)||t.isNullOrUndefined(a.value)||(a.value=a.value.replaceAll(u[s].formatproperties.DecimalSeparator.CurrentValue,u[s].formatproperties.DecimalSeparator.AliasValue),a.value=a.value.replaceAll(u[s].formatproperties.GroupSeparator.CurrentValue,u[s].formatproperties.GroupSeparator.AliasValue)),p=u[s].isBackground?n("<div>").addClass("e-grid-delta-background e-grid-delta-background-"+a.css):n("<div>").addClass("e-grid-delta e-grid-delta-"+a.css),p.append(n("<div>").addClass("img"),n("<div>").html(a.value).addClass("value")),o.column.textAlign!=="Center"?n(p).css("float",o.column.textAlign):(n(p).css("display","flex"),n(p).css("Justify-content","center")),n(o.cell).html(p),u[s].isBackground&&(isNaN(parseFloat(o.text))?n(o.cell).css("cssText","background-color :#FFFFFF !important"):parseFloat(o.text)>h?n(o.cell).css("cssText",u[s].indication===h?"background-color :#34B67A !important":"background-color :#E57368 !important"):parseFloat(o.text)===h?n(o.cell).css("cssText","background-color :#FBCB43 !important"):n(o.cell).css("cssText",u[s].indication===h?"background-color :#E57368 !important":"background-color :#34B67A !important")))}},_CreateColumns:function(n,i,r,u,f,e,o,s){var h,p,l,k,v,d,a,y;this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(f=!0);var w=100,c=[],b=0,g=n.length;for(h=0;h<g;h++){if(p=!1,l=0,!t.isNullOrUndefined(r))for(k=r.length,l=0;l<k;l++)if(r[l].toLowerCase()===n[h].ColumnName.replace(/\s/g,"").toLowerCase()){p=!0;break}if(v=!1,!t.isNullOrUndefined(e))for(d=e.length,l=0;l<d;l++)if(e[l].toLowerCase()===n[h].Field.toLowerCase()){v=!0;break}if(n[h].IsLinkTemplate?(a=n[h].ColumnUrlLink,y=a.match(/~currentdomain~ *?/gi),y!==null&&y.length!==t.DashboardConstants.Zero&&(a=a.replace(y[0],encodeURI(location.protocol+"//"+location.host))),this._CreateLinkTemplate("LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),n[h].Field,n[h].IsDate,n[h].Format,n[h].IsColumnTypeUrl,a),n[h].Format&&n[h].IsDate&&!n[h].IsTime?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,allowSorting:!0,isFilter:n[h].IsFilterColumn,template:!0,format:"{0:"+n[h].Format+"}",type:"DateTime",templateID:"#LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,allowSorting:!0,isFilter:n[h].IsFilterColumn,template:!0,templateID:"#LinkTemplate"+this._id+u+n[h].Field.toLowerCase(),tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip})):p?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,allowSorting:!1,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):i[n[h].ColumnName.toUpperCase()]?c.push({field:n[h].Field.toLowerCase(),headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,type:"number",isFilter:n[h].IsFilterColumn}):n[h].Format&&n[h].IsDate&&!n[h].IsTime?n[h].IsCustomFormat?c.push({field:n[h].Field,foreignKeyField:n[h].Field,foreignKeyValue:n[h].Field+"_DISPLAYVALUE",headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,dataSource:t.parseJSON(s),format:"{0:"+n[h].Format+"}",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,format:"{0:"+n[h].Format+"}",type:"DateTime",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):n[h].IsDate&&n[h].IsTime?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,template:"{{:"+n[h].Field+".Hours}} : {{:"+n[h].Field+".Minutes}} : {{:"+n[h].Field+".Seconds}}",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):v?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,width:n[h].Width,isFilter:n[h].IsFilterColumn}):n[h].IsBooleanColumn?c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,type:"string",tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):n[h].IsCustomFormat?c.push({field:n[h].Field,headerText:n[h].ColumnName,foreignKeyField:n[h].Field,foreignKeyValue:n[h].Field+"_DISPLAYVALUE",dataSource:t.parseJSON(s),textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}):c.push({field:n[h].Field,headerText:n[h].ColumnName,textAlign:n[h].TextAlign,headerTextAlign:n[h].HeaderTextAlign,isFilter:n[h].IsFilterColumn,tooltip:f?null:"#colTip",clipMode:f?t.Grid.ClipMode.Clip:t.Grid.ClipMode.EllipsisWithTooltip}),f&&!v||this.model._dashboardData.isExportImage||(c[h].width=n[h].Width>w?n[h].Width:w),o&&(c[h].filterBarTemplate={create:this.createFilterBar,write:this.writeFilterBar,read:this.readFilterBar}),b+=1,b===n.length)break}return c},_createSummaryRows:function(n,i,r,u){var f=0,e=[],o=[];if(i){for(f=0;f<n.length;f++)this._createSummaryTemplate(n[f].UniqueColumnName,r,u),o.push({summaryType:t.Grid.SummaryType.Custom,displayColumn:n[f].UniqueColumnName.toUpperCase(),dataMember:n[f].UniqueColumnName.toUpperCase(),template:"#summaryrowtemplate_"+r.toLowerCase()+"_"+n[f].UniqueColumnName.toLowerCase()});e.push({summaryColumns:o})}return e},createFilterBar:function(){return"<input type='search'>"},writeFilterBar:function(n){n.element.after('<span class="e-cancel e-icon e-hide"><\/span>');this._off(this.element,"keyup",n.element)._on(n.element,"keyup",t.proxy(n.column.filterBarTemplate.read,this,n))},readFilterBar:function(n){var t=this,u=-1,f=2,i=1,r=0;this.requestTimer!==null&&clearTimeout(this.requestTimer);this.requestTimer=setTimeout(function(){var e=n.element.val(),o="startswith";e===""?t._isClearSearchFilter=!0:t._hasSearchFilter=!0;e.indexOf("*")!==u&&(e.match(/[*]/g).length===f?(o="contains",e=e.replace(/[*]/g,"")):e.lastIndexOf("*")===e.length-i?(o="startswith",e=e.replace(/[*]/g,"")):(o="endswith",e=e.replace(/[*]/g,"")));e.length>r&&e[0]==='"'&&e[e.length-i]==='"'&&(o="equal",e=e.replace(/["]/g,""));t.filterColumn(n.column.field,o,e,"and",!1)},n===null?r:1500)},_CreateLinkTemplate:function(n,t,i,r,u,f){var e=null;e=i?u?'<script type="text/x-jsrender" id='+n+"><a data-url ='"+f+"' class='e-gridhyperlink'>{{:~_dateFormat("+t+",'"+r+"')}}<\/a><\/script>":'<script type="text/x-jsrender" id='+n+">{{if "+t+" == null}}{{:"+t+"}}{{else}}<a class='e-gridhyperlink'>{{:~_dateFormat("+t+",'"+r+"')}}<\/a>{{/if}}<\/script>":u?'<script type="text/x-jsrender" id='+n+"> <a data-url ='"+f+"' class='e-gridhyperlink'>{{:"+t+"}}<\/a><\/script>":'<script type="text/x-jsrender" id='+n+">{{if "+t+" == '(Null)' || field == '(Blanks)'}} {{:"+t+"}} {{else}} <a class='e-gridhyperlink'>{{:"+t+"}}<\/a>{{/if}}<\/script>";this.currentTabContentElement.append(e.replace(/'/g,'"'))},_createSummaryTemplate:function(n,t,i){var r='<script type="text/x-jsrender" id=summaryrowtemplate_'+t.toLowerCase()+"_"+n.toLowerCase()+"> {{:~_renderTemplate('"+n+"','"+this.model.dashboardCulture+"','"+t+"','"+i+"')}} <\/script>";this.currentTabContentElement.append(r)},_gridLinking:function(i){var u=i.currentTarget.dataset.url,e=n("#"+n(i.currentTarget).parents(".e-dbrd-control").attr("id")).data("ejDashboardGrid"),f={widgetInstance:e,viewerInstance:this},r={url:u,target:t.dashboardViewer.navigationTargets.Blank,handled:!1,source:f};if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:r}),this._trigger("beforeNavigate",{data:r}),!r.handled){switch(r.target){case t.dashboardViewer.navigationTargets.Self:case t.dashboardViewer.navigationTargets.Top:case t.dashboardViewer.navigationTargets.Blank:case t.dashboardViewer.navigationTargets.Parent:break;default:if(this._isTargetFrame(r))return}r.url===""||t.isNullOrUndefined(r.url)||t.DashboardConstants.Window.open(r.url,r.target);r={url:u,target:t.dashboardViewer.navigationTargets.Blank,source:f};this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:r});this._trigger("afterNavigate",{data:r})}},_calculateGridDeltaColumnValues:function(n,t,i,r,u,f,e,o){var c=0,l=1,h=100,s=parseFloat(n);return(s.toString()==="Infinity"&&(s=100),isNaN(s))?{value:n,css:""}:u===!0?(t?s/h>=l:s>c)?{value:(t?"":"+")+this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"up"}:(t?s/h===c:s===c)?{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"warning"}:{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"down"}:(t?s/h>=l:s>c)?{value:(t?"":"+")+this._applyStringFormatting(f,e,o,t||i?s/h:s),css:r?"greenUp":"redUp"}:(t?s/h===c:s===c)?{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:"warning"}:{value:this._applyStringFormatting(f,e,o,t||i?s/h:s),css:r?"redDown":"greenDown"}},_calculateGridDeltaActualValue:function(n,t,i,r,u,f,e,o,s){var a=0,c=100,l=n-t,h=Math.abs(parseFloat(i));return(l.toString()==="Infinity"&&(l=100),isNaN(h))?{value:n,css:""}:f===!0?l>a?{value:this._applyStringFormatting(e,o,s,r?h/c:n),css:"up"}:l===a?{value:this._applyStringFormatting(e,o,s,r?h/c:n),css:"warning"}:{value:this._applyStringFormatting(e,o,s,r?h/c:n),css:"down"}:l>a?{value:this._applyStringFormatting(e,o,s,r?h/c:n),css:u?"greenUp":"redUp"}:l===a?{value:this._applyStringFormatting(e,o,s,r?h/c:n),css:"warning"}:{value:this._applyStringFormatting(e,o,s,r?h/c:n),css:u?"redDown":"greenDown"}},_getFormatString:function(n,t){switch(n){case 0:case 1:return"N"+t;case 2:return"C"+t;case 3:return"P"+t}return"N"+t},_showGridBarToolTip:function(t){var r=0,i=null,u;n("#"+this._id+"_Grid_ToolTip").length===r?(i=n("<div>").attr({id:this._id+"_Grid_ToolTip","class":"e-grid-bar-tooltip"}),this.currentTabContentElement.append(i)):(i=n("#"+this._id).find("#"+this._id+"_Grid_ToolTip"),i.css({display:"block"}));u=this._applyStringFormatting("N2","en-us",r,n(t.currentTarget).find("div").attr("data-value"));i.html(u).css({top:t.clientY-20,left:t.clientX,position:"fixed","z-index":"10000"})},_hideGridBarToolTip:function(){n("#"+this._id+"_Grid_ToolTip").length!==0&&n("#"+this._id+"_Grid_ToolTip").css({display:"none"})},_getDateFormatValue:function(n,t){switch(t){case"MMM":return this.month[n.getMonth()];case"MMM yyyy":return this.month[n.getMonth()]+" "+n.getFullYear();case"dd/MM/yyyy":return this._getDate(n)+"/"+this._getMonth(n)+"/"+n.getFullYear();case"MM/dd/yyyy":return this._getMonth(n)+"/"+this._getDate(n)+"/"+n.getFullYear();case"dddd":return this.weekDays[n.getDay()];case"dd/MM/yyyy HH":return this._getDate(n)+"/"+this._getMonth(n)+"/"+n.getFullYear()+" "+(n.getHours()<9?"0"+n.getHours():n.getHours().toString());case"yy":return n.getYear();case"yyyy":return n.getFullYear();default:return n.toISOString()}},_getMonth:function(n){var t=1;return n.getMonth()<10?"0"+n.getMonth()+t:n.getMonth()+t},_getDate:function(n){return n.getDate()<10?"0"+n.getDate():n.getDate()},_loadGridSlaves:function(i,r,u,f,e,o,s){var st,wt,bt,kt,dt,ct,gt,a,lt,w,at,d,ni,ti,vt;if(this.contextMenu){this.contextMenu=!1;return}var b=0,ft=-1,yt=1,pt=!t.isNullOrUndefined(u),et=[],h=0,p=0,nt=0,l=0,k=null;if((this.controlRelations.length!==b||pt||this._checkHasViewData(i))&&this.flag){var c=[],g=null,rt=null,ut=[],v=[],tt=[],y=null,it=null,ot=null;if(it=t.isNullOrUndefined(s)||s.type!=="rightClick"?t.dashboardViewer.ActionType.Click:t.dashboardViewer.ActionType.ContextMenu,!t.isNullOrUndefined(s)){if(s.model.selectionType===t.Grid.SelectionType.Multiple)for(st=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejDashboardGrid").selectedRowsIndexes,wt=st.length,p=0;p<wt;p++){for(c=[],bt=s.model.columns.length,h=0;h<bt;h++)v.push(s.model.dataSource[st[p]][s.model.columns[h].field]),c.push({Column:s.model.columns[h].field,Value:v});if(r!==null)for(kt=r.length,h=0;h<kt;h++)v.push(s.model.dataSource[s.rowIndex][r[h].toLowerCase()]),c.push({Column:r[h].toLowerCase(),Value:v});ut.push({Items:c})}else{for(h in s.model.columns)if((!t.isNullOrUndefined(u)||s.model.columns[h].type!=="number")&&{}.hasOwnProperty.call(s.model.columns,h))if(v=[],tt=[],t.isNullOrUndefined(u)||u.LinkType!==b&&u.LinkType!==2||s===null||t.isNullOrUndefined(s.target)||!s.target.hasClass("e-gridhyperlink")){var ii=s.model.columns[h].type==="DateTime"&&!t.isNullOrUndefined(s.model.columns[h].format)&&s.model.columns[h].format==="{0:d/MM/yyyy h:mm:ss tt}"||s.model.columns[h].originalType==="datetime",ht=s.data[s.model.columns[h].field],ri=ii||!t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)?ht.toLocaleDateString()+" "+ht.toLocaleTimeString():ht;v.push(ri);t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)||(l=s.rowIndex>s.model.pageSettings.pageSize?s.rowIndex%s.model.pageSettings.pageSize:s.rowIndex,tt.push(s.model.columns[h].dataSource[l][s.model.columns[h].foreignKeyValue]));c.push({Column:s.model.columns[h].field,Value:v,DisplayValue:tt,IsDateTime:s.model.columns[h].type==="DateTime"||s.model.columns[h].originalType==="datetime",Format:s.model.columns[h].format})}else s.target.text()===s.data[s.model.columns[h].field]&&(v.push(s.data[s.model.columns[h].field]),t.isNullOrUndefined(s.model.columns[h].foreignKeyValue)||(l=s.rowIndex>s.model.pageSettings.pageSize?s.rowIndex%s.model.pageSettings.pageSize:s.rowIndex,tt.push(s.model.columns[h].dataSource[l][s.model.columns[h].foreignKeyValue])),c.push({Column:s.model.columns[h].field,Value:v,DisplayValue:tt,IsDateTime:s.model.columns[h].type==="DateTime"||s.model.columns[h].originalType==="date",Format:s.model.columns[h].format}));if(r!==null)for(dt=r.length,nt=0;nt<dt;nt++)v=[],v.push(s.data[r[nt]]),c.push({Column:r[nt].toLowerCase(),Value:v});y=this.dashboardControls.getControlByReport(i);e||s.model.columns[h].type==="number"||(ct=[],ct.push({ColumnValues:c}),y.SelectedItems.Included=ct);ut.push({Items:c})}ot=n("#"+this._id+t.DashboardConstants.Widget+i).data("ejDashboardGrid")}if(s!==null&&c.length>b)for(y=this.dashboardControls.getControlByReport(i),gt=c.length,a=0;a<gt;a++)if(lt=o.length!==b?o:[],l=this._checkFilterInfo(c[a].Column,y.SelectedFilterInfo),t.isNullOrUndefined(l)||l===ft){if(w=new selectedFilterInfo,w.UniqueColumnName=c[a].Column,lt.indexOf(c[a].Column.toUpperCase())!==ft){if(c[a].IsDateTime)for(p=0;p<c[a].Value.length;p++);w.DateFilterInfo.DateFilterList=c[a].Value;w.DateFilterInfo.DisplayDateFilterList=c[a].DisplayValue;w.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude}else w.DimensionFilterInfo.Text=c[a].Value,w.DimensionFilterInfo.Conditions="Include";w.ReportName=y.reportName;et.push(w)}else{if(lt.indexOf(c[a].Column.toUpperCase())!==ft){if(c[a].IsDateTime)for(p=0;p<c[a].Value.length;p++);y.SelectedFilterInfo[l].DateFilterInfo.DateFilterList=c[a].Value;y.SelectedFilterInfo[l].DateFilterInfo.DisplayDateFilterList=c[a].DisplayValue}else y.SelectedFilterInfo[l].DimensionFilterInfo!==null&&(y.SelectedFilterInfo[l].DimensionFilterInfo.Text=c[a].Value);y.SelectedFilterInfo[l].ReportName=y.reportName}if(e){t.isNullOrUndefined(u)||(k={id:i,actionType:it,dataWrapper:ut,widgetInstance:ot,masterData:rt,slaves:g,callbackfn:null,drillDownData:null,selectionEvent:s,filterInfo:et,isMaximizedView:e},this._widgetActionHandler(k));return}for(h=0;h<this.controlRelations.length;h++)if(this.controlRelations[h].Master===i){if(g=this.controlRelations[h].Slaves,g.length===b&&!pt){rt=this._checkFilterOverviewData(i);this._addFilterDataToTitle(rt);return}if(at=0,d=this._checkMasterData(i),l=-1,d!==null)for(l=0;l<this.masterData[d].Value.length;l++)this.masterData[d].Value.length===c.length&&this.masterData[d].Value[l].Column===c[l].Column&&this.masterData[d].Value[l].value===c[l].value&&(at+=yt);if(at===l)return;if(d!==null&&this.masterData.splice(d,yt),s===null){this.target=[];ni={master:i,masterData:this.masterData,slaves:g,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};this._makeSlaveDataRequest(ni);break}}ti=n("table .ehover");(it===t.dashboardViewer.ActionType.ContextMenu||ti.length>b)&&this._clearSelectionForWidget(s,i);it===t.dashboardViewer.ActionType.ContextMenu&&this._setHoverSelectionForWidget(s,i);s!==null&&(k={id:i,actionType:it,dataWrapper:ut,widgetInstance:ot,masterData:rt,slaves:g,callbackfn:null,drillDownData:null,selectionEvent:s,filterInfo:et,isMaximizedView:e},this._widgetActionHandler(k));!t.isNullOrUndefined(s)&&!t.isNullOrUndefined(k)&&!t.isNullOrUndefined(k.actionData)&&k.actionData[b]!=="Linking"&&k.actionType!=="ContextMenu"&&g.length>b&&(vt=this._id+t.DashboardConstants.Widget+i,n("#"+vt+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+vt).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}}}}(jQuery,SyncfusionDashboard);$.views.helpers({_dateFormat:function(n,t){return t!==""?ejDashboard.format(n,t):n},_renderTemplate:function(n,t,i,r){for(var u=0,o=0,c=null,f=null,l=null,s=null,e=null,a=null,h,v,u=0;u<window.summaryInfo.length;u++)if(window.summaryInfo[u].id===i){c=JSON.parse(window.summaryInfo[u].data);f=window.summaryInfo[u].summaryRows;l=window.summaryInfo[u].formattedColumns;break}if(c!==null&&f!==null&&l!==null){for(u=0;u<f.length;u++)if(f[u].UniqueColumnName===n)for(o=0;o<f[u].SummaryRowInfos.length;o++)e=l[f[u].SummaryRowInfos[o].UniqueColumnName.toUpperCase()],h="",e&&(a=$.views.helpers.MapToolTipFormat(e.type,e.format,e.decimalSeparator.CurrentValue,e.decimalSeparator.AliasValue,e.groupSeparator.CurrentValue,e.groupSeparator.AliasValue,e.culture,e.unit,e.negativeFormat,e.prefix,e.suffix,c[0][f[u].SummaryRowInfos[o].UniqueColumnName],t)),v=f[u].SummaryRowInfos[o].ShowValue?f[u].SummaryRowInfos[o].Title+" : "+a:f[u].SummaryRowInfos[o].Title,h=f[u].SummaryRowInfos[o].ShowValue?"<span class='e-rowtitle' style='height:24px;'>"+f[u].SummaryRowInfos[o].Title+"<\/span><span class='e-rowvalue' style='height:24px;color:#"+f[u].SummaryRowInfos[o].Color.substring(3)+"'>"+a+"<\/span><\/div>":"<span class='e-rowtitle' style='height:24px;'>"+f[u].SummaryRowInfos[o].Title+"<\/span><\/div>",s===null?s="<div class='e-row' style='height:24px' title='"+v+"'>"+h:s+="<div class='e-row' style='height:24px' title='"+v+"'>"+h;return"<div class='e-column' style='height:"+25*r+"px'>"+s+"<\/div>"}}}),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.gauges={_renderGauges:function(r,u){var o=r.configInfo,wi=this.dashboardControls.getControlByReport(o.Id),y=0,ut=-1,l=1,gt=5,vt=null,s=null,b=null,a,yt,ni,pt,ti,et,d,nt,wt,ii,st,e,c,si,hi,ci,li,ai,ht,vi,yi,at,pi;t.isNullOrUndefined(r.data)||t.isNullOrUndefined(r.data[0].pagedata)||!this._dashboardData().isExportImage||(vt=r.data[0],r.currentPage=l,vt.scrollTop=0);var k=this._dashboardData().isExportImage?vt:r.getCurrentPageData(),ft=n("#"+this._id+"_cell_"+o.Row+"_"+o.Column),f=ft.find(".e-dbrd-control");if(k.isError){f.attr({"data-controlId":o.Id});f.attr({id:this._id+t.DashboardConstants.Widget+o.Id});this._showControlError(k.pagedata,n("#"+this._id+"_cell_"+o.Row+"_"+o.Column).find(".e-dbrd-control"),o);return}if(this._hideControlError(n("#"+this._id+"_cell_"+o.Row+"_"+o.Column).find(".e-dbrd-control")),t.isNullOrUndefined(u)||t.isNullOrUndefined(u.gaugeDiv)?(ft.attr({"data-controltype":"CircularGauge"}),f.attr({"data-controlId":o.Id,"data-controlLinkData":JSON.stringify(o.IsLinked?o.ControlLinkData:""),"data-isMaster":o.IsMasterFilter}).addClass("dashboardGaugeControl"),f.attr({id:this._id+t.DashboardConstants.Widget+o.Id})):f=u.gaugeDiv,this._applyOrRemoveNoDataAvailable(k.pagedata.length,f)){if(a=f.attr("id"),r.loadedPages.length===y||u&&u.isMaximize)r.loadedPages.indexOf(r.currentPage)===ut&&r.loadedPages.push(r.currentPage),a=f.attr("id"),t.isNullOrUndefined(u)?(f.attr({id:this._id+t.DashboardConstants.Widget+o.Id}).addClass("dashboardGaugeControl"),a=f.attr("id"),ft.find(".e-remove-control-filter").attr("id",a+"_removeControlFilter"),r.SelectedItems.Included&&r.SelectedItems.Included.length!==y&&ft.find(".e-remove-control-filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable"),ft.find(".e-dbrd-export").attr({value:o.Id})):f.html(""),yt=0,f.children().length>y&&(f.data("ejDashboardScroller")&&(yt=f.data("ejDashboardScroller").model.scrollTop),t.widget.destroyAll(f.find(".e-js").off()),f.children().remove()),ni=24,pt=f.parent(".e-dbrd-control-container").height(),f.parent(".e-dbrd-control-container").length===t.DashboardConstants.Zero&&(pt=f.height()),ti=f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:f.siblings(".e-control-subtitleHeading").height(),et=pt-f.siblings(".e-control-heading").children().height()-(ti+(f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(f.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").css("margin-top"))))-gt,f.css({height:et+"px"}),d=this._calculateGaugeSize(k.pagedata.length,f.height(),f.width()-ni,r.currentPage,f,r.scrollSetting.controlPerPage),nt=d.table,b=n("<div>").css({width:"98%"}),f.append(b.append(nt)),nt.css({position:"relative"}),r.scrollSetting.rowPerPage=d.RowCount,r.scrollSetting.colPerPage=d.ColumnCount,r.scrollSetting.heightOfColumn=d.Height,r.scrollSetting.widthOfColumn=d.Width,r.currentPage===l?(b.css({position:"absolute"}),r.heightPerPage=nt.height()):r.currentPage>l&&(nt.prepend(n("<tr>").css({height:(r.currentPage-l)*r.heightPerPage})),nt.append(n("<tr>").css({height:(r.totalPages-r.currentPage)*r.heightPerPage})),r.scrollSetting.scrollTop!==y||f.hasClass("e-dbrd-MaximizedControl")||(r.scrollSetting.scrollTop=(r.currentPage-l)*r.heightPerPage)),wt=!1,f.data("ejDashboardScroller")&&(f.ejDashboardScroller("destroy"),wt=!0),wt&&f.css({height:et+"px"}),d.RowCount>l?(f.css("transform","scale("+this.deScalingFactor+")"),f.ejDashboardScroller({height:et,scrollerSize:13,scrollTop:yt}),f.css("transform","scale("+t.DashboardConstants.One+")")):(b.css({width:"98%"}),f.css({display:"table"})),r.scrollSetting.visibleHeight=et;else{var bt=0,kt=0,bi=r.totalPages;for(s=0;s<bi;s++)r.loadedPages.indexOf(r.currentPage-s-l)!==ut&&bt===y&&(bt=r.currentPage-s-l),r.loadedPages.indexOf(r.currentPage+s+l)!==ut&&kt===y&&(kt=r.currentPage+s+l);r.loadedPages.indexOf(r.currentPage)===ut&&(r.loadedPages.push(r.currentPage),ii={controlId:a,previousPage:bt,nextPage:kt,data:r,heightofColumn:r.scrollSetting.heightOfColumn},this._renderRowsOndemand(ii))}var ri=o.Properties.SelectedValues,ui=[],ki=ri.length;for(st=0;st<ki;st++)ui.push(ri[st].Value);var di=r.getPageDataBypage(r.currentPage),fi=di.pagedata,ei=r.scrollSetting.heightOfColumn,g=[],oi=.5,er=r.scrollSetting.widthOfColumn,gi=r.scrollSetting.controlPerPage,p=0;for(s=0;s<gi;s++)if(fi[s]){if(e=JSON.parse(fi[s]),c=n("<div>").attr({id:a+"_child_"+((r.currentPage-l)*r.scrollSetting.controlPerPage+s)}).addClass("e-multiple-series").css({overflow:"hidden","vertical-align":"middle"}),o.seriesName.toLowerCase()!==""){if(ui.indexOf(e.Title)!==ut&&c.addClass("e-circularGauge-Selected"),c.removeClass("e-childGauge").addClass("e-childGauge-Series pull-left e-multiple-series"),(o.IsMasterFilter||o.IsLinked||this.model.enableViewData)&&c.addClass("e-childGauge-Series-master"),r.SelectedFilterInfo&&r.SelectedFilterInfo[0]&&r.SelectedFilterInfo[0].DimensionFilterInfo&&r.SelectedFilterInfo[0].DimensionFilterInfo.Text.length!==y){for(si=r.SelectedFilterInfo[0].DimensionFilterInfo.Text.length,p=0;p<si;p++)r.SelectedFilterInfo[0].DimensionFilterInfo.Text[p]===e.ActualTitle&&g.push(c.attr("id"));n("#"+a+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}if(r.SelectedFilterInfo&&r.SelectedFilterInfo[0]&&r.SelectedFilterInfo[0].DateFilterInfo&&r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length!==y){for(hi=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length,p=0;p<hi;p++)r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[p]===e.ActualTitle&&g.push(c.attr("id"));n("#"+a+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}}else f.addClass("e-childGauge"),ei>f.height()&&(ei=f.height()-oi),b||(b=f.children().first()),(o.IsMasterFilter||o.IsLinked||this.model.enableViewData)&&f.addClass("e-childGauge-Series-master"),b.css({display:"table-cell","vertical-align":"middle"}),f.css({display:"table","vertical-align":"middle"});k.pagedata.length===l&&(c=n("<div>").attr({id:a+"_child_"+((r.currentPage-l)*r.scrollSetting.controlPerPage+s)}));n("#"+a+"_child_column_"+((r.currentPage-l)*r.scrollSetting.controlPerPage+s)).html("");n("#"+a+"_child_column_"+((r.currentPage-l)*r.scrollSetting.controlPerPage+s)).append(c);ci=this;li=4;!t.isNullOrUndefined(e.customHeader)&&e.customHeader.visible&&(e.customHeader.text=ci._updateTextWithParameterColumns(e.customHeader.text,o.ParameterColumns));c.attr({"data-stuff":'["'+o.Properties.ValueExpression+'","'+o.Properties.GoalExpression+'"]',"data-value":e.ActualTitle}).prop({Value:e.Title});k.pagedata.length>l?c.css({height:r.scrollSetting.heightOfColumn,width:r.scrollSetting.widthOfColumn}):c.css({height:f.height()-oi-gt,width:f.width()-li});ai=5;this._dashboardData().loadFromData&&this._dashboardData().isExportImage&&this._dashboardData().isControl&&r.length>l&&(c.css({height:f.height()/null-ai}),f.css({"overflow-y":"visible"}));o.CustomLabelText=t.isNullOrUndefined(o.CustomLabelText)?"":o.CustomLabelText;ht=(e.ActualValuename===""?e.TargetValueName:e.ActualValuename)+": "+e.ValueLabel+" "+o.CustomLabelText;e.HasTarget&&(ht=ht+"<div style = 'margin-top:5px;'>"+e.TargetValueName+" : "+e.GoalLabelText+"<div style = 'margin-top:5px;'>Variation: "+e.Variance+"<div style = 'margin-top: 5px;'>Percent Of Target: "+e.Percent+"%");c.addClass("e-dbrd-gaugeControl").prop({toolTipText:ht});e.Value<e.MinimumValue&&(e.Value=e.MinimumValue);var ct=1e3,nr=e.Value,tt=e.MaximumValue,it=e.MinimumValue;tt=Math.round(tt*ct)/ct;it=Math.round(it*ct)/ct;var tr=wi.customTheme.rangeColor2,ir=e.Goal,rr=e.UnitText,h=o.Properties;h=this._updateGaugeProperties(h);var dt=this._getGaugeAngle(h,c),v=this._getRadius(c.width(),c.height()),ur=this._getDirectionLabelFontSize(h,v,e),lt=this._getRangeWidth(v,h),w=this._getScaleOffet(lt,h),fr=this._setFontSizeForAnnotation(o,e,t.isNullOrUndefined(w)?t.DashboardConstants.Zero:w.ticksOffset,t.isNullOrUndefined(w)?t.DashboardConstants.Zero:w.labelOffset,v,this._getScaleWidthIfInside(h,v,e)),ot=!t.isNullOrUndefined(e.ActualValuename),rt=this;ejdashboard.circulargauge.CircularGauge.Inject(ejdashboard.circulargauge.Annotations);vi=new ejdashboard.circulargauge.CircularGauge({width:"100%",height:"100%",title:!t.isNullOrUndefined(o.ColumnInfo.seriesColumn)&&o.ColumnInfo.seriesColumn!==""?e.Title:"",titleStyle:{fontWeight:"Bold",fontFamily:"Roboto"},moveToCenter:h.GaugeType!==t.DashboardConstants.Gauge.TypeHorseShoe,loaded:function(n){var i=t.isNullOrUndefined(h.ShowValueLabel)?"block":h.ShowValueLabel?"block":"none";rt._showValueLabel(n.gauge.element,i,ot,e.HasTarget,e.StatusColor,v);v!==n.gauge.axes[0].currentRadius||n.gauge.axes[0].ranges[0].startWidth!==lt?(v=n.gauge.axes[0].currentRadius,lt=n.gauge.axes[0].ranges[0].startWidth,rt._refreshRangeWidth(null,!1,n.gauge,v,h,c.width(),c.height(),it,tt,ot,e,o,s,r.data[0].pagedata),rt._setRadius(n.gauge,ot,e.HasTarget,h),n.gauge.refresh()):rt.hasGaugeCustomLabel&&(rt.hasGaugeCustomLabel=!1,rt._setRadius(n.gauge,ot,e.HasTarget,h),n.gauge.refresh());n.gauge.element.classList.remove("e-circulargauge")},axes:[{annotations:this._initializeAnnotation(c.attr("id"),h,e,ur,dt.endAngle,ot,e.HasTarget,fr),lineStyle:{width:0},startAngle:dt.startAngle,endAngle:dt.endAngle,radius:"100%",labelStyle:{font:{size:this._getScaleLabelFontSize(v,h)+"px"},offset:t.isNullOrUndefined(w)?t.DashboardConstants.Zero:w.labelOffset,format:"{value}"+rr,position:h.ScaleLabelPosition},majorTicks:{interval:h.ShowTicks?null:tt-it,width:h.ShowTicks?h.TicksWidth:t.DashboardConstants.Zero,height:h.ShowTicks?h.TicksHeight:t.DashboardConstants.Zero,offset:t.isNullOrUndefined(w)?t.DashboardConstants.Zero:w.ticksOffset,position:h.TicksPosition},minorTicks:{height:0,width:0},minimum:it,maximum:tt,ranges:this._initializeRange(it,tt,lt,h),pointers:this._createPointers(nr,ir,h,v,c.width(),c.height(),tr,e.HasTarget)}]});vi.appendTo(c[0]);n("#gauge-measuretext").length>t.DashboardConstants.Zero&&n("#gauge-measuretext").remove();this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({"overflow-y":"auto",height:"100%"}),f.css({"overflow-y":"auto","overflow-x":"hidden"}),f.parent().css({"overflow-y":"auto",height:"","overflow-x":"hidden"}),this.model.enableCustomTheming&&this._customTheme(["export"]))}if(r.currentPage===r.totalPages)for(yi=Math.ceil(r.totalCount/r.scrollSetting.colPerPage),s=yi;s<r.scrollSetting.rowPerPage*r.totalPages;s++)at=n("#"+a+"_child_row_"+s),t.isNullOrUndefined(at)||at.find(".e-widget").length!==y||at.remove();if(f.data("ejDashboardScroller")!==i&&(f.css("transform","scale("+this.deScalingFactor+")"),f.data("ejDashboardScroller").refresh(),f.css("transform","scale("+t.DashboardConstants.One+")")),this._AddCardSelection(g,f,k.pagedata.length,!0),!t.isNullOrUndefined(g))for(pi=g.length,s=0;s<pi;s++)n("#"+g[s]).hasClass("e-circularGauge-Selected")||n("#"+g[s]).addClass("e-circularGauge-Selected")}},_setGaugeConfigInfo:function(n){return n},_showGaugeToolTip:function(t){this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer);var i=this,u=0,r=1,f=60,e=18,o=20,s=5,h=1e3;this._gaugetoolTipTimer=setTimeout(function(){i._gaugeTooltipTarget=n(t.currentTarget);var c={},v=n(t.currentTarget).prop("toolTipText"),a={},y=null,l=v.split("<div style = 'margin-top: 5px;'>");l&&l.length===r?y=v:l&&l.length>r&&(y=l&&l[0].length>l[1].length?l[0]:l[1]);a=i._measureText(y,i._gaugeTooltipTarget.width(),"Normal 14 "+i._gaugeTooltipTarget.css("font-family"));i.element.find(n("#"+i._gaugeTooltipTarget.attr("id")+"_toolTip")).length===u?(c=n("<div>").attr({id:i._gaugeTooltipTarget.attr("id")+"_toolTip"}).addClass("e-gauge-tooltip"),i.element.append(c)):(c=i.element.find(n("#"+i._gaugeTooltipTarget.attr("id")+"_toolTip")),a=i._measureText(c,i._gaugeTooltipTarget.width(),"Normal  14  "+i._gaugeTooltipTarget.css("font-family")));c.html(v).css({top:t.clientY+a.height+c.height()+f>n(window).height()?t.clientY-a.height-c.height():t.clientY+e+"px",left:t.clientX+c.width()>i.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()?t.clientX-c.width()-o+"px":t.clientX-s+"px","z-index":h}).fadeIn()},300);t.stopPropagation();t.bubbles=!1},_hideGaugeToolTip:function(t){this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer);this._gaugeTooltipTarget=null;var i=n(t.currentTarget);n("#"+i.attr("id")+"_toolTip").fadeOut()},_calculateGaugeSize:function(t,i,r,u,f,e){var k=n("<table>").css({width:"100%","margin-left":"1px","margin-right":"1px"}),o=null,l=0,s=1,it=15,h=s,d=null,c,rt,a,tt,v,y,p,w,b;for(t===s&&k.css({"margin-left":"-3px"}),c={width:r,height:i},rt=250,o=Math.round(r/t),(o>15||o<3)&&(o=10);;){if(d=r/o-10,h=Math.ceil(t/o),o<=s){o=s;break}if(d<rt){o-=s;continue}break}c.width<=100&&(d=this._getValueInPixels(7,c.width),o=s);u===s&&t===e&&(h=Math.ceil(t/o));c.height<=15&&c.width>it||c.height<=35&&c.width>it;h<=l&&(h=s);o<=l&&(o=s);o>t&&(o=t);var ut=f.attr("id"),g=null,nt=null,ft=7;for(a=0;a<h;a++){for(tt=h*(u-s)+a,v=n("<tr>").attr({id:ut+"_child_row_"+tt}),y=0;y<o;y++)p=Math.max(250,(f.height()-h*ft)/h),w=(f.width()-o*ft)/o-5,o===l&&v===l&&(w=f.width(),p=f.height()),g=p>i?i-10:p,nt=w>r?r:w,b=n("<td>").attr({id:ut+"_child_column_"+(tt*o+y)}),b.width(nt),b.height(g),v.append(b);k.append(v)}return{ColumnCount:Math.round(o),RowCount:Math.round(h),Height:g,Width:nt,table:k}},_getValueInPixels:function(n,t){return t*n/100},_loadGaugeSlaves:function(r,u,f,e,o){var s=0,yt=1,c=null,nt=!1,p=null,a=null,tt=null,st=null,ut=n(r.target).parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlId"),b=null,y=null,h,w,at,vt,ft,v,et;if(t.isNullOrUndefined(r)||r.type!=="click"?t.isNullOrUndefined(r)||r.type!=="rangeRegionClick"&&r.type!=="rightClick"&&r.type!=="contextmenu"||(y=t.dashboardViewer.ActionType.ContextMenu):y=t.dashboardViewer.ActionType.Click,!t.isNullOrUndefined(r)&&t.isNullOrUndefined(e)&&(c=n(r.target),tt=c.parents(".e-dbrd-control-container").find(".dashboardGaugeControl").eq(s).attr("data-controlLinkData"),c.parents(".e-dbrd-control-container").find(".e-dbrd-MaximizedControl").length>s&&(tt=c.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlLinkData"),nt=!0),t.isNullOrUndefined(tt)||(e=n.parseJSON(tt)),o=c.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(s).attr("data-isMaster")==="true",e===""&&(e=i)),(this.controlRelations.length!==s||!t.isNullOrUndefined(e)||this._checkHasViewData(ut))&&this.flag){h=[];w=null;t.isNullOrUndefined(ut)||(u=ut);var it=[],rt=[],ht=[];t.isNullOrUndefined(r)||c.hasClass("e-remove-control-filter")?c.hasClass("e-remove-control-filter")&&c.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove():(c=n(n(r.currentTarget).find("svg")),h=c.parents(".e-dbrd-control").find(".e-circularGauge-Selected"),r.ctrlKey?c.parent().hasClass("e-circularGauge-Selected")?(y!==t.dashboardViewer.ActionType.ContextMenu&&(c.parent().removeClass("e-circularGauge-Selected"),c.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove()),h=c.parents(".e-dbrd-control").find(".e-circularGauge-Selected")):(h.length>s&&y===t.dashboardViewer.ActionType.ContextMenu&&h.removeClass("e-circularGauge-Selected"),c.parent().addClass("e-circularGauge-Selected"),h=c.parents(".e-dbrd-control").find(".e-circularGauge-Selected")):h.length>s?(h.removeClass("e-circularGauge-Selected"),y!==t.dashboardViewer.ActionType.ContextMenu&&c.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),(c.parent()[s].id!==h[s].id||y===t.dashboardViewer.ActionType.ContextMenu)&&c.parent().addClass("e-circularGauge-Selected"),h=c.parents(".e-dbrd-control").find(".e-circularGauge-Selected")):(c.parent().addClass("e-circularGauge-Selected"),h=c.parents(".e-dbrd-control").find(".e-circularGauge-Selected")),st=this.dashboardControls.getControlByReport(u),w=st.configInfo.ColumnInfo);var k=[],ct=[],lt=[];if(!t.isNullOrUndefined(h)&&h.length>s)for(at=h.length,a=0;a<at;a++)vt=ejdashboard.base.getComponent(h[s],"circulargauge"),ct.push(h.eq(a).attr("id")),t.isNullOrUndefined(w.seriesColumn)||(k.push(h.eq(a).attr("data-value")),lt.push(n(h[a]).prop("Value")),rt.push({Column:w.seriesColumn,Value:h.eq(a).attr("data-value")})),t.isNullOrUndefined(e)||(ft=this._getActualTargetLinkValue(vt,w,k,rt),k=ft.Value,rt=ft.Data);v=null;et=[];p=this.dashboardControls.getControlByReport(u);k.length>s&&(p.SelectedFilterInfo.length===s&&(v=new selectedFilterInfo),v=new selectedFilterInfo,t.isNullOrUndefined(p.configInfo.DateTimeColumns)||p.configInfo.DateTimeColumns!=="DateTime"?(v.DimensionFilterInfo.Text=k,v.DimensionFilterInfo.Conditions=4):(v.DateFilterInfo.DateFilterList=k,v.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude,v.DateFilterInfo.DisplayDateFilterList=lt),t.isNullOrUndefined(w.seriesColumn)||(v.Column=w.seriesColumn.toLowerCase(),v.UniqueColumnName=w.seriesColumn.toLowerCase()),v.ReportName=p.reportName,et.push(v));p.SelectedFilterInfo=[];t.isNullOrUndefined(e)&&(!o||nt)||y!==t.dashboardViewer.ActionType.ContextMenu&&this._AddCardSelection(ct,c.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(s),p.getCurrentPageData().pagedata.length,!0);var pt=p.getCurrentPageData().pagedata.length,d=null,g=[],ot=null,l=this;it.push({Items:k});ht.push({Items:rt});this.requestTimer!==null&&clearTimeout(this.requestTimer);y===t.dashboardViewer.ActionType.Click&&n(h[0]).attr("data-controlId","click-filter");this.requestTimer=setTimeout(function(){var f=null,i,o;for(!n("#"+l._id+t.DashboardConstants.Widget+u).hasClass("e-guage-Series")&&h.length>s&&(f=ejdashboard.base.getComponent(h[0],"circulargauge")),a=0;a<l.controlRelations.length;a++)if(l.controlRelations[a].Master===u){if(d=l._id+t.DashboardConstants.Widget+l.controlRelations[a].Master,g=l.controlRelations[a].Slaves,g.length===s&&t.isNullOrUndefined(e)){ot=l._checkFilterOverviewData(u);l._addFilterDataToTitle(ot);return}if(i=l._checkMasterData(u),i!==null&&l.masterData.splice(i,yt),r!==null&&it[s].Items.length>s&&l.masterData.push({Key:u,Value:it,isMultiSelect:!0}),h.length===s){l.target=[];o={master:u,masterData:l.masterData,slaves:g,canDrill:!1,showIndicator:!1,isAutoRefresh:null};l._makeSlaveDataRequest(o);break}}h.length>s&&(b={id:u,actionType:y,dataWrapper:ht,widgetInstance:f,masterData:ot,slaves:g,callbackfn:null,drillDownData:null,filterInfo:et,isMaximizedView:nt,targetGauge:c,evt:r,GaugeCount:pt},l._widgetActionHandler(b,null));(!t.isNullOrUndefined(b)&&b.actionType!=="ContextMenu"||h.length===s)&&!nt&&g.length>s&&(it[s].Items.length>s&&!t.isNullOrUndefined(b)&&!t.isNullOrUndefined(b.actionData)&&b.actionData[s]!=="Linking"?(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+d+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})));l.requestTimer=null},r===null||!f?s:1e3)}},_showValueLabel:function(i,r,u,f,e){var o,c,l;if(!t.isNullOrUndefined(i)&&(o=n(i).attr("id"),this.element.find("#"+o+"_annotation_1").css("display",r),this.element.find("#"+o+"_annotation_2").css("display",r),this.element.find("#"+o+"_annotation_2").css("color",e),u&&f)){var a=this.element.find("#"+o+"_annotation_1").width(),v=this.element.find("#"+o+"_annotation_2").width(),s=n('<span id="textWidth1" class="e-textWidth" style="font-size: '+parseInt(n("#"+o+"_annotation_1").css("font-size"))+'px">'+n("#"+o+"_annotation_1").html()+"<\/span>"),h=n('<span id="textWidth2" class="e-textWidth" style="font-size: '+parseInt(n("#"+o+"_annotation_2").css("font-size"))+'px">'+n("#"+o+"_annotation_2").html()+"<\/span>");this.element.append(s);this.element.append(h);c=s.width();l=h.width();this.element.find("#"+o+"_annotation_1").css("margin-left",(a-c)/2+"px");this.element.find("#"+o+"_annotation_2").css("margin-left",(v-l)/2+"px");this.element.find("#textWidth1").remove();this.element.find("#textWidth2").remove()}},_refreshRangeWidth:function(n,i,r,u,f,e,o,s,h,c,l,a,v,y){var nt=l.HasTarget,b,g,p,k;t.isNullOrUndefined(r)&&(r=this._getRadialGaugeObj(n));var tt=r.axes[0].ranges.length,w=this._getRangeWidth(u,f),d=this._getTargetPointerRadius(u,w,f,e,o);for(this._refreshTicks(r,w,u,f,o,s,h,c,nt,l,a,v,y),b=0;b<tt;b++)r.axes[0].ranges[b].startWidth=w,r.axes[0].ranges[b].endWidth=w;for(g=r.axes[0].pointers.length,p=0;p<g;p++)r.axes[0].pointers[p].type===t.DashboardConstants.Gauge.PointerTypeRangeBar?r.axes[0].pointers[p].pointerWidth=w:r.axes[0].pointers[p].markerShape===t.DashboardConstants.Gauge.MarkerShapeRectangle?(r.axes[0].pointers[p].markerWidth=w,r.axes[0].pointers[p].radius=d):(r.axes[0].pointers[p].markerShape===t.DashboardConstants.Gauge.MarkerShapeTriangle||r.axes[0].pointers[p].markerShape===t.DashboardConstants.Gauge.MarkerShapeInvertedTriangle)&&(r.axes[0].pointers[p].radius=d,k=this._getMarkerSize(e,o),r.axes[0].pointers[p].markerWidth=k,r.axes[0].pointers[p].markerHeight=k);i&&r.refresh()},_getRadialGaugeObj:function(n){return t.isNullOrUndefined(n)?null:ejdashboard.base.getComponent(n,"circulargauge")},_getRangeWidth:function(n,i){return t.isNullOrUndefined(i.ScaleWidth)&&!t.isNullOrUndefined(i.LabelPosition)&&(i.ScaleWidth=40),n*(i.ScaleWidth/100)},_getTargetPointerRadius:function(n,i,r){var u=(n-i/2)/n*100;switch(r.TargetPointer){case t.DashboardConstants.Gauge.TargetPointerInvertedTriangle:u=100;break;case t.DashboardConstants.Gauge.TargetPointerTrianlge:u=(n-i)/n*100}return u+"%"},_getMarkerSize:function(n,t){return n<150||t<150?6:t<400&&n>150&&n<250?8:n>=250&&n<=400?10:n>400?12:void 0},_refreshTicks:function(i,r,u,f,e,o,s,h,c,l,a,v,y){var p=this._getScaleOffet(r,f),w,b;i.axes[0].majorTicks.width=f.ShowTicks?f.TicksWidth:t.DashboardConstants.Zero;i.axes[0].majorTicks.height=f.ShowTicks?f.TicksHeight:t.DashboardConstants.Zero;i.axes[0].labelStyle.font.size=this._getScaleLabelFontSize(u,f)+"px";(f.ShowTicks||f.ShowScaleLabel)&&(i.axes[0].majorTicks.position=f.TicksPosition,i.axes[0].majorTicks.offset=t.isNullOrUndefined(p)?t.DashboardConstants.Zero:p.ticksOffset,i.axes[0].labelStyle.position=f.ScaleLabelPosition,i.axes[0].labelStyle.offset=t.isNullOrUndefined(p)?t.DashboardConstants.Zero:p.labelOffset);f.ShowTicks||f.GaugeType!==t.DashboardConstants.Gauge.TypeHalfRadialGauge||(i.axes[0].majorTicks.offset=t.DashboardConstants.Zero,i.axes[0].labelStyle.offset=t.DashboardConstants.Zero,i.axes[0].majorTicks.position=t.DashboardConstants.Gauge.TickPositionInside,i.axes[0].labelStyle.position=t.DashboardConstants.Gauge.ScaleLabelPositionInside);i.axes[0].majorTicks.interval=this._getInterval(o,s,f);w=this._setFontSizeForAnnotation(a,l,i.axes[0].majorTicks.offset,i.axes[0].labelStyle.offset,u,this._getScaleWidthIfInside(f,u,l));b=this._getDirectionLabelFontSize(f,u,l);(a.seriesName!==""||a.ColumnInfo.seriesColumn===null)&&(v===t.DashboardConstants.Zero&&(this.gaugeTitleFontSize=this._setFontSizeForTitle(u,y,e,f,i)),i.titleStyle.size=this.gaugeTitleFontSize+"px");i.axes[0].annotations[0].content=h&&c?'<div id="'+n(i.element).attr("id")+'_annotation_1" class="e-gauge-annotation1" style="font-size:'+w+'px;">'+l.ValueLabel+'<\/div><div id="'+n(i.element).attr("id")+'_annotation_2" class="e-gauge-annotation2" style="color:'+l.StatusColor+";font-size:"+b+'px;">'+l.StatusText+"<\/div>":'<div id="'+n(i.element).attr("id")+'_annotation_1" class="e-gauge-annotation1" style="font-size:'+w+'px;">'+l.ValueLabel+"<\/div>";this._setHalfCircleLabel(i,h,c,f,u,l.UnitText)},_getScaleOffet:function(n,i){if(!t.isNullOrUndefined(i.TicksPosition)&&!t.isNullOrUndefined(i.ScaleLabelPosition)){if(i.TicksPosition===t.DashboardConstants.Gauge.TickPositionOutside&&i.ScaleLabelPosition===t.DashboardConstants.Gauge.ScaleLabelPositionOutside)return{ticksOffset:0,labelOffset:0};if(i.TicksPosition===t.DashboardConstants.Gauge.TickPositionInside&&i.ScaleLabelPosition===t.DashboardConstants.Gauge.ScaleLabelPositionInside)return{ticksOffset:n,labelOffset:0};if(i.TicksPosition===t.DashboardConstants.Gauge.TickPositionOutside&&i.ScaleLabelPosition===t.DashboardConstants.Gauge.ScaleLabelPositionInside)return{ticksOffset:0,labelOffset:n};if(i.TicksPosition===t.DashboardConstants.Gauge.TickPositionInside&&i.ScaleLabelPosition===t.DashboardConstants.Gauge.ScaleLabelPositionOutside)return{ticksOffset:n,labelOffset:0}}},_getScaleLabelFontSize:function(n,i){return!i.ShowTicks&&i.GaugeType===t.DashboardConstants.Gauge.TypeHalfRadialGauge?t.DashboardConstants.Zero:n<200?12:n<400?16:20},_getValueLabelFontSize:function(n){return n<100?8:n<200?12:n<400?16:20},_getGaugeAngle:function(n,i){var r,u;t.isNullOrUndefined(n)||t.isNullOrUndefined(n.LabelPosition)||(r=i.hasClass("e-multiple-series")?i.width():i.parents(".e-dbrd-control-container").width(),u=i.hasClass("e-multiple-series")?i.height():i.parents(".e-dbrd-control-container").height(),n.GaugeType=u>=r*.9?t.DashboardConstants.Gauge.TypeHorseShoe:t.DashboardConstants.Gauge.TypeHalfRadialGauge);switch(n.GaugeType){case t.DashboardConstants.Gauge.TypeHalfRadialGauge:return{startAngle:270,endAngle:90,actualValueRadius:"20%",centerY:"60%"};case t.DashboardConstants.Gauge.TypeHorseShoe:case t.DashboardConstants.Gauge.TypeFullRadialGauge:return{startAngle:210,endAngle:150,actualValueRadius:"0%",centerY:"50%"}}return{startAngle:270,endAngle:90,actualValueRadius:"20%",centerY:"60%"}},_getRadius:function(n,t){return Math.min(n/2,t/2)-20},_createPointers:function(n,i,r,u,f,e,o,s){if(r.ShowRange)return this._createNeedlePointerAlone(n,i,r,u,f,e,s);switch(r.ValuePointer){case t.DashboardConstants.Gauge.PointerNeedle:return this._createNeedlePointerAlone(n,i,r,u,f,e,s);case t.DashboardConstants.Gauge.PointerRange:return this._createRangeBar(n,i,r,u,f,e,s);case t.DashboardConstants.Gauge.PointerRangeWithNeedle:return this._createRangeBarWithNeedle(n,i,r,u,f,e,s);default:return this._createRangeBar(n,i,r,u,f,e,s,o)}},_createNeedlePointerAlone:function(n,i,r,u,f,e,o){var s=2,h=this._getRangeWidth(u,r),c=this._getNeedleWidth(u,f,e),l=this._getMarkerSize(f,e),a=[{type:t.DashboardConstants.Gauge.PointerTypeNeedle,radius:r.NeedlePointerHeight+"%",value:n,color:r.NeedlePointerColor,animation:{enable:r.EnableAnimation,duration:1e3},pointerWidth:c,cap:{radius:c/s,color:r.NeedlePointerColor,border:{width:0}}}];return!t.isNullOrUndefined(i)&&o&&a.push({type:t.DashboardConstants.Gauge.PointerTypeMarker,radius:t.isNullOrUndefined(i)?"100%":this._getTargetPointerRadius(u,h,r,f,e),value:i,markerShape:this._getTargetPointer(r.TargetPointer),markerWidth:t.isNullOrUndefined(i)?t.DashboardConstants.Zero:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?h:l,markerHeight:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?s:l,color:r.TargetPointerColor,animation:{enable:r.EnableAnimation}}),a},_createRangeBar:function(n,i,r,u,f,e,o,s){var h=this._getRangeWidth(u,r),a=t.isNullOrUndefined(r.TargetPointer)?s:r.RangeColor,l=this._getMarkerSize(f,e),c=[{type:t.DashboardConstants.Gauge.PointerTypeRangeBar,value:n,radius:"100%",color:a,animation:{enable:r.EnableAnimation,duration:1e3},pointerWidth:h}];return t.isNullOrUndefined(r.TargetPointer)?(c.push({type:t.DashboardConstants.Gauge.PointerTypeMarker,radius:t.isNullOrUndefined(i)?"100%":this._getTargetPointerRadius(u,h,r,f,e),value:i,markerShape:t.DashboardConstants.Gauge.MarkerShapeRectangle,markerWidth:t.isNullOrUndefined(i)?t.DashboardConstants.Zero:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?h:l,markerHeight:2,color:"#515151",animation:{enable:r.EnableAnimation}}),c):(!t.isNullOrUndefined(i)&&o&&c.push({type:t.DashboardConstants.Gauge.PointerTypeMarker,radius:t.isNullOrUndefined(i)?"100%":this._getTargetPointerRadius(u,h,r,f,e),value:i,markerShape:this._getTargetPointer(r.TargetPointer),markerWidth:t.isNullOrUndefined(i)?t.DashboardConstants.Zero:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?h:l,markerHeight:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?2:l,color:r.TargetPointerColor,animation:{enable:r.EnableAnimation}}),c)},_createRangeBarWithNeedle:function(n,i,r,u,f,e,o){var c=2,s=this._getRangeWidth(u,r),l=this._getNeedleWidth(u,f,e),a=[{type:t.DashboardConstants.Gauge.PointerTypeRangeBar,value:n,radius:"100%",color:r.RangeColor,animation:{enable:r.EnableAnimation,duration:1e3},pointerWidth:s},{type:t.DashboardConstants.Gauge.PointerTypeNeedle,radius:r.NeedlePointerHeight+"%",value:n,color:r.NeedlePointerColor,animation:{enable:r.EnableAnimation,duration:1e3},pointerWidth:l,cap:{radius:l/c,color:r.NeedlePointerColor,border:{width:0}}}],h;return!t.isNullOrUndefined(i)&&o&&(h=this._getMarkerSize(f,e),a.push({type:t.DashboardConstants.Gauge.PointerTypeMarker,radius:t.isNullOrUndefined(i)?"100%":this._getTargetPointerRadius(u,s,r),value:i,markerShape:this._getTargetPointer(r.TargetPointer),markerWidth:t.isNullOrUndefined(i)?t.DashboardConstants.Zero:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?s:h,markerHeight:r.TargetPointer===t.DashboardConstants.Gauge.TargetPointerLine?c:h,color:r.TargetPointerColor,animation:{enable:r.EnableAnimation}})),a},_getTargetPointer:function(n){switch(n){case t.DashboardConstants.Gauge.TargetPointerInvertedTriangle:return t.DashboardConstants.Gauge.MarkerShapeInvertedTriangle;case t.DashboardConstants.Gauge.TargetPointerLine:return t.DashboardConstants.Gauge.MarkerShapeRectangle;case t.DashboardConstants.Gauge.TargetPointerTrianlge:return t.DashboardConstants.Gauge.MarkerShapeTriangle}},_initializeRange:function(n,t,i,r){var f=[],e,u;if(r.ShowRange)for(f.push({start:n,end:t,radius:"100%",startWidth:i,endWidth:i,color:"#E0E0E0"}),r=this._calculateRanges(r,n,t),e=r.RangeCollection.length,u=0;u<e;u++)f.push({start:r.RangeCollection[u].Start,end:r.RangeCollection[u].End,radius:"100%",startWidth:i,endWidth:i,color:r.RangeCollection[u].Color});else f.push({start:n,end:t,radius:"100%",startWidth:i,endWidth:i,color:"#E0E0E0"});return f},_getInterval:function(n,t,i){return i.ShowTicks?null:t-n},_updateGaugeProperties:function(n){var i=n;return t.isNullOrUndefined(i.LabelPosition)||(i.ShowScaleLabel=!0,i.ScaleLabelPosition=i.LabelPosition==="Left"?t.DashboardConstants.Gauge.ScaleLabelPositionInside:t.DashboardConstants.Gauge.ScaleLabelPositionOutside,i.TicksPosition=t.DashboardConstants.Gauge.TickPositionInside),i.ValueDirection!==t.DashboardConstants.Gauge.DirectionHigherIsGood&&i.ValueDirection!==t.DashboardConstants.Gauge.DirectionLowerIsGood&&(i.ValueDirection=i.ValueDirection==="HigherValuesAreBetter"?t.DashboardConstants.Gauge.DirectionHigherIsGood:t.DashboardConstants.Gauge.DirectionLowerIsGood),i},_initializeAnnotation:function(n,i,r,u,f,e,o,s){var h=[],l,c;for(h=e&&o?[{content:'<div id="'+n+'_annotation_1" class="e-gauge-annotation1" style="font-size:'+s+'px;">'+r.ValueLabel+'<\/div><div id="'+n+'_annotation_2" class="e-gauge-annotation2" style="color:'+r.StatusColor+";font-size:"+u+'px;">'+r.StatusText+"<\/div>",zIndex:"0",angle:0,radius:"0%",textStyle:{color:"#666666",fontFamily:"Roboto"}}]:[{content:'<div id="'+n+'_annotation_1" class="e-gauge-annotation1" style="font-size:'+s+'px;">'+r.ValueLabel+"<\/div>",zIndex:"0",angle:0,radius:"0%",textStyle:{color:"#666666",fontFamily:"Roboto"}}],h.push({content:"",angle:-95,radius:"95%",zIndex:"0",textStyle:{fontFamily:"Roboto"}},{content:"",angle:95,radius:"95%",zIndex:"0",textStyle:{fontFamily:"Roboto"}}),l=h.length,c=0;c<l;c++)if(!t.isNullOrUndefined(h[c]))switch(f){case 90:h[c].radius=t.isNullOrUndefined(i.ValueLabelPosition)&&t.isNullOrUndefined(i.ValuePointer)?"0%":i.ShowRange||i.ValueLabelPosition!==t.DashboardConstants.Gauge.ValueLabelPositionInside||i.ValuePointer!==t.DashboardConstants.Gauge.PointerRange?"-25%":"0%";break;case 150:h[c].radius=t.isNullOrUndefined(i.ValueLabelPosition)&&t.isNullOrUndefined(i.ValuePointer)?"0%":i.ShowRange||i.ValueLabelPosition!==t.DashboardConstants.Gauge.ValueLabelPositionInside||i.ValuePointer!==t.DashboardConstants.Gauge.PointerRange?i.ScaleLabelPosition===t.DashboardConstants.Gauge.ScaleLabelPositionInside?"-82%":"-90%":"0%"}return h},_setHalfCircleLabel:function(i,r,u,f,e,o){if(r||u){var s=0;f.GaugeType!==t.DashboardConstants.Gauge.TypeHalfRadialGauge||f.ShowTicks?(this.hasGaugeCustomLabel=!1,s=this._getScaleLabelFontSize(e,f),i.axes[0].labelStyle.font.size=s+"px",i.axes[0].annotations[1].content="",i.axes[0].annotations[2].content=""):(s=this._getValueLabelFontSize(e),i.axes[0].labelStyle.font.size="0px",i.axes[0].annotations[1].content='<div id="'+n(i.element).attr("id")+'_min_label_annotation" class="e-gauge-scaleannotation" style="font-size:'+s+'px;">'+i.axes[0].minimum+o+"<\/div>",i.axes[0].annotations[2].content='<div id="'+n(i.element).attr("id")+'_max_label_annotation" class="e-gauge-scaleannotation" style="font-size:'+s+'px;">'+i.axes[0].maximum+o+"<\/div>",this.hasGaugeCustomLabel=!0)}},_setRadius:function(i,r,u,f){if((r||u)&&this.element.find("#"+n(i.element).attr("id")+"_min_label_annotation").length>t.DashboardConstants.Zero&&f.GaugeType===t.DashboardConstants.Gauge.TypeHalfRadialGauge&&!f.ShowTicks){var e=this.element.find("#"+n(i.element).attr("id")+"_min_label_annotation").width(),o=i.axes[0].currentRadius-e/2,s=this.element.find("#"+n(i.element).attr("id")+"_max_label_annotation").width(),h=i.axes[0].currentRadius-s/2,c=Math.round(o/i.axes[0].currentRadius*100),l=Math.round(h/i.axes[0].currentRadius*100);i.axes[0].annotations[1].radius=c+"%";i.axes[0].annotations[2].radius=l+"%"}},_setFontSizeForAnnotation:function(n,i,r,u,f,e){var o=n.Properties,s=2,h=0,c;return t.isNullOrUndefined(o.LabelPosition)?t.isNullOrUndefined(o.TicksPosition)&&t.isNullOrUndefined(o.ScaleLabelPosition)||(h=f*s-(r+u)*s):h=f*s,c={height:50,width:h,adjustFont:"width",text:i.ValueLabel+" "+(n.ShowSuffix?n.CustomLabelText:"")},Math.min((f-e)/5,parseInt((this._getOptimumFontSize(c)+"px").replace("px","")))},_setFontSizeForTitle:function(n,i,r,u,f){var l=2,e=0,o,a,v;n*=.9;var y=i,s=null,p=0,h=[],w=y.length,c=0;for(t.isNullOrUndefined(u.LabelPosition)?t.isNullOrUndefined(u.TicksPosition)&&t.isNullOrUndefined(u.ScaleLabelPosition)||(c=n*l-(f.axes[0].majorTicks.offset+f.axes[0].labelStyle.offset)*l):c=n*l,o=0;o<w;o++)h.push(JSON.parse(y[o]).Title),h[o].length>p&&(p=h[o].length,s=h[o]);if(a={height:r,width:c,adjustFont:"both",text:s},v={height:r,width:c,adjustFont:"width",text:s},e=Math.min(this._getOptimumFontSize(a),this._getOptimumFontSize(v)),Math.floor(e)===t.DashboardConstants.Zero)do s=s.slice(t.DashboardConstants.One,s.length),e=Math.min(this._getOptimumFontSize(a),this._getOptimumFontSize(v));while(Math.floor(e)===t.DashboardConstants.Zero);return e=Math.floor(Math.min(r/12,n/6,e)),e=Math.max(e,12),Math.min(e,24)},_getNeedleWidth:function(n,t,i){var r=150;return t<r||i<r?4:n*.1},_calculateRanges:function(n,i,r){for(var f=r-i,e=f*.33+i,o=f*.66+i,s=r,h=n.RangeCollection.length,u=0;u<h;u++)n.RangeCollection[u].Start=u===t.DashboardConstants.Zero?i:u===t.DashboardConstants.One?e:o,n.RangeCollection[u].End=u===t.DashboardConstants.Zero?e:u===t.DashboardConstants.One?o:s;return n},_getDirectionLabelFontSize:function(n,t,i){var r=(t-this._getScaleWidthIfInside(n,t,i))/9;return r=Math.max(r,11),Math.min(r,14)},_getScaleWidthIfInside:function(i,r,u){var e=0,f;return i.ScaleLabelPosition===t.DashboardConstants.Gauge.ScaleLabelPositionInside&&i.ShowScaleLabel&&(f=n('<span id="textWidth" class="e-textWidth" style="font-size: '+this._getScaleLabelFontSize(r,i)+'px">'+u.MaximumValue+u.UnitText+"<\/span>"),this.element.append(f),e=f.width(),this.element.find("#textWidth").remove()),e},_getActualTargetLinkValue:function(n,i,r,u){var o="",e,f;if(!t.isNullOrUndefined(n)&&n.axes[0].pointers.length!==t.DashboardConstants.Zero&&(t.isNullOrUndefined(i.actualColumn)||(o=n.axes[0].pointers[0].value,r.push(n.axes[0].pointers[0].value),u.push({Column:i.actualColumn,Value:n.axes[0].pointers[0].value})),!t.isNullOrUndefined(i.targetColumn)))for(e=n.axes[0].pointers.length,f=0;f<e;f++)if(t.isNullOrUndefined(i.actualColumn)&&n.axes[0].pointers[f].type===t.DashboardConstants.Gauge.PointerTypeRangeBar){r.push(n.axes[0].pointers[f].value);u.push({Column:i.targetColumn,Value:n.axes[0].pointers[f].value});break}else if(n.axes[0].pointers[f].type===t.DashboardConstants.Gauge.PointerTypeMarker){r.push(n.axes[0].pointers[f].value);u.push({Column:i.targetColumn,Value:n.axes[0].pointers[f].value});break}return{Value:r,Data:u}}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.charts={_renderChart:function(r,u){var dt=-1,gt=127,c=0,ni=9,ki=3,b=1,f=r.configInfo,yt=r.getCurrentPageData(),h=[],pt=r.reportName,ct=null,nr,l,hr,fi,cr,vi,ar,vr,yr,pr,wr,st,br,yi,kr,ei,bt,dr,oi,g,nu,kt,vt,tu,pi,si,iu,wi,nt,ru,uu,hi,bi,fu,ht,ci;yt.isError||(ct=Object.keys(yt.pagedata));var ut=null,di=null,gi=null,k=null,d=!1,ft=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),s=ft.find(".e-dbrd-control"),e=0,p=0;if(t.isNullOrUndefined(u)||(ut=u.id,s=u.chartDiv,pt=s.attr("data-controlid"),d=u.isMaximize),yt.isError){s.attr({id:this._id+t.DashboardConstants.Widget+f.Id});s.attr({"data-controlId":f.Id});this._showControlError(yt.pagedata,s,f);return}for(this._hideControlError(s),nr=ct.length,e=0;e<nr;e++)h.push(JSON.parse(yt.pagedata[ct[e]]));this.dashboardControls.getControlByReport(pt)&&(k=new Dbrdcontrol,k=k.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(pt)))),this.model._dashboardData.isExportImage||(k=this.dashboardControls.getControlByReport(pt)));var w=f.Properties,o=w.ChartType,et=f.IsMasterFilter,rt=f.IsLinked,ti=f.isDrillDown,tt=w.SeriesColorPalette,it=o==="Pie"||o==="Pyramid"||o==="Funnel"||o==="Doughnut",ii=[],ri=tt.length,lt=et&&!d,tr=it||f.ComparisonMultipleSeries?"point":"cluster",ir=w.PieDoughnutCoefficient,rr=w.DoughnutSize===c?.8:w.DoughnutSize,ur=o.toLowerCase(),fr=this.model._dashboardData.isExportImage?!1:w.EnableAnimation,eu=this.theme.legendFontSize,er=w.ShowLegends,or=typeof w.LegendPosition!="undefined"?w.LegendPosition.toLowerCase():"bottom",y=k.customTheme,ui=y.palette,sr=h.length,ot=this._isColorCustomizableChart(o),li=[],v="",wt="",ai=!1;if(ot&&!t.isNullOrUndefined(f.colorSetting)&&f.colorSetting!=="")if(v=JSON.parse(f.colorSetting),v.isMeasure){for(e=0;e<v.defaultSettings.length;e++)li.push(v.defaultSettings[e]["DefaultColors"][0].Color);wt=v.advancedSettings.length>c?"range":"series";ai=!0}else wt="point";else wt="series";for(l=0,l=0;l<this.target.length;l++){if(this._updateValuesInDrillLevelInfo(k,f.Id,[],d),this._updateValuesInDrillLevelData(k,f.Id,[],d),this.target[l].indexOf("_"+f.Id)!==dt||this.target[l]===f.Id){for(hr=n("#"+this.target[l]).length>t.DashboardConstants.Zero?this.target[l]:this._id+t.DashboardConstants.Widget+this.target[l],d||(s=this.currentTabContentElement.find("#"+this.target[l]).length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this.target[l]):this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+this.target[l]).length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+this.target[l]):s,this.target.splice(l,b)),fi=n("#"+hr).nextAll(),cr=fi.length,p=0;p<cr;p++)vi=fi.eq(p).data("ejDashboardChart"),vi&&vi.destroy();fi.remove()}this.dashboardControls.updateCurrentReport(k)}var at=null,a=null,lr=!0;if(a=s.data("ejDashboardChart"),t.isNullOrUndefined(a))ut=null;else{if(h&&h.length)for(ar=h.length,p=0;p<ar;p++)if(h[p]&&h[p].points)for(lr=!1,vr=h[p].points.length,e=0;e<vr;e++)if(h[p].points[e].y!==c)break;if(a&&(!f.MultipleSeries||h.length<=b)){if(ut=f.Id,!this._applyOrRemoveNoDataAvailable(lr?c:b,s)){a.destroy();return}for(at=0,e=0;e<sr;e++)h[e].points.length===c&&(at+=b);if(at===h.length&&!this._applyOrRemoveNoDataAvailable(c,s))return;if(s.children(".e-nodata").length>c&&s.children(".e-nodata").remove(),yr=r.SelectedFilterInfo.length>c,pr=s.parent(".e-dbrd-control-container").find(".e-dbrd-maximize"),pr.css({display:"block"}),a.model.preRender=(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&w.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&w.ShowSegmentWiseLabel!==null&&w.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),a.model.series=this._CreateChartSeries(h,ct,f,r,s),a.model.primaryXAxis.pointsLength=r.totalCount,a.model.size.height=s.height()+"px",a.model.primaryXAxis.range={interval:1},n(document).find("#ScrollerParent_horizontal_"+ut))for(n(document).find("#ScrollerParent_horizontal_"+ut).remove(),wr=a.model._axes.length,e=0;e<wr;e++)a.model._axes[e].zoomFactor=1,a.model._axes[e].zoomPosition=0;if(yr){for(st=null,br=this.masterData.length,p=0;p<br;p++)yi=this.masterData[p],yi.Key===ut&&(st=yi.Value);for(e=0;e<sr;e++)for(kr=h[e].points.length,l=0;l<kr;l++)et&&h[e].points[l]&&st&&(!t.isNullOrUndefined(f.seriesColumn)&&f.Argument===""&&h[e].points[l].Argument&&h[e].points[l].Argument.split(String.fromCharCode(gt))[0]===st[0].Items[1].Value?(a.model.selectedDataPointIndexes[0].pointIndex=l,a.model.selectedDataPointIndexes[0].seriesIndex=e):t.isNullOrUndefined(f.seriesColumn)&&st[0].Items[0].Value===h[e].points[l].x?(a.model.selectedDataPointIndexes[0].pointIndex=l,a.model.selectedDataPointIndexes[0].seriesIndex=e):f.Argument!==""&&h[e].points[l].x===st[0].Items[0].Value&&h[e].points[l].Argument.split(String.fromCharCode(gt))[0]===st[0].Items[1].Value&&(a.model.selectedDataPointIndexes[0].pointIndex=l,a.model.selectedDataPointIndexes[0].seriesIndex=e));n("#"+s.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0");s.parents(".e-dbrd-control-container").data({IsFilterApplied:!0});a.model.selectedDataPointIndexes.length!==c||t.isNullOrUndefined(r.SelectedFilterInfo[0].PointIndex)||t.isNullOrUndefined(r.SelectedFilterInfo[0].SeriesIndex)||a.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex})}else a.model.selectedDataPointIndexes=[],n("#"+s.attr("id")+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","-1"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!1});a.redraw();return}for(e in s)s.children().hasOwnProperty(e)&&(h.length>b&&s.data("ejDashboardChart")?s.ejDashboardChart("destroy"):s.children().eq(e).data("ejDashboardChart")&&s.children().eq(e).ejDashboardChart("destroy"));s.html("")}if(ei=f.Id,ut===null&&(s.attr({"data-controlId":f.Id}),s.addClass("dashboardChartControl"),s.html(""),ei.indexOf("DrillChart")!==dt?(s.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),ft.attr({"data-controltype":"DrillDownChart"})):(s.attr({id:this._id+(d?"_maximized_":t.DashboardConstants.Widget)+f.Id}),ei.indexOf("ProportionChart")!==dt?ft.attr({"data-controltype":"ProportionChart"}):ft.attr({"data-controltype":"Chart"})),ft.find(".e-remove-control-filter").attr("id",d?u.id+"_removeControlFilter":s.attr("id")+"_removeControlFilter"),ft.find(".e-dbrd-export").attr({value:f.Id}),ft.data({"data-measure-columns":JSON.stringify(f.MeasureColumns)})),this._applyOrRemoveNoDataAvailable(h[0].length,s)){if(bt=null,this.model.enableCustomTheming){if(ri>ui.length)for(dr=ui.length,e=0;e<dr;e++)tt[e].CustomColor=ui[e];else for(e=0;e<ri;e++)tt[e].CustomColor=ui[e];for(e=0;e<ri;e++)oi=tt[e].CustomColor,bt=oi.length===ni?"#"+oi.substring(ki,ni):oi,ii.push(bt);w.UseDefaultPalette=!1}var gr=c,ou=!1,su=this.controlRelations.length;for(e=0;e<su;e++)this.controlRelations[e].Master===f.Id&&(gr=this.controlRelations[e].Slaves.length);if(ou=gr>c,it)for(e=0;e<ri;e++)bt=tt[e].CustomColor.length===ni?"#"+tt[e].CustomColor.substring(ki,ni):tt[e].CustomColor,ii.push(bt);if(it&&f.MultipleSeries&&h.length>b){g=this._CreateChartSeries(h,ct,f,r,s);s.addClass("e-chartseries").attr({"data-header":String(String(f.ChartSeriesHeaderName))+""});s.css({"overflow-y":"hidden",overflow:"hidden"});s.data("ejDashboardScroller")&&(s.ejDashboardScroller("destroy"),nu=s.height()-(s.siblings(".e-control-heading").children().height()+(s.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(s.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").height()))),s.css({height:nu}));kt=this._generateContainersForProprortionChart(s,g);try{t.widget.destroyAll(s.find(".e-js").off())}catch(hu){console.info(hu.message)}for(vt=s.attr("id"),tu=n("<div>"),s.html(""),pi=c,pi=this._dashboardData().widgetData.length!==t.DashboardConstants.Zero&&this._dashboardData().isControl?s.height():s.parents(".e-dbrd-control-container").height()-s.parents(".e-dbrd-control-container").find(".e-control-heading").height(),s.append(tu.append(kt.table)),s.css("transform","scale("+this.deScalingFactor+")"),s.ejDashboardScroller({height:pi,width:s.width(),scrollerSize:13}),s.css("transform","scale("+t.DashboardConstants.One+")"),si=kt.table.find("td"),iu=g.length,e=0;e<iu;e++){if(wi=[],wi.push(g[e]),nt=n("<div>").attr({id:vt+"_childChart_"+e}).css({width:"100%",height:"100%",outline:"none","user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none"}).addClass("e-chartChild"),si.eq(e).append(nt),g[e].dataSource.length===c){nt.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}else{for(at=0,ru=g[e].dataSource,uu=ru.length,l=0;l<uu;l++)g[e].dataSource[l].y>=c&&g[e].dataSource[l].y<=c&&(at+=b);if(at===g[e].dataSource.length){nt.css({"vertical-align":"middle",height:""});nt.html(n("<div style='width:100%;'>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}}nt.ejDashboardChart({size:{height:kt.height.toString(),width:kt.width.toString()},commonSeriesOptions:{highlightSettings:{enable:lt||ti&&f.DrilledChartProperties.RowCount>b,opacity:.8,border:{width:1},mode:!it&&!f.ComparisonMultipleSeries?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:lt,opacity:.8,border:{width:1},mode:tr,pattern:"diagonalForward"},pieCoefficient:ir,doughnutCoefficient:.3,doughnutSize:rr,explode:(o==="Pie"||o==="Doughnut")&&(ti||lt),explodeOffset:5,type:ur,enableAnimation:fr,animateonebyone:f.Properties.AnimateOnebyOne,labelPosition:"outside",smartLabelEnabled:!0,tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2}},palette:ot&&!t.isNullOrUndefined(v)&&v.isMeasure?li:tt.length===c?this.theme.palette:it&&f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?ii:this.theme.palette,canResize:!1,adaptiveRendering:!0,series:wi,rangeColorMapping:ot&&!t.isNullOrUndefined(v)&&v.isMeasure&&v.advancedSettings.length>c?this.getRangeColorMapping(v.advancedSettings[0],f.minMaxValues):[],title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:f.MeasureColumns.length>b?g[e].name.replace(String.fromCharCode(gt),""):g[e].name.replace(String.fromCharCode(gt),"").split("(")[0],visible:!0},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:er,position:or,shape:"seriesType",itemStyle:{height:8,width:8},mode:wt,enableMultiRange:ai,toggleSeriesVisibility:!(ot&&!t.isNullOrUndefined(v)&&v.isMeasure&&v.advancedSettings.length>c)},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:t.isNullOrUndefined(f.Properties.XAxisFontSettings)?this.theme.axisFontSize:f.Properties.XAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelFormat:f.xTypeChar,valueType:f.xType,visible:o==="Bar"||o==="StackingBar"?f.Showyaxis:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.PrimaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.PrimaryAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.yTitle,enableTrim:!0},labelFormat:f.yTypeChar,labelIntersectAction:"trim",valueType:f.yType,visible:o==="Bar"||o==="StackingBar"?f.Showxaxis:f.Showyaxis},legendItemClick:o==="Bar"||o==="Column"||o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"||o==="StackingColumn100"||o==="Line"||o==="Spline"||o==="Area"||o==="Scatter"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,nt[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),legendItemRendering:n.proxy(this._legendRender,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),enableRightClick:!0,chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[h[e]],f):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[h[e]],f):n.proxy(this._ChartPreRenderer,this,[h[e]],f),pointRegionClick:n.proxy(this._loadChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},rt?f.ControlLinkData:i,rt?!1:et),chartDoubleClick:n.proxy(this._loadChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},rt?f.ControlLinkData:i,rt?!1:et),seriesRegionClick:it?n.proxy(this._clearSelectionForProportionChart,this,nt.attr("id")):n.proxy(this._clearSelection,this,nt.attr("id"))});r.SelectedFilterInfo&&r.SelectedFilterInfo.length!==c&&r.SelectedFilterInfo[0].Name===String(e)&&(a=nt.data("ejDashboardChart"),n("#"+s.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),s.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),a.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),a.redraw())}for(this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(hi=this.currentTabContentElement.find(".e-dbrd-control"),hi.css({overflow:"auto",height:""}),hi.parent().css({overflow:"auto",height:"","overflow-x":"hidden"}),hi.parent().parent().css({"overflow-y":"auto",height:""}),this.model.enableCustomTheming&&this._customTheme(["export"]));e<si.length;)si.eq(e++).remove();this.model._dashboardData.isExportImage||this.model._dashboardData.isControl||this.currentTabContentElement.find("#"+vt).data("ejDashboardScroller")&&(this.currentTabContentElement.find("#"+vt).css("transform","scale("+this.deScalingFactor+")"),this.currentTabContentElement.find("#"+vt).data("ejDashboardScroller").refresh(),this.currentTabContentElement.find("#"+vt).css("transform","scale("+t.DashboardConstants.One+")"));return}if((r.drillLevelData.length>c&&this._dashboardData().loadFromData&&r.drillLevelData[0].Values.length>c&&(bi=this._pinnedWidgetMaximize(r),di=bi.drillData,gi=bi.config),fu=this._labelRotationAngleValue(f.Properties.AngleValue),s.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:lt||ti&&f.DrilledChartProperties.RowCount>b,opacity:.8,border:{width:1},mode:!it&&(!f.ComparisonMultipleSeries||!et)?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:lt,opacity:.8,border:{width:1},mode:tr?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:ir,doughnutCoefficient:.3,doughnutSize:rr,explode:(ei.indexOf("DrillChart")!==dt||ti||lt)&&(o==="Pie"||o==="Doughnut")?!0:!1,explodeOffset:5,type:ur,enableAnimation:fr,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2},marker:{dataLabel:{font:{color:y.dataLabelColor}}}},sideBySideSeriesPlacement:!(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn"||o==="StackingArea100"||o==="StackingBar100"||o==="StackingColumn100"),size:{height:s.height()+"px"},palette:ot&&!t.isNullOrUndefined(v)&&v.isMeasure?li:tt.length===c?this.theme.palette:it&&f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?ii:this.theme.palette,title:{text:f.ShowHeader},canResize:!0,series:r.drillLevelData.length>c&&r.drillLevelData[0].Values.length>c&&this._dashboardData().loadFromData?this._CreateDrilledChartSeries(di,gi):this._CreateChartSeries(h,ct,f,r,s),adaptiveRendering:!0,rangeColorMapping:ot&&!t.isNullOrUndefined(v)&&v.isMeasure&&v.advancedSettings.length>c?this.getRangeColorMapping(v.advancedSettings[0],f.MinMaxValues):[],legend:{font:{fontFamily:"Roboto",color:y.legendfontcolor,size:eu},visible:er,position:or,shape:"seriesType",itemStyle:{height:8,width:8},mode:wt,enableMultiRange:ai,toggleSeriesVisibility:!(ot&&!t.isNullOrUndefined(v)&&v.isMeasure&&v.advancedSettings.length>c)},primaryXAxis:{font:{fontFamily:"Roboto",color:y.primaryXAxisfontcolor,size:t.isNullOrUndefined(f.Properties.XAxisFontSettings)?this.theme.axisFontSize:f.Properties.XAxisFontSettings.FontSize},axisLine:{color:y.xAxisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:y.majorTickColor},majorGridLines:{color:y.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:y.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:fu,labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Showxaxis,enableScrollbar:f.TooltipForRowColumns,pointsLength:r.totalCount},primaryYAxis:{font:{fontFamily:"Roboto",color:y.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.PrimaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.PrimaryAxisFontSettings.FontSize},axisLine:{color:y.yAxisLineColor},majorGridLines:{color:y.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:y.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:y.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:o==="StackingArea100"||o==="StackingBar100"||o==="StackingColumn100"?"":f.yTypeChar,valueType:f.yType,visible:f.Showyaxis,range:this._setAxisRange(f),name:f.PrimaryAxisMaximumValueColumnName,opposedPosition:f.isAllSecondary&&!f.isAllPrimary},axes:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.SecondaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.SecondaryAxisFontSettings.FontSize},axisLine:{color:y.axisLineColor},majorGridLines:{color:y.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},range:this._setSecondaryAxisRange(f),majorTickLines:{visible:!0,color:y.majorTickColor},orientation:(o==="Bar"||o==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:o==="StackingArea100"||o==="StackingBar100"||o==="StackingColumn100"?"":f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:y.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:t.isNullOrUndefined(f.SecondaryAxisMaximumValueColumnName)?!1:f.PrimaryAxisMaximumValueColumnName!==""&&f.SecondaryAxisMaximumValueColumnName!==""&&f.ShowSecondaryYAxis}],legendItemClick:o==="Bar"||o==="Column"||o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"||o==="StackingColumn100"||o==="Line"||o==="Spline"||o==="Area"||o==="Scatter"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,s[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),legendItemRendering:n.proxy(this._legendRender,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,scrollChanged:n.proxy(this._chartScrollChange,this,f,s,[],r),preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||f.Properties.ChartType==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),enableRightClick:!0,pointRegionClick:n.proxy(this._loadChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},rt?f.ControlLinkData:i,rt?!1:et),chartDoubleClick:n.proxy(this._loadChartSlaves,this,f,f.Id,d,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},rt?f.ControlLinkData:i,rt?!1:et),seriesRegionClick:it?n.proxy(this._clearSelectionForProportionChart,this,s.attr("id")):n.proxy(this._clearSelection,this,s.attr("id"))}),s.data("ejDashboardScroller")&&s.ejDashboardScroller("destroy"),this._chartMasterSelection(s,r),h.length!==c||this._applyOrRemoveNoDataAvailable(h.length,s))&&this._dashboardData().isExportImage&&(ht=null,ci=this._getValuesFromDrillLevelData(k,pt,k.isExportFromMaximizedView),ci.length>c&&(ht=ci[ci.length-b]),k.isExportFromMaximizedView&&(ht.ConfigInfo.id=this._id+t.DashboardConstants.Widget+ht.ConfigInfo.drillId),!t.isNullOrUndefined(ht))){this._drawDrilledChart(ht.ConfigInfo,ht.Data,null,!1);return}}},getRangeColorMapping:function(n,i){for(var h,v=[],r=[],u=0,c=1,e=1e-9,a=0;a<n.Ranges.length;a++){var l=a,o=this.getRangeColors(n.Ranges[l].PropertyColorPair),s=t.isNullOrUndefined(n.Ranges[l].RangeLabel)?this.getFormattedRangeLabels(n,l):n.Ranges[l].RangeLabel,f=[n.Ranges[l].StartRange,n.Ranges[l].EndRange];switch(n.Ranges[l].MeasureCondition){case u:r.push({StartRange:f[u]+e,EndRange:i[c]+e,Colors:o,LegendLabel:s,isLegendVisible:!0});break;case c:r.push({StartRange:f[u],EndRange:i[c]+e,Colors:o,LegendLabel:s,isLegendVisible:!0});break;case 2:r.push({StartRange:i[u],EndRange:f[u]-e,Colors:o,LegendLabel:s,isLegendVisible:!0});break;case 3:r.push({StartRange:i[u],EndRange:f[u]+e,Colors:o,LegendLabel:s,isLegendVisible:!0});break;case 4:r.push({StartRange:f[u],EndRange:f[u],Colors:o,LegendLabel:s,isLegendVisible:!0});break;case 5:r.push({StartRange:i[u],EndRange:f[u]-e,Colors:o,LegendLabel:s,isLegendVisible:!0});r.push({StartRange:f[u]+e,EndRange:i[c]+e,Colors:o,LegendLabel:s,isLegendVisible:!1});break;case 6:r.push({StartRange:f[u],EndRange:f[c],Colors:o,LegendLabel:s,isLegendVisible:!0});break;case 7:r.push({StartRange:i[u],EndRange:f[u]-e,Colors:o,LegendLabel:s,isLegendVisible:!0});r.push({StartRange:f[c]+e,EndRange:i[c]+e,Colors:o,LegendLabel:s,isLegendVisible:!1})}}for(h=0;h<r.length;h++)v.push({start:r[h].StartRange,end:r[h].EndRange,legendName:r[h].LegendLabel,colors:r[h].Colors,isLegendVisible:r[h].isLegendVisible});return v},getRangeColors:function(n){for(var i=[],t=0;t<n.length;t++)if(n[t].WidgetProperties===0){n[t].RangeColor.IsGradient?i.push(n[t].RangeColor.StartColor,n[t].RangeColor.EndColor):i.push(n[t].RangeColor.StartColor);break}return i},getFormattedRangeLabels:function(n,t){for(var i=n.MeasureFormatSettings,e=n.Ranges[t].StartRange.toString(),o=n.Ranges[t].EndRange.toString(),f=[e,o],r=[],u=0;u<f.length;u++)i.FormatType==="Percent"?r.push(this._applyPercentageForChart(i.StringFormat,i.culture,i.FormatProp.Unit,f[u])):r.push(this._applyStringFormatting(i.StringFormat,i.culture,i.FormatProp.Unit,f[u]));return r[0]+"-"+r[1]},_setAxisRange:function(n){var i={};return t.isNullOrUndefined(n.Properties.PrimaryAxisRange)||(t.isNullOrUndefined(n.Properties.PrimaryAxisRange.MaxValue)||n.Properties.PrimaryAxisRange.MaxValue===""||(i.max=parseFloat(n.Properties.PrimaryAxisRange.MaxValue)),t.isNullOrUndefined(n.Properties.PrimaryAxisRange.MinValue)||n.Properties.PrimaryAxisRange.MinValue===""||(i.min=parseFloat(n.Properties.PrimaryAxisRange.MinValue)),t.isNullOrUndefined(n.Properties.PrimaryAxisRange.Interval)||n.Properties.PrimaryAxisRange.Interval===""||(i.interval=parseFloat(n.Properties.PrimaryAxisRange.Interval))),i},_setSecondaryAxisRange:function(n){var i={};return t.isNullOrUndefined(n.Properties.SecondaryAxisRange)||(t.isNullOrUndefined(n.Properties.SecondaryAxisRange.MaxValue)||n.Properties.SecondaryAxisRange.MaxValue===""||(i.max=parseFloat(n.Properties.SecondaryAxisRange.MaxValue)),t.isNullOrUndefined(n.Properties.SecondaryAxisRange.MinValue)||n.Properties.SecondaryAxisRange.MinValue===""||(i.min=parseFloat(n.Properties.SecondaryAxisRange.MinValue)),t.isNullOrUndefined(n.Properties.SecondaryAxisRange.Interval)||n.Properties.SecondaryAxisRange.Interval===""||(i.interval=parseFloat(n.Properties.SecondaryAxisRange.Interval))),i},_pinnedWidgetMaximize:function(i){var nt=null,tt=[],u=[],e=null,l=null,b=null,k=25,d=0,a=!1,f=0,it=null,o=null,rt=[],s,v,y,ut,c,g;if(i.drillLevelData.length>f&&this._dashboardData().loadFromData&&i.drillLevelData[0].Values.length>f){for(s=0;s<i.drillLevelData[0].Values.length;s++)for(v=0;v<i.drillLevelData[0].Values[s].Data.d.length;v++)i.drillLevelData[0].Values[s].Data.d[v].Key==="DrilledChartProp"&&(nt=n.parseJSON(i.drillLevelData[0].Values[s].Data.d[v].Value));u=i.drillLevelData[0].Values[0].ConfigInfo;var r="maximize_container_Widget_"+u.drillId,p=u.drillId,h=this._getValuesFromDrillLevelData(i,p,!1),w=this._getValuesFromDrillLevelInfo(i,u.drillId,i.isExportFromMaximizedView&&this._dashboardData().isExportImage?!0:a);for(y=0;y<h[h.length-t.DashboardConstants.One].Data.d.length;y++)tt.push({Key:h[h.length-t.DashboardConstants.One].Data.d[y].Key,Value:n.parseJSON(h[h.length-t.DashboardConstants.One].Data.d[y].Value)});for(t.isNullOrUndefined(w)||(d=w.length),ut=w.length,c=0;c<=ut;c++)rt[c]=c===f?u.Argument.toString():w[c-1].toString();o=n("<div>").attr({id:a?r+"_drillclose_maximize":r+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",u.drillId);e=n("<div>").attr({"data-controlid":p,id:r+"_DrilledChart_"+d});n("#"+r+"_DrilledChart").length===f&&(e=n("<div>").attr({"data-controlid":p,id:r+"_DrilledChart_"+d}),this._removePreviousBreadcrumbDiv(r),a&&t.isNullOrUndefined(it)&&(it={id:String(this._id)+"_maximized_"+p,chartDiv:n("#"+r),isMaximize:!0}),o=n("<div>").attr({id:a?r+"_drillclose_maximize":r+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",u.drillId),o.ejDashboardBreadcrumb({dataSource:this._getBreadcrumbDatasource(rt,r),width:String(n("#"+r).width()),selected:n.proxy(this._closeDrilledChart,this,u,a)}),n("#"+r).parent().append(o),n("#"+r).hasClass("e-dbrd-MaximizedControl")?(e.css({width:n("#"+r).parent().width()-6,height:n("#"+r).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart e-dbrd-control"),o.css({top:0,left:0})):(l=this.currentTabContentElement.find("#"+r).parents(".e-dbrd-control-container").find(".e-control-heading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+r).parents(".e-dbrd-control-container").find(".e-control-heading").height():this.currentTabContentElement.find("#"+r).siblings(".e-control-heading").height(),g=this.currentTabContentElement.find("#"+r).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading"),g.length>t.DashboardConstants.Zero&&(k+=g.height()),e.css({position:"absolute",top:l?k:f,left:0}).addClass("drilledChart e-dbrd-control"),b=n("#"+r).parent(),e.width(b.width()-4),e.height(b.height()-(l?l+2:f)-7),o.css({top:l?k:f,left:0})))}return{drillData:tt,config:nt}},_renderComparisonChart:function(r,u){var b=1,c=0,gt=9,it=null,f=r.configInfo,ot=r.getCurrentPageData(),li=String.fromCharCode(127)+"(",h=[],w=null,yt=r.reportName,rt=r.SeriesList,ui,wt,bt,fi,ei,oi,kt,si,p,hi,dt,ci,ht,vt,d;ot.isError||(w=Object.keys(ot.pagedata));var ut=null,ft=!1,g=0,s=0,y=0,ct=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),e=ct.find(".e-dbrd-control");if(t.isNullOrUndefined(u)||(ut=u.id,e=u.chartDiv,ft=u.isMaximize),ot.isError){e.attr({id:this._id+t.DashboardConstants.Widget+f.Id});e.attr({"data-controlId":f.Id});this._showControlError(ot.pagedata,e,f);return}this._hideControlError(e);this.dashboardControls.getControlByReport(yt)&&(it=new Dbrdcontrol,it=it.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(yt)))),this.model._dashboardData.isExportImage||(it=this.dashboardControls.getControlByReport(yt)));var lt=f.Properties,o=lt.ChartType,st=f.IsMasterFilter,v=f.IsLinked,nt=lt.SeriesColorPalette,pt=[],k=st&&!ft,ni=o.toLowerCase(),ti=this.model._dashboardData.isExportImage?!1:lt.EnableAnimation,ii=this.theme.legendFontSize,ri=lt.ShowLegends,a=it.customTheme,at=a.palette,ai=w.length;for(s=0;s<ai;s++)h.push(JSON.parse(ot.pagedata[w[s]]));if(this.model.enableCustomTheming){if(nt.length>at.length)for(s=0;s<at.length;s++)nt[s].CustomColor=at[s];else for(s=0;s<nt.length;s++)nt[s].CustomColor=at[s];for(s=0;s<nt.length;s++)ui=nt[s].CustomColor.length===gt?"#"+nt[s].CustomColor.substring(3,gt):f.Properties.SeriesColorPalette[s].CustomColor,pt.push(ui);f.Properties.UseDefaultPalette=!1}var et=null,l=null,tt=h.length;if(typeof u=="undefined"){if(l=e.data("ejDashboardChart"),t.isNullOrUndefined(l))ut=null;else{if(wt=!0,bt=!0,h&&tt>c)for(y=0;y<tt;y++)if(h[y]&&h[y].points)for(bt=!1,fi=h[y].points.length,s=0;s<fi;s++)if(h[y].points[s].y!==c){wt=!1;break}if(l&&(!f.ComparisonMultipleSeries||h.length<=b)){if(!this._applyOrRemoveNoDataAvailable(bt?c:b,e)){l.destroy();return}for(et=0,s=0;s<tt;s++)h[s].points.length===c&&(et+=b);if(et===tt&&!this._applyOrRemoveNoDataAvailable(c,e))return;if(e.children(".e-nodata").length>c&&e.children(".e-nodata").remove(),ei=e.parent().data("IsFilterApplied"),l.model.preRender=(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),l.model.series=this._CreateChartSeries(h,w,f,r,e),l.model.primaryXAxis.pointsLength=r.totalCount,l.model.primaryYAxis.name=f.PrimaryAxisMaximumValueColumnName,l.model.axes[0].name=f.SecondaryAxisMaximumValueColumnName,l.model.size.height=e.height()+"px",l.model.primaryXAxis.range={interval:1},n(document).find("#ScrollerParent_horizontal_"+ut))for(n(document).find("#ScrollerParent_horizontal_"+ut).remove(),oi=l.model._axes.length,s=0;s<oi;s++)l.model._axes[s].zoomFactor=1,l.model._axes[s].zoomPosition=0;ei?l.model.selectedDataPointIndexes.length>c&&l.model.series.length>=b&&l.model.series[0].dataSource.length===b&&(l.model.selectedDataPointIndexes[0].pointIndex=0,l.model.selectedDataPointIndexes[0].seriesIndex=0):l.model.selectedDataPointIndexes=[];l.redraw();return}if(h[0].length===c||wt===!0){if(!this._applyOrRemoveNoDataAvailable(h[0].length,e))return;for(s in e)e.children().hasOwnProperty(s)&&e.children().eq(s).data("ejDashboardChart")&&e.children().eq(s).ejDashboardChart("destroy")}e.html("")}ut===null&&(e.attr({"data-controlId":f.Id}),e.addClass("dashboardChartControl"),e.html(""),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),ct.attr({"data-controltype":"ComparisonChart"}),ct.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),ct.find(".e-dbrd-export").attr({value:f.Id}))}if(this._applyOrRemoveNoDataAvailable(h[0].length,e)){if(kt=this._labelRotationAngleValue(f.Properties.AngleValue),si=rt.length,f.ComparisonMultipleSeries&&rt.length>c){for(e.addClass("e-chartseries").attr({"data-header":String(f.ChartSeriesHeaderName)+""}),this.model._dashboardData.isExportImage||e.css({overflow:"hidden"}),e.append(n("<div>")),g=0;g<si;g++){for(p=[],w=[],hi=rt[g].length,y=0;y<hi;y++)for(s=0;s<tt;s++)rt[g][y]===h[s].seriesName&&(p.push(h[s]),w.push(h[s].seriesName));if(dt=p.length,dt!==c||w.length!==c){for(ci=this._CreateChartSeries(p,w,f,r,e),ht=0;ht<dt;ht++)typeof p[ht].yAxisName!="undefined"&&(f.SecondaryAxisMaximumValueColumnName=p[ht].yAxisName);vt=[];p.length>c&&(vt=p[0].seriesName.split(li));d=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+f.Id+(typeof u=="undefined"?"":ut)+"_childChart_"+g});d.addClass("pull-left");e.children().eq(c).append(d);d.css({width:"100%",height:"100%",overflow:"hidden"}).addClass("e-chartChild");d.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:k,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},selectionSettings:{enable:k,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},explode:!1,type:ni,enableAnimation:ti,animateonebyone:f.Properties.AnimateOnebyOne,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},smartLabelEnabled:!0,border:{width:2}},size:{height:e.height()+"px"},palette:f.Properties.SeriesColorPalette.length===c?this.theme.palette:f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?pt:this.theme.palette,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:vt.length>c?vt[0]:""},canResize:!0,adaptiveRendering:!0,series:ci,legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:ii},visible:ri,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:t.isNullOrUndefined(f.Properties.XAxisFontSettings)?this.theme.axisFontSize:f.Properties.XAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:kt,labelFormat:f.xTypeChar,valueType:f.xType,visible:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.PrimaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.PrimaryAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.yTypeChar,valueType:f.yType,range:this._setAxisRange(f),opposedPosition:!f.Showyaxis&&f.ShowSecondaryYAxis,visible:f.Showyaxis||f.ShowSecondaryYAxis,name:f.PrimaryAxisMaximumValueColumnName},axes:!f.Showyaxis&&f.ShowSecondaryYAxis?[]:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.SecondaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.SecondaryAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},orientation:(o==="Bar"||o==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.yTypeChar,valueType:f.yType,range:this._setSecondaryAxisRange(f),title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{color:this.theme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:!f.isAllPrimary&&f.ShowSecondaryYAxis}],legendItemClick:o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,d[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,p,f):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,p,f):n.proxy(this._ChartPreRenderer,this,p,f),enableRightClick:!0,chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,pointRegionClick:k||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,ft,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:st):[],chartDoubleClick:k||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,ft,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:st):[],seriesRegionClick:n.proxy(this._clearSelectionForProportionChart,this,d.attr("id"))});r.SelectedFilterInfo!==null&&r.SelectedFilterInfo.length!==c&&r.SelectedFilterInfo[0].Name===String(g)&&(l=d.data("ejDashboardChart"),n("#"+e.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),e.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),l.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),l.redraw())}}(e.data("ejDashboardScroller")||!t.isNullOrUndefined(e.data("ejDashboardScroller"))&&rt.length<=b)&&e.ejDashboardScroller("destroy");this.model._dashboardData.isExportImage||rt.length>b&&e.ejDashboardScroller({height:e.height(),scrollerSize:13});this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({overflow:"auto"}),e.css({overflow:"auto",height:""}),e.parent().css({overflow:"auto",height:""}),e.parent().parent().css({overflow:"auto",height:""}),this.model.enableCustomTheming&&this._customTheme(["export"]));return}if(e.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:k,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},selectionSettings:{enable:k,opacity:.8,border:{width:1},mode:f.MultipleSeries?"point":"cluster",pattern:"diagonalForward"},explode:!1,type:ni,enableAnimation:ti,labelPosition:"outside",tooltip:{font:{fontFamily:"Roboto"},visible:!0},border:{width:2},marker:{dataLabel:{font:{color:it.theme.dataLabelColor}}}},size:{height:e.height()+"px"},palette:f.Properties.SeriesColorPalette.length===c?this.theme.palette:f.Properties.UseDefaultPalette!==null&&!f.Properties.UseDefaultPalette?pt:this.theme.palette,title:{text:f.ShowHeader},canResize:!0,adaptiveRendering:!0,series:this._CreateChartSeries(h,w,f,r,e),legend:{font:{fontFamily:"Roboto",color:a.legendfontcolor,size:ii},visible:ri,position:typeof f.Properties.LegendPosition!="undefined"?f.Properties.LegendPosition.toLowerCase():"bottom",shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:a.primaryXAxisfontcolor,size:t.isNullOrUndefined(f.Properties.XAxisFontSettings)?this.theme.axisFontSize:f.Properties.XAxisFontSettings.FontSize},axisLine:{color:a.xAxisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:a.majorTickColor},majorGridLines:{color:a.primaryXAxismajorGridLines,visible:typeof f.Properties.ShowHorizontalLine=="undefined"?!0:f.Properties.ShowHorizontalLine},title:{visible:f.Properties.ShowPrimaryXAxisTitle===null?!0:f.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:a.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:f.xTitle,enableTrim:!0},labelIntersectAction:this._generateLabelOverflowMode(f),labelRotation:kt,labelFormat:f.xTypeChar,enableScrollbar:f.TooltipForRowColumns,pointsLength:r.totalCount,valueType:f.xType===f.yType?"category":f.xType,visible:f.Showxaxis},primaryYAxis:{font:{fontFamily:"Roboto",color:a.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.PrimaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.PrimaryAxisFontSettings.FontSize},axisLine:{color:a.yAxisLineColor},majorGridLines:{color:a.primaryYAxismajorGridLines,visible:typeof f.Properties.ShowVerticalLine=="undefined"?!0:f.Properties.ShowVerticalLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:a.majorTickColor},title:{visible:f.Properties.ShowPrimaryYAxisTitle===null?!0:f.Properties.ShowPrimaryYAxisTitle,font:{fontFamily:"Roboto",color:a.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(f.PrimaryAxisTitle)?f.yTitle:f.PrimaryAxisTitle!==""||f.SecondaryAxisTitle!==""?f.PrimaryAxisTitle:f.yTitle},labelFormat:f.yTypeChar,valueType:f.yType,range:this._setAxisRange(f),opposedPosition:!f.Showyaxis&&f.ShowSecondaryYAxis,visible:f.Showyaxis||f.ShowSecondaryYAxis,name:f.PrimaryAxisMaximumValueColumnName},axes:!f.Showyaxis&&f.ShowSecondaryYAxis?[]:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(f.Properties.SecondaryAxisFontSettings)?this.theme.axisFontSize:f.Properties.SecondaryAxisFontSettings.FontSize},range:this._setSecondaryAxisRange(f),axisLine:{color:a.axisLineColor},majorGridLines:{color:a.primaryYAxismajorGridLines,visible:f.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:a.majorTickColor},orientation:(o==="Bar"||o==="StackingBar")&&f.Properties.IsBasicChartType?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:f.yTypeChar,valueType:f.yType,title:{visible:f.Properties.ShowSecondaryYAxisTitle===null?!0:f.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:a.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:f.SecondaryAxisTitle},name:f.SecondaryAxisMaximumValueColumnName,visible:!f.isAllPrimary&&f.ShowSecondaryYAxis}],legendItemClick:o==="Bar"||o==="Column"||o==="StackingArea"||o==="StackingArea100"||o==="StackingBar"||o==="StackingColumn"||o==="StackingBar100"||o==="StackingColumn100"||o==="Line"||o==="Spline"||o==="Area"||o==="Scatter"?n.proxy(this._chartLegendClick,this,f):(o==="Doughnut"||o==="Pie"||o==="Pyramid"||o==="Funnel")&&(f.Properties.ChartDataLabel==="Percentage"||f.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,f,e[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,f),toolTipInitialize:n.proxy(this._initChartToolTip,this,f),scrollChanged:n.proxy(this._chartScrollChange,this,f,e,[],r),preRender:(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):(o==="StackingArea"||o==="StackingBar"||o==="StackingColumn")&&f.Properties.ShowSegmentWiseLabel!==null&&f.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,h,f,!1):n.proxy(this._ChartPreRenderer,this,h,f),enableRightClick:!0,chartMouseMove:f.ActionSetting!==null&&f.ActionSetting.length>c&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>c&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mousemove:null,pointRegionClick:k||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,ft,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:st):[],chartDoubleClick:k||v?n.proxy(this._loadComparisonChartSlaves,this,f,f.Id,ft,{argumentColumn:f.argumentColumn,seriesColumn:f.seriesColumn,measureColumns:f.MeasureColumns},v?f.ControlLinkData:i,v?!1:st):[],seriesRegionClick:n.proxy(this._clearSelection,this,e.attr("id"))}),this._chartMasterSelection(e,r),h[0].length===c){if(!this._applyOrRemoveNoDataAvailable(h[0].length,e))return}else{for(et=0,s=0;s<tt;s++)h[s].points.length===c&&(et+=b);if(et===tt&&!this._applyOrRemoveNoDataAvailable(c,e))return}}},_mousemove:function(t){var r=n("#"+n("#"+t.data.id).parents().closest(".e-datavisualization-chart.e-js").attr("id")).data("ejDashboardChart"),i,u;if(r!==null)for(i=0;i<r.gSeriesEle.childNodes.length;i++)u=r.gSeriesEle.childNodes[i].id,n("#"+u).css("cursor","pointer")},_setChartConfigInfo:function(n){n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.argumentColumn=t.isNullOrUndefined(n.configInfo.argumentColumn)?"":n.configInfo.argumentColumn;n.configInfo.seriesColumn=t.isNullOrUndefined(n.configInfo.seriesColumn)?null:n.configInfo.seriesColumn;n.configInfo.xTitle=t.isNullOrUndefined(n.configInfo.xTitle)?"":n.configInfo.xTitle;n.configInfo.yTitle=t.isNullOrUndefined(n.configInfo.yTitle)?"":n.configInfo.yTitle;n.configInfo.xType=t.isNullOrUndefined(n.configInfo.xType)?"":n.configInfo.xType;n.configInfo.xTypeChar=t.isNullOrUndefined(n.configInfo.xTypeChar)?"":n.configInfo.xTypeChar;n.configInfo.yType=t.isNullOrUndefined(n.configInfo.yType)?"":n.configInfo.yType;n.configInfo.yTypeChar=t.isNullOrUndefined(n.configInfo.yTypeChar)?"":n.configInfo.yTypeChar;n.configInfo.TooltipForColumns=!t.isNullOrUndefined(n.configInfo.TooltipForColumns)&&n.configInfo.TooltipForColumns;n.configInfo.TooltipForRowCalc=!t.isNullOrUndefined(n.configInfo.TooltipForRowCalc)&&n.configInfo.TooltipForRowCalc;n.configInfo.TooltipForRowColumns=!t.isNullOrUndefined(n.configInfo.TooltipForRowColumns)&&n.configInfo.TooltipForRowColumns;n.configInfo.TooltipForRowColCalc=!t.isNullOrUndefined(n.configInfo.TooltipForRowColCalc)&&n.configInfo.TooltipForRowColCalc;n.configInfo.Argument=t.isNullOrUndefined(n.configInfo.Argument)?"":n.configInfo.Argument;n.configInfo.Seriesname=t.isNullOrUndefined(n.configInfo.Seriesname)?"":n.configInfo.Seriesname;n.configInfo.CustomLegend=!t.isNullOrUndefined(n.configInfo.CustomLegend)&&n.configInfo.CustomLegend;n.configInfo.isDrillDown=!t.isNullOrUndefined(n.configInfo.isDrillDown)&&n.configInfo.isDrillDown;n.configInfo.CustomAdornmentText=t.isNullOrUndefined(n.configInfo.CustomAdornmentText)?"":n.configInfo.CustomAdornmentText;n.configInfo.xAxisLabelFormat=t.isNullOrUndefined(n.configInfo.xAxisLabelFormat)?"":n.configInfo.xAxisLabelFormat;n.configInfo.yAxisLabelFormat=t.isNullOrUndefined(n.configInfo.yAxisLabelFormat)?"":n.configInfo.yAxisLabelFormat;n.configInfo.Showxaxis=!t.isNullOrUndefined(n.configInfo.Showxaxis)&&n.configInfo.Showxaxis;n.configInfo.Showyaxis=!t.isNullOrUndefined(n.configInfo.Showyaxis)&&n.configInfo.Showyaxis;n.configInfo.ShowSecondaryYAxis=!t.isNullOrUndefined(n.configInfo.ShowSecondaryYAxis)&&n.configInfo.ShowSecondaryYAxis;n.configInfo.ShowHeader=t.isNullOrUndefined(n.configInfo.ShowHeader)?"":n.configInfo.ShowHeader;n.configInfo.Properties=t.isNullOrUndefined(n.configInfo.Properties)?null:n.configInfo.Properties;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.SecondaryAxisMaximumValueColumnName=t.isNullOrUndefined(n.configInfo.SecondaryAxisMaximumValueColumnName)?"":n.configInfo.SecondaryAxisMaximumValueColumnName;n.configInfo.PrimaryAxisMaximumValueColumnName=t.isNullOrUndefined(n.configInfo.PrimaryAxisMaximumValueColumnName)?"":n.configInfo.PrimaryAxisMaximumValueColumnName;n.configInfo.isAllPrimary=!t.isNullOrUndefined(n.configInfo.isAllPrimary)&&n.configInfo.isAllPrimary;n.configInfo.isAllSecondary=!t.isNullOrUndefined(n.configInfo.isAllSecondary)&&n.configInfo.isAllSecondary;n.configInfo.SecondaryAxisTitle=t.isNullOrUndefined(n.configInfo.SecondaryAxisTitle)?"":n.configInfo.SecondaryAxisTitle;n.configInfo.PrimaryAxisTitle=t.isNullOrUndefined(n.configInfo.PrimaryAxisTitle)?"":n.configInfo.PrimaryAxisTitle;n.configInfo.showSecondaryAxisGridLine=!t.isNullOrUndefined(n.configInfo.showSecondaryAxisGridLine)&&n.configInfo.showSecondaryAxisGridLine;n.configInfo.MultipleSeries=!t.isNullOrUndefined(n.configInfo.MultipleSeries)&&n.configInfo.MultipleSeries;n.configInfo.ComparisonMultipleSeries=!t.isNullOrUndefined(n.configInfo.ComparisonMultipleSeries)&&n.configInfo.ComparisonChartProp;n.configInfo.ColumnProperties=t.isNullOrUndefined(n.configInfo.ColumnProperties)?[]:n.configInfo.ColumnProperties;n.configInfo.PrimaryAxisFormatProp=t.isNullOrUndefined(n.configInfo.PrimaryAxisFormatProp)?[]:n.configInfo.PrimaryAxisFormatProp;n.configInfo.SecondaryAxisFormatProp=t.isNullOrUndefined(n.configInfo.SecondaryAxisFormatProp)?[]:n.configInfo.SecondaryAxisFormatProp;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ComparisonChartProp=t.isNullOrUndefined(n.configInfo.ComparisonChartProp)?[]:n.configInfo.ComparisonChartProp;n.configInfo.CustomLegends=t.isNullOrUndefined(n.configInfo.CustomLegends)?[]:n.configInfo.CustomLegends;n.configInfo.ChartSeriesHeaderName=t.isNullOrUndefined(n.configInfo.ChartSeriesHeaderName)?"":n.configInfo.ChartSeriesHeaderName;n.configInfo.DrilledChartProperties=t.isNullOrUndefined(n.configInfo.DrilledChartProperties)?[]:n.configInfo.DrilledChartProperties;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.IsBlendingWidget=!t.isNullOrUndefined(n.configInfo.IsBlendingWidget)&&n.configInfo.IsBlendingWidget},_generateLabelOverflowMode:function(n){return t.isNullOrUndefined(n.Properties.LabelOverflowMode)?n.Properties.PrimaryAxisLabelTrim?"trim":"hide":n.Properties.LabelOverflowMode.toLowerCase()},_chartMasterSelection:function(i,r){var f=0,u;t.isNullOrUndefined(r.SelectedFilterInfo)||r.SelectedFilterInfo.length===f?r.SelectedFilterInfo.length===f&&(n("#"+i.attr("id")+"_removeControlFilter").removeClass("e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").attr("tabindex","-1"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),u=i.data("ejDashboardChart"),t.isNullOrUndefined(r.SelectedFilterInfo[0].PointIndex)||t.isNullOrUndefined(r.SelectedFilterInfo[0].SeriesIndex)||(u.model.selectedDataPointIndexes.push({pointIndex:r.SelectedFilterInfo[0].PointIndex,seriesIndex:r.SelectedFilterInfo[0].SeriesIndex}),u.redraw()))},_clearSelection:function(t,i){var u=1,o=i.selectedData.length,r,f,e;if(o>u)for(r=0;r<i.selectedData.length-u;r++)f=document.getElementById(t+"_svg_Series"+i.selectedData[r].seriesIndex+"_Point"+i.selectedData[r].pointIndex),n(f).attr("class",""),e=document.getElementById("container_svg_LegendItemShape"+i.selectedData[r].seriesIndex),n(e).attr("class","")},_clearSelectionForProportionChart:function(t,i){window.previousElement&&n(window.previousElement).attr("class","");window.previousElement=i.selectedData.length>0?document.getElementById(t+"_svg_Series"+i.selectedData[0].seriesIndex+"_Point"+i.selectedData[0].pointIndex):"";i.model.selectedData=[]},_labelIntersect:function(n,t){switch(n){case 0:return"hide";case-90:return t.Properties.ChartType==="Bar"||t.Properties.ChartType==="StackingBar"?"hide":"none";case-45:return"none";case 45:return"none";case 90:return t.Properties.ChartType==="Bar"||t.Properties.ChartType==="StackingBar"?"hide":"none"}return"none"},_labelRotationAngleValue:function(n){var t=0;switch(n){case 1:t=-90;break;case 2:t=-45;break;case 3:t=45;break;case 4:t=90}return t},_chartScrollChange:function(n,t,i,r,u){var f={},e=0,s=JSON.parse(JSON.stringify(this.dashboardParameters)),o;u.reportName=n.Properties.AllowDrilldown&&i.length!==e&&i!==null?n.drillId:n.Id;this._createControlWaitingIndicator(t.parents(".e-dbrd-control-container"),!0);o=u.data.startIndex+1;n=JSON.stringify({dashboardPath:this.dashboardPath(),controlId:u.reportName,startIndex:o,pageSizeOnDemand:50,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:200,modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,drilledLevelInfo:n.Properties.AllowDrilldown&&i.length!==e&&i.length!==null?i:null,enableDrilldown:n.Properties.AllowDrilldown,controlUniqueId:t[0].id,data:r,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,mobileToken:this.mobileDeviceToken,dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(s),methodName:this.model.serviceMethods.getControlDataOnDemand,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner});f={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:n,onSuccess:this._processChartControlDataOnDemand,additionalParameter:n};this.doAjaxPost(f)},_processChartControlDataOnDemand:function(i,r,u){var l,a,b,k;u=this._processResponseMessage(u);var g=0,y=null,c=JSON.parse(r),e=this.dashboardControls.getControlByReport(c.controlId),p=[],w=[],s=null,h=n("#"+c.controlUniqueId).data("ejDashboardChart"),nt=0,f=0,o=0;if(c.drilledLevelInfo!==null&&c.drilledLevelInfo.length!==g&&c.enableDrilldown){for(l=0;l<u.d.length;l++)for(a=0;a<u.d[l].Value.length;a++)u.d[l].Value[a].key==="WidgetType"&&u.d[l].Value.splice(a);for(f=0;f<u.d.length;f++)for(o=0;o<u.d[f].Value.length;o++)w.push({Key:u.d[f].Value[o].key,Value:n.parseJSON(u.d[f].Value[o].value)}),p.push(w[o].Value.points),u.d[f].Value[o].key==="DrilledChartProp"&&(s=n.parseJSON(u.d[f].Value[o].value));h.model.series=this._CreateDrilledChartSeries(w,s);h.model.preRender=(s.Properties.ChartType==="StackingArea"||s.Properties.ChartType==="StackingBar"||s.Properties.ChartType==="StackingColumn")&&s.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],s):(s.Properties.ChartType==="StackingArea"||s.Properties.ChartType==="StackingBar"||s.Properties.ChartType==="StackingColumn")&&s.Properties.ShowSegmentWiseLabel!==null&&s.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:p}],s):n.proxy(this._ChartDrillPreRenderer,this,[{points:p}],s)}else{for(b=null,f=0;f<u.d.length;f++)if(u.d[f].Key===JSON.parse(r).controlId)for(o=0;o<u.d[f].Value.length;o++)u.d[f].Value[o].key==="Data"?(y=JSON.parse(u.d[f].Value[o].value),b=JSON.parse(this._objectValues(y)[g])):u.d[f].Value[o].key==="DynamicData"&&(k=JSON.parse(u.d[f].Value[o].value),e.hasMoreData=k.HasMoreData,e.totalCount=k.TotalCount);if(t.isNullOrUndefined(b.points)){h.model.primaryXAxis.pointsLength=e.totalCount;h.redraw();this._destroyAllControlWaitingIndicator();return}e.hasMoreData||(h.model.primaryXAxis.pointsLength=e.totalCount);nt=e.totalCount;var d=Object.keys(y),tt=d.length,v=[];for(f=0;f<tt;f++)v.push(JSON.parse(y[d[f]]));h.model.series=this._CreateChartSeries(v,d,e.configInfo,c.data);h.model.preRender=(e.configInfo.Properties.ChartType==="StackingArea"||e.configInfo.Properties.ChartType==="StackingBar"||e.configInfo.Properties.ChartType==="StackingColumn")&&e.configInfo.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,v,e.configInfo):(e.configInfo.Properties.ChartType==="StackingArea"||e.configInfo.Properties.ChartType==="StackingBar"||e.configInfo.Properties.ChartType==="StackingColumn")&&e.configInfo.Properties.ShowSegmentWiseLabel!==null&&e.configInfo.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,v,e.configInfo,!1):n.proxy(this._ChartPreRenderer,this,v,e.configInfo);h.model.primaryXAxis.pointsLength=nt}h.model.size.height=n("#"+c.controlUniqueId).height()+"px";h.redraw();this._destroyAllControlWaitingIndicator()},_getFromChartDataCache:function(n){for(var i=this.proportionChartData.length,t=0;t<i;t++)if(this.proportionChartData[t].Key===n)return this.proportionChartData[t].Value;return null},_addOrUpdateChartDataCache:function(n,i){for(var u=!1,f=this.proportionChartData.length,r=0;r<f;r++)this.proportionChartData[r].Key===i&&t.isNullOrUndefined(n.isResize)&&(this.proportionChartData[r].Value=n,u=!0);!u&&t.isNullOrUndefined(n.isResize)&&this.proportionChartData.push({Key:i,Value:n})},_generateContainersForProprortionChart:function(t,i){var f=100,s=0,h=1,k=10,a=15,d=17,v=null,y=null,r=1,u=1,g=i.length,o=null,e=null,nt=Math.round(t.width()/this.currentTabContentElement.width()*f),c=Math.round(t.height()/this.currentTabContentElement.height()*f),p=n("<table style='width:100%;height:auto;margin:0;' cellspacing="+s+" cellpadding="+s+">"),l,w,b;for(i.length===h&&p.css({height:"100%"}),l=t.width()-k,w=200,r=Math.round(l/g),(r>a||r<3)&&(r=10);;){if(o=l/r-k,e=o,u=Math.ceil(g/r),r<=h){r=1;break}if(o<w){r-=h;continue}if((t.height()-e*u)*(f/t.height())>a){r-=h;continue}break}for(nt=t.width()*(f/this.currentTabContentElement.width()),c=t.height()*(f/this.currentTabContentElement.height()),c<=26&&nt>a&&(e=(c>d?c:d)/f*l),t.height()/u>w&&(e=t.height()/u-5),u<=s&&(u=1),r<=s&&(r=1),v=0;v<u;v++){for(b=n("<tr>"),y=0;y<r;y++)b.append(n("<td>").css({height:e+"px",width:o+"px"}));p.append(b)}return{table:p,height:e,width:o}},_legendRender:function(n,t){var e=127,o=-1,f=String.fromCharCode(e),u=String.fromCharCode(e)+"_",i=null,r=t.data.legendItem,c=n.CustomLegends.length;if(t.model.legend.responsiveVisibility&&n.CustomLegend&&(n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Pyramid"||n.Properties.ChartType==="Funnel"))for(i=0;i<c;i++){var l=n.TooltipForColumns||n.TooltipForRowCalc?n.CustomLegends[i].name:n.CustomLegends[i].displayname,s=r.Text,h="";(n.TooltipForColumns||n.TooltipForRowCalc)&&r.Text.indexOf(u)!==o&&(s=r.Text.split(u)[1],h=r.Text.split(u)[0]);n.CustomLegends.length>r.SeriesIndex&&s.toString()===l?r.Text=n.CustomLegends[i].customName===null||n.CustomLegends[i].customName===""?n.CustomLegends[i].displayname:n.CustomLegends[i].customName.replace(f,""):n.CustomLegends[i].displayname===null&&n.CustomLegends[i].name===h&&(r.Text=n.CustomLegends[i].customName===null||n.CustomLegends[i].customName===""?n.CustomLegends[i].name:n.CustomLegends[i].customName.replace(f,""))}else r.Text=(n.TooltipForColumns||n.TooltipForRowCalc)&&r.Text.indexOf(u)!==o?r.Text.split(u)[0]:r.Text,r.Text=this._typecheck(r.Text,f)},_typecheck:function(n,t){switch(typeof n){case"number":case"boolean":return n;case"string":return n.replace(t,"")}return""},_chartAxisRenderer:function(n,i){var r=0;i.data.axis.valueType==="double"&&(i.data.axis.opposedPosition?n.SecondaryAxisFormatProp!==null?n.SecondaryAxisFormatProp.FormatType==="Percent"?i.data.label.Text=this._applyPercentageForChart(n.SecondaryAxisFormatProp.StringFormat,n.SecondaryAxisFormatProp.culture,n.SecondaryAxisFormatProp.FormatProp.Unit,i.data.label.Text):(i.data.label.Text=this._applyStringFormatting(n.SecondaryAxisFormatProp.StringFormat,n.SecondaryAxisFormatProp.culture,n.SecondaryAxisFormatProp.FormatProp.Unit,i.data.label.Text),t.isNullOrUndefined(n.SecondaryAxisFormatProp.FormatProp.DecimalSeparator)||t.isNullOrUndefined(n.SecondaryAxisFormatProp.FormatProp.GroupSeparator)||(i.data.label.Text=i.data.label.Text.replaceAll(n.SecondaryAxisFormatProp.FormatProp.DecimalSeparator.CurrentValue,n.SecondaryAxisFormatProp.FormatProp.DecimalSeparator.AliasValue),i.data.label.Text=i.data.label.Text.replaceAll(n.SecondaryAxisFormatProp.FormatProp.GroupSeparator.CurrentValue,n.SecondaryAxisFormatProp.FormatProp.GroupSeparator.AliasValue))):i.data.label.Text=this._applyStringFormatting("N2","en-US",r,i.data.label.Text):n.PrimaryAxisFormatProp!==null?n.PrimaryAxisFormatProp.FormatType==="Percent"?i.data.label.Text=this._applyPercentageForChart(n.PrimaryAxisFormatProp.StringFormat,n.PrimaryAxisFormatProp.culture,n.PrimaryAxisFormatProp.FormatProp.Unit,i.data.label.Text):(i.data.label.Text=this._applyStringFormatting(n.PrimaryAxisFormatProp.StringFormat,n.PrimaryAxisFormatProp.culture,n.PrimaryAxisFormatProp.FormatProp.Unit,i.data.label.Text),t.isNullOrUndefined(n.PrimaryAxisFormatProp.FormatProp.DecimalSeparator)||t.isNullOrUndefined(n.PrimaryAxisFormatProp.FormatProp.GroupSeparator)||(i.data.label.Text=i.data.label.Text.replaceAll(n.PrimaryAxisFormatProp.FormatProp.DecimalSeparator.CurrentValue,n.PrimaryAxisFormatProp.FormatProp.DecimalSeparator.AliasValue),i.data.label.Text=i.data.label.Text.replaceAll(n.PrimaryAxisFormatProp.FormatProp.GroupSeparator.CurrentValue,n.PrimaryAxisFormatProp.FormatProp.GroupSeparator.AliasValue))):i.data.label.Text=this._applyStringFormatting("N2","en-US",r,i.data.label.Text));return},_ChartPreRendererforStacking:function(n,r,u,f){for(var b=-1,y=0,h=[],l=[],e=0,o=0,s=0,k=f.model.series.length,d,g,nt,c,tt,v,it,a,rt,o=0;o<k;o++)if(f.model.series[o].type==="line")for(d=f.model.series[o].dataSource.length,e=0;e<d;e++)f.model.series[o].points[e].text=f.model.series[o].dataSource[e].text+r.CustomAdornmentText,n[o].points[e].visible!==i&&(f.model.series[o].points[e].visible=!1,f.model.series[o].points[e].y=NaN,f.model.series[o].points[e].YValues[0]=NaN);for(s=0;s<k;s++)if(f.model.series[s].type==="stackingcolumn"||f.model.series[s].type==="stackingbar"||f.model.series[s].type==="stackingarea"){for(g=f.model.series[s].points.length,e=0;e<g;e++)u||n[s].points[e]===i||n[s].points[e].visible===i?u&&n[0].points[s][e]!==i&&n[0].points[s][e].visible!==i&&(f.model.series[s].points[e].visible=!1,f.model.series[s].points[e].YValues[0]=NaN):(f.model.series[s].points[e].visible=!1,f.model.series[s].points[e].YValues[0]=NaN);l.push(f.model.series[s])}var p=l.length,w=null,ut=this.stackChartConfig.length;for(e=0;e<ut;e++)if(this.stackChartConfig[e].Key===r.Id){if(this.stackChartConfig[e].Values.length===p)return;w=this.stackChartConfig[e].Values;break}for(nt=0,e=0;e<p;e++)if(w===null||w.indexOf(e)===b)for(c=l[e].points,tt=c.length,o=0;o<tt;o++)v=this._getPointLocation(h,c[o].x),v!==b?(h[v].Value+=c[o].y,Math.abs(c[o].y)>y&&(h[v].SeriesIndex=e,h[v].Location=o)):h[nt++]={Key:c[o].x,Value:c[o].y,SeriesIndex:e,Location:o};for(o=p-1;o>=y;o--)for(e=0;e<l[o].points.length;e++)l[o].points[e].text="   ";for(it=h.length,e=0;e<it;e++)a=h[e],rt=t.isNullOrUndefined(r.PrimaryAxisFormatProp)?this._applyStringFormatting("N2","en-US",y,a.Value):r.PrimaryAxisFormatProp.FormatType==="Percent"?this._applyPercentageForChart(r.PrimaryAxisFormatProp.StringFormat,r.PrimaryAxisFormatProp.culture,r.PrimaryAxisFormatProp.FormatProp.unit,a.Value):this._applyStringFormatting(r.PrimaryAxisFormatProp.StringFormat,r.PrimaryAxisFormatProp.culture,r.PrimaryAxisFormatProp.FormatProp.Unit,a.Value),l[a.SeriesIndex].points[a.Location].text=rt+r.CustomAdornmentText},_getPointLocation:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].Key===t)return i;return-1},_ChartPreRenderer:function(n,t,r){for(var s,f,e,h,c=r.model.series.length,o=t.Properties.ChartType==="Pie"||t.Properties.ChartType==="Pyramid"||t.Properties.ChartType==="Doughnut"||t.Properties.ChartType==="Funnel",u=0;u<c;u++)for(s=r.model.series[u].points.length,f=0;f<s;f++)e=null,typeof n[u].points[f]!="undefined"&&(e=n[u].points[f].text,o||n[u].points[f].visible!==i&&(r.model.series[u].points[f].visible=!1),h=n[u].points[f].y,r.model.series[u].points[f].text=h===0&&!o?"  ":e+t.CustomAdornmentText)},_ChartDrillPreRenderer:function(n,t,i){for(var o,u,f,s,h,e=0,c=i.model.series.length,r=0;r<c;r++)for(o=i.model.series[r].points.length,u=0;u<o;u++)f=null,(t.Properties.ChartType==="Pie"||t.Properties.ChartType==="Pyramid"||t.Properties.ChartType==="Doughnut"||t.Properties.ChartType==="Funnel")&&t.MultipleSeries&&typeof n[r].points[u]!="undefined"&&(f=n[r].points[u].text,s=n[r].points[u].y,i.model.series[r].points[u].text=s===e&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":f+t.CustomAdornmentText),typeof n[0].points[r][u]!="undefined"&&(f=n[0].points[r][u].text,h=n[0].points[r][u].y,i.model.series[r].points[u].text=h===e&&t.Properties.ChartType!=="Pie"&&t.Properties.ChartType!=="Pyramid"&&t.Properties.ChartType!=="Doughnut"&&t.Properties.ChartType!=="Funnel"?"  ":f+t.CustomAdornmentText)},_CreateDrilledChartSeries:function(n,i){var y=127,l=-1,r=0,p=[],u=null,w=null,e=String.fromCharCode(y)+"_",f=i.Properties.ChartType,d=n.length,o="",s=!t.isNullOrUndefined(i.colorSetting)&&!this._isEmptyOrSpaces(i.colorSetting),a,v,k;if(s&&(o=JSON.parse(i.colorSetting),o.isMeasure))for(u=[],r=0;r<o.defaultSettings.length;r++)u.push(o.defaultSettings[r]["DefaultColors"][0].Color);for(r=0;r<d-1;r++){a=null;a=i.TooltipForRowColumns?this._setTrendLines(i,f,i.yTitles[r],null):{visibility:""};var h=null,c="",b=String.fromCharCode(y)+"_(";h=this._generateCustomLegendInSeriesForBasicChart(i,i.yTitles[r],r);h.indexOf(b)!==l?(v=h.split(b),i.yTitles[r]=v[0],c=v[1]):i.yTitles[r]=h;s||(u=this._setChartColorPalatteForDrillChart(i,n[r].Value.points[0],r));w=this._setChartMarker(i,f,i.Properties.ShowAdornmentInfo,s?u[r]:u);k=f!=="Area"&&f!=="SplineArea"&&f!=="StackingArea"&&f!=="StackingArea100";p.push({enableSmartLabels:!0,opacity:k?1:.5,marker:w,fill:s?u[r]:u,pointColorMappingName:"fill",trendlines:a,size:"size",dataSource:n[r].Value.points,yAxisName:t.isNullOrUndefined(n[r].Value.yAxisName)?"":n[r].Value.yAxisName,xName:"x",yName:["y"],name:i.yTitles[r].indexOf(e)!==l?i.yTitles[r].split(e)[0]:i.yTitles[r],customSeriesName:c.indexOf(e)!==l?c.split(e)[0]:c,Argument:n[r].Value.points})}return p},_CreateChartSeries:function(n,i,r,u){var h=0,et=1,c=-1,tt=127,v=[],e=null,p=null,g=!1,ot=r.Properties.ShowAdornmentInfo,f=null,l=null,s=null,y=null,o=null,lt=n.length,it=null,a=!t.isNullOrUndefined(r.colorSetting)&&!this._isEmptyOrSpaces(r.colorSetting),at,vt,st,ut,w,ht,yt,ct,nt;if(a&&(it=JSON.parse(r.colorSetting),it.isMeasure))for(o=[],f=0;f<it.defaultSettings.length;f++)o.push(it.defaultSettings[f]["DefaultColors"][0].Color);if((r.Properties.ChartType==="Funnel"||r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pyramid"||r.Properties.ChartType==="Pie")&&(r.Properties.IsBasicChartType=!0),!r.Properties.IsBasicChartType&&(u.ComparisonChartProp.Field.length>h||r.yTitle==="Values"))for(f=0;f<lt;f++){if(n[f]!==h)for(l=0;l<n[f].points.length;l++)g=n[f].points.length>et;if(i[f]==="Target Line"&&r.Properties.EnableTargetLine)e="line",a||(o=this._setChartColorPalatte(r,n[f].points[0],f)),p=this._setChartMarker(r,e,ot,a?o[f]:o);else if(u.ComparisonChartProp)for(at=u.ComparisonChartProp.Field.length,l=0;l<at;l++)if(u.ComparisonChartProp.Field[l]===i[f]){e=u.ComparisonChartProp.Type[l];a||(o=this._setChartColorPalatte(r,n[f].points[0],f));p=this._setChartMarker(r,e,ot,t.isNullOrUndefined(it)?o:o[f]);break}var rt=[],b=null,k=null;r.ComparisonMultipleSeries&&r.Id.indexOf("ComboChart")!==c?(s=String.fromCharCode(tt)+"_",vt=String.fromCharCode(tt)+"(",i[f].indexOf(s)!==c?(rt=i[f].split(s),st=rt[0].split(vt),b=st[1].replace(")",""),k=st[0]):(rt=i[f].split(s),b=rt[1].replace(")",""),k=rt[0])):(s=String.fromCharCode(tt)+"_",b=i[f].indexOf(s)!==c?i[f].split(s)[0]:i[f],k=i[f].indexOf(s)!==c?i[f].split(s)[0]:i[f]);ut=null;r.Id.indexOf("ComboChart")!==c&&r.TooltipForRowColumns&&g?(ut=r.Properties.ChartType,y=this._setTrendLines(r,ut,n[f].points[0].UniqueName,n[f].points[0].Argument)):r.Id.indexOf("Chart")!==c&&r.TooltipForRowColumns&&g?(ut=r.Properties.ChartType,y=this._setTrendLines(r,ut,n[f].points[0].UniqueName,n[f].points[0].Argument)):y={visibility:""};w=i[f].substr(t.DashboardConstants.Zero,i[f].indexOf("_"));w=w.replace(/[^A-Z0-9]/ig,"");t.isNullOrUndefined(e)||(e!=="Area"&&e!=="SplineArea"&&e!=="StackingArea"?r.Properties.UseDefaultPalette===null||r.Properties.UseDefaultPalette?v.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(w,u):"visible",enableSmartLabels:!0,fill:a?o[f]:o,trendlines:y,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:p,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,w,r,u):n[f].points,xName:"x",yName:["y"],size:"size",name:b,seriesname:k,Argument:"Argument",tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(h,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(h,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):v.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(w,u):"visible",enableSmartLabels:!0,fill:a?o[f]:o,trendlines:y,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:p,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,w,r,u):n[f].points,xName:"x",yName:["y"],size:"size",name:b,seriesname:k,Argument:"Argument",tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(h,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(h,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):r.Properties.UseDefaultPalette===null||r.Properties.UseDefaultPalette?v.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(w,u):"visible",enableSmartLabels:!0,fill:a?o[f]:o,trendlines:y,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:p,dataSource:n[f].points,xName:"x",yName:["y"],size:"size",Argument:"Argument",border:{color:"transparent"},opacity:.5,name:b,seriesname:k,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(h,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(h,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):v.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(w,u):"visible",enableSmartLabels:!0,fill:a?o[f]:o,trendlines:y,type:e.toLowerCase(),yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,marker:p,dataSource:n[f].points,xName:"x",yName:["y"],size:"size",Argument:"Argument",border:{color:"transparent"},opacity:.5,name:b,seriesname:k,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(h,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(h,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}))}else for(f=0;f<lt;f++)if(n[f]!==h){for(ht=0,yt=n[f].points.length,l=0;l<yt;l++)g=n[f].points.length>et,n[f].points[l].y===h&&(ht+=et);e=r.Properties.ChartType;a||(o=this._setChartColorPalatte(r,n[f].points,f));p=this._setChartMarker(r,e,ot,a?o[f]:o);y=r.Id.indexOf("ComboChart")!==c&&r.TooltipForRowColumns&&g?this._setTrendLines(r,e,n[f].points[0].UniqueName,n[f].points[0].Argument):r.Id.indexOf("Chart")!==c&&r.TooltipForRowColumns&&g?this._setTrendLines(r,e,n[f].points[0].UniqueName,n[f].points[0].Argument):{visibility:""};s=String.fromCharCode(tt)+"_";var ft=null,d="",pt=String.fromCharCode(tt)+"_(";ft=this._generateCustomLegendInSeriesForBasicChart(r,i[f],f);ft.indexOf(pt)!==c?(ct=ft.split(pt),i[f]=ct[0],d=ct[1]):i[f]=ft;nt=i[f].substr(t.DashboardConstants.Zero,i[f].indexOf("_"));nt=nt.replace(/[^A-Z0-9]/ig,"");(ht!==n[f].length&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")||e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel")&&(e!=="Area"&&e!=="SplineArea"&&e!=="StackingArea"&&e!=="StackingArea100"?v.push({visibility:this._dashboardData().isExportImage&&e!=="Pie"&&e!=="Doughnut"&&e!=="Pyramid"&&e!=="Funnel"?this._getVisibilityValue(nt,u):"visible",enableSmartLabels:!0,fill:a?o[f]:o,trendlines:y,size:"size",marker:p,yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,dataSource:this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One?this._getProportionVisibleValue(n,nt,r,u):n[f].points,xName:"x",yName:["y"],Argument:"Argument",name:i[f].indexOf(s)!==c?i[f].split(s)[0]:i[f],customSeriesName:d.indexOf(s)!==c?d.split(s)[0]:d,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(h,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(h,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}):v.push({visibility:this._dashboardData().isExportImage?this._getVisibilityValue(nt,u):"visible",enableSmartLabels:!0,fill:a?o[f]:o,trendlines:y,size:"size",marker:p,yAxisName:t.isNullOrUndefined(n[f].yAxisName)?"":n[f].yAxisName,dataSource:n[f].points,xName:"x",yName:["y"],Argument:"Argument",border:{color:"transparent"},opacity:.5,name:i[f].indexOf(s)!==c?i[f].split(s)[0]:i[f],customSeriesName:d.indexOf(s)!==c?d.split(s)[0]:d,tooltip:{font:{fontFamily:"Roboto"},visible:!0,Format:r.xTitle+" :"+r.xTypeChar.substr(h,r.xTypeChar.indexOf("{"))+" #point.x# "+r.xPostFixlabel+"<br/>"+r.yTitle+" :"+r.yTypeChar.substr(h,r.yTypeChar.indexOf("{"))+" #point.y# "+r.yPostFixlabel+"<br/>"}}))}return this._dashboardData().isExportImage&&(e==="Pie"||e==="Doughnut"||e==="Pyramid"||e==="Funnel")&&n.length===t.DashboardConstants.One&&(v[0].points=v[0].dataSource,v[0].dataSource=null),v},_getProportionVisibleValue:function(n,i,r,u){var e,s,f,o;if(u.filterSetting.length!==t.DashboardConstants.Zero)for(e=n[0].points,s=e.length,f=0;f<s;f++)e[f]._visibility="visible",o=e[f].x,o=o.replace(/[^A-Z0-9]/ig,""),e[f]._visibility=this._getVisibilityValue(o,u);return n[0].points},_getVisibilityValue:function(n,i){var f,r,u;if(i.filterSetting.length!==t.DashboardConstants.Zero)for(f=i.filterSetting.length,r=0;r<f;r++)if(u=i.filterSetting[r].LegendItem.Text,u=u.replace(/[^A-Z0-9]/ig,""),n===u)return"hidden";return"visible"},_generateCustomLegendInSeriesForBasicChart:function(n,t){var f=null,i=127,r,u,h;if(n.Properties.IsBasicChartType&&n.Properties.IsGroupCustomLegend&&(n.TooltipForRowColCalc||n.TooltipForRowCalc)){var c=String.fromCharCode(i)+"(",l=String.fromCharCode(i)+"_",e=t.split(l),o=null,s=null,a=t.split(c),v=n.Properties.GroupCustomLegends.length,y=n.Properties.SeriesCustomLegends.length;for(r=0;r<v;r++)if(e[1]===n.Properties.GroupCustomLegends[r].Name)for(u=0;u<y;u++)if(a[0]===n.Properties.SeriesCustomLegends[u].Name){h=n.Properties.CustomLegendSeriesFormat.replaceAll(this.locale.utils.Row,n.Properties.SeriesCustomLegends[u].CustomName);o=h.replaceAll(this.locale.utils.Value,n.Properties.GroupCustomLegends[r].CustomName)+String.fromCharCode(i)+"_"+e[1];s=n.Properties.SeriesCustomLegends[u].CustomName+String.fromCharCode(i)+"("+n.Properties.GroupCustomLegends[r].CustomName+")"+String.fromCharCode(i)+"_"+e[1];break}f=o+String.fromCharCode(i)+"_("+s}else f=t;return f},_setTrendLines:function(n,i,r,u){var e={visibility:""},o=[],s,f;if(i!=="StackingColumn100"&&i!=="StackingArea100"&&i!=="StackingBar100"&&i!=="StackingArea"&&i!=="StackingColumn"&&i!=="StackingBar"&&i!=="Pie"&&i!=="Pyramid"&&i!=="Doughnut"&&i!=="Funnel")for(s=n.Properties.TrendLines.length,f=0;f<s;f++)r=t.isNullOrUndefined(n.Properties.TrendLines[f].UniqueName)?u:r,r===n.Properties.TrendLines[f].UniqueName&&(e={visibility:n.Properties.TrendLines[f].LineVisible?"visible":"",type:n.Properties.TrendLines[f].LineType.toLowerCase(),name:n.Properties.TrendLines[f].CustomName!==null&&n.Properties.TrendLines[f].CustomName!==""?n.Properties.TrendLines[f].CustomName:this._DisplayLineTypeInLegend(n.Properties.TrendLines[f].LineType)+"("+u+")",fill:"#"+n.Properties.TrendLines[f].LineColor.substring(3,9),polynomialOrder:n.Properties.TrendLines[f].Order,dashArray:this._TrendLineStyle(n.Properties.TrendLines[f].LineStyle)},o.push(e));return o},_TrendLineStyle:function(n){switch(n){case"Solid":return"";case"Dot":return"2,3";case"Dash":return"4,8";case"DotDash":return"2,6,6,10";case"LongDash":return"15";case"LongDashDotDot":return"20, 10, 5, 5, 5, 10"}return""},_DisplayLineTypeInLegend:function(n){switch(n){case"Logarithmic":return"Log.";case"Polynomial":return"Poly.";case"Exponential":return"Expon.";default:return n}},_getLegendPosition:function(n){switch(n){case 0:return"left";case 1:return"top";case 2:return"right";case 3:return"bottom";case 4:return"floating"}return"bottom"},_setChartColorPalatteForDrillChart:function(n,t,i){var r=0,e=0,o=3,u=9,s=127,f=n.Properties.SeriesColorPalette.length,h,c;if(n.Properties.ChartType!=="Pie"&&n.Properties.ChartType!=="Doughnut"&&n.Properties.ChartType!=="Funnel"&&n.Properties.ChartType!=="Pyramid")if(n.TooltipForColumns||n.TooltipForRowColumns){if(f===e||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(r=0;r<f;r++)if(n.Properties.SeriesColorPalette[r].Name===t.UniqueName)return n.Properties.SeriesColorPalette[r].CustomColor.length===u?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(o,u):n.Properties.SeriesColorPalette[r].CustomColor}else{if(f===e||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[i%this.theme.palette.length];for(h=t.Argument.split(String.fromCharCode(s)+"(")[0],c=h+String.fromCharCode(s)+"("+t.UniqueName+")",r=0;r<f;r++)if(n.Properties.SeriesColorPalette[r].Name===c)return n.Properties.SeriesColorPalette[r].CustomColor.length===u?"#"+n.Properties.SeriesColorPalette[r].CustomColor.substring(o,u):n.Properties.SeriesColorPalette[r].CustomColor}return this.theme.palette[i%this.theme.palette.length]},_setChartColorPalatte:function(n,i,r){var u=0,f=0,h=0,e=9,c=3,a=127,o=null,s=n.Properties.SeriesColorPalette.length,v,l,y,p,w;if(t.isNullOrUndefined(n.colorSetting)||n.Properties.UseDefaultPalette===null||(n.Properties.UseDefaultPalette=!1),n.Id.indexOf("ComboChart")!==-1){if(n.Properties.SeriesColorPalette.length===h||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[r%this.theme.palette.length];for(u=0;u<s;u++)if(n.Properties.SeriesColorPalette[u].Name===i.UniqueName)return n.Properties.SeriesColorPalette[u].CustomColor.length===e?"#"+n.Properties.SeriesColorPalette[u].CustomColor.substring(c,e):n.Properties.SeriesColorPalette[u].CustomColor}else if(n.Properties.ChartType!=="Pie"&&n.Properties.ChartType!=="Doughnut"&&n.Properties.ChartType!=="Funnel"&&n.Properties.ChartType!=="Pyramid")if(n.TooltipForColumns||n.TooltipForRowColumns){if(n.Properties.SeriesColorPalette.length===h||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[r%this.theme.palette.length];for(v=i.length,f=0;f<v;f++)if(i[f].UniqueName!==""){o=i[f].UniqueName;break}for(u=0;u<s;u++)if(n.Properties.SeriesColorPalette[u].Name===o)return n.Properties.SeriesColorPalette[u].CustomColor.length===e?"#"+n.Properties.SeriesColorPalette[u].CustomColor.substring(c,e):n.Properties.SeriesColorPalette[u].CustomColor}else{if(s===h||n.Properties.UseDefaultPalette===null||n.Properties.UseDefaultPalette)return this.theme.palette[r%this.theme.palette.length];for(l=null,y=i.length,f=0;f<y;f++)if(i[f].Argument!==""){o=i[f].Argument;l=i[f].UniqueName;break}for(p=o.split(String.fromCharCode(a)+"(")[0],w=p+String.fromCharCode(a)+"("+l+")",u=0;u<s;u++)if(n.Properties.SeriesColorPalette[u].Name===w)return n.Properties.SeriesColorPalette[u].CustomColor.length===e?"#"+n.Properties.SeriesColorPalette[u].CustomColor.substring(c,e):n.Properties.SeriesColorPalette[u].CustomColor}return this.theme.palette[r%this.theme.palette.length]},_setChartMarker:function(n,i,r,u){var o=10,s=-18,h=-22,e=this._labelRotationAngleValue(n.Properties.ValueLabelAngle),f={showText:!1};switch(i){case"Pie":case"Doughnut":case"Funnel":case"Pyramid":f={dataLabel:{font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,shape:"none"}};break;case"StackingColumn100":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto",color:this._getColorBrightness(u)},visible:r,verticalTextAlignment:"near",textPosition:"top",offset:s}};break;case"StackingColumn":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto",color:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?this._getColorBrightness(u):this.theme.labelscolor},visible:r,verticalTextAlignment:"near",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?s:o}};break;case"Column":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,verticalTextAlignment:"near",textPosition:"top",offset:o}};break;case 19:case"Scatter":case"Bubble":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,verticalTextAlignment:"near"}};break;case"SplineArea":case"Area":case"Spline":case"Line":f={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,verticalTextAlignment:"near",textPosition:"top",offset:o}};break;case"StackingArea":f={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,verticalTextAlignment:"near",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?h:o}};break;case"StackingArea100":f={shape:"circle",visible:n.Properties.ShowMarker,dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,verticalTextAlignment:"near",textPosition:"top",offset:h}};break;case"Bar":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto"},visible:r,horizontalTextAlignment:"near",textPosition:"top"}};break;case"StackingBar":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto",color:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?this._getColorBrightness(u):this.theme.labelscolor},visible:r,textAnchor:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?"end":"middle",textPosition:"top",offset:n.Properties.ShowSegmentWiseLabel!==null&&n.Properties.ShowSegmentWiseLabel?{x:s}:{}}};break;case"StackingBar100":f={dataLabel:{angle:e,font:{size:t.isNullOrUndefined(n.Properties.DataLabelFontSettings)?"9":n.Properties.DataLabelFontSettings.FontSize,fontFamily:"Roboto",color:this._getColorBrightness(u)},visible:r,textPosition:"top",textAnchor:"end",offset:{x:s}}}}return f},_getColorBrightness:function(n){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/.exec(n),i="rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+");";return i>=204?"black":"white"},_getChartType:function(n){switch(n){case 0:return"column";case 1:return"area";case 2:return"bar";case 3:return"line";case 4:return"pie";case 5:return"rangecolumn";case 6:return"splinearea";case 7:return"scatter";case 8:case 9:return"stackingarea";case 10:case 11:return"stackingbar";case 12:case 13:return"stackingcolumn";case 14:return"stepline";case 15:return"doughnut";case 16:return"line";case 17:return"pyramid";case 19:return"spline";default:return"line"}},_chartLegendClickForAccumulation:function(t,i,r){for(var l,s,f,a,h=100,v="#"+i,c=n(v).ejDashboardChart("instance"),u=[],y=0,e=0,p=0,w=r.data.series.visiblePoints[r.data.legendItem.LegendItem.PointIndex]._visibility,b=r.data.series.visiblePoints[r.data.legendItem.LegendItem.PointIndex].actualIndex,o=0;o<r.model._visibleSeries[0].points.length;o++)u[y++]={x:r.model._visibleSeries[0].points[o].x,y:r.model._visibleSeries[0].points[o].y,text:r.model._visibleSeries[0].points[o].text,visible:r.model._visibleSeries[0].points[o].actualIndex===b?w==="visible"?!1:!0:r.model._visibleSeries[0].points[o]._visibility==="visible"?!0:!1};for(l=u.length,s=0;s<l;s++)u[s].visible===!0&&(e+=Math.abs(u[s].y));for(e=e===0?1:e,f=0;f<l;f++)a=u[f].y/e*h===h?u[f].y/e*h+"%":(u[f].y/e*h).toFixed(2)+"%",u[p++]={x:u[f].x,y:u[f].y,text:t.Properties.ChartDataLabel==="ValueAndPercentage"?u[f].text.split("(")[0]+"("+a+")":a,_visibility:u[f].visible===!0?"visible":"hidden"};c.model.series[0].dataSource=null;c.model.series[0].points=u;c.model.preRender=n.proxy(this._ChartPreRenderer,this,[{points:u}],t);c.redraw();this._chartLegendValue(t,r)},_chartLegendClick:function(n,t){var r,i,u,o,e;if(n.Properties.ChartType==="Bar"||n.Properties.ChartType==="Column"||n.Properties.ChartType==="StackingColumn100"||n.Properties.ChartType==="Line"||n.Properties.ChartType==="Spline"||n.Properties.ChartType==="Area"||n.Properties.ChartType==="Scatter")this._chartLegendValue(n,t);else{var f=!1;for(r=0;r<this.stackChartConfig.length;r++)if(i=this.stackChartConfig[r],i.Key===n.Id){if(f=!1,t.data.series.visibility==="visible"){i.Values[this.stackChartConfig[r].Values.length]=t.data.legendItem.Style.SeriesIndex;break}for(u=0;u<i.Values.length;u++)if(o=i.Values[u],o===t.data.legendItem.Style.SeriesIndex){i.Values.splice(u,1);break}}else f=!0;(this.stackChartConfig.length===0||f)&&t.data.series.visibility==="visible"&&(e=[],e.push(t.data.legendItem.Style.SeriesIndex),this.stackChartConfig.push({Key:n.Id,Values:e}));this._chartLegendValue(n,t)}},_chartLegendValue:function(n,i){for(var r,u,f=i.data,o=this.dashboardControls.controls.length,e=0;e<o;e++)if(r=this.dashboardControls.controls[e],r.reportName===n.Id)if(f.legendItem.LegendItem.visibility==="visible")r.filterSetting.push(f.legendItem);else if(f.legendItem.LegendItem.visibility==="hidden")for(u=0;u<r.filterSetting.length;u++)r.filterSetting[u].LegendItem.Text===f.legendItem.LegendItem.Text&&r.filterSetting.splice(u,t.DashboardConstants.One)},_initDrillChartToolTip:function(n,t){var f=0,e=1,s=t.model._visibleSeries[t.data.seriesIndex].dataSource!==null?t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex]:t.model._visibleSeries[t.data.seriesIndex].points[t.data.pointIndex],h=String.fromCharCode(127)+"(",i=null,l=t.model._visibleSeries[t.data.seriesIndex].dataSource!==null?t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument:t.model._visibleSeries[t.data.seriesIndex].Argument[t.data.pointIndex].Argument,r,u,c,o;n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Funnel"||n.Properties.ChartType==="Pyramid"?n.TooltipForRowColumns?t.data.currentText=n.Argument+" : "+s.x+"<br/>"+l+" : "+s.text+n.CustomAdornmentText:n.TooltipForRowColCalc&&(i=l.split(h),t.data.currentText=n.Argument+" : "+s.x+"<br/>"+n.Seriesname+" : "+(i.length>e?i[0]:"(null)")+"<br/>"+(i.length>e?i[1].substring(f,i[1].length-e):i[0])+" : "+s.text+n.CustomAdornmentText):(r=null,u=null,n.TooltipForRowColumns?(r=t.data.currentText.substr(f,t.data.currentText.indexOf(" : ")),u=t.model.legend.responsiveVisibility&&n.CustomLegend?t.model._visibleSeries[t.data.seriesIndex].name===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?t.model._visibleSeries[t.data.seriesIndex].name===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].name+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+r+"<br/>"+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText,t.data.currentText=u):n.TooltipForRowColCalc&&(r=t.data.currentText.substr(f,t.data.currentText.indexOf(" : ")),c=n.Properties.IsGroupCustomLegend?t.model._visibleSeries[t.data.seriesIndex].customSeriesName:t.model._visibleSeries[t.data.seriesIndex].name,i=c.split(h),o=null,t.model.legend.responsiveVisibility&&n.Properties.IsCustomLegend?c===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:(o=t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument.split(h),u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+o[1].substring(f,o[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText):n.Properties.IsCustomLegend?c===t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument?u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText:(o=t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].Argument.split(h),u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+o[1].substring(f,o[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText):u=n.Seriesname+" : "+i[0]+"<br/>"+n.Argument+" : "+r+"<br/>"+i[1].substring(f,i[1].length-e)+" : "+t.model._visibleSeries[t.data.seriesIndex].dataSource[t.data.pointIndex].text+n.CustomAdornmentText,t.data.currentText=u))},_initChartToolTip:function(n,i){var p=127,e=0,w=-1,s=1,r=i.model._visibleSeries[i.data.seriesIndex].dataSource!==null?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex]:i.model._visibleSeries[i.data.seriesIndex].visiblePoints[i.data.pointIndex],l=String.fromCharCode(p)+"(",v=String.fromCharCode(p)+"_",u=null,f=null,a=null,o,c,y;if(n.Properties.ChartType==="Pie"||n.Properties.ChartType==="Doughnut"||n.Properties.ChartType==="Pyramid"||n.Properties.ChartType==="Funnel")typeof r.actualIndex=="undefined"&&(r.actualIndex=i.data.seriesIndex),n.TooltipForColumns?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?r.x.split(v)[0]+" : "+r.text:i.model.legendCollection[r.actualIndex].Text+" : "+r.text:r.x.indexOf(v)!==w?r.x.split(v)[0]+" : "+r.text:r.x+" : "+r.text):n.TooltipForRowColumns?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+r.text):n.TooltipForRowCalc?(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+r.x.split(v)[0]+" : "+r.text:n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+i.model.legendCollection[r.actualIndex].Text+" : "+r.text:n.Seriesname+" : "+i.model._visibleSeries[i.data.seriesIndex].name+"<br/>"+(r.x.indexOf(v)!==w)?r.x.split(v)[0]+" : "+r.text:r.x+" : "+r.text):n.TooltipForRowColCalc&&(u=i.model._visibleSeries[i.data.seriesIndex].name.split(l),(n.Properties.ChartDataLabel==="Value"||n.Properties.ChartDataLabel==="Percentage"||n.Properties.ChartDataLabel==="ValueAndPercentage")&&(i.data.currentText=i.model.legend.responsiveVisibility&&i.model.legendCollection.length!==e?i.model.legendCollection[r.actualIndex].Text!==r.x&&n.CustomLegend?n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text:n.Argument+" : "+r.x+"<br/>"+n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+r.text)),f=i.data.currentText,i.data.currentText=f+(i.model._visibleSeries[i.data.seriesIndex].dataSource!==null?n.CustomAdornmentText:"");else if(o=null,c=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].BubbleText,n.TooltipForColumns)o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",f=i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText,i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c);else if(n.TooltipForRowColumns)o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",f=n.drill?n.DrilledChartProperties.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText,i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c);else{var h=null,b=null,k=null;n.TooltipForRowCalc?(o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",n.Id.substr(e,n.Id.indexOf("_"))==="ComboChart"?i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(b=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument,y=b.split(l),k=y[1].substr(e,y[1].length-s),y.length===2&&(f=k+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText)):f=n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(a=i.model._visibleSeries[i.data.seriesIndex].name,u=a.split(l),i.model.legend.responsiveVisibility&&n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+h[0]+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+u[0]+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):f=n.Seriesname+" : "+u[0]+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText),i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c)):n.TooltipForRowColCalc?(o=i.data.currentText.substr(e,i.data.currentText.indexOf(" : ")),f="",n.Id.substr(e,n.Id.indexOf("_"))==="ComboChart"?f=i.model.legend.responsiveVisibility&&n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.CustomLegend?i.model._visibleSeries[i.data.seriesIndex].name===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:n.Argument+" : "+o+"<br/>"+i.model._visibleSeries[i.data.seriesIndex].name+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(a=i.model._visibleSeries[i.data.seriesIndex].name,u=a.split(l),i.model.legend.responsiveVisibility&&n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+h[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):n.CustomLegend?a===i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument?f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText:(h=i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].Argument.split(l),f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+h[1].substring(e,h[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText):f=n.Seriesname+" : "+u[0]+"<br/>"+n.Argument+" : "+o+"<br/>"+u[1].substring(e,u[1].length-s)+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text+n.CustomAdornmentText),i.data.currentText=f+(t.isNullOrUndefined(c)?"":"<br/>"+c)):(o=i.data.currentText.substr(e,i.data.currentText.indexOf(":")),f="",f=(i.model._visibleSeries.length>=s?i.model._visibleSeries[i.data.seriesIndex].name+"<br/>":"")+o+" : "+i.model._visibleSeries[i.data.seriesIndex].dataSource[i.data.pointIndex].text,i.data.currentText=f+n.CustomAdornmentText+(t.isNullOrUndefined(c)?"":"<br/>"+c))}},_loadDrilledChart:function(i,r,u,f){f=this._processResponseMessage(f);this._trigger("actionBegin",{eventType:t.dashboardViewer.event.drillDown,source:{element:n(i.target),data:f}});for(var e=0;e<f.d.length;e++)f.d[e].Key==="WidgetType"&&f.d.splice(e);this._drawDrilledChart(r,f,null,!0);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.drillDown,source:{element:n(i.target),data:f}})},_drawDrilledChart:function(r,u,f,e){var a=0,si=-1,g=1,hi=9,ci=.8,gt=25,li=3,ni=[],h=null,tr=this._id+"_maximized_"+r.drillId,v=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length!==a,o=v?tr:r.id,nt=r.drillId,k=[],tt=[],c=0,it=0,rt=0,ht="",l=this.dashboardControls.getControlByReport(nt),ct=JSON.parse(u.d[1].Value).ControlLinkData!==null?JSON.parse(u.d[1].Value).ControlLinkData:[],y,ai,ii,s,lt,vi,wt,yi,wi,bi,ui,d,ki,fi,ft,ei,di,oi,st;t.isNullOrUndefined(ct)||(ht=JSON.parse(u.d[1].Value).columnName);y=null;this.dashboardControls.getControlByReport(nt)&&(y=new Dbrdcontrol,y=y.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(nt)))));this._dashboardData().loadFromData&&(o=(o.indexOf("maximized_container")!==si||o.indexOf("maximize_container")!==si)&&!this._dashboardData().isPinned?"maximized_"+r.id:window.isExportPdf?this._id+t.DashboardConstants.Widget+r.drillId:o);var ut=this._getValuesFromDrillLevelInfo(y,r.drillId,y.isExportFromMaximizedView&&this._dashboardData().isExportImage?!0:v),yt=[],ti=!1,pt=ut;if(pt!==null&&typeof pt!="undefined"){if(e){if(typeof y.drillLevelData!="undefined"&&y.drillLevelData.length>a)for(ai=y.drillLevelData.length,c=0;c<ai;c++)y.drillLevelData[c].Key===(v?r.drillId+"_Maximize":r.drillId)&&(ti=!0);ti&&(yt=this._getValuesFromDrillLevelData(y,r.drillId,v));yt.push({Data:u,ConfigInfo:r});ti?this._updateValuesInDrillLevelData(y,r.drillId,yt,v):y.drillLevelData.push({Key:v?r.drillId+"_Maximize":r.drillId,Values:yt});this.dashboardControls.updateCurrentReport(y)}for(ii=ut.length,c=0;c<=ii;c++)ni[c]=c===a?r.Argument.toString():ut[c-g].toString();for(s=null,lt=r.drill&&r.DrilledChartProperties.RowCount-g!==ii,this._hideInactiveDiv(),this._destroyAllControlWaitingIndicator(),vi=u.d.length,it=0;it<vi;it++)tt.push({Key:u.d[it].Key,Value:n.parseJSON(u.d[it].Value)}),k.push(tt[it].Value.points),u.d[it].Key==="DrilledChartProp"&&(s=n.parseJSON(u.d[it].Value));for(wt=null,yi=tt.length,c=0;c<yi;c++)if(tt[c].Key!=="DrilledChartProp"){wt=!1;break}else wt=!0;wt&&tt.push({Key:"DrilledData",Value:""});var pi=this._labelRotationAngleValue(r.Properties.AngleValue),at=0,vt=r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Funnel"||r.Properties.ChartType==="Pyramid",bt=this.theme.palette;if(vt)for(bt=[],wi=r.Properties.SeriesColorPalette.length,c=0;c<wi;c++)bi=r.Properties.SeriesColorPalette[c].CustomColor.length===hi?"#"+r.Properties.SeriesColorPalette[c].CustomColor.substring(3,hi):r.Properties.SeriesColorPalette[c].CustomColor,bt.push(bi);t.isNullOrUndefined(ut)||(at=ut.length);var w=null,et=null,b=null,ri=null,ot=null;if(vt&&s.MultipleSeries){if(h=n("<div>").attr({"data-controlid":nt,id:o+"_DrilledChart_"+at}),this._removePreviousBreadcrumbDiv(o),v&&t.isNullOrUndefined(f)&&(f={id:String(this._id)+"_maximized_"+nt,chartDiv:n("#"+o),isMaximize:!0}),w=n("<div>").attr({id:v?o+"_drillclose_maximize":o+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",r.drillId),w.ejDashboardBreadcrumb({dataSource:this._getBreadcrumbDatasource(ni,o),width:String(n("#"+o).width()),selected:n.proxy(this._closeDrilledChart,this,r,v)}),n("#"+o).parent().append(w),n("#"+o).hasClass("e-dbrd-MaximizedControl")?(h.css({width:n("#"+o).parent().width()-5,height:n("#"+o).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart"),w.css({top:0,left:0})):(b=this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-heading").length&&this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-heading").height()+this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading").height():this.currentTabContentElement.find("#"+o).siblings(".e-control-heading").height(),ri=this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading").height(),h.css({position:"absolute",top:b?ri?b+li:b:a}).addClass("drilledChart"),ot=n("#"+o).parent(),h.width(ot.width()),h.height(ot.height()-b),w.css({top:b?ri?b+li:b:a,left:0})),typeof k[0]=="undefined"){for(n("#"+o).parent().append(h),this._applyOrRemoveNoDataAvailable(a,h),rt=0;rt<at;rt++)ui=n("#"+o+"_DrilledChart_"+rt),ui.data("ejDashboardScroller")&&ui.ejDashboardScroller("destroy");this._appendChartDiv(f,w,h);return}for(n("#"+o).parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),d=this._CreateDrilledChartSeries(tt,s,h),h.css({overflow:"hidden"}),n("#"+o).parent().append(h),h.append(n("<div>")),ki=d.length,c=0;c<ki;c++){if(et=n("#"+r.id).find(".e-datavisualization-chart").eq(c).offset(),typeof et=="undefined"&&d.length===g&&(et=n("#"+o).offset()),fi=[],fi.push(d[c]),ft=n("<div>").attr({id:o+"_DrilledChart_"+at+"_childChart_"+c}),ft.addClass("pull-left"),ft.css({width:"100%",height:"100%",position:"relative",top:String(et.top),left:String(et.left)}).addClass("e-chartChild"),d[c].dataSource.length===a){ft.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}else{for(ei=0,di=d[c].dataSource.length,rt=0;rt<di;rt++)parseInt(d[c].dataSource[rt].y)===a&&(ei+=g);if(ei===d[c].dataSource.length){ft.html(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));continue}}h.children().eq(a).height(h.height());h.children().eq(a).append(ft);ft.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:lt,opacity:.8,border:{width:1},mode:!vt&&!r.DrilledChartProperties.TooltipForRowCalc?"cluster":"point",pattern:"diagonalForward"},selectionSettings:{enable:lt,opacity:.8,border:{width:1},mode:vt||r.DrilledChartProperties.TooltipForRowCalc?"point":"cluster",pattern:"diagonalForward"},pieCoefficient:r.DrilledChartProperties.pieCoefficient,doughnutCoefficient:.3,doughnutSize:r.DrilledChartProperties.doughnutSize===a?ci:r.DrilledChartProperties.doughnutSize,type:r.Properties.ChartType.toLowerCase(),enableAnimation:r.Properties.EnableAnimation,animateonebyone:!0,explode:r.drill&&r.DrilledChartProperties.RowCount-g!==ut.length&&(r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"),explodeOffset:5,tooltip:{font:{fontFamily:"Roboto"},visible:!0},labelPosition:"outside",style:{borderWidth:2}},palette:r.Properties.SeriesColorPalette.length===a?this.theme.palette:vt&&r.Properties.UseDefaultPalette!==null&&!r.Properties.UseDefaultPalette?bt:this.theme.palette,canResize:!0,adaptiveRendering:!0,series:fi,title:{font:{fontFamily:"Roboto",size:"12px",fontWeight:"Medium"},text:d[c].name.replace(String.fromCharCode(127),""),visible:!0},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:r.Properties.ShowLegends,position:r.Properties.LegendPosition,shape:"seriesType",itemStyle:{height:8,width:8}},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:t.isNullOrUndefined(r.Properties.XAxisFontSettings)?this.theme.axisFontSize:r.Properties.XAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:s.xTitles,enableTrim:!0},labelFormat:s.xTypeChars,valueType:"category",labelRotation:pi,labelIntersectAction:this._generateLabelOverflowMode(r),visible:r.DrilledChartProperties.Showxaxis,majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:typeof r.Properties.ShowHorizontalLine=="undefined"?!0:r.Properties.ShowHorizontalLine}},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(r.Properties.PrimaryAxisFontSettings)?this.theme.axisFontSize:r.Properties.PrimaryAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(s.PrimaryAxisTitle)?s.yTitle:s.PrimaryAxisTitle!==""||s.SecondaryAxisTitle!==""?s.PrimaryAxisTitle:s.yTitle},labelFormat:s.yTypeChars,valueType:"double",visible:r.DrilledChartProperties.Showyaxis,majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:typeof r.Properties.ShowVerticalLine=="undefined"?!0:r.Properties.ShowVerticalLine},name:s.PrimaryAxisMaximumValueColumnName,opposedPosition:s.isAllSecondary&&!s.isAllPrimary},legendItemClick:(r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pie")&&(r.Properties.ChartDataLabel==="Percentage"||r.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,r,ft[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,r),toolTipInitialize:n.proxy(this._initDrillChartToolTip,this,s),preRender:(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:k[c]}],r,!0):(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:k[c]}],r,!0):n.proxy(this._ChartDrillPreRenderer,this,[{points:k[c]}],r),enableRightClick:!0,pointRegionClick:n.proxy(this._loadChartSlaves,this,l.configInfo,l.configInfo.Id,v,{argumentColumn:l.configInfo.IsLinked?ht:l.configInfo.argumentColumn,seriesColumn:l.configInfo.seriesColumn,measureColumns:l.configInfo.MeasureColumns},l.configInfo.IsLinked?ct:i,l.configInfo.IsLinked?!1:l.configInfo.IsMasterFilter),chartDoubleClick:n.proxy(this._loadChartSlaves,this,l.configInfo,l.configInfo.Id,v,{argumentColumn:l.configInfo.IsLinked?ht:l.configInfo.argumentColumn,seriesColumn:l.configInfo.seriesColumn,measureColumns:l.configInfo.MeasureColumns},l.configInfo.IsLinked?ct:i,l.configInfo.IsLinked?!1:l.configInfo.IsMasterFilter)})}h.data("ejDashboardScroller")&&h.ejDashboardScroller("destroy");d.length!==g&&(h.ejDashboardScroller({height:h.height(),width:h.width(),scrollerSize:13}),h.find(".e-scrollbar").css({"z-index":"2000"}));h.addClass("e-dbrd-control")}else{if(n("#"+o+"_DrilledChart").length===a){if(h=n("<div>").attr({"data-controlid":nt,id:o+"_DrilledChart_"+at}),this._removePreviousBreadcrumbDiv(o),v&&t.isNullOrUndefined(f)&&(f={id:String(this._id)+"_maximized_"+nt,chartDiv:n("#"+o),isMaximize:!0}),w=n("<div>").attr({id:v?o+"_drillclose_maximize":o+"_drillclose"}).addClass("e-drillClose").prop("data-report-name",r.drillId),w.ejDashboardBreadcrumb({dataSource:this._getBreadcrumbDatasource(ni,o),width:String(n("#"+o).width()),selected:n.proxy(this._closeDrilledChart,this,r,v)}),n("#"+o).parent().append(w),et=n("#"+o).offset(),n("#"+o).hasClass("e-dbrd-MaximizedControl")?(h.css({width:n("#"+o).parent().width()-6,height:n("#"+o).height(),position:"absolute",top:0,left:0,"background-color":"white"}).addClass("drilledChart e-dbrd-control"),w.css({top:0,left:0})):(b=this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-heading").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-heading").height():this.currentTabContentElement.find("#"+o).siblings(".e-control-heading").height(),oi=this.currentTabContentElement.find("#"+o).parents(".e-dbrd-control-container").find(".e-control-subtitleHeading"),oi.length>t.DashboardConstants.Zero&&(gt+=oi.height()),h.css({position:"absolute",top:b?gt:a,left:0}).addClass("drilledChart e-dbrd-control"),ot=n("#"+o).parent(),h.width(ot.width()-4),h.height(ot.height()-(b?b+2:a)-7),w.css({top:b?gt:a,left:0})),n("#"+o).parent().append(h),this._applyOrRemoveNoDataAvailable(k[0]===i?a:g,h),k[0]===i){this._appendChartDiv(f,w,h);return}}else{h.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"});h.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"});h=n("#"+o+"_DrilledChart");n("#"+o).parent().children(".e-drillClose").fadeIn();h.fadeIn();st=h.data("ejDashboardChart");st&&(st.model.series=this._CreateDrilledChartSeries(tt,s,h),st.model.title.text=r.DrilledChartProperties.ShowHeader!==""?pt+"("+s.yTitle+")":"",st.model.preRender=n.proxy(this._ChartDrillPreRenderer,this,[{points:k[0]}],r),st.redraw());return}var kt=this._isColorCustomizableChart(r.Properties.ChartType),gi=[],p="",dt="",nr=!1;if(kt&&!t.isNullOrUndefined(s.colorSetting)&&s.colorSetting!=="")if(p=JSON.parse(s.colorSetting),p.isMeasure){for(c=0;c<p.defaultSettings.length;c++)gi.push(p.defaultSettings[c]["DefaultColors"][0].Color);dt=p.advancedSettings.length>a?"range":"series";nr=!0}else dt="point";else dt="series";h.ejDashboardChart({commonSeriesOptions:{highlightSettings:{enable:lt,opacity:.8,border:{width:1},mode:"cluster",pattern:"diagonalForward"},selectionSettings:{enable:lt,opacity:.8,border:{width:1},mode:"cluster",pattern:"diagonalForward"},pieCoefficient:r.DrilledChartProperties.pieCoefficient,doughnutCoefficient:.3,doughnutSize:r.DrilledChartProperties.doughnutSize===a?ci:r.DrilledChartProperties.doughnutSize,type:r.Properties.ChartType.toLowerCase(),enableAnimation:r.Properties.EnableAnimation,animateonebyone:!0,explode:r.drill&&r.DrilledChartProperties.RowCount-g!==ut.length&&(r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Doughnut"),explodeOffset:5,tooltip:{font:{fontFamily:"Roboto"},visible:!0},labelPosition:"outside",style:{borderWidth:2}},palette:kt&&!t.isNullOrUndefined(p)&&p.isMeasure?gi:r.Properties.SeriesColorPalette.length===a?this.theme.palette:r.Properties.UseDefaultPalette!==null&&!r.Properties.UseDefaultPalette?bt:this.theme.palette,canResize:!0,adaptiveRendering:!0,series:this._CreateDrilledChartSeries(tt,s,h),rangeColorMapping:kt&&!t.isNullOrUndefined(p)&&p.isMeasure&&p.advancedSettings.length>a?this.getRangeColorMapping(p.advancedSettings[0],s.minMaxValues):[],title:{text:r.DrilledChartProperties.ShowHeader!==""?pt+"("+s.yTitle+")":""},legend:{font:{fontFamily:"Roboto",color:this.theme.legendfontcolor,size:this.theme.legendFontSize},visible:r.Properties.ShowLegends,position:r.Properties.LegendPosition,shape:"seriesType",itemStyle:{height:8,width:8},mode:dt,enableMultiRange:nr,toggleSeriesVisibility:!(kt&&!t.isNullOrUndefined(p)&&p.isMeasure&&p.advancedSettings.length>a)},primaryXAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryXAxisfontcolor,size:t.isNullOrUndefined(r.Properties.XAxisFontSettings)?this.theme.axisFontSize:r.Properties.XAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:r.Properties.ShowPrimaryXAxisTitle===null?!0:r.Properties.ShowPrimaryXAxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryXAxistitlecolor,size:this.theme.axisTitleFontSize},text:s.xTitles,enableTrim:!0},labelFormat:s.xTypeChars,valueType:"category",labelRotation:pi,enableScrollbar:r.TooltipForRowColumns,pointsLength:u.TotalCount,labelIntersectAction:this._generateLabelOverflowMode(r),visible:r.DrilledChartProperties.Showxaxis,majorGridLines:{color:this.theme.primaryXAxismajorGridLines,visible:r.Properties.ShowHorizontalLine===i?!0:r.Properties.ShowHorizontalLine}},primaryYAxis:{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(r.Properties.PrimaryAxisFontSettings)?this.theme.axisFontSize:r.Properties.PrimaryAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},title:{visible:r.Properties.ShowYaxisTitle===null?!0:r.Properties.ShowYaxisTitle,font:{fontFamily:"Roboto",color:this.theme.primaryYAxistitlecolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:t.isNullOrUndefined(s.PrimaryAxisTitle)?s.yTitle:s.PrimaryAxisTitle!==""||s.SecondaryAxisTitle!==""?s.PrimaryAxisTitle:s.yTitle},labelFormat:r.yTypeChars,valueType:r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar100"||r.Properties.ChartType==="StackingColumn100"?"":"double",visible:r.DrilledChartProperties.Showyaxis,majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:r.Properties.ShowVerticalLine===i?!0:r.Properties.ShowVerticalLine},name:s.PrimaryAxisMaximumValueColumnName,range:this._setAxisRange(r),opposedPosition:s.isAllSecondary&&!s.isAllPrimary},axes:[{font:{fontFamily:"Roboto",color:this.theme.primaryYAxisfontcolor,size:t.isNullOrUndefined(r.Properties.SecondaryAxisFontSettings)?this.theme.axisFontSize:r.Properties.SecondaryAxisFontSettings.FontSize},axisLine:{color:this.theme.axisLineColor},majorGridLines:{color:this.theme.primaryYAxismajorGridLines,visible:r.DrilledChartProperties.showSecondaryAxisGridLine},minorTickLines:{visible:!0},majorTickLines:{visible:!0,color:this.theme.majorTickColor},orientation:r.Properties.ChartType==="Bar"?"Horizontal":"Vertical",opposedPosition:!0,labelFormat:r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar100"||r.Properties.ChartType==="StackingColumn100"?"":r.yTypeChars,valueType:s.yType,range:this._setSecondaryAxisRange(r),title:{visible:r.Properties.ShowSecondaryYAxisTitle===null?!0:r.Properties.ShowSecondaryYAxisTitle,font:{fontFamily:"Roboto",color:this.theme.titletextcolor,size:this.theme.axisTitleFontSize},enableTrim:!0,text:s.SecondaryAxisTitle},name:s.SecondaryAxisMaximumValueColumnName,visible:t.isNullOrUndefined(s.SecondaryAxisMaximumValueColumnName)?!1:s.PrimaryAxisMaximumValueColumnName!==""&&s.SecondaryAxisMaximumValueColumnName!==""&&r.DrilledChartProperties.Showyaxis}],legendItemClick:r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingArea100"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn"||r.Properties.ChartType==="StackingBar100"?n.proxy(this._chartLegendClick,this,r):(r.Properties.ChartType==="Doughnut"||r.Properties.ChartType==="Pie"||r.Properties.ChartType==="Pyramid"||r.Properties.ChartType==="Funnel")&&(r.Properties.ChartDataLabel==="Percentage"||r.Properties.ChartDataLabel==="ValueAndPercentage")?n.proxy(this._chartLegendClickForAccumulation,this,r,h[0].id):[],axesLabelRendering:n.proxy(this._chartAxisRenderer,this,r),toolTipInitialize:n.proxy(this._initDrillChartToolTip,this,s),scrollChanged:n.proxy(this._chartScrollChange,this,r,h,ut,[]),preRender:(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.ShowSegmentWiseLabel===null?n.proxy(this._ChartPreRendererforStacking,this,[{points:k}],r,!0):(r.Properties.ChartType==="StackingArea"||r.Properties.ChartType==="StackingBar"||r.Properties.ChartType==="StackingColumn")&&r.Properties.EnableDataLabel!==null&&r.Properties.ShowSegmentWiseLabel===!1?n.proxy(this._ChartPreRendererforStacking,this,[{points:k}],r,!0):n.proxy(this._ChartDrillPreRenderer,this,[{points:k}],r),enableRightClick:!0,pointRegionClick:n.proxy(this._loadChartSlaves,this,l.configInfo,l.configInfo.Id,v,{argumentColumn:l.configInfo.IsLinked?ht:l.configInfo.argumentColumn,seriesColumn:l.configInfo.seriesColumn,measureColumns:l.configInfo.MeasureColumns},l.configInfo.IsLinked?ct:i,l.configInfo.IsLinked?!1:l.configInfo.IsMasterFilter),chartDoubleClick:n.proxy(this._loadChartSlaves,this,l.configInfo,l.configInfo.Id,v,{argumentColumn:l.configInfo.IsLinked?ht:l.configInfo.argumentColumn,seriesColumn:l.configInfo.seriesColumn,measureColumns:l.configInfo.MeasureColumns},l.configInfo.IsLinked?ct:i,l.configInfo.IsLinked?!1:l.configInfo.IsMasterFilter)})}this._appendChartDiv(f,w,h);this.model.enableCustomTheming&&(this._customTheme(["container"]),!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.container)&&!t.isNullOrUndefined(this.model.customThemeSettings.container["background-color"])&&this.model.customThemeSettings.container["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find("#"+this._id+t.DashboardConstants.Widget+nt+"_drillclose_breadcrumbDiv").css({"background-color":this.model.customThemeSettings.container["background-color"]}))}},_appendChartDiv:function(n,t,i){n!==null&&(n.chartDiv.append(t),n.chartDiv.append(i))},_removePreviousBreadcrumbDiv:function(t){for(var i=0,r=null,i=0;i<n("#"+t).parent().children().length;i++)n("#"+t).parent().children().eq(i).hasClass("e-drillClose")&&(r=n("#"+t).parent().children().eq(i).attr("id"),n("#"+r).remove());for(i=0;i<n("#"+t).children().length;i++)n("#"+t).children().eq(i).hasClass("e-drillClose")&&(r=n("#"+t).children().eq(i).attr("id"),n("#"+r).remove())},_getBreadcrumbDatasource:function(n,t){for(var r=[],i=0,u=n.length,i=0;i<u;i++)r.push({id:t+"_DrilledCharts_"+i,displayText:n[i]});return r},_loadChartSlaves:function(i,r,u,f,e,o,s){var a=0,ot=-1,at=[],st=!0,c=null,yt,v,ht,pt,ct,nt,tt,wt,y,bt,kt,ft,it,gt,lt,ni,k,et,ti;if((this.controlRelations.length!==a||!t.isNullOrUndefined(e)||i.isDrillDown||this._checkHasViewData(r))&&this.flag){var l=[],rt=[],h=0,d=null,ut=null,g=null,vt=String.fromCharCode(127)+"(",p=null;if(p=t.isNullOrUndefined(s)||s.type!=="chartDoubleClick"?t.isNullOrUndefined(s)||s.rightClick!==!0||s.type!=="pointRegionClick"?t.dashboardViewer.ActionType.Click:t.dashboardViewer.ActionType.ContextMenu:t.dashboardViewer.ActionType.DBClick,!t.isNullOrUndefined(s)){if(s.model.selectedDataPointIndexes!==null&&s.model.selectedDataPointIndexes.length>a&&s.model.selectedDataPointIndexes[0].pointIndex===s.data.region.Region.PointIndex&&s.model.selectedDataPointIndexes[0].seriesIndex===s.data.region.SeriesIndex)l=[],s.model.selectedDataPointIndexes=[];else{if(s.model.selectedDataPointIndexes=[],t.isNullOrUndefined(f.argumentColumn)||(yt=s.model._visibleSeries[s.data.region.SeriesIndex].points[s.data.region.Region.PointIndex].x,l.push({Column:f.argumentColumn,Value:yt})),v="",t.isNullOrUndefined(i)||t.isNullOrUndefined(i.Properties)||i.Properties.ChartType!=="Funnel"&&i.Properties.ChartType!=="Doughnut"&&i.Properties.ChartType!=="Pyramid"&&i.Properties.ChartType!=="Pie"){for(ht=s.model._visibleSeries[s.data.region.SeriesIndex].dataSource,pt=ht.length,h=0;h<pt;h++)if(v=ht[h].Argument.split(vt),v[0]!=="")break}else v=s.model._visibleSeries[s.data.region.SeriesIndex].name.split(vt);if(!t.isNullOrUndefined(f.measureColumns))for(ct=null,ct=r.indexOf("ProportionChart")!==ot?v:t.isNullOrUndefined(v[1])?v:v[1].substring(a,v[1].length-1),nt=0;nt<f.measureColumns.length;nt++)ct.indexOf(f.measureColumns[nt].Caption)!==ot&&l.push({Column:f.measureColumns[nt].Column,Value:s.model._visibleSeries[s.data.region.SeriesIndex].points[s.data.region.Region.PointIndex].y});t.isNullOrUndefined(f.seriesColumn)||l.push({Column:f.seriesColumn,Value:v[0]});rt.push({Items:l})}if(tt=this.dashboardControls.getControlByReport(r),l.length===a?(tt.SelectedFilterInfo.push(new selectedFilterInfo),tt.SelectedFilterInfo=[],st=!1):tt.SelectedFilterInfo=[],l.length>a)for(wt=l.length,h=0;h<wt;h++)y=new selectedFilterInfo,t.isNullOrUndefined(i.DateTimeColumns)||i.DateTimeColumns.indexOf(l[h].Column)===ot?y.DimensionFilterInfo.Text.push(l[h].Value):y.DateFilterInfo.DateFilterList.push(l[h].Value),y.PointIndex=s.data.region.Region.PointIndex,y.SeriesIndex=s.data.region.SeriesIndex,y.DimensionFilterInfo.Conditions=4,y.DimensionFilterInfo.Conditions=4,y.UniqueColumnName=l[h].Column,y.ReportName=tt.reportName,at.push(y)}for(bt=this.controlRelations.length,h=0;h<bt;h++)if(this.controlRelations[h].Master===r){if(d=this._id+t.DashboardConstants.Widget+this.controlRelations[h].Master,ut=this.controlRelations[h].Slaves,ut.length===a&&t.isNullOrUndefined(e)){g=this._checkFilterOverviewData(r);this._addFilterDataToTitle(g);return}s!==null&&st?this.masterData.push({Key:r,Value:rt}):this.masterData.push({Key:r,Value:rt});i===null&&(this.target=[],g=this.masterData,kt={master:r,masterData:g,slaves:ut,showIndicator:!1,isAutoRefresh:!1},this._makeSlaveDataRequest(kt));break}var w=null,dt=null,b="";if(w=!t.isNullOrUndefined(i)&&i.MultipleSeries&&p===t.dashboardViewer.ActionType.ContextMenu?n("#"+this._id+t.DashboardConstants.Widget+r+"_childChart_"+s.data.id.split("_")[5]).data("ejDashboardChart"):!t.isNullOrUndefined(i)&&i.MultipleSeries&&p===t.dashboardViewer.ActionType.DBClick?n("#"+this._id+t.DashboardConstants.Widget+r+"_childChart_"+s.data.id.split("_")[11]).data("ejDashboardChart"):n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDashboardChart"),!t.isNullOrUndefined(w))for(ft=n("#"+w._id).find('[class*="Selection"]'),it=0;it<ft.length;it++)t.isNullOrUndefined(n(ft[it]).attr("isfilter"))||n(ft[it]).removeAttr("isfilter");if(t.isNullOrUndefined(w)||t.isNullOrUndefined(s)||(dt=w.model.series[0].highlightSettings,b=w.getTargetId(s.data.region.SeriesIndex,s.data.region.Region.PointIndex,dt.mode)),p===t.dashboardViewer.ActionType.ContextMenu&&n("#"+b).attr("data-controlId","contextMenu"),p===t.dashboardViewer.ActionType.DBClick&&n("#"+b).attr("data-controlId","dbclick"),p===t.dashboardViewer.ActionType.Click&&!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.ActionSetting)&&i.ActionSetting.length>a&&!t.isNullOrUndefined(i.ActionSetting[0].Action)&&i.ActionSetting[0].Action[0]==="Filter"&&(n("#"+b).attr("data-controlId","click-filter"),n("#"+b).attr("isFilter","true")),(p===t.dashboardViewer.ActionType.ContextMenu||p===t.dashboardViewer.ActionType.DBClick)&&this._setHoverSelectionForWidget(s,r,w),i!==null){for(gt=this.currentTabContentElement.find("#"+this._id+"_cell_"+i.Row+"_"+i.Column),lt=gt.find(".e-dbrd-control"),c={id:r,actionType:p,dataWrapper:rt,widgetInstance:w,masterData:g,slaves:ut,callbackfn:null,drillDownData:null,sender:s,filterInfo:at,target:b,isMaximizedView:u,configInfo:i,controlLinkData:e},ni=i.ActionSetting.length,k=0;k<ni;k++)if(i.ActionSetting[k].ActionType===c.actionType)for(et=0;et<i.ActionSetting[k].Action.length;et++)i.ActionSetting[k].Action[et]==="DrillDown"&&(c.callbackfn=this._onChartDrilled,ti={chart:lt,config:{DrilledChartProperties:i.DrilledChartProperties,TooltipForRowColCalc:i.TooltipForRowColCalc,TooltipForRowColumns:i.TooltipForRowColumns,drill:i.isDrillDown,drillId:i.Id,CustomAdornmentText:i.CustomAdornmentText,master:i.IsMasterFilter,id:lt.attr("id"),ColumnProperties:i.ColumnProperties,Properties:i.Properties,MultipleSeries:i.MultipleSeries,Argument:i.Argument,PrimaryAxisFormatProp:i.PrimaryAxisFormatProp,SecondaryAxisFormatProp:i.SecondaryAxisFormatProp,ControlLinkData:i.ControlLinkData,IsLinked:i.IsLinked,ActionSetting:i.ActionSetting,argumentColumn:i.argumentColumn,seriesColumn:i.seriesColumn,measureColumns:i.MeasureColumns},controlLink:e,isMaximize:u,evt:s},c.drillDownData=ti);this._widgetActionHandler(c)}t.isNullOrUndefined(c)||c.actionType!==t.dashboardViewer.ActionType.Click&&c.actionType!==t.dashboardViewer.ActionType.DBClick||t.isNullOrUndefined(c.actionData)||c.actionData[a]!=="Linking"||n("#"+b).attr("class"," ");t.isNullOrUndefined(c)||c.actionType==="ContextMenu"||(s===null||!st||t.isNullOrUndefined(c)||t.isNullOrUndefined(c.actionData)||c.actionData[a]==="Linking"||c.actionData[a]==="DrillDown"?(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+d).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}},_loadComparisonChartSlaves:function(r,u,f,e,o,s,h){var a=0,rt=[],it=!0,y=null,ut,ft,et,b,ot,st,p,ht;if((this.controlRelations.length!==a||!t.isNullOrUndefined(o))&&this.flag){var l=[],tt=[],c=0,v=null;if(v=t.isNullOrUndefined(h)||h.type!=="chartDoubleClick"?t.isNullOrUndefined(h)||h.rightClick!==!0||h.type!=="pointRegionClick"?t.dashboardViewer.ActionType.Click:t.dashboardViewer.ActionType.ContextMenu:t.dashboardViewer.ActionType.DBClick,ut=String.fromCharCode(127)+"(",!t.isNullOrUndefined(h)&&(h.model.selectedDataPointIndexes!==null&&h.model.selectedDataPointIndexes.length>a&&h.model.selectedDataPointIndexes[0].pointIndex===h.data.region.Region.PointIndex&&h.model.selectedDataPointIndexes[0].seriesIndex===h.data.region.SeriesIndex?(l=[],h.model.selectedDataPointIndexes=[]):(h.model.selectedDataPointIndexes=[],t.isNullOrUndefined(e.argumentColumn)||(ft=h.model._visibleSeries[h.data.region.SeriesIndex].points[h.data.region.Region.PointIndex].x,l.push({Column:e.argumentColumn,Value:ft})),et=h.model._visibleSeries[h.data.region.SeriesIndex].seriesname.split(ut),t.isNullOrUndefined(e.seriesColumn)||l.push({Column:e.seriesColumn,Value:et[0]}),tt.push({Items:l})),b=this.dashboardControls.getControlByReport(u),l.length===a?(b.SelectedFilterInfo.push(new selectedFilterInfo),b.SelectedFilterInfo=[],it=!1):b.SelectedFilterInfo=[],l.length>a))for(ot=l.length,c=0;c<ot;c++)st=r.DateTimeColumns.length!==a&&r.DateTimeColumns[c]!==i?r.DateTimeColumns[c]:[],p=new selectedFilterInfo,st.indexOf(l[c].Column)!==-1?p.DateFilterInfo.DateFilterList.push(l[c].Value):p.DimensionFilterInfo.Text.push(l[c].Value),p.DimensionFilterInfo.Conditions=4,p.UniqueColumnName=l[c].Column,p.ReportName=b.reportName,rt.push(p);var k=null,d=null,g=null,lt=this.controlRelations.length;for(c=0;c<lt;c++)if(this.controlRelations[c].Master===u){if(k=this._id+t.DashboardConstants.Widget+this.controlRelations[c].Master,d=this.controlRelations[c].Slaves,d.length===a&&t.isNullOrUndefined(o)){g=this._checkFilterOverviewData(u);this._addFilterDataToTitle(g);return}if(h!==null&&it?this.masterData.push({Key:u,Value:tt}):this.masterData.push({Key:u,Value:tt}),r===null){this.target=[];g=this.masterData;ht={master:u,masterData:g,slaves:d,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(ht);break}}var w=null,ct=null,nt="";w=!t.isNullOrUndefined(r)&&r.MultipleSeries&&v===t.dashboardViewer.ActionType.ContextMenu?n("#"+this._id+t.DashboardConstants.Widget+u+"_childChart_"+h.data.id.split("_")[5]).data("ejDashboardChart"):n("#"+this._id+t.DashboardConstants.Widget+u).data("ejDashboardChart");t.isNullOrUndefined(w)||t.isNullOrUndefined(h)||(ct=w.model.series[0].highlightSettings,nt=w.getTargetId(h.data.region.SeriesIndex,h.data.region.Region.PointIndex,ct.mode));v===t.dashboardViewer.ActionType.ContextMenu&&n("#"+nt).attr("data-controlId","contextMenu");v===t.dashboardViewer.ActionType.DBClick&&n("#"+nt).attr("data-controlId","dbclick");v===t.dashboardViewer.ActionType.Click&&n("#"+nt).attr("data-controlId","click-filter");(v===t.dashboardViewer.ActionType.ContextMenu||v===t.dashboardViewer.ActionType.DBClick)&&this._setHoverSelectionForWidget(h,u,w);r!==null&&(y={id:u,actionType:v,dataWrapper:tt,widgetInstance:w,masterData:g,slaves:d,callbackfn:null,drillDownData:null,sender:h,filterInfo:rt,target:nt,isMaximizedView:f},this._widgetActionHandler(y,null));!t.isNullOrUndefined(y)&&y.actionType!=="ContextMenu"&&!f&&d.length>a&&(h===null||!it||t.isNullOrUndefined(y)||t.isNullOrUndefined(y.actionData)||y.actionData[a]==="Linking"?(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+k+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+k).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}},_getValuesFromDrillLevelInfo:function(n,t,i){for(var u=n.drillLevelInfo.length,r=0;r<u;r++)if(n.drillLevelInfo[r].Key===(i?t+"_Maximize":t))return n.drillLevelInfo[r].Values;return[]},_updateValuesInDrillLevelInfo:function(n,t,i,r){for(var f=n.drillLevelInfo.length,u=0;u<f;u++)if(n.drillLevelInfo[u].Key===(r?t+"_Maximize":t)){n.drillLevelInfo[u].Values=i;break}},_getValuesFromDrillLevelData:function(n,t,i){for(var u=n.drillLevelData.length,r=0;r<u;r++)if(n.drillLevelData[r].Key===(i?t+"_Maximize":t))return n.drillLevelData[r].Values;return[]},_updateValuesInDrillLevelData:function(n,t,i,r){for(var f=n.drillLevelData.length,u=0;u<f;u++)if(n.drillLevelData[u].Key===(r?t+"_Maximize":t)){n.drillLevelData[u].Values=i;break}return null},_containsKey:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].Key===t)return n[i];return null},_onChartDrilled:function(t,r,u,f,e){var l={},y=JSON.parse(JSON.stringify(this.dashboardParameters)),p=this.model.localeSettings.resourcePath,w=this.model.localeSettings.culture,a,h,v;if(r.drill){var b=e.model._visibleSeries[e.data.region.SeriesIndex].dataSource!==null?e.model._visibleSeries[e.data.region.SeriesIndex].dataSource[e.data.region.Region.PointIndex]:e.model._visibleSeries[e.data.region.SeriesIndex].points[e.data.region.Region.PointIndex],s=[],c=!1,o=null;if(this.dashboardControls.getControlByReport(r.drillId)&&(o=new Dbrdcontrol,o=o.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(r.drillId))))),o.drillLevelInfo!==i&&o.drillLevelInfo.length>0)for(a=o.drillLevelInfo.length,h=0;h<a;h++)o.drillLevelInfo[h].Key===(f?r.drillId+"_Maximize":r.drillId)&&(c=!0);if(c&&(s=this._getValuesFromDrillLevelInfo(o,r.drillId,f)),s.push(b.x),r.DrilledChartProperties.RowCount===s.length)return;c?this._updateValuesInDrillLevelInfo(o,r.drillId,s,f):o.drillLevelInfo.push({Key:f?r.drillId+"_Maximize":r.drillId,Values:s});this.dashboardControls.updateCurrentReport(o);this._createControlWaitingIndicator(t.parents(".e-dbrd-control-container"),!0);this._showInactiveDIv();v=JSON.stringify({action:"GetInnerLevelDrillChart",dashboardPath:this.dashboardPath(),data:s,controlId:r.drillId,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dashboardName:this.dashboardName,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:w,customLanguagePath:p,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),methodName:this.model.serviceMethods.getDrillControlData,isWebDesigner:this.model._isWebDesigner});l={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:v,onSuccess:n.proxy(this._loadDrilledChart,this,e,r)};this.doAjaxPost(l)}},_isColorCustomizableChart:function(n){switch(n){case"Column":case"Bar":return!0;default:return!1}},_closeDrilledChart:function(i,r,u){var h=1,w=n(u.currentTarget),e=0,f,s,c,y,p,a;this.target=[];f=null;this.dashboardControls.getControlByReport(i.drillId)&&(f=new Dbrdcontrol,f=f.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(i.drillId)))));var o=this._getValuesFromDrillLevelInfo(f,i.drillId,r),l=this._getValuesFromDrillLevelData(f,i.drillId,r),v=o.length;if(e=u.tabId.split("_DrilledCharts_"),e=parseInt(e[1]),e!==v){for(s=v-h;parseInt(e)<=s;s--)o.splice(s,h),l.splice(s,h);this._updateValuesInDrillLevelInfo(f,i.drillId,o,r);this._updateValuesInDrillLevelData(f,i.drillId,l,r);this.dashboardControls.updateCurrentReport(f);this._createControlWaitingIndicator(w.parents(".e-dbrd-control-container"),!0);this.model.enableAutorefresh&&!1||(o.length!==0?(c=l[e-h],y=JSON.parse(JSON.stringify(this.dashboardParameters)),this._showInactiveDIv(),c!==""?this._drawDrilledChart(c.ConfigInfo,c.Data,null,!1):this.doAjaxPost("POST",this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,JSON.stringify({action:"GetInnerLevelDrillChart",dashboardPath:this.dashboardPath(),data:o,controlId:i.drillId,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dashboardName:this.dashboardName,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),methodName:this.model.serviceMethods.getDrillControlData,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),n.proxy(this._loadDrilledChart,this,null,i))):(f=this.dashboardControls.getControlByReport(i.drillId),r?(this.target.push(String(this._id)+"_maximized_"+i.drillId),p=n("#"+String(this._id)+"_maximized_"+i.drillId).parent(),n("#"+String(this._id)+"_maximized_"+i.drillId).remove(),a=t.buildTag("div"),p.append(a),a.attr({id:String(this._id)+"_maximized_"+i.drillId,"data-controlid":i.drillId}).css({height:"100%",width:"100%",position:"relative"}).addClass("e-dbrd-MaximizedControl e-dbrd-control"),this._renderChart(f,{id:String(this._id)+"_maximized_"+i.drillId,chartDiv:this.currentTabContentElement.find("#"+String(this._id)+"_maximized_"+i.drillId),isMaximize:!0})):(this.target.push(this._id+t.DashboardConstants.Widget+i.drillId),this._renderChart(f))))}}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.maps={_renderBubbleMap:function(i,r){var e=null,k=null,p=i.getCurrentPageData(),u=i.configInfo,c=this.dashboardControls.getControlByReport(u.Id),f=null,o=null,s=!1,d=0,h=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),b,v,g,y,nt,tt;if(f=h.find(".e-dbrd-control"),p.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(p.pagedata,f,u);return}this._hideControlError(f);var l=n.parseJSON(i.configInfo.MapInput),a=p.pagedata,w=null;if(i.SelectedFilterInfo.length>d&&(w=i.SelectedFilterInfo),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.bubbleMapDiv)){if(this.mapControlsData.length===d)this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{}});else{for(b=!1,e=0;e<this.mapControlsData.length;e++)if(this.mapControlsData[e].key===u.Id){this.mapControlsData[e].value.d[0]={};b=!0;break}b||this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{}})}if(n("#"+this._id+t.DashboardConstants.Widget+u.Id).data("ejMap")){if(f=n("#"+this._id+t.DashboardConstants.Widget+u.Id),!this._applyOrRemoveNoDataAvailable(a.length,f))return;o=f.parents(".e-dbrd-control-container");(typeof u.DrillDownEnabled=="undefined"||!u.DrillDownEnabled)&&f.data("ejMap")&&(v=f.data("ejMap"),v?(g=v.model.layers[0].shapeData,v.destroy(),this._drawBubbleMap(f,a,c,u,g,this._setMapBubbleSettings(u.BubbleSettings,f,c),s)):k=null,n(f).unbind("dblclick"),this._mapInitialSelection(u,f,w,s));return}if(k===null&&(h.attr({"data-controltype":"BubbleMap"}),f.addClass("dashboardMapControl").attr({"data-controlId":u.Id}),o=h.find(".e-dbrd-control-container"),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}),h.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:u.Id})),y=null,l&&(this.MapType.push({Key:u.Id,Value:l}),y=l),y===null)for(e=0;e<this.MapType.length;e++)if(this.MapType[e].Key===u.Id){y=this.MapType[e].Value;break}nt=[];nt.Id=this._id+"_"+u.Id;o.removeAttr("range");o.removeAttr("formatSettings");o.attr({formatSettings:u.columnsecond!==null?JSON.stringify({Format:u.ColumnFormatting[1].Format,Culture:u.ColumnFormatting[1].Culture,Unit:u.ColumnFormatting[1].Unit}):JSON.stringify({Format:u.ColumnFormatting[0].Format,Culture:u.ColumnFormatting[0].Culture,Unit:u.ColumnFormatting[0].Unit})});o.attr({range:JSON.stringify({Min:u.Min,Max:u.Max})})}else f=r.bubbleMapDiv,s=r.isMaximize;this._generateMapToolTipTemplate(u);tt=this._setMapBubbleSettings(u.BubbleSettings,f,c);f.addClass("e-bubblemap-position");this._drawBubbleMap(f,a,c,u,l,tt,s);u.NavigatorEnabled&&this._generateNavigatorTemplate(f.attr("id"));n(f).unbind("dblclick");this._mapInitialSelection(u,f,w,s);!this._applyOrRemoveNoDataAvailable(a.length,f)},_setBubbleMapConfigInfo:function(n){n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.FillStroke=t.isNullOrUndefined(n.configInfo.FillStroke)?"":n.configInfo.FillStroke;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.ShapePropertyPath=t.isNullOrUndefined(n.configInfo.ShapePropertyPath)?"name":n.configInfo.ShapePropertyPath;n.configInfo.AlternatePropertyPath=t.isNullOrUndefined(n.configInfo.AlternatePropertyPath)?"name":n.configInfo.AlternatePropertyPath;n.configInfo.NavigatorEnabled=t.isNullOrUndefined(n.configInfo.NavigatorEnabled)||n.configInfo.NavigatorEnabled;n.configInfo.DockOnMap=!t.isNullOrUndefined(n.configInfo.DockOnMap)&&n.configInfo.DockOnMap;n.configInfo.ShapeFill=t.isNullOrUndefined(n.configInfo.ShapeFill)?"":n.configInfo.ShapeFill;n.configInfo.columnfirst=t.isNullOrUndefined(n.configInfo.columnfirst)?null:n.configInfo.columnfirst;n.configInfo.columnsecond=t.isNullOrUndefined(n.configInfo.columnsecond)?null:n.configInfo.columnsecond;n.configInfo.columnFirstAlias=t.isNullOrUndefined(n.configInfo.columnFirstAlias)?null:n.configInfo.columnFirstAlias;n.configInfo.columnSecondAlias=t.isNullOrUndefined(n.configInfo.columnSecondAlias)?null:n.configInfo.columnSecondAlias;n.configInfo.ShapeStroke=t.isNullOrUndefined(n.configInfo.ShapeStroke)?"":n.configInfo.ShapeStroke;n.configInfo.Min=t.isNullOrUndefined(n.configInfo.Min)?t.DashboardConstants.Zero:n.configInfo.Min;n.configInfo.Max=t.isNullOrUndefined(n.configInfo.Max)?t.DashboardConstants.Zero:n.configInfo.Max;n.configInfo.DrillDownEnabled=!t.isNullOrUndefined(n.configInfo.DrillDownEnabled)&&n.configInfo.DrillDownEnabled;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.IsGradient=t.isNullOrUndefined(n.configInfo.IsGradient)||n.configInfo.IsGradient;n.configInfo.showItemValue=!t.isNullOrUndefined(n.configInfo.showItemValue)&&n.configInfo.showItemValue;n.configInfo.SelectionMode=t.isNullOrUndefined(n.configInfo.SelectionMode)?"DEFAULT":n.configInfo.SelectionMode;n.configInfo.MapItemFormat=t.isNullOrUndefined(n.configInfo.MapItemFormat)?"":n.configInfo.MapItemFormat;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ColumnFormatting=t.isNullOrUndefined(n.configInfo.ColumnFormatting)?[]:n.configInfo.ColumnFormatting;n.configInfo.MapInput=t.isNullOrUndefined(n.configInfo.MapInput)?"":n.configInfo.MapInput;n.configInfo.ShowDataLabel=!t.isNullOrUndefined(n.configInfo.ShowDataLabel)&&n.configInfo.ShowDataLabel;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.DataLabelPath=t.isNullOrUndefined(n.configInfo.DataLabelPath)?"":n.configInfo.DataLabelPath;n.configInfo.BubbleSettings=t.isNullOrUndefined(n.configInfo.BubbleSettings)?null:n.configInfo.BubbleSettings;n.configInfo.IsBlendingWidget=!t.isNullOrUndefined(n.configInfo.IsBlendingWidget)&&n.configInfo.IsBlendingWidget},_drawBubbleMap:function(t,r,u,f,e,o,s){var a=f.SelectionMode.toLowerCase(),c=f.showItemValue,l=f.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),v=f.ShapePropertyPath,h=0,y=r.length>h?JSON.parse(JSON.stringify(r)):r;var p=f.AlternatePropertyPath,w=c?this._id+"_"+f.Id+"_labelTemplate":null,b=this._id+"_"+f.Id+"_ToolTip",k={enableNavigation:!1,content:f.NavigatorEnabled?t.attr("id")+"_Navigator":null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"bottomleft"},d=s?f.IsLinked?n.proxy(this._loadMapSlaves,this,f.Id,s,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[]:f.IsMasterFilter||f.DrillDownEnabled||f.IsLinked||this.model.enableViewData?n.proxy(this._loadMapSlaves,this,f.Id,s,f.IsMasterFilter,f.DrillDownEnabled,f,f.IsLinked?f.ControlLinkData:i):[],g=f.NavigatorEnabled?n.proxy(this._generateNavigatorTemplate,this,t.attr("id"),!0):[],nt=[{selectionMode:a,enableSelection:!0,showMapItems:c,mapItemsTemplate:w,dataSource:y,enableMouseHover:!0,shapeDataPath:l,tooltipTemplate:b,showTooltip:!0,shapePropertyPath:v,alternatePropertyPath:p,shapeSettings:{fill:u.customThemfillColor,strokeThickness:"0.75",stroke:u.customTheme.borderColor,highlightColor:u.customThemhighlightColor,highlightStroke:u.customThemhighlightBorderColor,selectionColor:u.customThemselecionColor,selectionStroke:u.customThemselectionBorderColor,mouseHoverStrokeWidth:"1",autoFill:!1,valuePath:l,enableGradient:f.IsGradient},bubbleSettings:o,labelSettings:{showLabels:f.ShowDataLabel,labelPath:f.DataLabelPath},shapeData:e}];t.ejMap({enableResize:!1,enableRightClick:!0,navigationControl:k,zoomSettings:{level:1,maxValue:30,factor:.1,enableZoom:!0},enableAnimation:!1,shapeSelected:d,background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},refreshed:g,layers:nt,mouseover:f.ActionSetting!==null&&f.ActionSetting.length>h&&f.ActionSetting[0].Action!==null&&f.ActionSetting[0].Action.length>h&&f.ActionSetting[0].ActionType!==null&&f.ActionSetting[0].Action[0]==="Linking"&&f.ActionSetting[0].ActionType==="Click"?this._mouseover:null});f.NavigatorEnabled&&this._generateNavigatorTemplate(t.attr("id"),!1)},_mapInitialSelection:function(n,i,r,u){n.IsMasterFilter&&r&&r.length>0?(this._selectMapShape(i,n,r),i.siblings().find(".e-remove-control-filter").removeClass("e-remove-control-filter-disable").addClass("e-remove-control-filter-enable").attr("tabindex","0"),u||this.masterData.push({Key:n.Id,Value:r,MultiSelection:n.SelectionMode.toLowerCase()!=="default"})):t.isNullOrUndefined(r)&&(i.siblings().find(".e-remove-control-filter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),i.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))},_mouseover:function(t){n(t.originalEvent.shape).css("cursor","pointer")},_generateNavigatorTemplate:function(t,i){if(!i){var r=n("<div>").attr({id:t+"_Navigator"}).css({"margin-left":"10px",width:"40px",height:"106px"});r.append(n("<div>").attr("id",t+"_Home").css({"margin-top":"24px"}).addClass("map-home map-navi-border"),n("<div>").css({"margin-top":"3px",width:"22px"}).addClass("map-navi-border").append(n("<div>").attr("id",t+"_ZoomIn").addClass("map-zoom-in"),n("<div>").addClass("map-split-line"),n("<div>").attr("id",t+"_ZoomOut").addClass("map-zoom-out")));this.currentTabContentElement.append(r);n("#"+t+"_Navigator").css("display","none")}n("#"+t).mouseenter(function(i){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!0;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","block");n.isFunction(i.stopPropagation)&&i.stopPropagation()});n("#"+t).mouseleave(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!1;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","none")});n("#"+t).touchstart(function(){n("#"+t).data("ejMap").model.navigationControl.enableNavigation=!0;n("#"+t).ejMap("refreshNavigationControl");n("#"+t+"_Navigator").css("display","block")});n("#"+t+"_Home").on("click touchend",function(){n("#"+t).ejMap("zoom",1)});n("#"+t+"_ZoomIn").on("click touchend",function(){var i=n("#"+t).data("ejMap").model;n("#"+t).ejMap("zoom",i.zoomSettings.level+1)});n("#"+t+"_ZoomOut").on("click touchend",function(){var i=n("#"+t).data("ejMap").model;n("#"+t).ejMap("zoom",i.zoomSettings.level-1)})},_selectMapShape:function(n,t,i){var u=n.data("ejMap"),s=u.model.shapeSelected,e,r,o,f;for(u.model.shapeSelected=null,e=i.length,r=0;r<e;r++)if(("M"+i[r].UniqueColumnName).toLowerCase()===t.columnfirst.toLowerCase())for(o=i[r].DimensionFilterInfo.Text.length,f=0;f<o;f++)u.selectShape(i[r].DimensionFilterInfo.Text[f]);u.model.shapeSelected=s},_renderChoroplethMap:function(i,r){var e=0,nt=null,o=i.getCurrentPageData(),u=i.configInfo,a=null,f=null,s=null,h=null,c=!1,k=this.dashboardControls.getControlByReport(u.Id),tt=0,l=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),p,it,g,w,rt,b,ut;if(f=l.find(".e-dbrd-control"),o.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id});this._showControlError(o.pagedata,f,u);return}this._hideControlError(f);var v=n.parseJSON(i.configInfo.MapInput),y=o.pagedata,d=null;if(this.model.enableCustomTheming){for(p=JSON.parse(o.rangeColor),it=p.rangeColorMapping.length,e=0;e<it;e++)p.rangeColorMapping[e].color=k.customTheme.rangecolor[e];o.rangeColor=JSON.stringify(p)}if(a=n.parseJSON(o.rangeColor),i.SelectedFilterInfo.length>tt&&(d=i.SelectedFilterInfo),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.choroplethMapDiv)){if(this.mapControlsData.length===tt)this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{ShowLegend:u.showLegend}});else{for(g=!1,e=0;e<this.mapControlsData.length;e++)if(this.mapControlsData[e].key===u.Id){this.mapControlsData[e].value.d[0]={ShowLegend:u.showLegend};g=!0;break}g||this.mapControlsData.push({key:this._id+t.DashboardConstants.Widget+u.Id,value:{ShowLegend:u.showLegend}})}if(n("#"+this._id+t.DashboardConstants.Widget+u.Id).data("ejMap")){if(f=n("#"+this._id+t.DashboardConstants.Widget+u.Id),!this._applyOrRemoveNoDataAvailable(y.length,f))return;s=f.parents(".e-dbrd-control-container");(typeof u.DrillDownEnabled=="undefined"||!u.DrillDownEnabled)&&f.data("ejMap")&&(w=f.data("ejMap"),w?(rt=w.model.layers[0].shapeData,w.destroy(),this._drawChoroplethMap(f,y,k,u,o,rt,a,c,h)):nt=null,n(f).unbind("dblclick"),this._mapInitialSelection(u,f,d,c));return}if(nt===null&&(l.attr({"data-controltype":"ChoroplethMap"}),f.addClass("dashboardMapControl").attr({"data-controlId":u.Id}),s=l.find(".e-dbrd-control-container"),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}),l.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),l.find(".e-dbrd-export").attr({value:u.Id})),b=null,v&&(this.MapType.push({Key:u.Id,Value:v}),b=v),b===null)for(ut=this.MapType.length,e=0;e<ut;e++)if(this.MapType[e].Key===u.Id){b=this.MapType[e].Value;break}h=[];h.Id=this._id+"_"+u.Id;this.defaultRange[h.Id]=a;s.removeAttr("range");s.removeAttr("formatSettings");s.attr({formatSettings:u.columnsecond!==null?JSON.stringify({Format:u.ColumnFormatting[1].Format,Culture:u.ColumnFormatting[1].Culture,Unit:u.ColumnFormatting[1].Unit}):JSON.stringify({Format:u.ColumnFormatting[0].Format,Culture:u.ColumnFormatting[0].Culture,Unit:u.ColumnFormatting[0].Unit})});s.attr({range:JSON.stringify({Min:u.Min,Max:u.Max})})}else f=r.choroplethMapDiv,c=r.isMaximize;this._generateMapToolTipTemplate(u);f.addClass("e-bubblemap-position");u.IsGradient&&f.addClass("e-gradient");this._drawChoroplethMap(f,y,k,u,o,v,a,c,h);n(f).unbind("dblclick");this._mapInitialSelection(u,f,d,c);!this._applyOrRemoveNoDataAvailable(y.length,f)},_setChoroplethMapConfigInfo:function(n){n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.MeasureColumns=t.isNullOrUndefined(n.configInfo.MeasureColumns)?[]:n.configInfo.MeasureColumns;n.configInfo.FillStroke=t.isNullOrUndefined(n.configInfo.FillStroke)?"":n.configInfo.FillStroke;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.showLegend=!t.isNullOrUndefined(n.configInfo.showLegend)&&n.configInfo.showLegend;n.configInfo.ShapePropertyPath=t.isNullOrUndefined(n.configInfo.ShapePropertyPath)?"name":n.configInfo.ShapePropertyPath;n.configInfo.AlternatePropertyPath=t.isNullOrUndefined(n.configInfo.AlternatePropertyPath)?"name":n.configInfo.AlternatePropertyPath;n.configInfo.LegendPosition=t.isNullOrUndefined(n.configInfo.LegendPosition)?"NONE":n.configInfo.LegendPosition;n.configInfo.NavigatorEnabled=t.isNullOrUndefined(n.configInfo.NavigatorEnabled)||n.configInfo.NavigatorEnabled;n.configInfo.DockOnMap=!t.isNullOrUndefined(n.configInfo.DockOnMap)&&n.configInfo.DockOnMap;n.configInfo.ShapeFill=t.isNullOrUndefined(n.configInfo.ShapeFill)?"":n.configInfo.ShapeFill;n.configInfo.columnfirst=t.isNullOrUndefined(n.configInfo.columnfirst)?null:n.configInfo.columnfirst;n.configInfo.columnsecond=t.isNullOrUndefined(n.configInfo.columnsecond)?null:n.configInfo.columnsecond;n.configInfo.columnthird=t.isNullOrUndefined(n.configInfo.columnthird)?null:n.configInfo.columnthird;n.configInfo.columnfourth=t.isNullOrUndefined(n.configInfo.columnfourth)?null:n.configInfo.columnfourth;n.configInfo.columnFirstAlias=t.isNullOrUndefined(n.configInfo.columnFirstAlias)?null:n.configInfo.columnFirstAlias;n.configInfo.columnSecondAlias=t.isNullOrUndefined(n.configInfo.columnSecondAlias)?null:n.configInfo.columnSecondAlias;n.configInfo.columnThirdAlias=t.isNullOrUndefined(n.configInfo.columnThirdAlias)?null:n.configInfo.columnThirdAlias;n.configInfo.columnfourthAlias=t.isNullOrUndefined(n.configInfo.columnfourthAlias)?null:n.configInfo.columnfourthAlias;n.configInfo.ShapeStroke=t.isNullOrUndefined(n.configInfo.ShapeStroke)?"":n.configInfo.ShapeStroke;n.configInfo.Min=t.isNullOrUndefined(n.configInfo.Min)?t.DashboardConstants.Zero:n.configInfo.Min;n.configInfo.Max=t.isNullOrUndefined(n.configInfo.Max)?t.DashboardConstants.Zero:n.configInfo.Max;n.configInfo.ColorPath=t.isNullOrUndefined(n.configInfo.ColorPath)?"":n.configInfo.ColorPath;n.configInfo.SetColorForValue=!t.isNullOrUndefined(n.configInfo.SetColorForValue)&&n.configInfo.SetColorForValue;n.configInfo.DrillDownEnabled=!t.isNullOrUndefined(n.configInfo.DrillDownEnabled)&&n.configInfo.DrillDownEnabled;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.IsGradient=t.isNullOrUndefined(n.configInfo.IsGradient)||n.configInfo.IsGradient;n.configInfo.showItemValue=!t.isNullOrUndefined(n.configInfo.showItemValue)&&n.configInfo.showItemValue;n.configInfo.SelectionMode=t.isNullOrUndefined(n.configInfo.SelectionMode)?"DEFAULT":n.configInfo.SelectionMode;n.configInfo.LegendMode=t.isNullOrUndefined(n.configInfo.LegendMode)?"INTERACTIVE":n.configInfo.LegendMode;n.configInfo.CustomRange=!t.isNullOrUndefined(n.configInfo.CustomRange)&&n.configInfo.CustomRange;n.configInfo.MapItemFormat=t.isNullOrUndefined(n.configInfo.MapItemFormat)?"":n.configInfo.MapItemFormat;n.configInfo.LegendTitle=t.isNullOrUndefined(n.configInfo.LegendTitle)?"":n.configInfo.LegendTitle;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.ColumnFormatting=t.isNullOrUndefined(n.configInfo.ColumnFormatting)?[]:n.configInfo.ColumnFormatting;n.configInfo.MapInput=t.isNullOrUndefined(n.configInfo.MapInput)?"":n.configInfo.MapInput;n.configInfo.ShowDataLabel=!t.isNullOrUndefined(n.configInfo.ShowDataLabel)&&n.configInfo.ShowDataLabel;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.DataLabelPath=t.isNullOrUndefined(n.configInfo.DataLabelPath)?"":n.configInfo.DataLabelPath},_drawChoroplethMap:function(r,u,f,e,o,s,h,c,l){var it={enableNavigation:!1,content:e.NavigatorEnabled?r.attr("id")+"_Navigator":null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"bottomleft"},p=e.IsMasterFilter,w=e.DrillDownEnabled,a=e.Id,b=0,k=[],tt;k=u.length>b?JSON.parse(JSON.stringify(u)):u;var v=e.IsLinked,d=e.ControlLinkData,rt=e.SetColorForValue,ut=e.ColorPath.toString().replace(/\s/g,"").replace(")","").replace("(",""),ft=e.SelectionMode.toLowerCase(),g=e.showItemValue,nt=e.columnfirst.toString().replace(/\s/g,"").replace("(","").replace(")",""),et=e.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(",""),ot=e.ShapePropertyPath,st=e.AlternatePropertyPath,ht=e.NavigatorEnabled?n.proxy(this._generateNavigatorTemplate,this,r.attr("id"),!0):[],ct=f.customTheme.borderColor,lt=f.customThemhighlightColor,at=f.customThemhighlightBorderColor,vt=f.customThemselecionColor,yt=f.customThemselectionBorderColor,pt=c?v?n.proxy(this._loadMapSlaves,this,a,c,p,w,e,v?d:i):[]:p||w||v||this.model.enableViewData?n.proxy(this._loadMapSlaves,this,a,c,p,w,e,v?d:i):[],wt=this._id+"_"+a+"_ToolTip",y=this._setMapLegendSettings(e,r,o),bt=g?this._id+"_"+a+"_labelTemplate":null;this._dashboardData().isExportImage&&this._dashboardData().isControl&&(t.isNullOrUndefined(y)||t.isNullOrUndefined(y.height)||t.isNullOrUndefined(e)||e.LegendMode.toLowerCase()!=="interactive"||(y.height=30));tt=[{selectionMode:ft,enableSelection:!0,showMapItems:g,mapItemsTemplate:bt,dataSource:k,enableMouseHover:!0,shapeDataPath:nt,tooltipTemplate:wt,showTooltip:!0,shapePropertyPath:ot,alternatePropertyPath:st,legendSettings:y,shapeSettings:{fill:f.customThemfillColor,strokeThickness:"0.75",stroke:ct,highlightColor:lt,highlightStroke:at,selectionColor:vt,selectionStroke:yt,mouseHoverStrokeWidth:"1",autoFill:!1,valuePath:nt,colorValuePath:rt?ut:et,enableGradient:e.CustomRange?!1:e.IsGradient,colorMappings:this.customRangeApplied?this.customRange[l.Id]:h},labelSettings:{showLabels:e.ShowDataLabel,labelPath:e.DataLabelPath},shapeData:s}];r.ejMap({enableResize:!1,enableRightClick:!0,navigationControl:it,zoomSettings:{level:1,maxValue:30,factor:.1,enableZoom:!0},enableAnimation:!1,mouseover:e.ActionSetting!==null&&e.ActionSetting.length>b&&e.ActionSetting[0].Action!==null&&e.ActionSetting[0].Action.length>b&&e.ActionSetting[0].ActionType!==null&&e.ActionSetting[0].Action[0]==="Linking"&&e.ActionSetting[0].ActionType==="Click"?this._mouseover:null,shapeSelected:pt,refreshed:ht,background:"white",zoom:{level:1.5,maxValue:30,factor:1,minValue:1.5,enableZoom:!0,enableZoomOnSelection:!1},layers:tt});e.NavigatorEnabled&&this._generateNavigatorTemplate(r.attr("id"),!1)},_generateMapToolTipTemplate:function(i){var r=0,s=".",h=",",c,e,f,u,l,o;if(n("#"+this._id+"_"+i.Id+"_toolTip").length===r){if(c=n("<div>").attr({id:this._id+"_"+i.Id+"_ToolTip","class":"e-tree-tooltip"}),e=n("<table>").addClass("e-tree-tool-table"),c.append(e),f=null,u=null,t.isNullOrUndefined(i.columnfirst)||(f=n("<tr>"),u=n("<td>").html(i.columnFirstAlias).addClass("e-tool-value"),f.append(u),u=n("<td>").html(":").addClass("e-tool-value"),f.append(u),u=n("<td>").html("{{:(#data['"+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}").addClass("e-tool-value"),f.append(u),e.append(f)),t.isNullOrUndefined(i.columnthird)||(f=n("<tr>"),u=n("<td>").html("{{:"+i.columnthird.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}").css({"text-align":"center","font-size":"medium",color:"black"}).attr({colspan:"3"}),u=n("<td>").html(i.columnThirdAlias).addClass("e-tool-value"),f.append(u),u=n("<td>").html(":").addClass("e-tool-value"),f.append(u),u=t.isNullOrUndefined(i.columnfourth)?n("<td>").html("{{:(#data['"+i.columnthird.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}").addClass("e-tool-value"):n("<td>").html("{{:(#data['"+i.columnfourth.toString().replace(/\s/g,"").replace(")","").replace("(","")+"'])}}").addClass("e-tool-value"),f.append(u),e.append(f)),!t.isNullOrUndefined(i.columnsecond)){for(l=i.ColumnFormatting.length,o=0;o<l;o++)if(i.columnsecond==="M"+i.ColumnFormatting[o].ColumnName){r=o;break}f=n("<tr>");u=n("<td>").html(i.columnSecondAlias).addClass("e-tool-value");f.append(u);u=n("<td>").html(":").addClass("e-tool-value");f.append(u);u=t.isNullOrUndefined(i.ColumnFormatting[r].DecimalSeparator)||t.isNullOrUndefined(i.ColumnFormatting[r].GroupSeparator)?n("<td>").html('{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+s+'","'+s+'","'+h+'","'+h+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value"):n("<td>").html('{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+i.ColumnFormatting[r].DecimalSeparator.CurrentValue+'","'+i.ColumnFormatting[r].DecimalSeparator.AliasValue+'","'+i.ColumnFormatting[r].GroupSeparator.CurrentValue+'","'+i.ColumnFormatting[r].GroupSeparator.AliasValue+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value");f.append(u);e.append(f)}this.element.append(c)}i.showItemValue&&(t.isNullOrUndefined(i.ColumnFormatting[r].DecimalSeparator)||t.isNullOrUndefined(i.ColumnFormatting[r].GroupSeparator)?this.currentTabContentElement.append('<script  id="'+this._id+"_"+i.Id+'_labelTemplate" type="application/jsrender"><div style="margin-top:-10px;"><table style="width:40px;">'+(i.MapItemFormat==="ValueAndArgument"?'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:'+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}<\/label><\/td><\/tr>":"")+'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+s+'","'+s+'","'+h+'","'+h+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"])}}<\/label><\/td><\/tr><\/table><\/div><\/script>'):this.currentTabContentElement.append('<script  id="'+this._id+"_"+i.Id+'_labelTemplate" type="application/jsrender"><div style="margin-top:-10px;"><table style="width:40px;">'+(i.MapItemFormat==="ValueAndArgument"?'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:'+i.columnfirst.toString().replace(/\s/g,"").replace(")","").replace("(","")+"}}<\/label><\/td><\/tr>":"")+'<tr><td><label style="color:#151515;font-size:12px;text-wrap:normal;font-weight:normal;">{{:~MapToolTipFormat("'+i.ColumnFormatting[r].FormatType+'","'+i.ColumnFormatting[r].Format+'","'+i.ColumnFormatting[r].DecimalSeparator.CurrentValue+'","'+i.ColumnFormatting[r].DecimalSeparator.AliasValue+'","'+i.ColumnFormatting[r].GroupSeparator.CurrentValue+'","'+i.ColumnFormatting[r].GroupSeparator.AliasValue+'","'+i.ColumnFormatting[r].Culture+'","'+i.ColumnFormatting[r].Unit+'","'+i.ColumnFormatting[r].NegativeValueFormat+'","'+i.ColumnFormatting[r].Prefix+'","'+i.ColumnFormatting[r].Suffix+'",#data["'+i.columnsecond.toString().replace(/\s/g,"").replace(")","").replace("(","")+'"])}}<\/label><\/td><\/tr><\/table><\/div><\/script>'))},_setMapResponsiveProperties:function(t,i){var l=300,s=0,a=2,h=.3,c=.05,v=.005,y=20,e=n("#"+t).data("ejMap");if(e){var u=n("#"+t).width(),f=n("#"+t).height(),r=e.model.layers[0],o=null;(f<=l||u<=l)&&(r.shapeSettings.colorMappings===null?(o=u<=f?u:f,r.bubbleSettings.minValue=o*v,r.bubbleSettings.maxValue=o*c):(r.legendSettings.showLegend=!1,r.legendSettings.dockOnMap=!1,r.legendSettings.width=0,r.legendSettings.height=0));r.shapeSettings.colorMappings===null?(o=u<=f?u:f,e.model.layers[0].bubbleSettings.minValue=o*v,e.model.layers[0].bubbleSettings.maxValue=o*c):typeof r.shapeSettings.colorMappings.equalColorMapping!="undefined"?(r.legendSettings.showLegend=i.ShowLegend,r.legendSettings.dockOnMap=r.legendSettings.showLegend,r.legendSettings.position="none",f*.9>=u*.7?(r.legendSettings.dockPosition="bottom",r.legendSettings.columnCount=0,r.legendSettings.width=r.legendSettings.showLegend?u:s,r.legendSettings.height=r.legendSettings.showLegend?f*.1:s):(r.legendSettings.dockPosition="right",r.legendSettings.columnCount=1,r.legendSettings.width=r.legendSettings.showLegend?Math.max.apply(null,this.lengthCollection)+y*a<u*h?Math.max.apply(null,this.lengthCollection)+y*a:u*h:s,r.legendSettings.height=r.legendSettings.showLegend?f:s)):typeof e.model.layers[0].shapeSettings.colorMappings.rangeColorMapping!="undefined"&&(r.legendSettings.showLegend=i.ShowLegend,r.legendSettings.dockOnMap=i.ShowLegend,r.legendSettings.position="TopLeft",r.legendSettings.width=u*h,r.legendSettings.height=f*c);n("#"+t).find(".e-dbrd-control-nodatainfo").length===s&&e.refresh()}},_setMapBubbleSettings:function(n,i,r){var f=[],u;return t.isNullOrUndefined(n)||(u=i.width()<=i.height()?i.width():i.height(),f={showBubble:!0,valuePath:n.ValuePath.replace(/\s/g,"").replace("(","").replace(")",""),minValue:u*.005,maxValue:u*.05,bubbleOpacity:.6,color:r.customTheme.bubbleColor}),f},_setMapLegendSettings:function(n,i,r){var u=.3,s=2,e=null,h=20,c=i.height()>=196&&i.width()>=317,o,f,l;if(!t.isNullOrUndefined(n.BubbleSettings))return null;if(n.LegendMode.toLowerCase()==="interactive")e={showLegend:c?n.showLegend:!1,height:i.height()*.05,width:i.width()*u,position:n.showLegend?n.LegendPosition.toLowerCase():"",type:"layers",mode:n.LegendMode.toLowerCase(),title:n.LegendTitle,leftLabel:n.IsGradient?r.legendPrefx:"",rightLabel:n.IsGradient?r.legendPostfix:"",dockOnMap:n.showLegend};else{if(n.LegendPosition=i.height()*.9>=i.width()*.7?"bottom":"right",!t.isNullOrUndefined(r.rangeColor))for(o=JSON.parse(r.rangeColor),this.lengthCollection=[],f=0;f<o.equalColorMapping.length;f++)l=this._measureText(o.equalColorMapping[f].legendLabel,i.width(),{size:14}),this.lengthCollection.push(l.width);e={showLegend:c?n.showLegend:!1,height:n.LegendPosition.toLowerCase()==="bottom"?i.height()*.1:i.height(),width:n.LegendPosition.toLowerCase()==="bottom"?i.width():this.lengthCollection!=="undefined"?Math.max.apply(null,this.lengthCollection)+h*s<i.width()*u?Math.max.apply(null,this.lengthCollection)+h*s:i.width()*u:i.width()*u,dockPosition:n.LegendPosition.toLowerCase(),dockOnMap:n.showLegend,type:"layers",columnCount:n.LegendPosition==="right"?1:0,mode:n.LegendMode.toLowerCase()}}return e},_measureText:function(i,r,u){var s=n(document).find("#cardMeasureText"),f=null,h=0,c=-1,e,v;s.length===h?(f=document.createElement("text"),n(f).attr({id:"cardMeasureText"}),document.body.appendChild(f)):f=s[0];var l="",o="",a="";return f.innerHTML=i,typeof u!="undefined"&&typeof u.size=="undefined"&&(e=u,e=e.split(" "),l=e[0],o=e[1],a=e[2]),u!==null&&(f.style.fontSize=u.size>h?u.size+"px":u.size?u.size:o.indexOf("px")===c&&o.indexOf("%")===c?o+"px":o,f.style.fontStyle=u.fontStyle?u.fontStyle:l,f.style.fontFamily=u.fontFamily?u.fontFamily:a),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",r&&(f.style.maxwidth=r+"px"),v={width:f.offsetWidth,height:f.offsetHeight},t.browserInfo().name==="msie"||t.browserInfo().name==="webkit"?f.parentNode.removeChild(f):f.remove(),v},_loadMapSlaves:function(r,u,f,e,o,s,h){var p=0,nt=1,k=-1,st=[],w=null,ct=this._checkHasViewData(r),at,tt,et,vt,yt,ot,b,pt,ht,wt;if(this.controlRelations.length!==p||!t.isNullOrUndefined(s)||ct){var a=this.dashboardControls.getControlByReport(r),d=null,lt=null,g=null,it=[],c=0,rt=0,v=null,l=[],y=-1,ut=null,ft=o!==null&&o.DateTimeColumns.length!==p&&typeof o.DateTimeColumns[p]!="undefined"?o.DateTimeColumns[p].toLowerCase():[];if(t.isNullOrUndefined(h)||h.rightClick!==!0||h.type!=="shapeSelected"?t.isNullOrUndefined(h)||h.rightClick!==!1||h.type!=="shapeSelected"||(ut=t.dashboardViewer.ActionType.Click):ut=t.dashboardViewer.ActionType.ContextMenu,h!==null){for(at=h.originalEvent.length,tt=h.originalEvent,t.isNullOrUndefined(at)&&(tt=[],tt.push(h.originalEvent)),rt=0;rt<tt.length;rt++)if(et=tt[rt].data,!t.isNullOrUndefined(et)){for(c in et)(c===o.columnfirst||c===o.columnsecond||c===o.columnthird)&&l.push({Column:c.toLowerCase().replace(" ","").substr(nt),Value:et[c]});it.push({Items:l})}for(a.SelectedFilterInfo=[],c=0;c<l.length;c++){if(v=new selectedFilterInfo,y=this._checkFilterInfo(l[c].Column,a.SelectedFilterInfo),t.isNullOrUndefined(y)||y===k){if(ft.indexOf(l[c].Column)!==k){if(v.DateFilterInfo.DateFilterList.push(l[c].Value),l[c].Column===l[c].Column+"_displayvalue"){a.SelectedFilterInfo[y].DateFilterInfo.DisplayDateFilterList.push(l[c].Value);break}}else v.DimensionFilterInfo.Text.push(l[c].Value);v.DimensionFilterInfo.Conditions=4;v.UniqueColumnName=l[c].Column;v.ReportName=a.reportName}else{if(ft.indexOf(l[c].Column)!==k){if(a.SelectedFilterInfo[y].DateFilterInfo.DateFilterList.push(l[c].Value),l[c].Column===l[c].Column+"_displayvalue"){a.SelectedFilterInfo[y].DateFilterInfo.DisplayDateFilterList.push(l[c].Value);break}}else a.SelectedFilterInfo[y].DimensionFilterInfo.Text.push(l[c].Value);a.SelectedFilterInfo[y].ReportName=a.reportName}st.push(v)}}for(vt=this.controlRelations.length,c=0;c<vt;c++)if(this.controlRelations[c].Master===r){if(g=this._id+t.DashboardConstants.Widget+this.controlRelations[c].Master,d=this.controlRelations[c].Slaves,d.length===p&&t.isNullOrUndefined(s)&&(lt=this._checkFilterOverviewData(r),this._addFilterDataToTitle(lt),!ct))return;if(h!==null&&it.length===p&&h.originalEvent.length>p&&h.originalEvent[p].data===i)for(it=[],a.SelectedFilterInfo=[],yt=h.model.layers[0].dataSource.length,ot=0;ot<yt;ot++){b=h.model.layers[0].dataSource[ot];for(c in b)({}).hasOwnProperty.call(b,c)&&c===o.columnfirst&&(y=this._checkFilterInfo(c.substr(nt),a.SelectedFilterInfo),t.isNullOrUndefined(y)||y===k?(v=new selectedFilterInfo,ft.indexOf(c.substr(nt).toLowerCase())!==k?v.DateFilterInfo.DateFilterList.push(b[c]):v.DimensionFilterInfo.Text.push(b[c]),v.DimensionFilterInfo.Conditions=5,v.UniqueColumnName=c.substr(nt),v.ReportName=a.reportName,st.push(v)):(ft.indexOf(c.substr(nt))!==k?a.SelectedFilterInfo[y].DateFilterInfo.DateFilterList.push(b[c]):a.SelectedFilterInfo[y].DimensionFilterInfo.Text.push(b[c]),a.SelectedFilterInfo[y].ReportName=a.reportName))}if(h===null){this._makeSlaveDataRequest({master:r,slaves:d,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}break}for(ut===t.dashboardViewer.ActionType.ContextMenu&&this._setHoverSelectionForWidget(h,r),h!==null&&(pt=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejMap"),w={id:r,actionType:ut,dataWrapper:it,widgetInstance:pt,masterData:g,slaves:d,callbackfn:null,drillDownData:null,evt:h,filterInfo:st,isMaximizedView:u},this._widgetActionHandler(w,null)),ht=n("body").find(".e-tree-tool-table"),wt=ht.length,c=0;c<wt;c++)n(ht[c]).parent().css({display:"none"});t.isNullOrUndefined(d)||!t.isNullOrUndefined(w)&&w.actionType!=="ContextMenu"&&!u&&d.length>p&&(h!==null&&h.originalEvent.length>p&&!t.isNullOrUndefined(w)&&!t.isNullOrUndefined(w.actionData)&&w.actionData[p]!=="Linking"?(n("#"+g+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+g).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+g+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+g).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})))}},_removeDrilledMap:function(t){n(t.currentTarget).parents(".e-drilledMap").css({display:"none"})}}}(jQuery,SyncfusionDashboard);$.views.helpers({MapToolTipFormat:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var w=0,y="",p,v;if(ejDashboard.preferredCulture(e),p=ejDashboard.isNullOrUndefined(l)?w:l,v=parseFloat(p.toString()),isNaN(v))return p;if((n==="Number"||n==="Default")&&(Math.abs(p)>1e15||Math.abs(p)<1e-15))return p=p.toString().replaceAll(i,r),p=p.toString().replaceAll(u,f),h+p+c;if(n==="Percent")return $.views.helpers.ApplyPercentage(t,e,o,v,a);if((n==="Number"||n==="Default")&&v<0){v=Math.abs(v);v=parseInt(o)===w?$.views.helpers.truncateNumber(v,a):$.views.helpers.ApplyNumberUnit(parseInt(o),v,a);y=n==="Default"?$.views.helpers._adjustZeros(v,o,t,e)+v.symbol:ejDashboard.globalize.format(v.fraction,t,e)+v.symbol;y=y.replaceAll(i,r);y=y.replaceAll(u,f);switch(s){case"Default":y="-"+y;break;case"NoNegativeSignWithBracket":y="("+y+")";break;case"NegativeSignInSuffix":y+="-"}}else v=parseInt(o)===w?$.views.helpers.truncateNumber(v,a):$.views.helpers.ApplyNumberUnit(parseInt(o),v,a),y=n==="Default"||n==="Number"?$.views.helpers._adjustZeros(v,o,t,e)+v.symbol:ejDashboard.globalize.format(v.fraction,t,e)+v.symbol,y=y.replaceAll(i,r),y=y.replaceAll(u,f);return h+y+c},_adjustZeros:function(n,t,i,r){var f=0;ejDashboard.preferredCulture(r);var e=i,o=parseInt(i.replace(/^\D+/g,"")),u=n;return parseInt(t)===f?(n.fraction===f?(n.symbol="",e=i.replace(o,"0")):(n.fraction===parseInt(n.fraction)||n.fraction%o===f)&&(e=i.replace(o,"0")),ejDashboard.globalize.format(n.fraction,e,r)):t===""?u.fraction:(u.fraction===f&&(u={fraction:f,postFixLabel:""},e=i.replace(o,"0")),(u.fraction===parseInt(u.fraction)||u.fraction%o===f)&&(e=i.replace(o,"0")),ejDashboard.globalize.format(u.fraction,e,r)+(u.postFixLabel?u.postFixLabel:""))},ApplyNumberUnit:function(n,t,i){var r=10,o=2,s=4,h=5,c=3,f=6,e=7,u=1,l=Math.pow(r,c),p=Math.pow(r,h),a=Math.pow(r,f),w=Math.pow(r,e),v=Math.pow(r,9),y=Math.pow(r,12);if(i==="en-IN")switch(n){case u:return{fraction:t/u,symbol:""};case o:return{fraction:t/l,symbol:"K"};case c:return{fraction:t/p,symbol:"L"};case s:return{fraction:t/a,symbol:"M"};case h:return{fraction:t/w,symbol:"C"};case f:return{fraction:t/v,symbol:"B"};case e:return{fraction:t/y,symbol:"T"};default:return{fraction:t,symbol:""}}else switch(n){case u:return{fraction:t/u,symbol:""};case o:return{fraction:t/l,symbol:"K"};case s:return{fraction:t/a,symbol:"M"};case f:return{fraction:t/v,symbol:"B"};case e:return{fraction:t/y,symbol:"T"};default:return{fraction:t,symbol:""}}},ApplyPercentage:function(n,t,i,r,u){var f;return(ejDashboard.preferredCulture(t),f=parseFloat(r.toString()),isNaN(f))?r:(f*=100,f=i===0?$.views.helpers.truncateNumber(f,u):$.views.helpers.ApplyNumberUnit(i,f),typeof f.symbol!="undefined")?ejDashboard.globalize.format(f.fraction,n.replace("P","N"),t)+f.symbol+"%":ejDashboard.globalize.format(f.fraction,n.replace("P","N"),t)+"%"},truncateNumber:function(n,t){var e=10,o=Math.pow(e,3),s=Math.pow(e,5),r=Math.pow(e,6),h=Math.pow(e,7),u=Math.pow(e,9),f=Math.pow(e,12),i=n;if(t==="en-IN"){if(i>=o&&i<s||i<=-o&&i>-s)return{fraction:$.views.helpers._calculateFraction(i,o),symbol:"K"};if(i>=s&&i<r||i<=-s&&i>-r)return{fraction:$.views.helpers._calculateFraction(i,s),symbol:"L"};if(i>=r&&i<h||i<=-r&&i>-h)return{fraction:$.views.helpers._calculateFraction(i,r),symbol:"M"};if(i>=h&&i<u||i<=-h&&i>-u)return{fraction:$.views.helpers._calculateFraction(i,h),symbol:"C"};if(i>=u&&i<f||i<=-u&&i>-f)return{fraction:$.views.helpers._calculateFraction(i,u),symbol:"B"};if(i>=f||i<=-f)return{fraction:$.views.helpers._calculateFraction(i,f),symbol:"T"}}else{if(i>=o&&i<r||i<=-o&&i>-r)return{fraction:$.views.helpers._calculateFraction(i,o),symbol:"K"};if(i>=r&&i<u||i<=-r&&i>-u)return{fraction:$.views.helpers._calculateFraction(i,r),symbol:"M"};if(i>=u&&i<f||i<=-u&&i>-f)return{fraction:$.views.helpers._calculateFraction(i,u),symbol:"B"};if(i>=f||i<=-f)return{fraction:$.views.helpers._calculateFraction(i,f),symbol:"T"}}return{fraction:i,symbol:""}},_calculateFraction:function(n,t){return n/t}}),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.pivotGrid={_renderPivotGrid:function(r,u){var v=0,it=1,g=null,a=!1,e=null,p=null,f=null,o=null,s=null,l=null,y=null,et,h,w,c,b,k,nt,d,ot,tt;f=r.configInfo;p=r.getCurrentPageData();var rt=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.jsonRecords)&&!u.isMaximize?u.jsonRecords:r.getCurrentPageData().pagedata,st=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.filterInfo)?u.filterInfo:null,ut=!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.pvtReport)?u.pvtReport:null,ft=r.reportName,ht=JSON.parse(JSON.stringify(this.dashboardParameters));if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.pivotgridDiv)){if(e=n("#"+this._id+t.DashboardConstants.Widget+f.Id),g=e.attr("id"),et=e.data("ejPivotgrid"),t.isNullOrUndefined(et)&&(g=null),t.isNullOrUndefined(e.find("#"+e.attr("id")+"_div").data("ejDashboardPivotGrid"))||(e.find("#"+e.attr("id")+"_div").data("ejDashboardPivotGrid")&&e.find("#"+e.attr("id")+"_div").ejDashboardPivotGrid("destroy"),e.find("#"+e.attr("id")+"_div").html("")),h=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),g!==null||e.hasClass(".e-table dashboardPivotGridControl")||(f.EnableFrozenHeaders?(e=h.find(".e-dbrd-control"),e.addClass(".e-table dashboardPivotGridControl").css({width:e.parent().width(),margin:"1px",height:e.height()-it}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),h.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:f.Id}),h.attr({"data-controltype":"PivotGrid"})):(e=h.find(".e-dbrd-control"),e.addClass(".e-table dashboardPivotGridControl").css({width:e.parent().width(),overflow:"hidden","margin-left":"-1px",height:e.height()-it}).attr({id:this._id+t.DashboardConstants.Widget+f.Id}),h.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:f.Id}),h.attr({"data-controltype":"PivotGrid"}))),e.attr({"data-controlId":f.Id}),p.isError){this._showControlError(p.pagedata,e,f);return}this._hideControlError(e)}else e=u.pivotgridDiv,a=u.isMaximize;if(!this._applyOrRemoveNoDataAvailable(p.pagedata.length,e)){e.data("ejDashboardScroller")&&e.ejDashboardScroller("destroy");return}if(this._dashboardData().isExportImage&&t.isNullOrUndefined(r.PivotReport))for(w=this._dashboardData().widgetData.d,o=0;o<w.length;o++)if(w[o].reportName===r.reportName){r.PivotReport=w[o].PivotReport;break}if(this.dashboardControls.getControlByReport(ft)&&(s=new Dbrdcontrol,s=s.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(ft)))),y=n.parseJSON(s.PivotReport),y=ut!==null?n.parseJSON(ut):y),e.find("#"+e.attr("id")+"_div").length===v&&e.append(n("<div>").attr({id:e.attr("id")+"_div"})),c={},f.IsMasterFilter&&!f.IsLinked&&!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length){for(o=0;o<r.SelectedFilterInfo.length;o++)r.SelectedFilterInfo[o].DimensionFilterInfo!==null&&r.SelectedFilterInfo[o].DimensionFilterInfo.Text.length>v&&(l=r.SelectedFilterInfo[o].UniqueColumnName,c[l]=r.SelectedFilterInfo[o].DimensionFilterInfo.Text),r.SelectedFilterInfo[o].DateFilterInfo!==null&&r.SelectedFilterInfo[o].DateFilterInfo.DateFilterList.length>v&&(l=r.SelectedFilterInfo[o].UniqueColumnName,c[l]=r.SelectedFilterInfo[o].DateFilterInfo.DateFilterList);b=null;n.map(rt,function(n){n.ActualValue===c[l][0]&&(b=n.Value)});t.isNullOrUndefined(b)||(c[l]=[],c[l].push(b))}if(k={},f.ExpandedNodes&&f.ExpandedNodes.length>v&&!a){for(nt=[],o=0;o<f.ExpandedNodes.length;o++)k[f.ExpandedNodes[o].Column]=f.ExpandedNodes[o].Values,d=new expandedNodesInfo,d.UniqueColumnName=f.ExpandedNodes[o].Column,d.ExpandedNodes=f.ExpandedNodes[o].Values,nt.push(d);s.expandedNodes=nt;this.dashboardControls.updateCurrentReport(s)}else n.each(s.expandedNodes,function(n,t){k[t.UniqueColumnName]=t.ExpandedNodes});f.EnableFrozenHeaders&&(ot=e.find("#"+e.attr("id")+"_div"),ot.css({height:e.height(),width:e.parent().width()}));var ct=this.model.localeSettings.resourcePath,lt=this.model.localeSettings.culture,at=this.model.localeSettings.dateFormat,vt=this.model.localeSettings.timeFormat;e.find("#"+e.attr("id")+"_div").ejDashboardPivotGrid({enableJSONRendering:!0,operationalMode:"servermode",jsonRecords:{JsonRecords:rt,PivotReport:y},enableCellContext:!0,cellContext:f.IsMasterFilter&&!a||f.IsLinked||this.model.enableViewData?n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,f.DateTimeColumns,f):[],serviceMethodSettings:{drillDown:this.model.serviceMethods.processRequestForPost,fetchMembers:this.model.serviceMethods.processRequestForPost,filtering:this.model.serviceMethods.processRequestForPost,sorting:this.model.serviceMethods.processRequestForPost,valueSorting:this.model.serviceMethods.processRequestForPost},renderSuccess:n.proxy(this._pivotGridRenderSuccess,this,e),drillSuccess:n.proxy(this._pivotGridDrillSuccess,this,e,a),processResponse:n.proxy(this._processPivotGridResponse,this),frozenHeaderSettings:{enableFrozenHeaders:f.EnableFrozenHeaders},enableValueSorting:f.EnableMeasureSorting,valueSort:!n.isEmptyObject(s.pivotSortSettings)&&(t.isNullOrUndefined(s.sortedHeader)||s.sortedHeader==="")?s.pivotSortSettings:null,isResponsive:!0,loadOnDemand:!0,expandedMembers:k,selectedCells:c!==null?c:null,enableCellSelection:f.IsMasterFilter&&!a||f.IsLinked,enableCollapseByDefault:!0,cellSelection:f.IsMasterFilter&&!a||f.IsLinked||this.model.enableViewData?n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:i,f.IsMasterFilter,f.DateTimeColumns,f):[],enableColumnGrandTotal:f.EnableColumnGrandTotal,enableRowGrandTotal:f.EnableRowGrandTotal,enableGroupingBar:f.EnableGroupingBar,columnHeaderHyperlinkClick:n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,f.DateTimeColumns,f),rowHeaderHyperlinkClick:n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,f.DateTimeColumns,f),summaryCellHyperlinkClick:n.proxy(this._loadPivotGridSlaves,this,f.Id,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,f.DateTimeColumns,f),beforeServiceInvoke:n.proxy(this._beforeServiceInvoke,this,e),customObject:{dashboardPath:this.dashboardPath(),controlId:f.Id,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,token:this.token,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,customCulture:lt,dateFormat:at,timeFormat:vt,customLanguagePath:ct,dashboardParameters:this._setAjaxDashboardParameterValue(ht),serverUrl:this.serverUrl(),methodName:this.model.serviceMethods.getDrillControlData}});tt=e.find("#"+e.attr("id")+"_div").data("ejDashboardPivotGrid");tt._tempFilterData=st;tt._createGroupingBar(y);!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>v&&(n("#"+e.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+e.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}));f.EnableFrozenHeaders||this._refreshScroller(e)},_setPivotGridConfigInfo:function(n){return n},_getPivotGridSettings:function(i,r){var s={},u=null,o=null,h,f,e;for(this.multiDashboardExport?(u=i.controls,o=r):(u=this.dashboardControls.controls,o=this._id),h=u.length,f=0;f<h;f++)u[f].controlType==="PivotGrid"&&(e=n("#"+o+"_Widget_"+u[f].reportName).find(".e-pivotgrid").data("ejDashboardPivotGrid"),t.isNullOrUndefined(e)||(n.isEmptyObject(e._valueSortSettings)||(u[f].pivotSortSettings=e._valueSortSettings),s={valueSorting:u[f].pivotSortSettings,customObject:e.model.customObject,report:e.model.jsonRecords.PivotReport.Report,sortedHeaders:n.isEmptyObject(u[f].pivotSortSettings)||t.isNullOrUndefined(e._valueSortIndex)?e._ascdes:null}));return s},_pivotGridRenderSuccess:function(i,r){var f=0,p=1,g=[],w=[],nt=!1,e=0,v=0,h=0,l=0,ot=null,tt=null,u=i.children().data("ejDashboardPivotGrid"),ut=n(i).hasClass("e-dbrd-MaximizedControl"),b,o,rt,s,k,c,a,d,ft,it,y,et;if(ut||(u._pivotJSONData=n.extend(!0,[],u.getJSONRecords()),u._pivotFilterData=n.extend(!0,[],u._tempFilterData)),n(u).find(".value, .rowheader, .colheader, .summary").click(function(t){tt=n(t.target).parents(".e-pivotgrid:eq(0)").data("ejDashboardPivotGrid");ot={element:tt.element,model:tt.model,customObject:tt.model.customObject,args:t,type:t.target.className.indexOf("summary")>=f?"summaryCellHyperlinkClick":t.target.className.indexOf("value")>=f?"valueCellHyperlinkClick":t.target.className.indexOf("rowheader")>=f?"rowHeaderHyperlinkClick":t.target.className.indexOf("colheader")>=f?"columnHeaderHyperlinkClick":""}}),b=0,o=new Dbrdcontrol,!t.isNullOrUndefined(u)){if(rt=i.attr("data-controlid"),this.dashboardControls.getControlByReport(rt)&&(o=o.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(rt))))),r.action!=="resizeWindow"&&(s=[],t.isNullOrUndefined(r)||t.isNullOrUndefined(r.expandedData)?ut||t.isNullOrUndefined(o.data[0])||t.isNullOrUndefined(o.data[0].ExpandedNodeData)||n.each(o.data[0].ExpandedNodeData,function(n,t){s.push({key:n,value:t})}):s=r.expandedData,!t.isNullOrUndefined(s)))for(v=0;v<s.length;v++){for(k=JSON.parse(s[v].value),k=u._processDrilledRecords(k),c=i.find((u.model.frozenHeaderSettings.enableFrozenHeaders?"td":"th")+"[role='rowheader']"),a=s[v].key.split("|~|"),nt=!1,h=v;h>=f;h--)if(s[h].key.split("|~|").length===a.length&&s[h].key!==s[v].key){nt=!0;break}for(l=0;l<a.length;l++)if(a.length===p){for(e=0;e<c.length;e++)if(n(c[e]).text().trim()===a[0]){n(c[e]).attr("isChildLoaded",!0);u._insertRows(n(c[e])[0],k,nt);break}}else if(l===f){for(e=0;e<c.length;e++)if(n(c[e]).text().trim()===a[l].trim()){g=n(c[e]);break}}else{for(d=g.attr("p").split(","),ft=parseInt(d[d.length-p])+parseInt(g.attr("rowspan")),h=d[d.length-p];h<ft;h++)if(w=n.grep(c,function(t){return n(t).attr("p")===l+","+h}),n(w[0]).text().trim()===a[l].trim())break;l===a.length-p?(n(w[0]).attr("isChildLoaded",!0),u._insertRows(w[0],k,nt)):g=w}}if(it=JSON.parse(u.getOlapReport()).Filters,n("#dashboard_maximized").length>f&&it.length>f)for(b=0;b<it.length;b++)y="#pivotButton"+it[b].DimensionName,y.length>f&&(y=y.match(/\S+/g)[0]),n(y).siblings(".filter").hasClass("filtered")&&(et="#dashboard_maximized "+y,n(et).siblings(".filter").addClass("filtered"));o.PivotReport!==u.getOlapReport()&&n("#dashboard_maximized").length===f&&u.getOlapReport()&&(o.PivotReport=u.getOlapReport(),o.data[o.data.length-p].pagedata=u._JSONRecords,this.dashboardControls.updateCurrentReport(o))}!t.isNullOrUndefined(u)&&u.model.enableJSONRendering?(u.model.url=this.serviceUrl(),u.model.enableJSONRendering=!1):t.isNullOrUndefined(u)||u._errorMessage===""||this._showPivotGridError(u,i);u.model.frozenHeaderSettings.enableFrozenHeaders?(u.model.frozenHeaderSettings.scrollerSize=f,this._refreshScrollerForFrozenHeaders(i),this._refreshGroupingBarForFrozenHeaders(i)):(this._refreshScroller(i),this._refreshGroupingBar(i))},_processPivotGridResponse:function(n){n=this._processResponseMessage(n)},_pivotGridDrillSuccess:function(i,r){var h,f;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.drillDown,source:{element:null,data:i}});var o=0,s=null,v=null,e=0,u=i.children().data("ejDashboardPivotGrid");t.isNullOrUndefined(u)||u._errorMessage===""||this._showPivotGridError(u,i);n(u).find(".value, .rowheader, .colheader, .summary").click(function(t){s=n(t.target).parents(".e-pivotgrid:eq(0)").data("ejDashboardPivotGrid");v={element:s.element,model:s.model,customObject:s.model.customObject,args:t,type:t.target.className.indexOf("summary")>=o?"summaryCellHyperlinkClick":t.target.className.indexOf("value")>=o?"valueCellHyperlinkClick":t.target.className.indexOf("rowheader")>=o?"rowHeaderHyperlinkClick":t.target.className.indexOf("colheader")>=o?"columnHeaderHyperlinkClick":""}});var l=i.attr("data-controlid"),a=[],c=Object.keys(u.model.expandedMembers);for(e=0;e<c.length;e++)h=new expandedNodesInfo,h.UniqueColumnName=c[e],h.ExpandedNodes=u.model.expandedMembers[c[e]],a.push(h);this.dashboardControls.getControlByReport(l)&&!r&&(f=new Dbrdcontrol,f=f.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(l)))),f.data[f.data.length-1].pagedata=u._JSONRecords,f.expandedNodes=a,this.dashboardControls.updateCurrentReport(f));u.model.frozenHeaderSettings.enableFrozenHeaders?(this._refreshScrollerForFrozenHeaders(i),this._refreshGroupingBarForFrozenHeaders(i)):(this._refreshScroller(i),this._refreshGroupingBar(i));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.drillDown,source:{element:null,data:i}})},_beforeServiceInvoke:function(n,i){var u=n.children().data("ejDashboardPivotGrid"),r=0,o=0,c=this.model.localeSettings.resourcePath,l=this.model.localeSettings.culture,a=this.model.localeSettings.dateFormat,v=this.model.localeSettings.timeFormat,s,e,h,f;if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.model.customObject)||(u.model.customObject.masterData=JSON.stringify(this.dashboardControls.getAllControlsMasterData()),u.model.customObject.rangeData=JSON.stringify(this.rangeData),u.model.customObject.customCulture=l,u.model.customObject.customLanguagePath=c,u.model.customObject.dateFormat=a,u.model.customObject.timeFormat=v),s=n.attr("data-controlid"),e=new Dbrdcontrol,this.dashboardControls.getControlByReport(s)&&(e=e.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(s))))),!e.configInfo.EnableStatePersistence&&(i.action==="sorting"||i.action==="filtering")){if(h={},!t.isNullOrUndefined(e.configInfo.ExpandedNodes)){for(f=e.configInfo.ExpandedNodes,r=0;r<f.length;r++)for(o=0;o<f[r].Values.length;o++)u.model.expandedMembers[f[r].Column]&&u.model.expandedMembers[f[r].Column].indexOf(f[r].Values[o])===-1&&f[r].Values.pop(f[r].Values[o]);for(r=0;r<f.length;r++)h[f[r].Column]=f[r].Values}u.model.expandedMembers=h;e.sortedHeader=t.isNullOrUndefined(i.sortedHeader)?"":i.sortedHeader;this.dashboardControls.updateCurrentReport(e)}},_refreshScroller:function(t){var u=t.parent(),i=u.height()-(u.find(".e-control-heading").height()+u.find(".e-control-subtitleHeading").height()),f=t.width(),r;i=i-(n(t).find(".pivotGridTable").width()>f?-6:13);n(t).find(".e-pivotgrid").height(i);r=t.data("ejDashboardScroller");typeof r!="undefined"?(r.model.height=i,r.model.width=f,r.refresh()):(t.ejDashboardScroller({height:i,width:f}),t.ejDashboardScroller("refresh"))},_refreshGroupingBar:function(n){var r=n.find(".pivotGridTable"),t=n.find(".groupingBarPivot"),u,i,f;t.width(r.width()-1);u=r.find(".grpRow");i=t.find(".values");i.width(u.width()+3);f=t.find(".columns");f.width(t.width()-i.width()-5);this._refreshScroller(n)},_refreshScrollerForFrozenHeaders:function(t){var f=0,o=t.height(),e=t.width(),i,r,u;n(t).find(".e-pivotgrid").height(o);n(t).find(".e-pivotgrid").width(e);n(t).find(".pivotGridTable").width(e);i=n(t).find(".e-pivotgrid").data("ejDashboardPivotGrid");i._applyFrozenHeaderWidth(i._JSONRecords);n(t).find(".e-scroller .e-hscroll").length>0&&(r=n(t).find("#rowvaluecontent"),u=n(t).find(".rowhead"),r.height(r.height()-f),n(t).find(".rowhead").css({"padding-bottom":"0px"}),u.css({height:u.height()-f}))},_refreshGroupingBarForFrozenHeaders:function(n){var u=5,f=n.find(".pivotGridTable"),i=n.find(".groupingBarPivot"),r,t,e,o;i.width(n.width()-1);r=f.find(".colfreeze");t=i.find(".values");t.width(r.width());e=i.find(".columns");o=f.find(".rows");e.width(i.width()-t.width()-u);o.width(t.width()-u);t.css({"min-width":r.width()})},_showPivotGridError:function(n,t){this._showControlError(n._errorMessage,t,JSON.parse(n._configInfo));n.ogridWaitingPopup!==null&&n.ogridWaitingPopup.hide();return},_loadPivotGridSlaves:function(i,r,u,f,e,o){var k=0,tt=null,lt=!t.isNullOrUndefined(r),v,g,ct,nt,y,a,b;if(t.isNullOrUndefined(e)||t.isNullOrUndefined(o)||(tt={id:e.Id,configInfo:e,evt:o},o.type==="cellContext"&&this._setHoverSelectionForWidget(tt,i)),this.controlRelations.length!==k||lt||e.IsLinked||this._checkHasViewData(i)){var h=[],p=null,it=null,rt=[],s=0,w=0,l=null,ut=[],d=null,ft=null,et=null,ot=null,c=null,st=[],ht=null;if(t.isNullOrUndefined(o)||(o.JSONRecords=o.JSONRecords||[o.args.rawdata]),!t.isNullOrUndefined(o)){for(s in o.JSONRecords)if({}.hasOwnProperty.call(o.JSONRecords,s)){if(v=[],o.JSONRecords[s].CSS==="colheader calc"&&o.model.enableValueSorting)return;o.JSONRecords[s].CSS!=="summary gtot"&&o.JSONRecords[s].Info!=="GrandTotal"&&(t.isNullOrUndefined(o.JSONRecords[s].ActualValue)?v.push(o.JSONRecords[s].Value):v.push(o.JSONRecords[s].ActualValue),ut.push(o.JSONRecords[s].Value));v.length>0&&o.JSONRecords[s].Tag!==null&&o.JSONRecords[s].Tag!==""&&h.push({Column:o.JSONRecords[s].Tag,Value:v,IsDateTime:!1})}ft=n("#"+this._id+t.DashboardConstants.Widget+i).find(".e-pivotgrid").data("ejDashboardPivotGrid");l=this.dashboardControls.getControlByReport(i);l.SelectedItems.Included=o.model.selectedCells;rt.push({Items:h})}if(!t.isNullOrUndefined(o)&&h.length>k)for(l=this.dashboardControls.getControlByReport(i),l.SelectedFilterInfo=[],s=0;s<h.length;s++){for(g=!1,w=0;w<f.length;w++)if(f[w].indexOf(h[s].Column.toUpperCase())!==-1){g=!0;break}c=new selectedFilterInfo;c.UniqueColumnName=h[s].Column;g?(c.DateFilterInfo.DateFilterList=h[s].Value,c.DateFilterInfo.DisplayDateFilterList=ut):(c.DimensionFilterInfo.Text=h[s].Value,c.DimensionFilterInfo.Conditions="Include");c.ReportName=l.reportName;st.push(c)}else h.length===0&&(l=this.dashboardControls.getControlByReport(i),l.SelectedFilterInfo=[]);for(s=0;s<this.controlRelations.length;s++)if(this.controlRelations[s].Master===i){p=this.controlRelations[s].Slaves;p.length===k&&(it=this._checkFilterOverviewData(i),this._addFilterDataToTitle(it));this.target=[];t.isNullOrUndefined(o)&&(ct={master:i,masterData:this.dashboardControls.getAllControlsMasterData(),slaves:p,canDrill:!1,showIndicator:!0,isAutoRefresh:!1},this._makeSlaveDataRequest(ct));break}if(t.isNullOrUndefined(o)||t.isNullOrUndefined(o.cellClickInfo)||e.IsLinked&&t.isNullOrUndefined(r)&&(ht=n(this.element).find('.e-dbrd-control[data-controlid = "'+i+'"]'),t.isNullOrUndefined(o.cellClickInfo.model)&&(o.cellClickInfo.model=o.model),et={cellClickInfo:o.cellClickInfo,pivotGridControl:ht},ot=this._headerHyperlinkClick),t.isNullOrUndefined(o)||(o.type==="cellSelection"||o.type==="summaryCellHyperlinkClick"||o.type==="columnHeaderHyperlinkClick"||o.type==="rowHeaderHyperlinkClick"?d=t.dashboardViewer.ActionType.Click:o.type==="cellContext"&&(d=t.dashboardViewer.ActionType.ContextMenu)),nt={id:i,filterInfo:st,actionType:d,dataWrapper:rt,evt:o,widgetInstance:ft,masterData:this.dashboardControls.getAllControlsMasterData(),slaves:p,callbackfn:ot,drillDownData:null,linkingData:et},this._widgetActionHandler(nt),y=this._id+t.DashboardConstants.Widget+i,t.isNullOrUndefined(o))n("#"+y+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+y).parents(".e-dbrd-control-container").data({IsFilterApplied:!1});else for(a=0;a<e.ActionSetting.length;a++)if(e.ActionSetting[a].ActionType===nt.actionType&&e.ActionSetting[a].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(b=0;b<e.ActionSetting[a].Action.length;b++)e.ActionSetting[a].Action[b]==="Filter"&&(n("#"+y+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+y+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}},_headerHyperlinkClick:function(i,r){var f,o,u,e,c,s,l,h;t.isNullOrUndefined(r.args.target)||(f=n(r.args.target.parentElement),o=f.attr("role"),(o==="row"||o==="column")&&(f=n(r.args.target),o=f.attr("role")),u=null,e=null,o==="rowheader"?(c=f.attr("p").split(",")[0],s=r.model.jsonRecords.PivotReport.PivotRows[c],t.isNullOrUndefined(s)||!s.EnableHyperlink||t.isNullOrUndefined(s.UrlLink)||(e=f.textContent,t.isNullOrUndefined(e)&&(e=f.find(".cellValue").text()),u=s.UrlLink.replace("{{:"+s.FieldName.toUpperCase()+"}}",e),u.match(/^[a-zA-Z]+:\/\//)||(u="http:// "+u),window.open(encodeURI(u)))):o==="columnheader"&&(l=f.attr("p").split(",")[1],h=r.model.jsonRecords.PivotReport.PivotColumns[l],t.isNullOrUndefined(h)||!h.EnableHyperlink||t.isNullOrUndefined(h.UrlLink)||(e=f.textContent,t.isNullOrUndefined(e)&&(e=f.find(".cellValue").text()),u=h.UrlLink.replace("{{:"+h.FieldName.toUpperCase()+"}}",e),u.match(/^[a-zA-Z]+:\/\//)||(u="http:// "+u),window.open(encodeURI(u)))))}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.rangeNavigator={_renderRangeNavigator:function(r){var c=0,w=1,b=120,l=r.getCurrentPageData(),u=r.configInfo,tt=this.dashboardControls.getControlByReport(u.Id),k=null,o=[],h=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),f=h.find(".e-dbrd-control"),d,a,v,y,e,p;if(l.isError){f.attr({id:this._id+t.DashboardConstants.Widget+u.Id,"data-controlId":u.Id});this._showControlError(l.pagedata,f,u);return}for(d=l.pagedata.length,a=0;a<d;a++)o.push(JSON.parse(l.pagedata[a]));if(this._hideControlError(f),v=null,y=null,this._applyOrRemoveNoDataAvailable(o[0]?o[0].length:c,f)){if(e=f.data("ejDashboardRangeNavigator"),!t.isNullOrUndefined(e)){e?(e.model.series=this._CreateNaviSeries(o,u,this.theme.RangeNavigator[0]),t.isNullOrUndefined(r.SelectedItems.DateRange.start)||t.isNullOrUndefined(r.SelectedItems.DateRange.end)||r.SelectedItems.DateRange.start===""||r.SelectedItems.DateRange.end===""||!this._validateSelectedRanges(o,r.SelectedItems.DateRange)?(e.model.zoomPosition=w,e.model.zoomFactor=w,!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>c?(e.model.selectedRangeSettings.start=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0],e.model.selectedRangeSettings.end=r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]):(e.model.selectedRangeSettings.start="",e.model.selectedRangeSettings.end=""),e.renderNavigator()):(n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),e.model.selectedRangeSettings.start=t.globalize.format(new Date(r.SelectedItems.DateRange.start),"yyyy/MM/dd"),e.model.selectedRangeSettings.end=t.globalize.format(new Date(r.SelectedItems.DateRange.end),"yyyy/MM/dd"),e.renderNavigator())):k=null;return}if(p=null,k===null&&(h.attr({"data-controltype":"RangeNavigator"}),p=n('<div style="height:100%; width:100%; display:table">'),h.find(".e-dbrd-control-container").append(p),p.append(f),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id,"data-controlId":u.Id}),h.find(".e-remove-control-filter").attr("id",f.attr("id")+"_removeControlFilter"),h.find(".e-dbrd-export").attr({value:u.Id})),v="",y="",!t.isNullOrUndefined(r.SelectedFilterInfo)&&r.SelectedFilterInfo.length>c&&(v=t.globalize.format(new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[0]),"yyyy/MM/dd"),y=t.globalize.format(new Date(r.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[1]),"yyyy/MM/dd"),n("#"+f.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+f.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0})),f.attr({"data-stuff":'["'+u.xTitle+'","'+u.yTitle+'"]'}),f.addClass("e-dbrd-rangenavi"),this._applyOrRemoveNoDataAvailable(o[0]?o[0].length:c,f)){this._CreateNaviThumbTemplate(u);var it=f.height()>200?150:f.height()>b?b:f.height()-15,rt=f.width(),ut=u.Type?u.Type.toLowerCase():"line",ft=this.theme.palette,et=!(f.width()<125),ot=String(u.LabelFormat),s=tt.customTheme,st=s.toolTipBackground,ht=s.toolTipData,g=this.theme.RangeNavigator[0],ct=this._CreateNaviSeries(o,u,g),nt=u.IntervalType,lt=nt?nt.toLowerCase():"quarters",at=g.labelSettingsLowerLevelColor,vt=s.unSelectedRegionColor,yt=this._id+"_"+u.Id+"_thumb",pt=this._id+"_"+u.Id+"_thumb",wt=s.backgroundColor,bt=s.navigatorBorderColor,kt=s.navigatorBackgroundColor,dt=s.borderColor,gt=u.IsMasterFilter?n.proxy(this._loadRangeNaviSlaves,this,u.Id,u.IsLinked?u.ControlLinkData:i,u.ColumnName.toLowerCase()):null;f.ejDashboardRangeNavigator({enableDeferredUpdate:!0,enableAutoResizing:!0,padding:"15",sizeSettings:{height:it,width:rt},selectedRangeSettings:{start:v,end:y},palette:ft,seriesSettings:{type:ut,animation:!0,style:{borderColor:"transparent",opacity:.5,fill:"green",borderWidth:.5},fill:"green"},tooltipSettings:{visible:et,labelFormat:ot,backgroundColor:st,tooltipDisplayMode:"always",font:{color:ht,fontStyle:"Normal",fontFamily:"Segoe UI",size:"12px",opacity:1,fontWeight:"regular"}},series:ct,valueType:"datetime",labelSettings:{higherLevel:{intervalType:"",style:{font:{color:"transparent",fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",opacity:1,fontWeight:"regular"},horizontalAlignment:"left"},gridLineStyle:{color:"transparent",width:1,dashArray:"17 5 0"},labelPlacement:"inside"},lowerLevel:{intervalType:lt,style:{font:{color:at,fontFamily:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,fontWeight:"regular"},horizontalAlignment:"middle"},gridLineStyle:{color:"black",width:1,dashArray:"0 13 5"},labelPlacement:"inside"}},valueAxisSettings:{rangePadding:"none",font:{size:"0px"},majorTickLines:{size:0}},navigatorStyleSettings:{selectedRegionColor:"transperant",unselectedRegionColor:vt,unselectedRegionOpacity:.5,leftThumbTemplate:yt,rightThumbTemplate:pt,background:wt,thumbStroke:bt,thumbColor:kt,border:{color:dt,width:.5},majorGridLineStyle:{color:"transparent"},minorGridLineStyle:{color:"transparent"}},rangeChanged:gt})}}},_setRangeNavigatorConfigInfo:function(n){n.configInfo.IsToolTipVisible=t.isNullOrUndefined(n.configInfo.IsToolTipVisible)||n.configInfo.IsToolTipVisible;n.configInfo.IsMasterFilter=t.isNullOrUndefined(n.configInfo.IsMasterFilter)||n.configInfo.IsMasterFilter;n.configInfo.Type=t.isNullOrUndefined(n.configInfo.Type)?"SplineArea":n.configInfo.Type;n.configInfo.IntervalType=t.isNullOrUndefined(n.configInfo.IntervalType)?"Years":n.configInfo.IntervalType;n.configInfo.LabelFormat=t.isNullOrUndefined(n.configInfo.LabelFormat)?"":n.configInfo.LabelFormat;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.Page=t.isNullOrUndefined(n.configInfo.Page)?t.DashboardConstants.One:n.configInfo.Page;n.configInfo.xTitle=t.isNullOrUndefined(n.configInfo.xTitle)?"":n.configInfo.xTitle;n.configInfo.yTitle=t.isNullOrUndefined(n.configInfo.yTitle)?"":n.configInfo.yTitle;n.configInfo.ColumnName=t.isNullOrUndefined(n.configInfo.ColumnName)?"":n.configInfo.ColumnName},_CreateNaviSeries:function(n,t){for(var r=[],u=n.length,i=0;i<u;i++)r.push({dataSource:n[i],xName:["xValue"],yName:["yValue"],xAxis:{title:{text:t.xTitle}},yAxis:{title:{text:t.yTitle}},fill:this.theme.palette[i],opacity:.5});return r},_CreateNaviThumbTemplate:function(i){var r;n("#"+this._id+"_"+i.Id+"_thumb").length===0&&(r=null,r=n("#"+this._id+t.DashboardConstants.Widget+i.Id).height()>100?'<script type="text/x-jsrender" id="'+this._id+"_"+i.Id+'_thumb"><div style="height: 46px;width: 12px;border-radius:46px;background-color: #404041; margin-left: 2px;"/><\/script>':'<script type="text/x-jsrender" id="'+this._id+"_"+i.Id+'_thumb"><div style="height: 30px;width: 12px;border-radius:30px;background-color: #404041; margin-left: 2px;"/><\/script>',this.currentTabContentElement.append(r))},_validateSelectedRanges:function(n,t){var i=n[0],r=new Date(parseFloat(i[0].xValue.toString().replace("/Date(","").replace(")/",""))),u=new Date(parseFloat(i[i.length-1].xValue.toString().replace("/Date(","").replace(")/","")));return new Date(t.start)>=r&&new Date(t.end)<=u?!0:(t.start="",t.end="",!1)},_loadRangeNaviSlaves:function(i,r,u,f){var v=0,y=-1,c,h,o,e,l,p,s,b;if((this.controlRelations.length!==v||!t.isNullOrUndefined(r))&&this.flag&&(c=null,h=0,t.isNullOrUndefined(f)||t.isNullOrUndefined(c)||c[0]===null||c[1]===null||c[0].indexOf(new Date(f.selectedRangeSettings.start).toJSON())===y||c[1].indexOf(new Date(f.selectedRangeSettings.end).toJSON())===y)){o=[];e=this.dashboardControls.getControlByReport(i);f!==null&&(f.selectedRangeSettings.start!==""&&f.selectedRangeSettings.end!==""&&(f.selectedRangeSettings.start.toDateString()!==f.series[0].dataSource[0].xValue.toDateString()||f.selectedRangeSettings.end.toDateString()!==f.series[0].dataSource[f.series[0].dataSource.length-1].xValue.toDateString())?(o.push(f.selectedRangeSettings.start.toISOString()),o.push(f.selectedRangeSettings.end.toISOString()),e.SelectedItems.DateRange.start=o[0],e.SelectedItems.DateRange.end=o[1]):(e.SelectedItems.DateRange.start="",e.SelectedItems.DateRange.end="",e.SelectedFilterInfo=[]));l=null;p=null;this.target=[];var w=null,a=-1,k=this.controlRelations.length;for(h=0;h<k;h++)if(this.controlRelations[h].Master===i){if(w=this._id+t.DashboardConstants.Widget+this.controlRelations[h].Master,l=this.controlRelations[h].Slaves,l.length===v){p=this._checkFilterOverviewData(i);this._addFilterDataToTitle(p);return}o.length>v&&(a=this._checkFilterInfo(u,e.SelectedFilterInfo),t.isNullOrUndefined(a)||a===y?(s=new selectedFilterInfo,s.UniqueColumnName=u,s.DateFilterInfo.DateFilterList=o,s.DateFilterInfo.DateFilterType="Exact",s.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoRange,s.DateFilterInfo.DateFormat="Default",s.ReportName=e.reportName,e.SelectedFilterInfo.push(s)):e.SelectedFilterInfo[a].DateFilterInfo.DateFilterList=o);b={master:i,masterData:this.masterData,slaves:l,showIndicator:!1,isAutoRefresh:!1};this._makeSlaveDataRequest(b);break}f!==null&&(n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.card={_renderCards:function(i,r){var u=i.configInfo,lt=null,p=null,c=0,v=null,at=null,g=-1,s=1,y,w,f,dt,vt,it,rt,yt,ut,ft,gt,ni,e,et,ri,ui,fi,b,bt,hi,ot,k,st,ci,li,ht,ct;if(t.isNullOrUndefined(i.data)||t.isNullOrUndefined(i.data[0].pagedata)||!this._dashboardData().isExportImage||(lt=i.data[0],lt.scrollTop=0,i.currentPage=1),y=this._dashboardData().isExportImage?lt:i.getCurrentPageData(),w=this.currentTabContentElement.find("#"+this._id+"_cell_"+u.Row+"_"+u.Column),t.isNullOrUndefined(u)||u.Label.ShowHeader||this._setHeaderForSingleCard(w,u.Id),f=w.find(".e-dbrd-control"),y.isError){f.attr({"data-controlId":u.Id});f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl");this._showControlError(y.pagedata,f,u);return}if(this._hideControlError(f),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.cardDiv)?(w.attr({"data-controltype":"Card"}),f.attr({"data-controlId":u.Id}),f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl")):f=r.cardDiv,this._applyOrRemoveNoDataAvailable(y.pagedata.length,f)){var nt=null,l=f.attr("id"),a=null,tt=null,o=0,h=0,kt=0;if(i.loadedPages.length===c||r&&r.isMaximize)i.loadedPages.indexOf(i.currentPage)===g&&i.loadedPages.push(i.currentPage),l=f.attr("id"),t.isNullOrUndefined(r)&&f.attr({id:this._id+t.DashboardConstants.Widget+u.Id}).addClass("dashboardCardControl"),l=f.attr("id"),w.find(".e-remove-control-filter").attr("id",t.isNullOrUndefined(r)?f.attr("id")+"_removeControlFilter":r.id+"_removeControlFilter"),w.find(".e-dbrd-export").attr({value:u.Id}),f.children().length>c&&(f.data("ejDashboardScroller")&&(kt=f.data("ejDashboardScroller").model.scrollTop),t.widget.destroyAll(f.find(".e-js").off()),f.children().remove()),dt=f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:f.siblings(".e-control-subtitleHeading").height(),vt=f.parent(".e-dbrd-control-container").height(),f.parent(".e-dbrd-control-container").length===t.DashboardConstants.Zero&&(vt=f.height()),it=vt-(f.siblings(".e-control-heading").children().height()+dt+(f.siblings(".e-control-subtitleHeading").text()===""?t.DashboardConstants.Zero:parseInt(f.siblings(".e-control-subtitleHeading").find(".e-control-subtitle").css("margin-top")))+5),p=this._renderThePages(f,y.pagedata.length,i.currentPage,u,l,i.scrollSetting.controlPerPage),a=p.table,tt=n("<div>").width(f.width()+10),f.append(tt.append(a)),a.css({position:"relative"}),i.scrollSetting.rowPerPage=p.rowCount,i.scrollSetting.colPerPage=p.colCount,rt=i.scrollSetting.rowPerPage*i.scrollSetting.colPerPage,i.scrollSetting.emptyCellsCount=rt>i.scrollSetting.controlPerPage?rt-i.scrollSetting.controlPerPage:0,i.scrollSetting.controlPerPage=rt,i.totalPages=Math.ceil(i.totalCount/i.scrollSetting.controlPerPage),i.scrollSetting.heightOfColumn=p.heightOfColumn,nt=p.widthOfColumn,i.scrollSetting.widthOfColumn=p.widthOfColumn,i.currentPage===s?i.heightPerPage=a.height():i.currentPage>s&&(a.prepend(n("<tr>").css({height:(i.currentPage-s)*i.heightPerPage})),a.append(n("<tr>").css({height:(i.totalPages-i.currentPage)*i.heightPerPage})),i.scrollSetting.scrollTop!==c||f.hasClass("e-dbrd-MaximizedControl")||(i.scrollSetting.scrollTop=(i.currentPage-s)*i.heightPerPage)),yt=!1,f.data("ejDashboardScroller")&&(f.ejDashboardScroller("destroy"),yt=!0),yt&&f.css({height:it+"px"}),y.pagedata.length>s&&(f.css("transform","scale("+this.deScalingFactor+")"),f.ejDashboardScroller({height:it,scrollerSize:13,scrollTop:kt}),f.css("transform","scale("+t.DashboardConstants.One+")")),i.scrollSetting.visibleHeight=it;else{for(a=f.find("table"),ut=0,ft=0,nt=i.scrollSetting.widthOfColumn,gt=i.totalPages,o=0;o<gt;o++)i.loadedPages.indexOf(i.currentPage-o-s)!==g&&ut===c&&(ut=i.currentPage-o-s),i.loadedPages.indexOf(i.currentPage+o+s)!==g&&ft===c&&(ft=i.currentPage+o+s);i.loadedPages.indexOf(i.currentPage)===g&&(i.loadedPages.push(i.currentPage),ni={controlId:l,previousPage:ut,nextPage:ft,data:i,heightofColumn:i.scrollSetting.heightOfColumn},this._renderRowsOndemand(ni))}var ai=i.getPageDataBypage(i.currentPage),d=ai.pagedata,ti=i.scrollSetting.heightOfColumn,pt=[],ii=[];for(o=0;o<i.scrollSetting.controlPerPage;o++)if(e=d[o],et=i.currentPage>s&&i.scrollSetting.emptyCellsCount!==c?(i.currentPage-s)*(i.scrollSetting.controlPerPage-i.scrollSetting.emptyCellsCount)+o:(i.currentPage-s)*i.scrollSetting.controlPerPage+o,e){if(ri=t.isNullOrUndefined(e.BorderType)?"#d3d3d3":t.isNullOrUndefined(e.BorderType.color)?"#d3d3d3":e.BorderType.color,v=n("<div>").attr({id:l+"_child_"+et}).addClass("e-multiple-series").css({overflow:"hidden","margin-left":"auto","margin-right":"auto","vertical-align":"middle","border-color":ri}),i.SelectedFilterInfo&&i.SelectedFilterInfo.length>c){if(i.SelectedFilterInfo[0].DimensionFilterInfo&&i.SelectedFilterInfo[0].DimensionFilterInfo.Text.length!==c)for(ui=i.SelectedFilterInfo[0].DimensionFilterInfo.Text.length,h=0;h<ui;h++)i.SelectedFilterInfo[0].DimensionFilterInfo.Text[h]===e.customHeader.value&&(v.addClass("e-dbrd-clicked-card"),pt.push(v.attr("id")),ii.push({Column:i.SelectedFilterInfo[0].ColumnName,value:i.SelectedItems.Included.Value}));else if(i.SelectedFilterInfo[0].DateFilterInfo&&i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length!==c)for(fi=i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList.length,h=0;h<fi;h++)i.SelectedFilterInfo[0].DateFilterInfo.DateFilterList[h]===e.customHeader.value&&(v.addClass("e-dbrd-clicked-card"),pt.push(v.attr("id")),ii.push({Column:i.SelectedFilterInfo[0].ColumnName,value:i.SelectedItems.Included.Value}));n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable")}if(d.length>s||i.totalCount>s)this.model._dashboardData.isExportImage?f.removeClass("e-Card-Single"):f.removeClass("e-Card-Single").addClass("e-card-Series e-multiple-parent");else{if(f.addClass("e-Card-Single"),d[0].actualValue.value===""&&d[0].targetValue.value===""&&d[0].additionalValue.value===""){this._applyOrRemoveNoDataAvailable(c,f);return}ti=f.height()-.5;nt=f.width()-4;tt=a.parent();tt.css({display:"table-cell","vertical-align":"middle",position:"relative"});f.css({display:"table","vertical-align":"middle"})}a.find("#"+l+"_child_column_"+et).html("");a.find("#"+l+"_child_column_"+et).append(v);b=this;!t.isNullOrUndefined(e.customHeader)&&e.customHeader.visible&&(e.customHeader.value=e.customHeader.value.replace('<span class="e-dbrd-param-column" data-param="',""),e.customHeader.value=e.customHeader.value.replace('">All<\/span>',""),e.customHeader.value=b._updateTextWithParameterColumns(e.customHeader.value,u.ParameterColumns),e.customHeader.text=t.isNullOrUndefined(e.customHeader.text)||e.customHeader.text===""?e.customHeader.value:e.customHeader.text);t.isNullOrUndefined(u.cardRangeSettings)||u.cardRangeSettings.RangeType==="Absolute"||u.cardRangeSettings.RangeType==="percent"||u.cardRangeSettings.RangeType!==t.DashboardConstants.Zero?t.isNullOrUndefined(u.cardRangeSettings)||u.cardRangeSettings.RangeType!==t.DashboardConstants.One||(u.cardRangeSettings.RangeType="Percent"):u.cardRangeSettings.RangeType="Absolute";t.isNullOrUndefined(u.cardRangeSettings)||(at={Ranges:u.cardRangeSettings.CardRangeSettings,Type:u.cardRangeSettings.RangeType});var ei=u.IsMasterFilter||u.IsLinked||this.model.enableViewData?n.proxy(b._LoadCardSlaves,b,u.Id,u.ColumnInfo,u.IsLinked?u.ControlLinkData:null,u.IsMasterFilter,y.pagedata.length,u.DateTimeColumns,u):null,vi=b.model.dashboardCulture,yi=e.actualValue,pi=e.targetValue,wi=!t.isNullOrUndefined(e.additionalValue)&&!t.isNullOrUndefined(e.additionalValue.value)&&e.additionalValue.value!==""?e.additionalValue:null,bi=e.customHeader,ki=e.headers,di=t.isNullOrUndefined(at)?null:at,gi=u.ShowIndicatorOnly,nr=u.CustomVisibility,tr=u.ShowSubtitle,ir=t.isNullOrUndefined(e.PrimaryValueType)?"":e.PrimaryValueType.color,wt=t.isNullOrUndefined(e.IconType)?"":e.IconType,rr=b._updateTextWithParameterColumns(u.SubText,u.ParameterColumns),ur=u.SubColor?u.SubColor:"",fr=u.SubFontSize?u.SubFontSize:"",er=u.SecondaryValueType,or=t.isNullOrUndefined(e.BackGroundType)?"":u.BackgroundType.toLowerCase(),sr=t.isNullOrUndefined(e.BackGroundType)?"":e.BackGroundType.color,hr=u.Image,cr=u.Opacity,lr=u.VariationType.toLowerCase(),ar=u.AbbrevationType.toLowerCase(),oi=t.isNullOrUndefined(u.DecimalSeparator)?".":u.DecimalSeparator,si=t.isNullOrUndefined(u.GroupSeparator)?",":u.GroupSeparator,vr=u.decimalPlaces,yr=u.currencyCulture,pr=u.Format==="Currency"?t.Card.Format.Currency:u.Format==="Percent"?t.Card.Format.Percentage:t.Card.Format.Number,wr=u.NegativeValueFormat.toLowerCase(),br=u.Prefix,kr=u.Suffix,dr=u.higherValueGood,gr=e.sparkLine,nu=t.isNullOrUndefined(u.VariationType)?null:u.VariationType.toLowerCase(),tu=t.isNullOrUndefined(u.AbbrevationTypeForAdditional)?null:u.AbbrevationTypeForAdditional.toLowerCase(),iu=u.decimalPlacesForAdditional,ru=u.currencyCultureForAdditional,uu=u.FormatForAdditional==="Currency"?t.Card.Format.Currency:u.FormatForAdditional==="Percent"?t.Card.Format.Percentage:t.Card.Format.Number,fu=t.isNullOrUndefined(u.NegativeValueFormatForAdditional)?null:u.NegativeValueFormatForAdditional.toLowerCase(),eu=u.PrefixForAdditional,ou=u.SuffixForAdditional,su=u.IsCustomRange,hu=u.PrimaryValueAlignment,cu=u.SecondaryValueAlignment,lu=u.UniformFontsize;if(v.ejDashboardCard({size:{height:ti,width:nt},selected:ei,cardDefaultData:t.isNullOrUndefined(this.cardDefaultData)?t.DashboardConstants.Zero:this.cardDefaultData,rightClick:ei,enableRightClick:!0,culture:vi,IsApplied:t.isNullOrUndefined(u.IsApplied)?!1:u.IsApplied,actualValue:yi,targetValue:pi,additionalValue:wi,customHeader:bi,headers:ki,rangeSettings:di,showIndicatorOnly:gi,customVisibility:nr,subTitle:{visible:tr,text:rr,color:ur,size:fr},secondaryValueType:er,background:{type:or,imageSrc:hr,opacity:cr,color:sr},icon:{path:wt.path,type:wt.type,color:wt.color},enableResize:!1,valueRepresentation:{variationType:lr,abbreviationType:ar,decimalSeparator:oi,groupSeparator:si,numberOfDecimals:vr,currencyCulture:yr,format:pr,negativeValueFormat:wr,prefix:br,suffix:kr},additionalValueRepresentation:{variationType:nu,abbreviationType:tu,decimalSeparator:oi,groupSeparator:si,numberOfDecimals:iu,currencyCulture:ru,format:uu,negativeValueFormat:fu,prefix:eu,suffix:ou},higherValueGood:dr,sparkLine:gr,IsCustomRange:su,primaryValue:{color:ir},primaryValuePosition:hu,secondaryValuePosition:cu,uniformFontSize:lu}),this.resize)for(bt=this.dashboardControls.getAllControls(),hi=bt.length,ot=0;ot<hi;ot++)if(k=bt[ot],k.controlType==="parameterColumnData"){for(st=[],ci=k.data.length,h=0;h<ci;h++)if(k.data[h].pageNumber===t.DashboardConstants.Zero){k.data[h].scrollTop=0;st.push(k.data[h]);break}st.length>t.DashboardConstants.Zero&&(this._callFunction(this._updateParameterColumns,st[0].pagedata),this.resize=!1)}}if(i.SelectedFilterInfo&&i.SelectedFilterInfo.length===c&&(f.find(".e-dbrd-selected-card").remove(),n("#"+l+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+l).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})),u.Label.ShowHeader===!1&&this._resizeSingleCardTitle(w),i.currentPage===i.totalPages)for(li=Math.ceil(i.totalCount/i.scrollSetting.colPerPage),o=li;o<i.scrollSetting.rowPerPage*i.totalPages;o++)ht=n("#"+l+"_child_row_"+o),t.isNullOrUndefined(ht)||ht.find(".e-card").length!==c||ht.remove();t.isNullOrUndefined(f.data("ejDashboardScroller"))||(f.css("transform","scale("+this.deScalingFactor+")"),f.data("ejDashboardScroller").refresh(),f.css("transform","scale("+t.DashboardConstants.One+")"));f.find(".e-content").css({position:"relative"});this._AddCardSelection(pt,f,y.pagedata.length,!1,null);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&i.totalCount>s&&(ct=n("table").height()+v.height(),n("body").css({overflow:"auto",height:ct}),this.currentTabContentElement.find(".e-dbrd-control").css({overflow:"auto",height:ct}),this.currentTabContentElement.find(".e-content").css({overflow:"auto",height:ct}),this.model.enableCustomTheming&&this._customTheme(["export"]))}},_setHeaderForSingleCard:function(i,r){var e=this._getlayoutFromControlId(r),u=i.find(".e-dbrd-control-container"),o=i.find(".e-dbrd-containerWrapper"),f=u.find(".e-control-singleCard"),c=i.find(".e-control-heading"),s=0,h=this.model.commentSettings;t.isNullOrUndefined(e)||t.isNullOrUndefined(u)||(t.isNullOrUndefined(h)||t.isNullOrUndefined(h.widgets)||h.widgets.indexOf(u.attr("id"))===t.DashboardConstants.IndexLowerBound||u.find(".e-dbrd-banner-widget-withoutcomments").removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"),this.currentTabContentElement.find(".e-control-singleCard").length>t.DashboardConstants.Zero&&(s=this.currentTabContentElement.find(".e-control-singleCard").width()),t.isNullOrUndefined(e.Label)||e.Label.ShowHeader||!this.model.enableWidgetMode||(c.addClass("e-heading-subtitelayout"),c.css({"max-width":u.width()-s-10+"px",width:u.width()-s})),!t.isNullOrUndefined(o)&&o.length>=t.DashboardConstants.One&&o.height()<50&&n(window).width()>t.DashboardConstants.MobileWidth?!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&f.addClass("e-single-row"):f.hasClass("e-single-row")&&f.removeClass("e-single-row"))},_setCardConfigInfo:function(n){n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.AbbrevationType=t.isNullOrUndefined(n.configInfo.AbbrevationType)?"ONES":n.configInfo.AbbrevationType;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.AverageCustomMaximum=t.isNullOrUndefined(n.configInfo.AverageCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.AverageCustomMaximum;n.configInfo.AverageCustomMinimum=t.isNullOrUndefined(n.configInfo.AverageCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.AverageCustomMinimum;n.configInfo.AveragePercentMaximum=t.isNullOrUndefined(n.configInfo.AveragePercentMaximum)?null:n.configInfo.AveragePercentMaximum;n.configInfo.AveragePercentMinimum=t.isNullOrUndefined(n.configInfo.AveragePercentMinimum)?null:n.configInfo.AveragePercentMinimum;n.configInfo.BackgroundType=t.isNullOrUndefined(n.configInfo.BackgroundType)?"":n.configInfo.BackgroundType;n.configInfo.CardArrangementCount=t.isNullOrUndefined(n.configInfo.CardArrangementCount)?null:n.configInfo.CardArrangementCount;n.configInfo.CardArrangeMentType=t.isNullOrUndefined(n.configInfo.CardArrangeMentType)?"AutoArrange":n.configInfo.CardArrangeMentType;n.configInfo.ColumnSpan=t.isNullOrUndefined(n.configInfo.ColumnSpan)?null:n.configInfo.ColumnSpan;n.configInfo.ControlLinkData=t.isNullOrUndefined(n.configInfo.ControlLinkData)?null:n.configInfo.ControlLinkData;n.configInfo.currencyCulture=t.isNullOrUndefined(n.configInfo.currencyCulture)?"en-US":n.configInfo.currencyCulture;n.configInfo.CustomRange=!t.isNullOrUndefined(n.configInfo.CustomRange)&&n.configInfo.CustomRange;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?null:n.configInfo.DateTimeColumns;n.configInfo.decimalPlaces=t.isNullOrUndefined(n.configInfo.decimalPlaces)?null:n.configInfo.decimalPlaces;n.configInfo.DecimalSeparator=t.isNullOrUndefined(n.configInfo.DecimalSeparator)?null:n.configInfo.DecimalSeparator;n.configInfo.Format=t.isNullOrUndefined(n.configInfo.Format)?"Number":n.configInfo.Format;n.configInfo.GroupSeparator=t.isNullOrUndefined(n.configInfo.GroupSeparator)?null:n.configInfo.GroupSeparator;n.configInfo.HighCustomMaximum=t.isNullOrUndefined(n.configInfo.HighCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.HighCustomMaximum;n.configInfo.HighCustomMinimum=t.isNullOrUndefined(n.configInfo.HighCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.HighCustomMinimum;n.configInfo.higherValueGood=t.isNullOrUndefined(n.configInfo.higherValueGood)||n.configInfo.higherValueGood;n.configInfo.HighPercentMaximum=t.isNullOrUndefined(n.configInfo.HighPercentMaximum)?null:n.configInfo.HighPercentMaximum;n.configInfo.HighPercentMinimum=t.isNullOrUndefined(n.configInfo.HighPercentMinimum)?null:n.configInfo.HighPercentMinimum;n.configInfo.Image=t.isNullOrUndefined(n.configInfo.Image)?"":n.configInfo.Image;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.Label=t.isNullOrUndefined(n.configInfo.Label)?"":n.configInfo.Label;n.configInfo.LowCustomMaximum=t.isNullOrUndefined(n.configInfo.LowCustomMaximum)?t.DashboardConstants.Zero:n.configInfo.LowCustomMaximum;n.configInfo.LowCustomMinimum=t.isNullOrUndefined(n.configInfo.LowCustomMinimum)?t.DashboardConstants.Zero:n.configInfo.LowCustomMinimum;n.configInfo.LowPercentMaximum=t.isNullOrUndefined(n.configInfo.LowPercentMaximum)?null:n.configInfo.LowPercentMaximum;n.configInfo.LowPercentMinimum=t.isNullOrUndefined(n.configInfo.LowPercentMinimum)?null:n.configInfo.LowPercentMinimum;n.configInfo.NegativeValueFormat=t.isNullOrUndefined(n.configInfo.NegativeValueFormat)?"DEFAULT":n.configInfo.NegativeValueFormat;n.configInfo.Opacity=t.isNullOrUndefined(n.configInfo.Opacity)?"1":n.configInfo.Opacity;n.configInfo.ParameterColumns=t.isNullOrUndefined(n.configInfo.ParameterColumns)?null:n.configInfo.ParameterColumns;n.configInfo.Prefix=t.isNullOrUndefined(n.configInfo.Prefix)?"":n.configInfo.Prefix;n.configInfo.RangeSelectedIndex=t.isNullOrUndefined(n.configInfo.RangeSelectedIndex)?t.DashboardConstants.Zero:n.configInfo.RangeSelectedIndex;n.configInfo.RowSpan=t.isNullOrUndefined(n.configInfo.RowSpan)?null:n.configInfo.RowSpan;n.configInfo.SecondaryValueType=t.isNullOrUndefined(n.configInfo.SecondaryValueType)?"variance":n.configInfo.SecondaryValueType;n.configInfo.ShowIndicatorOnly=!t.isNullOrUndefined(n.configInfo.ShowIndicatorOnly)&&n.configInfo.ShowIndicatorOnly;n.configInfo.ShowSubtitle=!t.isNullOrUndefined(n.configInfo.ShowSubtitle)&&n.configInfo.ShowSubtitle;n.configInfo.SubColor=t.isNullOrUndefined(n.configInfo.SubColor)?"":n.configInfo.SubColor;n.configInfo.SubFontSize=t.isNullOrUndefined(n.configInfo.SubFontSize)?"":n.configInfo.SubFontSize;n.configInfo.SubText=t.isNullOrUndefined(n.configInfo.SubText)?"":n.configInfo.SubText;n.configInfo.Suffix=t.isNullOrUndefined(n.configInfo.Suffix)?"":n.configInfo.Suffix;n.configInfo.VariationType=t.isNullOrUndefined(n.configInfo.VariationType)?"PERCENTOFTARGET":n.configInfo.VariationType;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.decimalPlacesForAdditional=t.isNullOrUndefined(n.configInfo.decimalPlacesForAdditional)?"2":n.configInfo.decimalPlacesForAdditional;n.configInfo.IsBlendingWidget=!t.isNullOrUndefined(n.configInfo.IsBlendingWidget)&&n.configInfo.IsBlendingWidget},_resizeSingleCardTitle:function(i){var f,o;if(!t.isNullOrUndefined(i)){var r=i.find(".e-dbrd-control .e-title"),e=0,u=i.find(".e-control-singleCard");!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(u)&&r.length>t.DashboardConstants.Zero&&u.length>t.DashboardConstants.Zero&&(i.find(".e-control-heading").children().length===t.DashboardConstants.Zero&&r.offset().top-u.offset().top<u.children().innerHeight()&&(f=r.width()-u.width(),f>e?r.css({"max-width":f+"px",width:"auto"}):(o=n(u).children().eq(e).height(),r.css({"margin-top":o}))),i.find(".e-control-heading").children().length===t.DashboardConstants.Zero&&i.find(".e-control-heading").text()!==""&&r.css({"line-height":"50px"}),i.find(".e-control-heading").length!==t.DashboardConstants.Zero&&i.find(".e-control-heading").css({"max-width":r.width()-u.width()+"px",width:"auto"}))}},_renderThePages:function(i,r,u,f,e){var s=1,d=30,g=100,nt=45,w=116,b=Math.floor(i.width()/r)<s?s:Math.floor((i.width()-50)/w),v,y,k,p,ut;r<b&&(b=r);var tt=250,c=100,l=null,it=r===s?"0":"3",a=t.browserInfo().name==="msie"?i.height()-20:i.height(),rt=n("<table style='width:100%;height:auto;margin:0;' cellspacing="+it+" cellpadding="+it+">"),o=f.CardArrangeMentType==="ArrangeCardsinRows"?Math.ceil(r/f.CardArrangementCount):f.CardArrangeMentType==="ArrangeCardsinColumns"?f.CardArrangementCount:b,h=f.CardArrangeMentType==="ArrangeCardsinRows"?f.CardArrangementCount:Math.ceil(r/o);o=Math.round(i.width()/r);(o>15||o<3)&&(o=10);o>r&&(o=r);do{if(l=i.width()/o-d,c=l*.6,h=Math.ceil(r/o),o<=s){o=1;break}if(l>=w&&(a-c*h)*(g/a)<=nt)break;o-=s}while(l<w||(a-c*h)*(g/a)>nt);for(r===s&&(h=1,o=1,l=i.width()/o-d,c=a,c>i.height()&&(c=i.height())),h<=0&&(h=1),v=0;v<h;v++){for(y=n("<tr>"),k=h*(u-s)+v,y.attr({id:e+"_child_row_"+k}),p=0;p<o;p++)ut=n("<td>").attr({id:e+"_child_column_"+(k*o+p)}).css({height:c,"padding-top":r>s?"10px":"0px","padding-bottom":r>s?"10px":"0px"}),y.append(ut);rt.append(y)}return tt=l,{table:rt,rowCount:h,colCount:o,heightOfColumn:c,widthOfColumn:tt}},_AddCardSelection:function(i,r,u,f,e){var a=0,p=1,w=2,b=10,k,s,d,h,c,v,y;if(!t.isNullOrUndefined(i))for(k=i.length,t.isNullOrUndefined(e)||e.ctrlKey&&e.originalEventType!=="rightClick"||f||(r.find(".e-dbrd-selected-card").remove(),r.find(".e-dbrd-clicked-card").removeClass("e-dbrd-clicked-card")),s=0;s<k;s++)if(i[s]!==""&&!t.isNullOrUndefined(i[s])){d=i[s].split("child_")[1];h=n("<div>").attr({id:"e-dbrd-selected-card_"+d}).addClass("e-dbrd-selected-card");t.isNullOrUndefined(e)||e.originalEventType!=="rightClick"||f||n(e.currentTarget).addClass("e-dbrd-clicked-card");c=n("<div>").addClass("e-corner-triangle");h.append(c);var o=n("#"+i[s]),l=r.find(".e-content"),nt=r.attr("data-controlid").split("_")[0],g=nt==="Card"?4:2;l.length===a&&(l=r);!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero&&(c.css({left:o.width()-8}),v=o.offset().left-o.offsetParent().offset().left,y=o.offset().top-o.offsetParent().offset().top,h.prop({"data-selected-widget":i[s]}).css({top:y,left:v,display:"block",width:o.width()+g+"px",height:o.height()+(u>p?g:a)+"px"}),v===9&&y===-1&&(h.prop({"data-selected-widget":i[s]}).css({top:1,left:1,display:"block",width:o.width()-w+"px",height:o.height()+"px"}),c.css({left:o.width()-b})),u===p&&h.prop({"data-selected-widget":i[s]}).css({top:(r.height()-o.height())/w,left:"0px"}),s===a&&r.animate({scrollTop:o.position().top-b}));l.append(h);l.css({position:"relative"})}},_LoadCardSlaves:function(i,r,u,f,e,o,s,h){var kt=n(h.currentTarget),y,p,ct,pt,wt,k,b,lt,at,d,w,ut;if(!t.isNullOrUndefined(h)&&!kt.closest(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")){var g=0,l=0,ft=-1,et=1;if(!t.isNullOrUndefined(h)&&(this._handleTabIndexForMultipleSeries(n(h.currentTarget).closest(".e-multiple-parent")),this.controlRelations.length===g&&(t.isNullOrUndefined(u)||!this.flag)&&!this._checkHasViewData(i)))return;var v=[],nt=[],tt=[],ot=[],vt=[],dt=null,st=!1,c=this,a=null,yt=null,ht=[],gt={id:i,evt:h,configInfo:s};if(t.isNullOrUndefined(s.ActionSetting)||n.each(s.ActionSetting,function(n,t){t.ShowMenu&&(yt=!0)}),!t.isNullOrUndefined(h)&&h.type==="rightClick"&&yt&&this._setHoverSelectionForWidget(gt),y=this.dashboardControls.getControlByReport(i),!t.isNullOrUndefined(h)){for(p=n(h.currentTarget).parents(".dashboardCardControl"),t.isNullOrUndefined(p[0])&&(p=n(h.currentTarget).parents(".e-dbrd-control-container").find(".dashboardCardControl")),ct=p.find(".e-dbrd-clicked-card"),t.isNullOrUndefined(u)||(nt.push({Column:r.seriesColumn,Value:n(h.currentTarget).find(".e-title.e-hoverable").attr("data-value")}),nt.push({Column:r.actualColumn,Value:h.actualValue.value}),nt.push({Column:r.targetColumn,Value:h.targetValue.value})),l=0;l<c.controlRelations.length;l++)if(c.controlRelations[l].Master.indexOf("Card")!==ft&&c.controlRelations[l].Master===i){dt=c.controlRelations[l].Master;break}for(n(h.currentTarget).parents(".e-dbrd-MaximizedControl").length&&(p=n(h.currentTarget).parents(".e-dbrd-control"),ct=p.find(".e-dbrd-clicked-card")),n(h.currentTarget).hasClass("e-dbrd-clicked-card")&&ct.length===et&&h.type!=="rightClick"&&(st=!0),n(h.currentTarget).hasClass("e-dbrd-ctrlClick")&&(h.ctrlKey=!0,n(h.currentTarget).removeClass("e-dbrd-ctrlClick")),h.ctrlKey||h.type==="rightClick"||(p.find(".e-dbrd-selected-card").remove(),p.find(".e-dbrd-clicked-card").removeClass("e-dbrd-clicked-card")),h.ctrlKey&&n(h.currentTarget).hasClass("e-dbrd-clicked-card")&&h.type!=="rightClick"&&(pt=n(h.currentTarget).attr("id").split("child_")[1],n(h.currentTarget).removeClass("e-dbrd-clicked-card"),n("#"+h.currentTarget.attr("id")+"_selected").remove(),n("#e-dbrd-selected-card_"+pt).remove(),st=!0),!st&&f&&h.type!=="rightClick"&&(c._AddCardSelection([n(h.currentTarget).attr("id")],n(h.currentTarget).parents(".e-dbrd-control"),e,!1,h),n(h.currentTarget).addClass("e-dbrd-clicked-card")),tt=h.type==="rightClick"?n(h.currentTarget):p.find(".e-dbrd-clicked-card"),n(h.currentTarget).parents(".e-content").first().css({position:"relative"}),y.SelectedFilterInfo=[],wt=tt.length,k=0;k<wt;k++)t.isNullOrUndefined(r.seriesColumn)||(v.push(n(tt[k]).find(".e-title.e-hoverable").attr("data-value")),ht.push(n(tt[k]).find(".e-title.e-hoverable").html()))}v.length>g&&(b=this._checkFilterInfo(r.seriesColumn,y.SelectedFilterInfo),t.isNullOrUndefined(b)||b===ft||(t.isNullOrUndefined(o)||o!==r.seriesColumn.toUpperCase()?y.SelectedFilterInfo[b].DimensionFilterInfo.Text=v:(y.SelectedFilterInfo[b].DateFilterInfo.DateFilterList=v,y.SelectedFilterInfo[b].DateFilterInfo.DisplayDateFilterList=ht)),y.SelectedFilterInfo.length===g&&(a=new selectedFilterInfo,t.isNullOrUndefined(o)||o!==r.seriesColumn.toUpperCase()?(a.DimensionFilterInfo.Text=v,a.DimensionFilterInfo.Conditions=4):(a.DateFilterInfo.DateFilterList=v,a.DateFilterInfo.DisplayDateFilterList=ht,a.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude),t.isNullOrUndefined(r.seriesColumn)||(a.UniqueColumnName=r.seriesColumn.toLowerCase()),a.ReportName=y.reportName));ot.push({Items:v});vt.push({Items:nt});y.SelectedItems.Included=v;var ni=null,it=null,bt=null,rt=null;for(bt=n("#"+c._id+t.DashboardConstants.Widget+i).find(".e-dbrd-clicked-card").data("ejDashboardCard"),h.type==="selected"?rt=t.dashboardViewer.ActionType.Click:h.type==="doubleClick"?rt=t.dashboardViewer.ActionType.DBClick:h.type==="rightClick"&&(rt=t.dashboardViewer.ActionType.ContextMenu),l=0;l<c.controlRelations.length;l++)if(c.controlRelations[l].Master.indexOf("Card")!==ft&&c.controlRelations[l].Master===i){if(ni=c.controlRelations[l].Master,it=c.controlRelations[l].Slaves,it.length===g)return;lt=c._checkMasterData(i);lt!==null&&c.masterData.splice(lt,et);h!==null&&c.masterData.push({Key:i,Value:ot,MultiSelection:v.length>et});e===null&&c._makeSlaveDataRequest({master:i,masterData:c.masterData,slaves:it,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}if(e!==null)for(at={id:i,actionType:rt,filterInfo:t.isNullOrUndefined(a)?[]:[a],evt:h,cardCount:e,cardLink:vt,dataWrapper:ot,widgetInstance:bt,masterData:c.masterData,slaves:it,callbackfn:null,drillDownData:null},c._widgetActionHandler(at),d=this._id+t.DashboardConstants.Widget+i,w=0;w<s.ActionSetting.length;w++)if(s.ActionSetting[w].ActionType===at.actionType&&s.ActionSetting[w].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(ut=0;ut<s.ActionSetting[w].Action.length;ut++)s.ActionSetting[w].Action[ut]==="Filter"&&(t.isNullOrUndefined(a)?(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+d+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+d+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+d+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.HeatMap={_renderHeatMap:function(i,r){var u=i.configInfo,a=0,b=-1,k=3,v=i.getCurrentPageData(),f=this._id+t.DashboardConstants.Widget+u.Id,y=n("#"+this._id+"_cell_"+u.Row+"_"+u.Column),h=y.find(".e-dbrd-control"),e=null,s,p,w,tt;if(v.isError){h.attr({"data-controlId":u.Id});this._showControlError(v.pagedata,h,u);return}y.find(".e-remove-control-filter").attr("id",f+"_removeControlFilter");y.attr({"data-controltype":"HeatMap"});var c=[],l=[],d=u.DataSourceMapping.XMappingColumn.toUpperCase(),g=u.DataSourceMapping.YMappingColumn.toUpperCase(),nt=u.DataSourceMapping.ValueMappingColumn.toUpperCase(),it=u.DataSourceMapping.BubblemappingCoumn.toUpperCase(),o=v.pagedata;for(s=0;s<o.length;s++)p=o[s][d],w=o[s][g],c.indexOf(p)!==b||c.push(p),l.indexOf(w)!==b||l.push(w);if(!t.isNullOrUndefined(r)&&r.isMaximize)f=n(r.Div).attr("id");else{if(h.children().length>a){e=document.getElementById(f).ej2_instances[a];e.dataSource.data=o;e.yAxis.labels=l;e.xAxis.labels=c;e.refresh();return}n(h).attr({id:f})}tt=new ejdashboard.heatmap.HeatMap({xAxis:{labels:c,labelRotation:u.XAxisSettings.LabelRotation==="None"?a:u.XAxisSettings.LabelRotation,labelIntersectAction:u.XAxisSettings.LabelIntersectAction,isInversed:u.XAxisSettings.InversedAxis,opposedPosition:u.XAxisSettings.OpposedAxis,title:{text:u.XAxisSettings.AxisTitle,textStyle:{size:u.XAxisSettings.ShowAxisTitle?"10px":"0px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular",color:"#636363"}},textStyle:{size:u.XAxisSettings.ShowAxisLabel?"10px":"0px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular",color:"#636363"}},yAxis:{labels:l,isInversed:u.YAxisSettings.InversedAxis,opposedPosition:u.YAxisSettings.OpposedAxis,title:{text:u.YAxisSettings.AxisTitle,textStyle:{size:u.YAxisSettings.ShowAxisTitle?"10px":"0px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular",color:"#636363"}},textStyle:{size:u.YAxisSettings.ShowAxisLabel?"10px":"0px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular",color:"#636363"}},dataSource:{data:o,isJsonData:!0,adaptorType:"Cell",xDataMapping:d,yDataMapping:g,valueMapping:nt,bubbleDataMapping:{size:it,color:nt}},cellSettings:{textStyle:{size:"10px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular",color:"#636363"},border:{width:u.CellSettings.CellBorder,radius:u.CellSettings.CellRadius,color:"white"},showLabel:u.CellSettings.ShowDataLabel,tileType:u.CellSettings.TileType,bubbleType:"SizeAndColor"},legendSettings:{visible:u.LegendSettings.ShowLegend,position:u.LegendSettings.Position,textStyle:{size:"10px",fontFamily:"Roboto",fontStyle:"Normal",fontWeight:"regular",color:"#636363"}},paletteSettings:{palette:[{color:"#"+u.ColorSettings.MinColor.substring(k)},{color:"#"+u.ColorSettings.MaxColor.substring(k)}],type:"Gradient"},cellClick:!t.isNullOrUndefined(u.IsMasterFilter)&&u.IsMasterFilter?n.proxy(this._heatMapClick,this,u):null,tooltipRender:n.proxy(this._renderTooltip,this,u)});tt.appendTo("#"+f);this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&(n("body").css({overflow:"auto"}),n("#"+f).css({overflow:"hidden",height:""}),n("#"+f).parent().css({"overflow-y":"hidden","overflow-x":"hidden",height:""}),n("#"+f).parent().parent().css({overflow:"hidden",height:""}))},_renderTooltip:function(n,i){var r=!t.isNullOrUndefined(n.XAxisSettings.AxisTitle)&&n.XAxisSettings.AxisTitle!==""?n.XAxisSettings.AxisTitle:n.DataSourceMapping.xCaption,u=!t.isNullOrUndefined(n.YAxisSettings.AxisTitle)&&n.YAxisSettings.AxisTitle!==""?n.YAxisSettings.AxisTitle:n.DataSourceMapping.yCaption;i.content=n.CellSettings.TileType==="Rect"?[n.DataSourceMapping.valueCaption+":"+i.value+"<br/>"+r+":"+i.xLabel+"<br/>"+u+":"+i.yLabel]:[n.DataSourceMapping.valueCaption+":"+i.value[1].bubbleData+"<br/>"+n.DataSourceMapping.bubbleCaption+":"+i.value[0].bubbleData+"<br/>"+r+":"+i.xLabel+"<br/>"+u+":"+i.yLabel]},_removeHeatMapSelection:function(i,r){for(var o,l,a,h,f,y,p,u=0,e=this._getViewerObj(r),w=n("#"+i),c=ejdashboard.base.getComponent(w[0],"heatmap"),v=null,b=e.controlRelations.length,s=u;s<b;s++)if(e.controlRelations[s].Master===r){v=e.controlRelations[s].Slaves;break}if(o=e.dashboardControls.getControlByReport(r),o.SelectedFilterInfo.length>u&&!t.isNullOrUndefined(c)){for(l="",a="",h=u;h<o.SelectedFilterInfo.length;h++)f=o.SelectedFilterInfo[h],f.UniqueColumnName===c.dataSource.xDataMapping?l=f.DateFilterInfo.DateFilterList.length>u?f.DateFilterInfo.DateFilterList[u]:f.DimensionFilterInfo.Text[u]:a=f.DateFilterInfo.DateFilterList.length>u?f.DateFilterInfo.DateFilterList[u]:f.DimensionFilterInfo.Text[u];y=n("#"+this._getheatMapElement(l,a,c));y[u].style.removeProperty("fill")}o.SelectedFilterInfo=[];p={master:r,masterData:e.masterData,slaves:v,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};e._makeSlaveDataRequest(p)},_getheatMapElement:function(n,t,i){for(var e,r,u=i.xAxis.isInversed?i.xAxis.labels.slice().reverse():i.xAxis.labels,o=i.yAxis.isInversed?i.yAxis.labels:i.yAxis.labels.slice().reverse(),s=[],f=0;f<u.length;f++)s.push(u[f].toString());for(e=[],r=0;r<o.length;r++)e.push(o[r].toString());var h=u.length,c=s.indexOf(n.toString()),l=e.indexOf(t.toString()),a=l*h+c;return i.element.id+"_HeatMapRect_"+a},_heatMapClick:function(i,r){var h=0,e=i.Id,nt=t.dashboardViewer.ActionType.Click,u,f,y,p,l,s,k,a,c,w,g;if(this.contextMenu){this.contextMenu=!1;return}if((this.controlRelations.length!==h||!1||this._checkHasViewData(e))&&this.flag){var v=[],b=null,o=this.dashboardControls.getControlByReport(e);if(o.configInfo.IsMasterFilter=!0,u=new selectedFilterInfo,f=new selectedFilterInfo,o.SelectedFilterInfo.length>h){for(y="",p="",l=h;l<o.SelectedFilterInfo.length;l++)s=o.SelectedFilterInfo[l],s.UniqueColumnName===i.DataSourceMapping.XMappingColumn.toUpperCase()?y=i.DateTimeColumns.includes(i.DataSourceMapping.XMappingColumn.toUpperCase())?s.DateFilterInfo.DateFilterList[0]:s.DimensionFilterInfo.Text[0]:p=i.DateTimeColumns.includes(i.DataSourceMapping.YMappingColumn.toUpperCase())?s.DateFilterInfo.DateFilterList[0]:s.DimensionFilterInfo.Text[0];k=n("#"+this._getheatMapElement(y,p,r.heatmap));k[0].style.removeProperty("fill")}for(r.cellElement.setAttribute("style","fill:#f4f4f4"),i.DateTimeColumns.includes(i.DataSourceMapping.YMappingColumn.toUpperCase())?(u.UniqueColumnName=i.DataSourceMapping.YMappingColumn.toUpperCase(),u.DateFilterInfo.DateFilterList.push(r.yValue),u.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(u.UniqueColumnName=i.DataSourceMapping.YMappingColumn.toUpperCase(),u.DimensionFilterInfo.Text.push(r.yValue),u.DimensionFilterInfo.Conditions="Include"),u.ReportName=o.reportName,i.DateTimeColumns.includes(i.DataSourceMapping.XMappingColumn.toUpperCase())?(f.UniqueColumnName=i.DataSourceMapping.XMappingColumn.toUpperCase(),f.DateFilterInfo.DateFilterList.push(r.xValue),f.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(f.UniqueColumnName=i.DataSourceMapping.XMappingColumn.toUpperCase(),f.DimensionFilterInfo.Text.push(r.xValue),f.DimensionFilterInfo.Conditions="Include"),f.ReportName=o.reportName,v.push(f),v.push(u),o.SelectedFilterInfo=[],a="",c=h;c<this.controlRelations.length;c++){if(this.controlRelations[c].Master===e&&(a=this.controlRelations[c].Slaves,a.length===h)){b=this._checkFilterOverviewData(e);this._addFilterDataToTitle(b);return}var d=this._checkMasterData(e);if(0)return;d!==null&&this.masterData.splice(d,1)}w=this._id+t.DashboardConstants.Widget+e;r!==null&&(g={id:e,actionType:nt,dataWrapper:null,widgetInstance:r.heatmap,masterData:null,slaves:a,callbackfn:null,drillDownData:null,selectionEvent:r,filterInfo:v,isMaximizedView:!1},this._widgetActionHandler(g),n("#"+w+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+w).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.exportView={_printDashboard:function(){window.print()},_printMapControl:function(t){n(t.target).parents("td").children().printThis()},_printControl:function(i,r){var u,e,s,h,c,f,o,a;if(this.currentTabContentElement.find("sv`").attr({"data-html2canvas-ignore":"true"}),r!==this.currentTabContentElement.attr("id")){u="";n("#"+r).hasClass("e-card-Series")||n("#"+r).hasClass("e-parentGauge")||n("#"+r).hasClass("e-chartseries")?(u=n("#"+r).children().clone(),u.css({width:n("#"+r).children().width(),height:n("#"+r).children().height(),"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")})):n("#"+r).hasClass("e-grid")?(u=n("#"+r).clone().css({"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")}),u.find(".e-gridcontent").css("height",n("#"+r).find(".e-gridcontent table").height()+n("#"+r).find(".e-gridheader").height()),u.find(".e-content").css("height",n("#"+r).find(".e-gridcontent table").height()+n("#"+r).find(".e-gridheader").height())):(u=n("#"+r).clone().off().unbind(),u.removeClass("e-datavisualization-chart"),u.css({width:n("#"+r).children().width(),height:n("#"+r).height(),"background-color":n("#"+r).closest(".e-dbrd-control-container").css("background-color")}),u.find("*").removeAttr("id"));e=n("<div>").addClass("e-dbrd-print-inactive");n(this.currentTabContentElement).append(e);s=n("<div>").addClass("e-dbrd-print-icons-container");h=this;s.append(n("<div>").addClass("e-dbrd-print-icon").html("Print").addClass("e-dbrd-noPrint").ejDashboardButton({click:n.proxy(this._printSelectedControl,this)}),n("<div>").html("Cancel").addClass("e-dbrd-print-icon").css({"margin-left":"-45px"}).ejDashboardButton({click:n.proxy(function(){h.currentTabContentElement.find(".e-dbrd-print-inactive").remove()},this)}));c=n("<div>").attr("id",this.currentTabContentElement.attr("id")+"_printDiv").addClass("e-dbrd-print-div");n(e).append(s,c.append(u.css({margin:"auto",height:"auto","margin-top":"50px"})));e.click(function(i){n(i.target).hasClass("e-dbrd-print-div")||n(i.target).hasClass("e-dbrd-print-icon")||n(i.target).parents(".e-dbrd-print-div").length>t.DashboardConstants.Zero||n(i.currentTarget).remove()});var l=n("#"+r).find("canvas"),v=u.find("canvas"),y=l.length;for(f=0;f<y;f++)o=v[f],a=o.getContext("2d"),a.drawImage(l[f],t.DashboardConstants.Zero,t.DashboardConstants.Zero,o.width,o.height)}},_printSelectedControl:function(){this.isPrintTriggered=!0;this.currentTabContentElement.children().addClass("e-dbrd-noPrint");n("body").css({overflow:"auto"});n(".e-dbrd-print-div").css({height:Math.max(n(".e-dbrd-print-div").children().height(),this.currentTabContentElement.height())});this.currentTabContentElement.find(".e-dbrd-print-inactive").removeClass("e-dbrd-noPrint");window.print();this.currentTabContentElement.find(".e-dbrd-noPrint").removeClass("e-dbrd-noPrint");this.isPrintTriggered=!1;n("body").css({overflow:"hidden"});n(".e-dbrd-print-div").css({height:"100%"})},_exportDialogPage:function(){var i,r,u,f,e,o,s;if(this.exportSettings.exportType!==""){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:this.exportSettings.exportType}});this.exportSettings.isMobile=!1;this.exportSettings.isExportTriggered=!0;switch(this.exportSettings.exportType){case"image":i='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportImage" style = "top: '+this.currentTabContentElement.scrollTop()+"px; width: "+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_imageExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportImage+'<\/div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportImagefilename" contentEditable = true><\/input><div class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><div class = "e-brd-exportButtons"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_imageExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_imageExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_imageExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.element.append(i);r=this._imageExportContentCreation(this.exportSettings.filename);n(r).insertAfter(this.element.find(".e-brd-inactive-export-fileName"));this.element.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.element.find(".e-brd-inactive-export-fileName, .e-brd-inactive-export-DashWidgetTitle, .e-brd-inactive-img-res-wrap").wrapAll("<div class='e-brd-export-content e-brd-export-imageContent'><\/div>");this.exportSettings.exportDpi!==""&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this._exportImageDropdownCreation();this._calculateExportDialogSize();break;case"pdf":u='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportPdf" style = "top:'+this.currentTabContentElement.scrollTop()+"px; width: "+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_pdfExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon e-brd-popup-title-bar" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle e-brd-popup-title-bar">'+this.locale.utils.ExportPdf+'<\/div><div class= "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportPdffilename" contentEditable = true><\/input><span class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/span><\/div><div class = "e-brd-exportButtons"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_pdfExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_pdfExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_pdfExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.element.append(u);f=this._pdfExportContentCreation(this.exportSettings.filename);n(f).insertAfter(this.element.find(".e-brd-inactive-export-fileName"));this.element.find(".e-brd-exportPopupWindowClose,.e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.element.find(".e-brd-inactive-export-fileName,.e-brd-widgetTitleBar,.e-brd-pagesize,.e-brd-orientation,.e-brd-export-widget-pdf-options").wrapAll("<div class='e-brd-export-pdfContent e-brd-export-content'><\/div>");this.exportSettings.orientation!==""&&(this.orientation=this.exportSettings.orientation);this._exportPdfDropDownCreation();this._calculateExportDialogSize();break;case"excel":e='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportExcel" style = "top:'+this.currentTabContentElement.scrollTop()+"px; width: "+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><div class = "e-dbrd-inactive-export" id = "'+this._id+'_excelExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportExcel+'<\/div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "float: left" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportExcelfilename" contentEditable = true><\/input><div class = "e-brd-filenameError e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><div class = "e-brd-exportButtons" style ="margin-top:70px;"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_excelExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_excelExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_excelExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.element.append(e);o=this._excelExportContentCreation(this.exportSettings.filename);n(o).insertAfter(this.element.find(".e-brd-inactive-export-fileName"));this.element.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this.element.find(".e-brd-inactive-export-fileName, .e-brd-excel-export").wrapAll("<div class='e-brd-export-excelContent e-brd-export-content'><\/div>");this._exportExcelDropDownCreation();this._calculateExportDialogSize();break;case"csv":s='<div class = "e-dbrd-dialog-bgrnd-export e-dbrd-exportCSV" style = "top:'+this.currentTabContentElement.scrollTop()+"px; width: "+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><div class = "e-dbrd-inactive-export" style = "height: 250px" id = "'+this._id+'_CSVExport"><div class = "e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon" style = "position: absolute; right: 5px; top: 8px; height: 20px; width: 20px;" data-tooltip = "'+this.locale.utils.Close+'"><\/div><div class = "e-brd-showDashoardMenu-ExportimageTitle">'+this.locale.utils.ExportCsv+'<\/div><div><div class = "e-brd-inactive-export-fileName"><div class = "e-brd-inactive-left">'+this.locale.utils.FileName+'<\/div><input class = "e-brd-exportImageField e-brd-exportFilename" style = "width: 420px" type = "text" name = "file_name" value = "'+this.exportSettings.filename+'" id = "'+this._id+'_ExportCSVfilename" contentEditable = true><\/input><div class = "e-brd-filenameError" data-tooltip = "'+this.locale.utils.FileNameError+'">'+this.locale.utils.FileNameError+'<\/div><\/div><\/div><div class = "e-brd-exportButtons" style="position:absolute;bottom:0px;"><button class = "e-brd-ControlImageReset e-dbrd-hoverable" id = "'+this._id+'_CSVExport" data-tooltip = "'+this.locale.utils.Reset+'" ><\/button><button class = "e-brd-ControlImageExport" id = "'+this._id+'_CSVExport">'+this.locale.utils.Export+'<\/button><button class = "e-brd-ControlImageCancel" id = "'+this._id+'_CSVExport">'+this.locale.utils.Cancel+"<\/button><\/div><\/div><\/div>";this.element.append(s);this.element.find(".e-brd-exportPopupWindowClose.e-dbrd-popup-icon, .e-brd-showDashoardMenu-ExportimageTitle").wrapAll("<div class='e-brd-export-title'><\/div>");this._calculateExportDialogSize()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:this.exportSettings.exportType}})}this.model.enableCustomTheming&&this._customTheme(["popup"])},_createExportDbrdDrpdwn:function(){var u=n("<div class='e-brd-multibrd-export'><\/div>"),v=n("<div class='e-brd-dashboards e-brd-inactive-left'><\/div><").text(this.locale.utils.Dashboards),e=n("<div class = 'e-dbrd-control e-brd-export-dropdown e-brd-imageExport-dropdown'>"),y=n("<input class='e-dbrd-control e-brd-exportImageField e-multibrd-export-selection' id="+this._dashboardId+"_dashboardDropdown><\/input>"),i,f,r,s,h,a;e.append(y);e.insertAfter(".e-brd-dashboards");u.append(v);u.append(e);i=null;f=null;n(window).width()>t.DashboardConstants.MobileWidth&&this.multiDashboardExport?(this.element.find(".e-brd-export-content").prepend(u),i="200px",f="25px"):n(window).width()<t.DashboardConstants.MobileWidth&&this.multiDashboardExport?(this.element.find(".e-dbrd-fileContentBar").prepend(u),this.element.find(".e-dbrd-fileContentBar .e-brd-dashboards ").text(this.locale.utils.ChooseDashboards),i=this._mobileDropDownWidthCalc(),f="30px"):(this.element.find(".e-brd-export-content").prepend(u),i="200px",f="25px");var c=[],l=[],o=this.tabInformation,p=o.length;for(r=0;r<p;r++)c={id:this._dashboardId+"_"+n(o[r]).attr("data-tabid").replace(/ /g,"_"),text:o[r].textContent,value:this.dashboardDetails[r].DashboardId},l.push(c);this.multiDashboardExport=!0;this.exportDashboard=!1;this.element.find("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList({dataSource:l,fields:{text:"text",id:"id",value:"value"},create:n.proxy(this._defaultSelection,this),beforePopupHide:n.proxy(this._getSelection,this),width:i,height:f,showCheckbox:!0,watermarkText:"All",cssClass:"e-dbrd-canvas",change:n.proxy(this._changeSelection,this),popupWidth:i,popupHeight:"130px",popupShown:n.proxy(this._addSpaceForScrollbar,this,!0)});n("#"+this._dashboardId+"_dashboardDropdown_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");s=n("<span class = 'e-dbrd-multibrd-drpdown-label' id="+this._id+"_dashboardDropdownSelection><\/span>");n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").addClass("e-drpdwn-align");s.insertAfter(".e-multibrd-export-selection");s.text(this.locale.utils.All);h=this.element.find(".e-dbrd-multibrd-drpdown-label").next();h.hasClass("e-input")&&h.css("display","none");this.exportSettings.dashboardSelection!==""&&(a=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),a.selectItemByValue(this.exportSettings.dashboardSelection))},_changeSelection:function(){var r=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),i;this.exportSettings.dashboardSelection=r.getSelectedValue();i=r.getSelectedItem().length;i!==t.DashboardConstants.Zero?this.element.find("#"+this._id+"_dashboardDropdownSelection").css({display:"block"}).text(i+" "+this.locale.utils.Dashboards):i===t.DashboardConstants.Zero&&this.element.find("#"+this._id+"_dashboardDropdownSelection").css({display:"block"}).text(this.locale.utils.All)},_getSelectedItems:function(){var i=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),r=i.getSelectedItem(),t=[];return n(r).each(function(){t.push(n(this).children(".e-ddltxt").text())}),this._getDashboardSelectionDetails(t)},_getSelection:function(){var n=this._getSelectedItems();this._getSelectedDashboardInfo(n)},_getSelectedDashboardInfo:function(n){var r,u,f,i;if(!t.isNullOrUndefined(n[t.DashboardConstants.Zero]))if(r=n[t.DashboardConstants.Zero].selectedItems,this.multiSelectCollection=[],u=null,f=r.length,f>t.DashboardConstants.Zero)for(i=0;i<f;i++)u=this._dashboardId+"_"+r[i].DashboardName,u===this._id?this._setCurrentTabInfoForExport(r[i]):this._setTabInfoForExport({id:r[i].DashboardName,dashId:r[i].DashboardId,dashTitle:r[i].DashboardDisplayName});else this._defaultSelection()},_defaultSelection:function(){var t=null,i,n;for(this.multiSelectCollection=[],i=this.dashboardDetails.length,n=0;n<i;n++)t=this._dashboardId+"_"+this.dashboardDetails[n].DashboardName,t===this._id?this._setCurrentTabInfoForExport(this.dashboardDetails[n]):this._setTabInfoForExport({id:this.dashboardDetails[n].DashboardName,dashId:this.dashboardDetails[n].DashboardId,dashTitle:this.dashboardDetails[n].DashboardDisplayName});this._addHorizontalScrollbar(!0)},_setCurrentTabInfoForExport:function(n){var i=0,u=this._getGridSettings(this.dashboardControls,this._id);u.length===t.DashboardConstants.Zero&&(u="");var f=t.isNullOrUndefined(this.dashboardControls.getAllControlsMasterData())?[]:this.dashboardControls.getAllControlsMasterData(),r=this.dashboardControls.getAllControlsForImageExport(),e=r.length;for(i=0;i<e;i++)r[i].controlType==="parameterColumnData"&&(r[i].controlRelations=this.controlRelations,r[i].appliedFilterData=this.appliedFilterData);this.multiSelectCollection.push({id:n.DashboardName,layoutInfo:JSON.stringify(this.currentReport.layout),widgetInfo:JSON.stringify(r),dashbrdId:n.DashboardId,gridSettings:JSON.stringify(u),dashboardTitle:n.DashboardDisplayName,masterControls:JSON.stringify(this.appliedFilterData),isLoadCompletes:this.actualPages.length===this.pageInformations.length,selectedFilterInfo:JSON.stringify(f)})},_setTabInfoForExport:function(n){for(var i,u=!0,f=[],e=this.tabInfoCollection.length,r=0;r<e;r++)if(this.tabInfoCollection[r].initPrivatePropertiesInfo._id===this._dashboardId+"_"+n.id&&this.tabInfoCollection[r].initPrivatePropertiesInfo._id!==this._id){this._setLoadedTabInfoForExport(n,this.tabInfoCollection[r]);u=!1;break}u&&(i=this._isGlobalFilterApplied(),this.multiSelectCollection.push({id:n.id,widgetInfo:"",layoutInfo:"",dashbrdId:n.dashId,gridSetting:"",dashboardTitle:n.dashTitle,masterControls:JSON.stringify([]),isLoadCompletes:!1,selectedFilterInfo:JSON.stringify(f),isGlobalFilterApplied:!t.isNullOrUndefined(i)&&i.isGlobalFilter,globalFilterInfo:!t.isNullOrUndefined(i)&&i.isGlobalFilter&&!t.isNullOrUndefined(i.globalFilter)?JSON.stringify(i.globalFilter):JSON.stringify(f)}))},_setLoadedTabInfoForExport:function(n,i){var r=this._getGridSettings(i.initPrivatePropertiesInfo.dashboardControls,i.initPrivatePropertiesInfo._id),u=this._processWidgetString(i.initPrivatePropertiesInfo.dashboardControls.getAllControlsForImageExport(),i.initPrivatePropertiesInfo.controlRelations,i.initPrivatePropertiesInfo.appliedFilterData),f=t.isNullOrUndefined(i.initPrivatePropertiesInfo.dashboardControls.getAllControlsMasterData())?[]:i.initPrivatePropertiesInfo.dashboardControls.getAllControlsMasterData();this.multiSelectCollection.push({id:n.id,widgetInfo:u,layoutInfo:JSON.stringify(i.initPrivatePropertiesInfo.currentReport.layout),dashbrdId:n.dashId,gridSetting:r,dashboardTitle:n.dashTitle,masterControls:JSON.stringify(i.initPrivatePropertiesInfo.appliedFilterData),isLoadCompletes:i.initPrivatePropertiesInfo.actualPages.length===i.initPrivatePropertiesInfo.pageInformations.length,selectedFilterInfo:JSON.stringify(f),isGlobalFilterApplied:!0})},_captureFiles:function(i,r){var u,o,s;t.isNullOrUndefined(r.ResponseString)&&(r=JSON.parse(r));r=this._processResponseMessage(r);this._destroyWaitingPdfPopup();var f=null,h=r.d.ResponseString.substring(r.d.ResponseString.indexOf("\\")+t.DashboardConstants.One,r.d.ResponseString.indexOf(".")),e=r.d.ResponseString.substr(r.d.ResponseString.indexOf(".")+t.DashboardConstants.One);e==="zip"?f=this._ExportedImageFileName:e==="pdf"&&(f=this.newfilename);u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===t.DashboardConstants.Zero?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");o=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet,method:"GET",enctype:"application/json","accept-charset":"UTF-8"});s=JSON.stringify({imageFile:r.d.ResponseString,fileName:h,fileType:e,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:f,methodName:this.model.serviceMethods.downloadedexportedfiles,serverUrl:this.serverUrl()});o.append(n('<input type="hidden">').attr({name:"arguments",value:s}));o.appendTo(u).submit().remove();u.hide()},_multiTabExportExcel:function(){for(var f,e,s,r,u=[],o="",c=this.multiSelectCollection.length,i=[],n=0;n<c;n++)if(f=this._dashboardId+"_"+this.multiSelectCollection[n].id,f!==this._id){for(e=!0,s=this.tabInfoCollection.length,r=0;r<s;r++)if(f===this.tabInfoCollection[r].initPrivatePropertiesInfo._id){e=!1;var h=this.tabInfoCollection[r].initPrivatePropertiesInfo.dashboardControls,l=JSON.stringify(h.getAllControlsMasterData()),a=JSON.stringify(this.tabInfoCollection[r].initPrivatePropertiesInfo.rangeData);i=h.getGlobalControlsMasterData();u.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:l,rangeData:a,gridSettings:this.multiSelectCollection[n].gridSettings,dashboardTitle:this.multiSelectCollection[n].dashboardTitle,isGlobalFilterApplied:!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero})}e&&u.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:null,rangeData:null,gridSettings:null,dashboardTitle:this.multiSelectCollection[n].dashboardTitle,unLoaded:!0,globalFilters:JSON.stringify(i),isGlobalFilterApplied:!1})}else i=this.dashboardControls.getGlobalControlsMasterData(),o=this._getGridSettings(this.dashboardControls),u.push({guid:this.multiSelectCollection[n].dashbrdId,dashbrdId:this.multiSelectCollection[n].id,data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),gridSettings:JSON.stringify(o),dashboardTitle:this.multiSelectCollection[n].dashboardTitle,isGlobalFilterApplied:!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero});return u},_imageExportContentCreation:function(){return'<div class ="e-brd-inactive-img-res-wrap"><div class ="e-brd-inactive-img-format" ><div class = "e-brd-inactive-left" style = "padding-left:0px">'+this.locale.utils.Format+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-imageExport-dropdown"><input class = "e-brd-exportImageField e-brd-exportImageFormat" type ="text" id = "'+this._id+'_imageType" "readonly"= true> <\/input><\/div><\/div ><div class="e-brd-inactive-img-res" style = "float: left"><div class = "e-brd-inactive-left">'+this.locale.utils.Resolution+'<\/div><input class = "e-brd-exportImageField e-brd-imageResolution" style = "float: left" type= "number" name = "resolution" value = "96" id = "'+this._id+'_ExportImageresolution"><\/input><span class = "e-dbrd-resolutionAlert e-dbrd-hoverable e-dbrd-popup-icon" data-tooltip = "'+this.locale.utils.ResolutionAlert+'" ><\/span><div class = "e-brd-resolutionErrorLow"><\/div><\/div><\/div><\/div>'},_exportImageDropdownCreation:function(){var i=this._mobileDropDownWidthCalc(),r=null,u,f;t.isNullOrUndefined(i)?(i="200px",r="25px"):r="30px";u=t.DashboardConstants.Zero;f=[{ImageFormat:this.locale.utils.Jpeg},{ImageFormat:this.locale.utils.Png},{ImageFormat:this.locale.utils.Bmp}];this.exportSettings.exportFormat!==""&&(u=this.exportSettings.exportFormat);this.element.find("#"+this._id+"_imageType").ejDashboardDropDownList({dataSource:f,fields:{text:"ImageFormat",value:"ImageFormat"},create:"drpcreate",popupHide:"drppopuphide",change:n.proxy(this._changeExportFormat,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",selectedIndex:u,width:i,height:r,popupShown:n.proxy(this._drppopupshow,this)});n("#"+this._id+"_imageType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_changeExportFormat:function(n){this.exportSettings.exportFormat=n.model.selectedItemIndex},_pdfExportContentCreation:function(){return'<div class = "e-brd-export-widget-pdf-options"><div class = "e-brd-radio-pdf-export"><div class = "e-brd-inactive-left e-dbrd-dashPdf"><input style = "margin-right:5px" id = "'+this._id+'_dashboardRadio" class = "e-brd-radio-dashboard" type ="radio" name ="export" checked= "checked" >'+this.locale.utils.Dashboard+'<\/input><\/div><div class = "e-brd-inactive-left e-dbrd-widgetPdf"><input style = "margin-right:5px" id = "'+this._id+'_widgetRadio" class = "e-brd-radio-widgets" type ="radio" name ="export">'+this.locale.utils.Widgets+'<\/input><\/div><div class = "e-brd-widget-dropdown" style = "float: left; display:none; "><div class = "e-dbrd-control  e-brd-export-dropdown e-brd-pdfExport-dropdown"><input class = "e-brd-exportImageField e-brd-widget-selection" type ="text" id = "'+this._id+'_widgetsName" "readonly"= true><\/input><\/div><\/div><\/div><\/div><div class="e-brd-pagesize"><div class = "e-brd-pagesize-label"><div class = "e-brd-inactive-left e-brd-pdf-pagesize">'+this.locale.utils.PageSize+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-pdfExport-dropdown e-brd-export-pagesize-dropdown"><input class = "e-brd-exportImageField" type ="text" id = "'+this._id+'_pageSizeType" "readonly"= true> <\/input><\/div><\/div><div class="e-brd-orientation"><div class = "e-brd-inactive-left"  style ="margin-bottom:10px;">'+this.locale.utils.Orientation+'<\/div><div class = "e-brd-PdfOrientationforportrait e-dbrd-hoverable e-dbrd-popup-icon" tabindex = "0" role = "menu" aria-haspopup = "true" aria-label = "Export Option" id = "'+this._id+'_pdfPortrait" data-tooltip = '+this.locale.utils.Portrait+'><\/div><div class = "e-brd-PdfOrientationforlandscape e-dbrd-hoverable e-dbrd-popup-icon" tabindex = "0" role = "menu" aria-haspopup = "true" aria-label = "Export Option" id = "'+this._id+'_pdfLandscape" data-tooltip = '+this.locale.utils.Landscape+"><\/div><\/div>"},_exportPdfDropDownCreation:function(){var o,c,l,u,f,a,v,y;this.isExtendedLayout&&this._initiateGetWidgetTitleInfo();var i=this._mobileDropDownWidthCalc(),r=null,e=t.DashboardConstants.One;t.isNullOrUndefined(i)?(i="200px",r="25px"):r="30px";o=[{ImageFormat:this.locale.utils.A3},{ImageFormat:this.locale.utils.A4},{ImageFormat:this.locale.utils.A5},{ImageFormat:this.locale.utils.Letter}];this.exportSettings.pagesize!==""&&(e=this.exportSettings.pagesize);this.isDialogNotCreated=!0;this.element.find("#"+this._id+"_dashboardRadio").ejDashboardRadioButton({size:"medium"});var s=this._getWidgetNames(),h=s.length,p=h!==t.DashboardConstants.Zero;for(this.element.find("#"+this._id+"_widgetRadio").ejDashboardRadioButton({size:"medium",enabled:p}),c=this.element.find("#"+this._id+"_pageSizeType"),this.element.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList({dataSource:o,fields:{text:"ImageFormat",value:"ImageFormat"},popupHide:"drppopuphide",popupShown:n.proxy(this._showPopup,this,c),change:n.proxy(this._changeExportPageSize,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",height:r,width:i,selectedIndex:e,enablePopupResize:!1}),n("#"+this._id+"_pageSizeType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control"),this.isDialogNotCreated=!1,l=[],u=0;u<h;u++)l.push(u);this.element.find("#"+this._id+"_widgetsName").ejDashboardDropDownList({dataSource:s,fields:{text:"WidgetsName",id:"WidgetsId"},create:n.proxy(this._addHorizontalScrollbar,this),showCheckbox:!0,watermarkText:"All",height:r,width:i,popupWidth:i,popupHeight:"130px",cssClass:"e-dbrd-canvas",change:n.proxy(this._changeWidgetSelection,this),popupShown:n.proxy(this._addSpaceForScrollbar,this),checkAll:!1});n("#"+this._id+"_widgetsName_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");f=n("<span class = 'e-dbrd-widget-drpdown-label' id="+this._id+"_widgetDropdownSelection ><\/span>");f.insertAfter(".e-brd-widget-selection");f.text(this.locale.utils.All);a=this;n(".e-brd-radio-widgets").click(function(){var i,r;n(window).width()<t.DashboardConstants.MobileWidth&&(n(".e-brd-choose-label").length===t.DashboardConstants.Zero?(i=n("<div class = 'e-brd-choose-label'><\/div>").text(a.locale.utils.ChooseWidgets),i.insertBefore(n(".e-brd-widget-dropdown"))):n(".e-brd-choose-label").css({display:"block"}));n(".e-brd-widget-dropdown").css({display:"block"});n(".e-brd-radio-widgets").attr("checked","checked");r=n(".e-brd-widget-dropdown").height()+n(".e-dbrd-fileContentBar").height();n(".e-dbrd-fileContentBar").height(r)});n(".e-brd-radio-dashboard").click(function(){var t=n(".e-dbrd-fileContentBar").height()-n(".e-brd-widget-dropdown").height();n(".e-dbrd-fileContentBar").height(t);n(".e-brd-widget-dropdown").css({display:"none"});n(".e-brd-choose-label").css({display:"none"})});this.multiDashboardExport&&n(".e-brd-radio-pdf-export").hide();this.exportDashboard?n(".e-brd-radio-pdf-export").show():n(".e-brd-radio-pdf-export").hide();this.exportSettings.widgetDrpDwnDisplay&&(n(".e-brd-radio-pdf-export").show(),n(".e-brd-widget-dropdown").css({display:"block"}),v=this.element.find("#"+this._id+"_widgetRadio").data("ejDashboardRadioButton"),v.option("checked",!0));this.exportSettings.widgetSelection!==""&&(y=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance"),y.selectItemByValue(this.exportSettings.widgetSelection))},_initiateGetWidgetTitleInfo:function(){if(this.actualPages.length!==this.pageInformations){var n=this.model.localeSettings.resourcePath,t=this.model.localeSettings.culture,i={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),token:this.token,customLanguagePath:n,customCulture:t,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dashboardName:this.dashboardName,methodName:this.model.serviceMethods.getWidgetTitleInfo,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._getWidgetTitleInfo,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(i)}},_getWidgetTitleInfo:function(n,i){i=this._processResponseMessage(i);var u=JSON.parse(i.d[0].Value),r=this.element.find("#"+this._id+"_widgetsName").data("ejDashboardDropDownList");t.isNullOrUndefined(r)||r.option("dataSource",u)},_addSpaceForScrollbar:function(i,r){var u=null,o=0,c=4,l=33,f=null,e=null,y=this.element.find("#"+this._id+"_widgetsName_wrapper").width(),h;n("#"+this._id+"_widgetsName_popup_list_wrapper").css({width:y});t.isNullOrUndefined(i)||i!==!0?(e=n("#"+this._id+"_widgetsName").data("ejDashboardDropDownList"),f=n("#"+this._id+"_widgetsName_popup"),u=f.children(".e-content"),o=parseInt(n("#"+this._id+"_widgetsName_popup_list_wrapper").css("max-height"))):(e=n("#"+this._dashboardId+"_dashboardDropdown").data("ejDashboardDropDownList"),f=n("#"+this._dashboardId+"_dashboardDropdown_popup"),u=f.children("div"),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.model)||t.isNullOrUndefined(r.model.dataSource)||(o=r.model.dataSource.length<=c?l*r.model.dataSource.length:l*c));t.isNullOrUndefined(e)||(h=u.width()+"px",!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&(u[0].style.setProperty("width",h,"important"),u.height(o),f.height(o),f.css("transform","scale("+this.deScalingFactor+")"),e.scrollerObj.model.width=h,e.scrollerObj.model.height=o,e.scrollerObj.refresh(),f.css("transform","scale("+t.DashboardConstants.One+")")));this._addHorizontalScrollbar(i);var a=!t.isNullOrUndefined(i)&&i===!0?n("#"+this._dashboardId+"_dashboardDropdown_wrapper"):n("#"+this._id+"_widgetsName_wrapper"),s=!t.isNullOrUndefined(i)&&i===!0?n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper"):n("#"+this._id+"_widgetsName_popup_list_wrapper"),v=3;s.css("top",parseInt(s.css("top"))-(a.outerHeight()+v)+"px");s.css("top",parseInt(s.css("top"))+a.outerHeight()*this.scalingFactor+v*this.scalingFactor+"px")},_addHorizontalScrollbar:function(i){var r=null;r=t.isNullOrUndefined(i)||i!==!0?n("#"+this._id+"_widgetsName").data("ejDashboardDropDownList"):n("#"+this._dashboardId+"_dashboardDropdown").data("ejDashboardDropDownList");t.isNullOrUndefined(r)||(r.ultag.children("li").css({"white-space":"nowrap"}),r.popup.css("transform","scale("+this.deScalingFactor+")"),r.scrollerObj.model.width=r.popupListWrapper.outerWidth(),r.scrollerObj.refresh(),r.popup.css("transform","scale("+t.DashboardConstants.One+")"))},_getWidgetNames:function(){for(var f=[],i=0,u=this.element.find(".e-dbrd-control-container"),o=u.length,r,n,e,i=0;i<o;i++)r=null,n=u.eq(i).attr("type"),t.isNullOrUndefined(n)||(n!=="FilterComboBox"&&n!=="IMAGE"&&n!=="DatePicker"&&n!=="CheckBox"&&n!=="RangeNavigator"&&n!=="RangeSlider"&&n!=="RadioButton"&&n!=="ListBox"&&n!=="Card"&&n!=="Label"&&(r=u.eq(i).find(".e-control-title").text()),n==="Card"&&(r=u.eq(i).find(".e-control-title").text(),r===""&&(r=u.eq(i).find(".e-title").text())),t.isNullOrUndefined(r)||(e={WidgetsName:r,WidgetsId:u.eq(i).attr("id")},f.push(e)));return f},_changeExportPageSize:function(n){this.exportSettings.pagesize=n.model.selectedItemIndex},_changeWidgetSelection:function(){var r=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance"),i;this.exportSettings.widgetSelection=r.getSelectedValue();i=r.getSelectedItem().length;i!==t.DashboardConstants.Zero?this.element.find("#"+this._id+"_widgetDropdownSelection").css({display:"block"}).text(i+" "+this.locale.utils.Widget):i===t.DashboardConstants.Zero&&this.element.find("#"+this._id+"_widgetDropdownSelection").css({display:"block"}).text(this.locale.utils.All)},_excelExportContentCreation:function(){return'<div class ="e-brd-excel-export" style = "float: left; width:100%"><div class = "e-brd-inactive-left e-dbrd-filetype-label">'+this.locale.utils.FileType+'<\/div><div class = "e-dbrd-control e-brd-export-dropdown e-brd-excel-dropdown" ><input class = "e-brd-exportImageField" type ="text" id = "'+this._id+'_excelType" "readonly"= true> <\/input><\/div><\/div>'},_exportExcelDropDownCreation:function(){var i=this._mobileDropDownWidthCalc(),r=null,u,f,e;t.isNullOrUndefined(i)?(i="420px",r="25px"):r="30px";u=t.DashboardConstants.Zero;u=this.exportSettings.excelFileType!==""?this.exportSettings.excelFileType:t.DashboardConstants.Zero;f=[{ImageFormat:this.locale.utils.ExportToExcel2013},{ImageFormat:this.locale.utils.ExportToExcel97To2003}];e=this.element.find("#"+this._id+"_excelType");this.element.find("#"+this._id+"_excelType").ejDashboardDropDownList({dataSource:f,fields:{text:"ImageFormat",value:"ImageFormat"},create:"drpcreate",popupHide:"drppopuphide",popupShown:n.proxy(this._showPopup,this,e),change:n.proxy(this._changeExportExcelFileTye,this),select:"drpselectchange",destroy:"drpdestroy",cssClass:"e-dbrd-canvas",width:i,height:r,selectedIndex:u});n("#"+this._id+"_excelType_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_changeExportExcelFileTye:function(n){this.exportSettings.excelFileType=n.model.selectedItemIndex},_mobileDropDownWidthCalc:function(){var i=null,r;return n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.currentTabContentElement.find(".e-dbrd-fileContentBar"),i=this.element.width()-parseInt(r.css("padding-left"))-parseInt(r.css("padding-right"))-5,i=i+"px"),i},_mobileExport:function(){var r,u,e;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:"MobileExport"}});this.exportSettings.isMobile=!0;this.exportSettings.isExportTriggered=!0;var i=n("<div class='e-dbrd-mobileExport' id="+this._id+"_mobileExport><\/div>"),o="<div class='e-dbrd-tiltleBar' id="+this._id+"_titleBar><div class='e-dbrd-exportBack' id="+this._id+"_exportBack><span class='e-dbrd-titleBackIcon' id="+this._id+"_titleBackIcon><\/span><\/div><div class='e-dbrd-exportTitle' id="+this._id+"_exportTitle>"+this.locale.utils.ExportAs+"<\/div><div class='e-dbrd-exportReset' id="+this._id+"_exportReset><span class='e-dbrd-exportResetIcon' id="+this._id+"_exportResetIcon><\/span><\/div><\/div>",f=n("<div class='e-dbrd-mobileContentWrap' id="+this._id+"_mobileContentWrap><\/div>"),s="<div class='e-dbrd-filemenuSelection' id="+this._id+"_fileMenuSelectionBar><div class='e-dbrd-mobileExportFilename' id="+this._id+"_mobileExportFilename>"+this.locale.utils.FileName+'<\/div><input class = "e-brd-mobileFilenameText" type = "text" name = "file_name" id = "'+this._id+'_mobileExportFilenameText" value = "'+this.exportSettings.filename+'" contentEditable = true><\/input><div class = "e-brd-filenameError" >'+this.locale.utils.FileNameError+"<\/div><div class='e-dbrd-mobileExportOption' id="+this._id+"_mobileExportOption><div class='e-dbrd-mobileExportImage e-dbrd-exportype e-viewdata-export' data-exportType='image' id="+this._id+"_mobileExportImage><div class='e-dbrd-mobileExportImageIconWrap' id="+this._id+"_mobileExportImageIconWrap><span class='e-dbrd-mobileExportImageIcon' id="+this._id+"_mobileExportImageIcon><\/span><\/div><span class='e-dbrd-mobileExportImageText' id="+this._id+"_mobileExportImageText>"+this.locale.utils.Image+"<\/span><\/div><div class='e-dbrd-mobileExportPdf e-dbrd-exportype e-viewdata-export' data-exportType='pdf' id="+this._id+"_mobileExportPdf><div class='e-dbrd-mobileExportPdfIconWrap' id="+this._id+"_mobileExportPdfIconWrap><span class='e-dbrd-mobileExportPdfIcon' id="+this._id+"_mobileExportPdfIcon><\/span><\/div><span class='e-dbrd-mobileExportPdfText' id="+this._id+"_mobileExportPdfText>"+this.locale.utils.Pdf+"<\/span><\/div><div class='e-dbrd-mobileExportExcel e-dbrd-exportype' data-exportType='excel' id="+this._id+"_mobileExportExcel><div class='e-dbrd-mobileExportExcelIconWrap' id="+this._id+"_mobileExportExcelIconWrap><span class='e-dbrd-mobileExportExcelIcon' id="+this._id+"_mobileExportExcelIcon><\/span><\/div><span class='e-dbrd-mobileExportExcelText' id="+this._id+"_mobileExportExcelText>"+this.locale.utils.Excel+"<\/span><\/div><div class='e-dbrd-mobileExportCsv e-dbrd-exportype' data-exportType='csv' id="+this._id+"_mobileExportCsv><div class='e-dbrd-mobileExportCsvIconWrap' id="+this._id+"_mobileExportCsvIconWrap><span class='e-dbrd-mobileExportCsvIcon' id="+this._id+"_mobileExportExcelIcon><\/span><\/div><span class='e-dbrd-mobileExportCsvText' id="+this._id+"_mobileExportCsvText>"+this.locale.utils.Csv+"<\/span><\/div><\/div><\/div>",h=n("<div class='e-dbrd-fileContentBar' id="+this._id+"_fileContentBar><\/div>"),c=n("<button class='e-dbrd-mobileExportBtn' id="+this._id+"_mobileExportBtn> "+this.locale.utils.ExportBtn+"<\/button>");i.append(o);n(f).append(s);n(f).append(h);i.append(f);i.append(c);r=this.currentTabContentElement.find(".e-dbrd-inactive");t.isNullOrUndefined(r)||r.length===t.DashboardConstants.Zero?this.currentTabContentElement.append(i):r.append(i);u=this.currentTabContentElement.find(".e-dbrd-viewdata-inactive").length>t.DashboardConstants.Zero;this._mobileDashboardMenu();this._heightScrollCalculation();u||(this._mobileExportDisableMenu(),e=this.currentTabContentElement.find(".e-viewdata-export"),e.removeClass("e-viewdata-export"));this._disableExcelOnImageAlone();this.exportSettings.exportType===""||u?(this.exportSettings.exportType=u?"excel":this.currentTabContentElement.find(".e-dbrd-mobileExportOption").children().eq(t.DashboardConstants.Zero).attr("data-exporttype"),this._mobileExportContentCreate()):this._mobileExportDisableMenu();this.model.enableCustomTheming&&this._customTheme(["popup"]);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogOpen,source:{element:this.exportSettings,data:"MobileExport"}})},_mobileExportDisableMenu:function(){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),n=null,u,f,i;if(!t.isNullOrUndefined(this.currentTabContentElementData)&&!t.isNullOrUndefined(this.currentTabContentElementData.attr("data-widget-id")))for(u=this.currentTabContentElementData.attr("data-widget-id"),f=r.length,i=0;i<f;i++)n=r.eq(i),t.isNullOrUndefined(n.attr("data-widget-id"))||n.attr("data-widget-id")!==u||((t.isNullOrUndefined(n.data("ExportImage"))||!n.data("ExportImage"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportImage").remove(),(t.isNullOrUndefined(n.data("ExportPdf"))||!n.data("ExportPdf"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").remove(),(t.isNullOrUndefined(n.data("ExportExcel"))||!n.data("ExportExcel"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").remove(),(t.isNullOrUndefined(n.data("ExportCSV"))||!n.data("ExportCSV"))&&this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").remove());this.model._exportSettings.canExportImage||this.currentTabContentElement.find(".e-dbrd-mobileExportImage").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportImage").remove();this.model._exportSettings.canExportPdf||this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").remove();this.model._exportSettings.canExportExcel||this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").remove();this.model._exportSettings.canExportCsv||this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").remove()},_mobileExportContentCreate:function(i){var r,u,f,e;if(t.isNullOrUndefined(i)||(n(i.currentTarget).hasClass("e-brd-multitab-mob-export-btn")?(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}),this.multiDashboardExport=!0,this.exportDashboard=!1,this.exportSettings.filename=this.locale.utils.Dashboard,this._mobileExport(),this._mobileDashboardMenu()):this.exportSettings.exportType=n(i.currentTarget).attr("data-exportType")),this.exportSettings.exportType!=="")switch(this.exportSettings.exportType){case"image":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportImage").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();r=this._imageExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(r);this._exportImageDropdownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();(this.exportSettings.exportDpi!==""||this.currentTabContentElement.find(".e-brd-resolutionErrorLow").css("display")==="block")&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this._heightScrollCalculation();break;case"pdf":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();u=this._pdfExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(u);this.exportSettings.orientation!==""&&(this.orientation=this.exportSettings.orientation);this._exportPdfDropDownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this._selectPdfOrientation();f=n("<div class = 'e-dbrd-orientation-selection'><\/div>").text(this.orientation);this.currentTabContentElement.find(".e-brd-orientation").append(f);this._heightScrollCalculation();break;case"excel":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();e=this._excelExportContentCreation(this.exportSettings.filename);this.currentTabContentElement.find(".e-dbrd-fileContentBar").append(e);this._exportExcelDropDownCreation();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this._heightScrollCalculation();break;case"csv":this.currentTabContentElement.find(".e-mobile-export-selection").removeClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").addClass("e-mobile-export-selection");this.currentTabContentElement.find(".e-dbrd-fileContentBar").children().remove();this._heightScrollCalculation()}n(this.currentTabContentElement).find(".e-dbrd-fileContentBar .e-dbrd-hoverable").removeClass("e-dbrd-hoverable");n(this.currentTabContentElement).find(".e-dbrd-resolutionAlert").addClass("e-dbrd-hoverable");this.model.enableCustomTheming&&this._customTheme(["popup"])},_mobileDashboardMenu:function(){this.element.find("#"+this._id+"_DashboardMenuPopup").length>t.DashboardConstants.Zero||this.exportDashboard?(this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").hide(),this.currentDashboardExportType.HasExportImage||this.currentTabContentElement.find(".e-dbrd-mobileExportImage").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportImage").remove(),this.currentDashboardExportType.HasExportPdf||this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportPdf").remove(),this.currentDashboardExportType.HasExportExcel||this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").length===t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-mobileExportExcel").remove(),this.exportDashboard=!0):(this.multiDashboardExport||this.exportSettings.exportDashboard)&&this.currentTabContentElement.find(".e-dbrd-mobileExportCsv").hide()},_heightScrollCalculation:function(){var f=this.element.height(),r,e,o,i,u;this.element.find(".e-dbrd-mobileExport").height(f);r=t.DashboardConstants.Zero;n(this.element).find(".e-dbrd-mobileContentWrap").height(r);e=this.element.find(".e-dbrd-tiltleBar").height();o=this.element.find(".e-dbrd-mobileExportBtn").height();r=f-(e+o);n(this.element).find(".e-dbrd-mobileContentWrap").height(r);i=t.DashboardConstants.Zero;switch(this.exportSettings.exportType){case"image":i=t.DashboardConstants.Zero;u=20;n(this.element.find(".e-dbrd-fileContentBar >")).children().each(function(){i+=n(this).height()});this.multiDashboardExport&&(i+=this.element.find(".e-brd-imageExport-dropdown").height());this.element.find(".e-dbrd-fileContentBar").height(i+u);break;case"pdf":i=t.DashboardConstants.Zero;u=30;i+=this.element.find(".e-dbrd-dashPdf").height();i+=this.element.find(".e-brd-pagesize").height();this.multiDashboardExport&&(i+=this.element.find(".e-brd-multibrd-export").height());this.element.find(".e-dbrd-fileContentBar").height(i+u);break;case"excel":i=t.DashboardConstants.Zero;n(this.element.find(".e-dbrd-fileContentBar")).children().each(function(){i+=n(this).height()});this.element.find(".e-dbrd-fileContentBar").height(i);break;case"csv":i=t.DashboardConstants.Zero;this.element.find(".e-dbrd-fileContentBar").height(i)}},_mobileKeyBoardScroll:function(){var i,r;n(window).width()<t.DashboardConstants.MobileWidth?(i=this.element.find(".e-brd-exportImageField.e-brd-imageResolution"),i.is(":focus")&&(r=i.offset().top+this.element.find(".e-dbrd-mobileExportBtn").height(),this.element.find(".e-dbrd-mobileContentWrap").scrollTop(r))):this._heightScrollCalculation()},_exportSettingsClear:function(){this.exportSettings={exportType:"",exportFormat:"",exportDpi:"",filename:"",pagesize:"",orientation:"",widgetSelection:"",dashboardSelection:"",widgetDrpDwnDisplay:!1,excelFileType:"",exportDashboard:!1,isMobile:!1,isExportTriggered:!1}},_calculateExportDialogSize:function(){if(this.exportSettings.isExportTriggered){if(this.exportSettings.exportDashboard=this.exportDashboard,n(window).width()>t.DashboardConstants.MobileWidth&&this.exportSettings.isMobile){this.exportSettings.filename=n("#"+this._id+"_mobileExportFilenameText").val();switch(this.exportSettings.exportType){case"image":this.exportSettings.exportDpi=this.element.find(".e-brd-imageResolution").val();this.element.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this._validatingResolutionLimit();this.exportSettings.exportDpi===""&&this.element.find(".e-brd-resolutionErrorLow").css("display")==="block"&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this.exportSettings.isExportTriggered=!0;break;case"pdf":this.exportSettings.orientation=this.orientation;this.exportSettings.widgetDrpDwnDisplay=this.element.find(".e-brd-widget-dropdown").css("display")==="block"?!0:!1;this.element.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.multiDashboardExport&&this._createExportDbrdDrpdwn();this.exportSettings.isExportTriggered=!0;break;case"excel":this.element.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0;break;case"csv":this.element.find(".e-dbrd-mobileExport").remove();this._exportDialogPage();this.exportSettings.isExportTriggered=!0}}else if(n(window).width()<t.DashboardConstants.MobileWidth&&!this.exportSettings.isMobile){this.exportSettings.filename=this.element.find(".e-brd-exportFilename").val();switch(this.exportSettings.exportType){case"image":this.exportSettings.exportDpi=this.element.find(".e-brd-imageResolution").val();this.element.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this._validatingResolutionLimit();this.exportSettings.exportDpi===""&&this.element.find(".e-brd-resolutionErrorLow").css("display")==="block"&&n(".e-brd-imageResolution").val(this.exportSettings.exportDpi);this.exportSettings.isExportTriggered=!0;break;case"pdf":this.exportSettings.orientation=this.orientation;this.exportSettings.widgetDrpDwnDisplay=this.element.find(".e-brd-widget-dropdown").css("display")==="block"?!0:!1;this.element.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this.exportSettings.isExportTriggered=!0;break;case"excel":this.element.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();break;case"csv":this.element.find(".e-dbrd-dialog-bgrnd-export").remove();this._mobileExport();this._mobileExportContentCreate();this.exportSettings.isExportTriggered=!0}var i=this.element.find(".e-dbrd-inactive-export");i.css({"margin-left":-n(".e-dbrd-inactive-export").width()/2,"margin-top":-n(".e-dbrd-inactive-export").height()/2})}this._validatingImageFilename();this.model.enableCustomTheming&&this._customTheme(["popup"]);this._heightScrollCalculation()}},_validatingImageResolution:function(i){var u=n(i.target).val(),r=i.which?i.which:i.keyCode;return!((r!==46||u.indexOf(".")!==t.DashboardConstants.IndexLowerBound)&&(r<48&&r!==8||r>57))},_validatingResolutionLimit:function(i){var r=null;t.isNullOrUndefined(i)?r=this.exportSettings.exportDpi:(r=n(i.target).val(),this.exportSettings.exportDpi=r);r<96?(n(window).width()>t.DashboardConstants.MobileWidth?this.element.find(".e-brd-imageResolution").css({width:"200px"}):this.element.find(".e-brd-imageResolution").css({width:"100%"}),this.element.find(".e-brd-resolutionErrorLow").html(this.locale.utils.ResolutionLow).css({display:"block",float:"left"}),this.element.find(".e-brd-imageResolution").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"}),this.element.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.imageValidation=!1,this.model.enableCustomTheming&&this._customTheme(["disableBtn"])):r>300?(this.element.find(".e-dbrd-resolutionAlert").css({display:"block",float:"left"}),this.element.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.element.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),n(window).width()>t.DashboardConstants.MobileWidth?this.element.find(".e-brd-imageResolution").css({width:"160px","margin-bottom":"10px"}):this.element.find(".e-brd-imageResolution").css({width:"92%","margin-bottom":"10px"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.imageValidation=!0,this.model.enableCustomTheming&&this._customTheme(["enableBtn"])):this.element.find(".e-brd-filenameError").css("display")==="block"||n(this.element.find(".e-brd-exportWidgetTitle")).val()===""?(this.imageValidation=!1,this.element.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.element.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.element.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"})):(n(window).width()>t.DashboardConstants.MobileWidth?this.element.find(".e-brd-imageResolution").css({width:"200px"}):this.element.find(".e-brd-imageResolution").css({width:"100%"}),this.element.find(".e-brd-resolutionErrorLow").css({display:"none"}),this.element.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.element.find(".e-dbrd-resolutionAlert").css({display:"none"}),this.imageValidation=!0,this.model.enableCustomTheming&&this._customTheme(["enableBtn"]))},_validatingImageFilename:function(i){var r=null,u;r=t.isNullOrUndefined(i)?this.exportSettings.filename:n(i.target).val();u=/[!@#$%^&*()+\-=\[\]{};':"\\|,.<>\/?]/;t.isNullOrUndefined(r)||(r.match(u)||r===""||r.trim().length===t.DashboardConstants.Zero?(this.imageValidation=!1,this.element.find(".e-brd-filenameError").css({display:"block"}),this.element.find(".e-brd-exportFilename").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.element.find(".e-brd-mobileFilenameText").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"}),this.model.enableCustomTheming&&this._customTheme(["disableBtn"])):this.element.find(".e-brd-resolutionErrorLow").css("display")==="block"||n(this.element.find(".e-brd-exportWidgetTitle")).val()===""?(this.imageValidation=!1,this.element.find(".e-brd-filenameError").css({display:"none"}),this.element.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#B7B7B7",color:"#7C7C7C",border:"1px #7C7C7C"}),this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#D8D8D8",color:"#7C7C7C"})):(this.imageValidation=!0,this.element.find(".e-brd-filenameError").css({display:"none"}),this.element.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"}),this.element.find(".e-brd-mobileFilenameText").css({"outline-color":"#dcdcdc","border-color":"#dcdcdc"}),this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"}),this.model.enableCustomTheming&&this._customTheme(["enableBtn"])))},_validatingImageWidgetTitle:function(t){var i=n(t.target).val();i===""?(this.imageValidation=!1,this.element.find(".e-brd-exportWidgetTitle").css({"outline-color":"#FF0000","border-color":"#FF0000"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"}),this.model.enableCustomTheming&&this._customTheme("disableBtn")):this.element.find(".e-brd-resolutionErrorLow").css("display")==="block"||this.element.find(".e-brd-filenameError").css("display")==="block"?(this.imageValidation=!1,this.element.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"rgba(128, 128, 128, 0.46)"})):(this.imageValidation=!0,this.element.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"}),this.element.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc"}),this.model.enableCustomTheming&&this._customTheme("enableBtn"))},_hideExport:function(i){var r,u;if(t.isNullOrUndefined(i))(this.element.find(".e-dbrd-dialog-bgrnd-export").length>t.DashboardConstants.Zero||this.element.find(".e-dbrd-mobileExport").length>t.DashboardConstants.Zero)&&(r=n(window).width()<t.DashboardConstants.MobileWidth?"MobileExport":this.element.find(".e-dbrd-inactive-export").attr("id").split("_")[1],this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide(),this.isDialogNotCreated||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:r}}),n(window).width()<t.DashboardConstants.MobileWidth&&(this.element.find(".e-dbrd-tab-res-inactive").hide(),this.element.find(".e-dbrd-tab-res-popup").hide(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportSettingsClear()),this.multiDashboardExport=!1,this.exportDashboard=!1,this.element.find("#"+this._id+"_imageType").ejDashboardDropDownList("destroy"),this.isPageTypeDropDownCreated&&this.element.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList("destroy"),this.element.find("#"+this._id+"_excelType").ejDashboardDropDownList("destroy"),this.orientation=this.locale.utils.DefaultOrientation,this.element.find(".e-dbrd-dialog-bgrnd-export").remove(),this._exportSettingsClear(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:r}})));else{u=n(window).width()<t.DashboardConstants.MobileWidth?"MobileExport":n(i.target).parents().find(".e-dbrd-inactive-export").attr("id").split("_")[1];this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();var e=n(i.target).hasClass("e-dbrd-dialog-bgrnd-export"),o=n(i.target).hasClass("e-brd-exportPopupWindowClose e-dbrd-hoverable e-dbrd-popup-icon"),s=n(i.target).hasClass("e-brd-ControlImageCancel"),f=n(i.target).hasClass("e-dbrd-titleBackIcon")||n(i.target).hasClass("e-dbrd-exportBack");f&&(this.element.find(".e-dbrd-tab-res-inactive").hide(),this.element.find(".e-dbrd-tab-res-popup").hide(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportSettingsClear());(e||o||s||f)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:u}}),this.multiDashboardExport=!1,this.exportDashboard=!1,this.element.find("#"+this._id+"_imageType").ejDashboardDropDownList("destroy"),this.element.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList("destroy"),this.element.find("#"+this._id+"_excelType").ejDashboardDropDownList("destroy"),this.orientation=this.locale.utils.DefaultOrientation,this.element.find(".e-dbrd-dialog-bgrnd-export").remove(),this._exportSettingsClear(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportDialogClose,source:{element:this.exportSettings,data:u}}))}this.model.enableCustomTheming&&this._customTheme(["dashboard"])},_selectPdfOrientationforportrait:function(i){if(n(i.target).attr("id")===this._id+"_pdfPortrait"&&(this.orientation="Portrait",this._selectPdfOrientation(),this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.popupSettings))){var r=this.model.customThemeSettings.popupSettings;!t.isNullOrUndefined(r["popup-container-background-color"])&&r["popup-container-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-brd-PdfOrientationforlandscape").css({"background-color":r["popup-container-background-color"]});!t.isNullOrUndefined(r["popup-icons-color"])&&r["popup-icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-popup-icon").css({color:r["popup-icons-color"]})}},_selectPdfOrientationforlandscape:function(i){if(n(i.target).attr("id")===this._id+"_pdfLandscape"&&(this.orientation="Landscape",this._selectPdfOrientation(),this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.popupSettings))){var r=this.model.customThemeSettings.popupSettings;!t.isNullOrUndefined(r["popup-container-background-color"])&&r["popup-container-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-brd-PdfOrientationforportrait").css({"background-color":r["popup-container-background-color"]});!t.isNullOrUndefined(r["popup-icons-color"])&&r["popup-icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-popup-icon").css({color:r["popup-icons-color"]})}},_selectPdfOrientation:function(){this.orientation==="Landscape"?(n("#"+this._id+"_pdfPortrait").css({"background-color":"#fff"}),n("#"+this._id+"_pdfLandscape").css({"background-color":"#3B99FC"}),this.element.find(".e-brd-PdfOrientationforlandscape").css({color:"#fff"}),this.element.find(".e-brd-PdfOrientationforportrait").css({color:"black"})):(n("#"+this._id+"_pdfLandscape").css({"background-color":"#fff"}),n("#"+this._id+"_pdfPortrait").css({"background-color":"#3B99FC"}),this.element.find(".e-brd-PdfOrientationforportrait").css({color:"#fff"}),this.element.find(".e-brd-PdfOrientationforlandscape").css({color:"black"}));this.element.find(".e-dbrd-orientation-selection").text(this.orientation)},_ControlImageReset:function(){var r,i,u,f;this.filename=t.isNullOrUndefined(this.filename)?this.exportSettings.filename:this.filename;this.element.find(".e-brd-mobileFilenameText").val(this.filename);this.element.find(".e-brd-mobileFilenameText").css({border:"1px solid #dcdcdc","outline-color":"#1E90FF"});this.element.find(".e-brd-resolutionErrorLow").css({display:"none"});this.element.find(".e-dbrd-resolutionAlert").css({display:"none"});this.element.find(".e-brd-filenameError").css({display:"none"});this.element.find(".e-brd-ControlImageExport").css({"background-color":"#3b99fc",color:"#fff"});this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":"#3b99fc",color:"#fff"});this.imageValidation=!0;this.multiDashboardExport&&(r=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),r.unCheckAll(),r.hidePopup(),this._defaultSelection());switch(this.exportSettings.exportType){case"image":this._exportSettingsClear();this.exportSettings.exportType="image";this.imageValidation=!0;this.element.find("#"+this._id+"_ExportImagefilename").val(this.filename);this.element.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.element.find("#"+this._id+"_ExportImagetitle").val(this.title);this.element.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.element.find("#"+this._id+"_ExportImageresolution").val(t.DashboardConstants.Resolution);this.element.find(".e-brd-imageResolution").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.element.find("#"+this._id+"_imageType").ejDashboardDropDownList({selectedIndex:0});break;case"pdf":this._exportSettingsClear();this.exportSettings.exportType="pdf";this.element.find("#"+this._id+"_ExportPdffilename").val(this.filename);this.element.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.element.find("#"+this._id+"_ExportPdftitle").val(this.title);this.element.find(".e-brd-exportWidgetTitle").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.orientation=this.locale.utils.DefaultOrientation;this.element.find("#"+this._id+"_pdfLandscape").val(this.orientation).css({"background-color":"#3B99FC",color:"#fff"});this.element.find("#"+this._id+"_pdfPortrait").val(this.orientation).css({"background-color":"#fff",color:"black"});this.element.find("#"+this._id+"_pageSizeType").ejDashboardDropDownList({selectedIndex:1});this.model.enableCustomTheming&&(t.isNullOrUndefined(this.model.customThemeSettings.popupSettings)||(i=this.model.customThemeSettings.popupSettings,!t.isNullOrUndefined(i["popup-container-background-color"])&&i["popup-container-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-PdfOrientationforportrait").css({"background-color":i["popup-container-background-color"]}),this.element.find("#"+this._id+"_pdfLandscape").css({"background-color":"#3B99FC"})),!t.isNullOrUndefined(i["popup-icons-color"])&&i["popup-icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-popup-icon").css({color:i["popup-icons-color"]})));this.exportDashboard&&(u=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance"),u.unCheckAll(),u.hidePopup(),this.element.find(".e-brd-widget-dropdown").css({display:"none"}),f=this.element.find("#"+this._id+"_dashboardRadio").ejDashboardRadioButton("instance"),f.option("checked",!0),this.element.find(".e-brd-choose-label").css({display:"none"}));this.element.find(".e-dbrd-orientation-selection").text(this.orientation);break;case"excel":this._exportSettingsClear();this.exportSettings.exportType="excel";this.element.find("#"+this._id+"_ExportExcelfilename").val(this.filename);this.element.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"});this.element.find("#"+this._id+"_excelType").ejDashboardDropDownList({selectedIndex:0});break;case"csv":this._exportSettingsClear();this.exportSettings.exportType="csv";this.imageValidation=!0;this.element.find("#"+this._id+"_ExportCSVfilename").val(this.filename);this.element.find(".e-brd-exportFilename").css({"outline-color":"#1E90FF","border-color":"#dcdcdc"})}this.exportSettings.isMobile=n(window).width()<t.DashboardConstants.MobileWidth?!0:!1;this.exportSettings.isExportTriggered=!0},_exportImagePopup:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.exporting,source:{element:this.exportSettings,data:this.exportSettings.exportType}});switch(this.exportSettings.exportType){case"image":this._exportToImage();break;case"pdf":this._exportToPdf();break;case"excel":this.imageValidation&&this._exportToExcel();break;case"csv":this.imageValidation&&this._exportToCSV()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.exportCompleted,source:{element:this.exportSettings,data:this.exportSettings.exportType}})},_exportToExcel:function(){var u=null,f=!1,r=!1,n,i;u=this.element.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.element.find(".e-brd-mobileFilenameText").val():this.element.find("#"+this._id+"_ExportExcelfilename").val();n=this.element.find("#"+this._id+"_excelType").val();n===""&&(n=this.locale.utils.ExportToExcel97To2003);this.element.find(".e-dbrd-exportExcel").remove();this.exportDashboard=!1;i=t.isNullOrUndefined(this.currentTabContentElementData)?this.currentTabContentElementData:this.currentTabContentElementData.attr("data-widget-id");(t.isNullOrUndefined(this.currentTabContentElementData)||t.isNullOrUndefined(i))&&(f=!0);this.multiDashboardExport&&this.onDemandTabs||(r=!0);t.isNullOrUndefined(i)||(r=!1);this.exportToExcel(i,u,n,!1,f,[],r)},_exportToCSV:function(){var n=null;n=this.element.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.element.find(".e-brd-mobileFilenameText").val():this.element.find("#"+this._id+"_ExportCSVfilename").val();this.element.find(".e-dbrd-exportCSV").remove();this.exportDashboard=!1;this._exportControlData(this.currentTabContentElementData.attr("type"),this.currentTabContentElementData.attr("control-id"),n)},_exportToImage:function(){var i=null,r,e,o,s;i=this.element.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.element.find(".e-brd-mobileFilenameText").val():this.element.find("#"+this._id+"_ExportImagefilename").val();var h=this.exportSettings.subtitleName,n=this.element.find("#"+this._id+"_imageType").val(),u=this.title,f=this.element.find("#"+this._id+"_ExportImageresolution").val();n=n.substr(n.lastIndexOf(".")+1);n=n.substring(0,n.length-1);this.imageValidation&&(r=!1,this.exportDashboard===!1&&this.multiDashboardExport===!1&&(this.element.find(".e-dbrd-exportImage").remove(),this.element.find(".e-dbrd-mobileExport").remove(),this.multiDashboardExport=!1,e={type:this.currentTabContentElementData.attr("type"),element:this.currentTabContentElementData.attr("control-id"),imageType:n,resolution:f,filename:i,title:u,subtitle:h},this._exportControlImage(e,r)),this.exportDashboard&&this.multiDashboardExport===!1&&(this.exportDashboard=!1,this.element.find(".e-dbrd-exportImage").remove(),this.element.find(".e-dbrd-mobileExport").remove(),o={imageType:n,resolution:f,filename:i,title:u},this._exportDashboardImage(o,r)),this.multiDashboardExport&&(this.exportDashboard=!1,this.element.find(".e-dbrd-exportImage").remove(),this.element.find(".e-dbrd-mobileExport").remove(),s={imageType:n,resolution:f,filename:i,title:u,fileType:"zip"},this._exportDashboardImage(s,r)))},_exportToPdf:function(){var r=null,f,c;r=this.element.find(".e-brd-mobileFilenameText").length>t.DashboardConstants.Zero?this.element.find(".e-brd-mobileFilenameText").val():this.element.find("#"+this._id+"_ExportPdffilename").val();var e=this.title,l=this.exportSettings.subtitleName,i=this.element.find("#"+this._id+"_pageSizeType").val(),o=this.element.find("#"+this._id+"_widgetsName").data("ejDashboardDropDownList"),u=o.getSelectedItemsID();u.length===t.DashboardConstants.Zero&&(n(".e-brd-radio-widgets").is(":checked")&&o.option("checkAll",!0),u=o.getSelectedItemsID());var h=null,s=!1;i===""&&(i=this.locale.utils.A4);n(".e-brd-radio-widgets").is(":checked")&&(s=!0);this.imageValidation&&(f=!1,this.exportDashboard===!1&&this.multiDashboardExport===!1&&(this.multiDashboardExport=!1,this.element.find(".e-dbrd-mobileExport").remove(),this.element.find(".e-dbrd-exportPdf").remove(),c={type:this.currentTabContentElementData.attr("type"),element:this.currentTabContentElementData.attr("control-id"),filename:r,pageSizeType:i,title:e,subtitle:l},this._exportControlPdf(c,f)),this.exportDashboard&&this.multiDashboardExport===!1&&(this.exportDashboard=!1,this.multiDashboardExport=!1,this.element.find(".e-dbrd-exportPdf").remove(),this.element.find(".e-dbrd-mobileExport").remove(),this._exportDashboardPdf(r,i,e,null,f,u,s)),this.multiDashboardExport&&(this.element.find(".e-dbrd-mobileExport").remove(),this.element.find(".e-dbrd-exportPdf").remove(),h="pdf",this._exportDashboardPdf(r,i,e,h,f,u,s,!1)))},_exportDashboardPdf:function(i,r,u,f,e,o,s){var ut,ct,d,w,a,ft,lt,at,vt,yt,y,g,tt,bt,rt,kt,dt,gt;this.element.find(".e-dbrd-tab-res-popup").hide();e||this._showwaitingpdfpopup("pdf");ut=JSON.parse(JSON.stringify(this.dashboardParameters));this.newfilename=i;var c=null,p="",ot=null,st=[],v=null,h=0,l=0,k=0,ht=[];for(this.filterDetials=!0,ct=this.appliedFilterData.length,l=0;l<ct;l++)this.filterDetials=!1,ht.push(this.appliedFilterData[l]);if(this.multiDashboardExport){for(yt=this.multiSelectCollection.length,y=0;y<yt;y++)this.multiSelectCollection[y].widgetInfo!==""&&(g=JSON.parse(this.multiSelectCollection[y].widgetInfo),g=this._setWidgetStringForPivotGrid(g),this.multiSelectCollection[y].widgetInfo=JSON.stringify(g));ot=JSON.stringify(this.multiSelectCollection)}else{if(c=this.dashboardControls.getAllControlsForImageExport(i),this._getDatePickerData(c),p="",d="",v=JSON.parse(JSON.stringify(this.currentReport.layout)),w=[],a=0,s)for(a=c.length,h=0;h<a;h++)if(c[h].controlType!=="parameterColumnData"&&c[h].controlType!==t.DashboardConstants.Title){for(ft=!1,lt=o.length,l=0;l<lt;l++)at=this.element.find("#"+o[l]).attr("data-widget-id"),at===c[h].reportName&&(ft=!0);ft&&w.push(c[h])}else w.push(c[h]);if(w.length>t.DashboardConstants.Zero&&(c=w),this.model.enableCustomTheming)for(a=c.length,h=0;h<a;h++)c[h].controlType!=="parameterColumnData"&&c[h].controlType!==t.DashboardConstants.Title&&(d=this._id+"_"+c[h].controlType+"_"+c[h].reportName+"_style",vt=n("head").find("#"+d).html(),p=p+'<style id = "'+d+'">'+vt+"<\/style>");for(c=this._setWidgetStringForPivotGrid(c),a=c.length,h=0;h<a;h++)c[h].controlType==="parameterColumnData"&&(c[h].controlRelations=this.controlRelations,c[h].appliedFilterData=this.appliedFilterData);c=JSON.stringify(c)}var pt=n(window).height(),wt=n(window).width(),nt=this.orientation;t.isNullOrUndefined(nt)&&(nt=this.locale.utils.DefaultOrientation);tt=null;t.isNullOrUndefined(this.model.customThemeSettings)||(tt=JSON.stringify(this.model.customThemeSettings));var b=null,it=null,et=t.isNullOrUndefined(this.dashboardControls.getAllControlsMasterData())?[]:this.dashboardControls.getAllControlsMasterData();if(this.multiDashboardExport)it={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({selectedDashboards:ot,widgetCssString:p,pageSize:r,pageLayout:JSON.stringify(nt),data:t.isNullOrUndefined(et)?null:JSON.stringify(et),fileType:f,height:pt,width:wt,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,customThemeSettings:tt,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(b),currentUser:JSON.stringify(this.currentUser),dashboardPath:this.dashboardPath(),isFilterDetials:this.filterDetials,subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(ut),isExtendedLayout:this.isExtendedLayout,methodName:this.model.serviceMethods.multipleDashboardsExport,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureFiles,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(it);else{if(b=this._getGridSettings(),b.length===t.DashboardConstants.Zero&&(b=""),s&&o.length>t.DashboardConstants.Zero)for(bt=v.length,h=0;h<bt;h++)if(v[h].Key===t.DashboardConstants.LayoutInformation){for(rt=JSON.parse(v[h].Value),kt=o.length,k=0;k<kt;k++)for(dt=rt.length,l=0;l<dt;l++)rt[l].Guid===o[k]&&st.push(rt[l]);gt=JSON.stringify(st);v[h].Value=gt;break}it={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({layoutString:JSON.stringify(v),widgetString:c,widgetCssString:p,data:JSON.stringify(et),pageSize:r,pageLayout:JSON.stringify(nt),height:pt,width:wt,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,reportName:"dashboard",dashboardPath:this.dashboardPath(),customThemeSupport:this.model.enableCustomTheming,customThemeSettings:tt,gridSettings:JSON.stringify(b),currentUser:JSON.stringify(this.currentUser),dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,dashboardName:this.dashboardName,isWidgetSpecific:s,initialDashboard:JSON.stringify(this.initialDashboard),masterControls:JSON.stringify(ht),isFilterDetials:this.filterDetials,subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(ut),isloadCompletes:this.actualPages.length===this.pageInformations.length,isExtendedLayout:this.isExtendedLayout,widgetsToExport:JSON.stringify(o),methodName:this.model.serviceMethods.savePdf,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._capturePdf,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(it)}},_capturePdf:function(i,r){var u;t.isNullOrUndefined(r.ResponseString)&&(r=JSON.parse(r));r=this._processResponseMessage(r);this._destroyWaitingPdfPopup();this.orientation=this.locale.utils.DefaultOrientation;this._ExportedPdfFileName=this.newfilename;u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");var e=this._ExportedPdfFileName?this._ExportedPdfFileName+".pdf":"Dashboard.pdf",f=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),o=JSON.stringify({pdfFile:r.d.ResponseString,fileName:e,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,methodName:this.model.serviceMethods.savePdfFile,serverUrl:this.serverUrl()});f.append(n('<input type="hidden">').attr({name:"arguments",value:o}));f.appendTo(u).submit().remove();u.hide()},_exportDashboardImage:function(i,r){var y,l,o,s,a,k,d,e,v,h;this.element.find(".e-dbrd-tab-res-popup").hide();r||this._showwaitingpdfpopup("image");y=JSON.parse(JSON.stringify(this.dashboardParameters));this._ExportedImageFileName=i.filename;var u="",c="",w=null,b=[],f=0,tt=this.appliedFilterData.length;for(l=0;l<tt;l++)b.push(this.appliedFilterData[l]);if(o="",s=0,this.multiDashboardExport){for(d=this.multiSelectCollection.length,e=0;e<d;e++)this.multiSelectCollection[e].widgetInfo!==""&&(v=JSON.parse(this.multiSelectCollection[e].widgetInfo),v=this._setWidgetStringForPivotGrid(v),this.multiSelectCollection[e].widgetInfo=JSON.stringify(v));w=JSON.stringify(this.multiSelectCollection)}else{if(u=this.dashboardControls.getAllControlsForImageExport(i.title),this._getDatePickerData(u),a="",this.model.enableCustomTheming)for(s=u.length,f=0;f<s;f++)u[f].controlType!=="parameterColumnData"&&u[f].controlType!==t.DashboardConstants.Title&&(a=this._id+"_"+u[f].controlType+"_"+u[f].reportName+"_style",k=n("head").find("#"+a).html(),c=c+'<style id = "'+a+'">'+k+"<\/style>");for(u=this._setWidgetStringForPivotGrid(u),s=u.length,u=JSON.stringify(u),f=0;f<s;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData);o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="")}var it=t.isNullOrUndefined(this.dashboardControls.getAllControlsMasterData())?[]:this.dashboardControls.getAllControlsMasterData(),g=n(window).height(),nt=n(window).width(),p=null;t.isNullOrUndefined(this.model.customThemeSettings)||(p=JSON.stringify(this.model.customThemeSettings));h=null;this.multiDashboardExport&&this.multiSelectCollection.length!==t.DashboardConstants.One?(h={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({selectedDashboards:w,widgetCssString:c,isControl:!1,height:g,width:nt,imageType:i.imageType,fileType:i.fileType,resolution:i.resolution,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customThemeSettings:p,currentUser:JSON.stringify(this.currentUser),dashboardPath:this.dashboardPath(),subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),isExtendedLayout:this.isExtendedLayout,methodName:this.model.serviceMethods.multipleDashboardsExport,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureFiles,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(h)):(h={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({layoutString:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].layoutInfo:JSON.stringify(this.currentReport.layout),widgetString:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].widgetInfo:u,widgetCssString:c,isControl:!1,height:g,width:nt,imageType:i.imageType,resolution:i.resolution,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,reportName:"dashboard",customThemeSupport:this.model.enableCustomTheming,customThemeSettings:p,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].gridSettings:JSON.stringify(o),currentUser:JSON.stringify(this.currentUser),dashboardName:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].id:this.dashboardName,masterControls:this.multiSelectCollection.length===t.DashboardConstants.One?this.multiSelectCollection[0].masterControls:JSON.stringify(b),dashboardPath:this.dashboardPath(),subtitleName:"",dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),isloadCompletes:this.actualPages.length===this.pageInformations.length,isExtendedLayout:this.isExtendedLayout,data:JSON.stringify(it),methodName:this.model.serviceMethods.saveImage,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureImage,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(h))},_setWidgetStringForPivotGrid:function(n){for(var r=n.length,i=0;i<r;i++)n[i].controlType===t.dashboardViewer.Controls.PivotGrid&&(n[i].data[n[i].data.length-t.DashboardConstants.One].pagedata=n[i].data[0].pagedata);return n},_captureImage:function(i,r){var f,u,e,o,s;r=this._processResponseMessage(r);this._destroyWaitingPdfPopup();f=r.d.ResponseString.substr(r.d.ResponseString.lastIndexOf(".")+t.DashboardConstants.One);u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===t.DashboardConstants.Zero?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");e=null;e=t.isNullOrUndefined(this._ExportedImageFileName)?"Dashboard."+f:this._ExportedImageFileName+"."+f;o=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet,method:"GET",enctype:"application/json","accept-charset":"UTF-8"});s=JSON.stringify({imageFile:r.d.ResponseString,fileName:e,type:f,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,methodName:this.model.serviceMethods.saveImagefile,serverUrl:this.serverUrl()});o.append(n('<input type="hidden">').attr({name:"arguments",value:s}));o.appendTo(u).submit().remove();u.hide()},_getDatePickerData:function(n){for(var r,u,f=n.length,i=0;i<f;i++)r=[],n[i].controlType!==t.dashboardViewer.Controls.DatePicker||t.isNullOrUndefined(n[i].data[0])||(u=n[i].data[0].pagedata.length,u>t.DashboardConstants.Zero&&r.push(n[i].data[0].pagedata[0]),u>t.DashboardConstants.One&&r.push(n[i].data[0].pagedata[u-t.DashboardConstants.One]),n[i].data[0].pagedata=r)},_getDashboardSelectionDetails:function(t){for(var c,i,r,e,o=[],u=[],s=[],h=t.length,f=0;f<h;f++)for(c=this.dashboardDetails.length,i=0;i<c;i++)t[f].toLocaleLowerCase().trim()===this.dashboardDetails[i].DashboardDisplayName.toLocaleLowerCase().trim()&&(o.push(this.dashboardDetails[i]),s.push(this.dashboardDetails[i].DashboardDisplayName));for(r=0;r<h;r++)e=t[r].trim(),n.inArray(e,s)===-1&&n.inArray(e,u)===-1&&u.push(t[r]);return[{selectedItems:o,nonMatchedItems:u}]},_getWidgetSelectionDetails:function(t){for(var l,i,r,s,h=[],f=[],e=[],u=this._getWidgetNames(),c=t.length,o=0;o<c;o++)for(l=u.length,i=0;i<l;i++)t[o].toLocaleLowerCase().trim()===u[i].WidgetsName.toLocaleLowerCase().trim()&&(e.push(u[i].WidgetsName),h.push(u[i].WidgetsId));for(r=0;r<c;r++)s=t[r].trim(),n.inArray(s,e)===-1&&n.inArray(s,f)===-1&&f.push(t[r]);return[{selectedWidgetsList:h,nonMatchedItems:f,selectedWidgetNames:e}]},_getStatus:function(n){var i=0,r=[],f=n[t.DashboardConstants.Zero].selectedItems.length,u;if(f>t.DashboardConstants.Zero)for(i=0;i<f;i++)r.push({status:this.locale.utils.Success,name:n[t.DashboardConstants.Zero].selectedItems[i].DashboardDisplayName});if(u=n[t.DashboardConstants.Zero].nonMatchedItems.length,u>t.DashboardConstants.Zero)for(i=0;i<u;i++)r.push({status:this.locale.utils.Failure,name:n[t.DashboardConstants.Zero].nonMatchedItems[i],Reason:this.locale.errorMessages.ErrorInMultiDbrdExport});return r},_getSuccessStatus:function(n,t){var r=[],u,i;if(t)for(u=this.dashboardDetails.length,i=0;i<u;i++)r.push({status:this.locale.utils.Success,name:this.dashboardDetails[i].DashboardDisplayName});else r.push({status:this.locale.utils.Success,name:n});return r},_getFailureStatusForWidget:function(n){var t=[];return t.push({status:this.locale.utils.Failure,name:n,Reason:this.locale.errorMessages.ErrorInMultipleWidgetExport}),t},_b64toBlob:function(n,t,i){for(var r,l,a=t||"",f=i||512,e=atob(n),o=[],u=0;u<e.length;u+=f){var s=e.slice(u,u+f),h=s.length,c=new Array(h);for(r=0;r<h;r++)c[r]=s.charCodeAt(r);l=new Uint8Array(c);o.push(l)}return new Blob(o,{type:a})},_processWebpageImageForExport:function(i,r){for(var l,p,a,w,u,o,s,v,y,f,h,c=r.find("svg"),b=c.length,e=0;e<b;e++)l=n("<div>"),p=n(c[e]).clone(),l.append(p),a=document.createElement("canvas"),canvg(a,l[0].innerHTML),w=i.getContext("2d"),w.drawImage(a,n(c[e]).offset().left,n(c[e]).offset().top);r===this.currentTabContentElement.attr("id")?(u=n("#"+r),!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero&&(o=u.width()-30,y=u.offset().left,v=u.offset().top,s=u.height())):(o=i.width,s=i.height,v=0,y=0);f=document.createElement("canvas");f.width=o;f.height=s;f.getContext("2d").drawImage(i,y,v,o,s,t.DashboardConstants.Zero,t.DashboardConstants.Zero,o,s);this.isPrintTriggered?(this.isPrintTriggered=!1,h=window.open(),h.document.write("<br><img src='"+f.toDataURL()+"'/>"),h.print(),h.location.reload(),h.close()):this.saveFileFromServer("IMAGE",f.toDataURL("image/png"))},_exportControlData:function(t,i,r){var f=null,u,e;(t==="ComparisonChart"||t==="Grid"||t==="PivotGrid"||t==="TreeMap"||t==="BubbleMap"||t==="ChoroplethMap"||t==="Card"||t==="CircularGauge"||t==="Chart"||t==="ProportionChart"||t==="CustomWidget"||t==="HeatMap")&&(f=n("#"+i).parents(".e-dbrd-layout-cell").find(".e-dbrd-control"),u={},u.controlId=f.attr("data-controlId"),u.controlType=n("#"+i).parents(".e-dbrd-layout-cell").attr("data-controlType"),u.headerText=r,u.controlType==="CircularGauge"&&(u.controlType="Gauge"),e=[],this._exportDataAsCSV(u,e))},_getGridSettings:function(i,r){var s=[],u=null,o=null,h,f,e;for(this.multiDashboardExport?(u=i.controls,o=r):(u=this.dashboardControls.controls,o=this._id),h=u.length,f=0;f<h;f++)u[f].controlType==="Grid"&&(e=n("#"+o+"_Widget_"+u[f].reportName).data("ejDashboardGrid"),t.isNullOrUndefined(e)||s.push({reportName:u[f].reportName,sortSettings:e.model.sortSettings,filterSettings:e.model.filterSettings}));return s},_exportDataAsCSV:function(n,i){this.element.find(".e-dbrd-mobileExport").remove();this.element.find(".e-dbrd-tab-res-popup").hide();this._showwaitingpdfpopup("csv");this._ExportedCSVFileName=n.headerText;this.model.enableAutorefresh&&this._resetAutoRefresh();var r=JSON.parse(JSON.stringify(this.dashboardParameters)),u=this.tempViewDataDetails.isViewDataExport?this._getViewDataGridSettings():this._getGridSettings(),f=this.tempViewDataDetails.isViewDataExport?t.isNullOrUndefined(this.tempViewDataDetails.exportViewDataFilter)?[]:this.tempViewDataDetails.exportViewDataFilter:this.dashboardControls.getAllControlsMasterData(),e=f,o=JSON.stringify(this.rangeData),s=JSON.stringify(this.initialFilters),h=JSON.stringify(i),c=this.modifiedConnectionStrings,l=JSON.stringify(this.currentUser),a={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,data:JSON.stringify(e),rangeData:o,drilledData:h,modifiedConnectionStrings:c,fileName:n.headerText,currentUser:l,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,filterParameters:s,gridSettings:JSON.stringify(u),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(r),methodName:this.model.serviceMethods.exportAsCsv,serverUrl:this.serverUrl(),viewData:this.tempViewDataDetails.isViewDataExport,isRawData:this.tempViewDataDetails.isRawData,showAllColumns:this.tempViewDataDetails.isShowAllColumns,isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureCSV,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(a)},_captureCSV:function(i,r){var u;t.isNullOrUndefined(r.ResponseString)&&(r=JSON.parse(r));r=this._processResponseMessage(r);this._destroyWaitingPdfPopup();this._ExportedPdfFileName=this.newfilename;this.tempViewDataDetails.isViewDataExport=!1;u=null;this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe");var e=this._ExportedCSVFileName?this._ExportedCSVFileName+".csv":"Dashboard.csv",f=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),o=JSON.stringify({csvFile:r.d.ResponseString+".csv",fileName:e,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,methodName:this.model.serviceMethods.saveCsvFile,serverUrl:this.serverUrl()});f.append(n('<input type="hidden">').attr({name:"arguments",value:o}));f.appendTo(u).submit().remove();u.hide()},_exportDataAsExcel:function(n,i,r,u){var v=this.model.localeSettings.resourcePath,y=this.model.localeSettings.culture,o,f,l,a;this.element.find(".e-dbrd-mobileExport").remove();this.element.find(".e-dbrd-tab-res-popup").hide();u||this._showwaitingpdfpopup("excel");this.model.enableAutorefresh===!0&&this._resetAutoRefresh();o=JSON.parse(JSON.stringify(this.dashboardParameters));this._ExportedExcelFileName=n.headerText;f=i===this.locale.utils.ExportToExcel2013;this._excelfileVersion=f?".xlsx":".xls";var s=JSON.stringify(this.currentUser),h=JSON.stringify(this.initialFilters),c=this.modifiedConnectionStrings,e=null;if(this.multiDashboardExport)l=this._multiTabExportExcel(),a=JSON.stringify(l),e={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),excelDashboards:a,controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,modifiedConnectionStrings:c,fileName:n.headerText,currentUser:s,isExcel2013Version:f,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,filterParameters:h,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,fileType:r,version:this._excelfileVersion,dashboardParameterSettings:this._setAjaxDashboardParameterValue(o),methodName:this.model.serviceMethods.multipleDashboardsExport,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureExcel,needRequestParameter:!1,additionalParameter:null},this.multiDashboardExport=!1,this.doAjaxPost(e);else{var p=this.tempViewDataDetails.isViewDataExport?this._getViewDataGridSettings():this._getGridSettings(),w=this.tempViewDataDetails.isViewDataExport?t.isNullOrUndefined(this.tempViewDataDetails.exportViewDataFilter)?[]:this.tempViewDataDetails.exportViewDataFilter:this.dashboardControls.getAllControlsMasterData(),b=w,k=JSON.stringify(this.rangeData);e={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),controlId:n.controlId,controlType:n.controlType,serverSideCache:this.model.enableServerSideCache,token:this.token,data:JSON.stringify(b),rangeData:k,modifiedConnectionStrings:c,fileName:n.headerText,currentUser:s,isExcel2013Version:f,isPublic:this.isPublicDashboard,itemId:this.itemId,filterParameters:h,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,gridSettings:JSON.stringify(p),dashboardName:this.dashboardName,customCulture:y,customLanguagePath:v,dashboardParameterSettings:this._setAjaxDashboardParameterValue(o),methodName:this.model.serviceMethods.exportAsExcel,serverUrl:this.serverUrl(),viewData:this.tempViewDataDetails.isViewDataExport,isRawData:this.tempViewDataDetails.isRawData,showAllColumns:this.tempViewDataDetails.isShowAllColumns,isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureExcel,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(e)}},_captureExcel:function(i,r){var u;if(r=this._processResponseMessage(r),this._destroyWaitingPdfPopup(),this.tempViewDataDetails.isViewDataExport=!1,u=null,this.currentTabContentElement.find("#"+this._id+"_exportIframe").length===0?(u=n("<iframe>").attr({name:"exportIframe",id:this._id+"_exportIframe"}),this.currentTabContentElement.append(u)):u=this.currentTabContentElement.find("#"+this._id+"_exportIframe"),!t.isNullOrUndefined(r.d)){var e=this._ExportedExcelFileName+this._excelfileVersion,f=n("<form>").attr({action:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet,method:"GET",enctype:"application/json","accept-charset":"UTF-8"}),o=JSON.stringify({excelFile:r.d.ResponseString+this._excelfileVersion,fileName:e,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,methodName:this.model.serviceMethods.saveExcelfile,serverUrl:this.serverUrl()});f.append(n('<input type="hidden">').attr({name:"arguments",value:o}));f.appendTo(u).submit().remove();u.hide()}},_exportControlImage:function(i,r){var u=0,s,l,h,a,c,o,v;this.model.enableAutorefresh&&this._resetAutoRefresh();r||this._showwaitingpdfpopup("image");var y=JSON.parse(JSON.stringify(this.dashboardParameters)),e="",p=JSON.parse(JSON.stringify(this.currentReport.layout)),f=this.dashboardControls.getControlForImageExport(n("#"+i.element).attr("data-controlid"));if(n("#"+i.element).hasClass("e-Card-Single")&&n("#"+i.element).find(".e-dbrd-param-column").text()!==""){for(u=0;u<this.dashboardControls.controls.length;u++)this.dashboardControls.controls[u].controlType==="parameterColumnData"&&f.push(this.dashboardControls.controls[u]);for(u=0;u<f.length;u++)f[u].controlType==="parameterColumnData"&&(f[u].controlRelations=this.controlRelations,f[u].appliedFilterData=this.appliedFilterData)}for(s=this._getHeightAndWidthForExport(i.type,i.element),this._ExportedImageFileName=i.filename,l=this.getMasterControlsBySlave(f[0].reportName),this.model.enableCustomTheming&&(h=this._id+"_"+f[0].controlType+"_"+f[0].reportName+"_style",e=n("head").find("#"+h).html(),e='<style id = "'+h+'">'+e+"<\/style>"),f=this._setWidgetStringForPivotGrid(f),f=JSON.stringify(f),a=f.length,u=0;u<a;u++)f[u].controlType==="parameterColumnData"&&(f[u].controlRelations=this.controlRelations,f[u].appliedFilterData=this.appliedFilterData);c=null;t.isNullOrUndefined(this.model.customThemeSettings)||(c=JSON.stringify(this.model.customThemeSettings));o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="");v={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({layoutString:JSON.stringify(p),widgetString:f,widgetCssString:e,isControl:!0,controlHeader:i.title,height:s.height,width:s.width,imageType:i.imageType,resolution:i.resolution,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,reportName:i.type,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,customThemeSupport:this.model.enableCustomTheming,customThemeSettings:c,gridSettings:JSON.stringify(o),currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,masterControls:JSON.stringify(l),initialDashboard:JSON.stringify(this.initialDashboard),dashboardPath:this.dashboardPath(),subtitleName:i.subtitle,dashboardParameterSettings:this._setAjaxDashboardParameterValue(y),data:"[]",methodName:this.model.serviceMethods.saveImage,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._captureImage,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(v)},_exportControlPdf:function(i,r){var o,w,s,c,l,a,v,y,k;this.model.enableAutorefresh&&this._resetAutoRefresh();var p=[],f=0,e="";p=this.dashboardControls.getAllControlsMasterData();o=this._getGridSettings();o.length===t.DashboardConstants.Zero&&(o="");r||this._showwaitingpdfpopup("pdf");w=JSON.parse(JSON.stringify(this.dashboardParameters));this.newfilename=i.filename;var h=this.orientation,b=!1,d=JSON.parse(JSON.stringify(this.currentReport.layout)),u=this.dashboardControls.getControlForImageExport(n("#"+i.element).attr("data-controlid")),g=this.getMasterControlsBySlave(u[0].reportName);if(n("#"+i.element).hasClass("e-Card-Single")&&n("#"+i.element).find(".e-dbrd-param-column").text()!==""){for(f=0;f<this.dashboardControls.controls.length;f++)this.dashboardControls.controls[f].controlType==="parameterColumnData"&&u.push(this.dashboardControls.controls[f]);for(f=0;f<u.length;f++)u[f].controlType==="parameterColumnData"&&(u[f].controlRelations=this.controlRelations,u[f].appliedFilterData=this.appliedFilterData)}s=u.length>t.DashboardConstants.Zero?u[0].reportName:null;u=this._setWidgetStringForPivotGrid(u);c=u.length>t.DashboardConstants.Zero?u[0].totalCount:null;l=t.DashboardConstants.Zero;c>50&&(b=!0);this.model.enableCustomTheming&&(a=this._id+"_"+u[0].controlType+"_"+s+"_style",e=n("head").find("#"+a).html(),e='<style id = "'+a+'">'+e+"<\/style>");u=JSON.stringify(u);v=this._getHeightAndWidthForExport(i.type,i.headerWidthelement);t.isNullOrUndefined(i.pageSizeType)||(l=JSON.parse(JSON.stringify(i.pageSizeType)));t.isNullOrUndefined(h)&&(h=this.locale.utils.DefaultOrientation);this._ExportedImageFileName=i.filename;y=null;t.isNullOrUndefined(this.model.customThemeSettings)||(y=JSON.stringify(this.model.customThemeSettings));[].push({Method:"LoadWidget",Control:s,ErrorOccured:!1});k={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({layoutString:JSON.stringify(d),widgetString:u,widgetCssString:e,isControl:!0,controlHeader:i.title,pageSize:l,pageLayout:JSON.stringify(h),height:v.height,width:v.width,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,reportName:i.type,customThemeSupport:this.model.enableCustomTheming,customThemeSettings:y,isVirtualScrolling:b,dashboardPath:this.dashboardPath(),controlId:s,totalCount:c,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,gridSettings:JSON.stringify(o),data:JSON.stringify(p),currentUser:JSON.stringify(this.currentUser),dashboardName:this.dashboardName,masterControls:JSON.stringify(g),initialDashboard:JSON.stringify(this.initialDashboard),subtitleName:i.subtitle,dashboardParameterSettings:this._setAjaxDashboardParameterValue(w),methodName:this.model.serviceMethods.savePdf,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._capturePdf,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(k)},_showwaitingpdfpopup:function(i){this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();this._exportSettingsClear();var u=null,e=n("<div>").attr({id:this._id+"_popupPdfDiv"}).addClass("e-dbrd-dialog-bgrnd-export-waiting").css({"z-index":"100000","background-color":"rgba(0, 0, 0, 0.5)",top:this.currentTabContentElement.scrollTop()+"px",width:this.element.width()/this.scalingFactor+"px",height:this.element.height()/this.scalingFactor+"px"}),r=n("<div>").attr({id:this._id+"_imageExport"}).addClass("e-dbrd-waiting-inactive-export").css({height:"126px",width:"256px"}),f='<div class = "e-waitingLoadedPopup" id = "'+this._id+'_popupContainerDiv" style = "position:initial"><svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class="waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div>';i==="pdf"||i==="csv"?(r.append(f),u=i==="pdf"?this.locale.utils.ExportToPdfWaitingText:this.locale.utils.ExportToCSVWaitingText,r.append(n("<div>").addClass("e-brd-showDashoardMenu-ExportimageTitle ").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"16px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this._id+"_pdfExport"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel))):i==="scroll"?(r.append(f),u=this.locale.utils.FetchingData,r.append(n("<div>").addClass("e-dbrd-datafetching-indicator").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"14px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this._id+"_datafetchingindicator"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel))):(r.append(f),u=i==="image"?this.locale.utils.ExportToImageWaitingText:this.locale.utils.ExportToExcelWaitingText,r.append(n("<div>").addClass("e-brd-showDashoardMenu-ExportimageTitle ").css({"margin-top":"-9px","margin-left":"68px",width:"175px",padding:"0px","font-size":"16px"}).html(u)),r.append(n("<hr>").css({"margin-top":"14px","margin-bottom":"5px"})),r.append(n("<div>").attr({id:this._id+"_pdfExport"}).addClass("e-brd-Pdfcancel").html(this.locale.utils.Cancel)));e.append(r);this.element.append(e);this.model.enableCustomTheming&&this._customTheme(["popup"])},_cancelWaitingIndicator:function(i){n(i.target).parents(".e-dbrd-dialog-bgrnd-export-waiting").remove();t.isNullOrUndefined(this.slaveDataRequest)||this.slaveDataRequest.abort()},_destroyWaitingPdfPopup:function(){this.element.find("#"+this._id+"_popupPdfDiv").remove()},_mobileExportDropdownResize:function(){var r,i,u,f,e;if(n(window).width()<t.DashboardConstants.MobileWidth&&this.exportSettings.isExportTriggered){this.multiDashboardExport&&(r=n("#"+this._dashboardId+"_dashboardDropdown").ejDashboardDropDownList("instance"),r.option("height","30px"),r.option("width","100%"));switch(this.exportSettings.exportType){case"image":i=n("#"+this._id+"_imageType").ejDashboardDropDownList("instance");!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&(i.option("height","30px"),i.option("width","100%"));break;case"pdf":u=n("#"+this._id+"_pageSizeType").ejDashboardDropDownList("instance");u.option("height","30px");u.option("width","100%");f=n("#"+this._id+"_widgetsName").ejDashboardDropDownList("instance");f.option("height","30px");f.option("width","100%");break;case"excel":e=n("#"+this._id+"_excelType").ejDashboardDropDownList("instance");e.option("height","30px");e.option("width","100%")}}},_drppopupshow:function(){this.model.enableCustomTheming&&this._customTheme(["popup"]);var i=n("#"+this._id+"_imageType_wrapper"),t=n("#"+this._id+"_imageType_popup_list_wrapper"),r=3;t.css("top",parseInt(t.css("top"))-(i.outerHeight()+r)+"px");t.css("top",parseInt(t.css("top"))+i.outerHeight()*this.scalingFactor+r*this.scalingFactor+"px")},_handleKeyPress:function(n){n.keyCode===27&&(this.element.find(".e-brd-exportPopupWindowClose").length===t.DashboardConstants.One?this.element.find(".e-brd-exportPopupWindowClose").click():this.element.find(".e-dbrd-inactive").length===t.DashboardConstants.One&&this.element.find(".e-dbrd-inactive-header-close").length===t.DashboardConstants.One?this.element.find(".e-dbrd-inactive-header-close").click():this.element.find(".e-dbrd-viewdata-inactive").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-viewdata-inactive").remove())},_exportEnter:function(i){var f;if(!t.isNullOrUndefined(i)){var r=n(document.activeElement).attr("class"),e=n(document.activeElement).parents(".e-brd-export-dropdown"),u=e.attr("class");if(t.isNullOrUndefined(u)||u.indexOf("e-brd-export-dropdown")===t.DashboardConstants.IndexLowerBound)i.keyCode===13&&this.exportSettings.exportType!==""&&r.indexOf("e-brd-export-dropdown")===t.DashboardConstants.IndexLowerBound&&r.indexOf("e-brd-ControlImageReset")===t.DashboardConstants.IndexLowerBound&&r.indexOf("e-brd-ControlImageCancel")===t.DashboardConstants.IndexLowerBound&&(f=this.element.find(".e-brd-ControlImageExport"),this._exportImagePopup(f));else if(i.keyCode===27&&this.exportSettings.exportType!=="")this._hideExport(i);else return}},_manageFocusWithInElement:function(i){var u=this,r=function(f){i!==null&&i.length>t.DashboardConstants.Zero&&i.find(f.target).length===t.DashboardConstants.Zero&&(n("#"+u._id).find(i).length===t.DashboardConstants.Zero||n(".e-dbrd-exportImage").css("display")==="block"||n(".e-dbrd-exportPdf").css("display")==="block"||n(".e-dbrd-exportExcel").css("display")==="block"?document.removeEventListener("focus",r,!0):i.focus())};document.addEventListener("focus",r,!0)},_getHeightAndWidthForExport:function(t,i){var r=Math.max(650,n("#"+i).find("table").height()),u=Math.max(1366,n("#"+i).find("table").width());return(t==="Card"||t==="CircularGauge"||t==="Grid"||t==="ProportionChart"||t==="PivotGrid")&&n("#"+i).find("td").length>1&&(r=n("#"+i).find("table").height(),u=n("#"+i).find("table").width(),t==="Grid"&&(r=n("#"+i).find(".e-gridcontent").find("table").height()-20,u=n("#"+i).find(".e-gridcontent").find("table").width(),r>1560&&(r=1560)),t==="PivotGrid"&&(r=n("#"+i).find(".pivotGridTable").height(),u=n("#"+i).find(".pivotGridTable").width())),{height:parseInt(r+0).toString(),width:parseInt(u+0).toString()}},_getViewDataGridSettings:function(){var i=[],n=this.currentTabContentElement.find(".activecontent").data("ejDashboardGrid"),r=this.currentTabContentElement.find(".e-dbrd-view").find(".e-dbrd-control").attr("data-controlId");return t.isNullOrUndefined(n)||i.push({reportName:r,sortSettings:n.model.sortSettings,filterSettings:n.model.filterSettings}),i}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.misc={_renderLabel:function(i,r){var l=i.getCurrentPageData(),u=l.pagedata,o=null,s,f,e,h,c;u&&(s=n("<div>").attr({id:this._id+t.DashboardConstants.Widget+u.Id}),this.isWidget&&(u.Row=0,u.Column=0),o=r?n("#"+this._id+"_filterCell_"+u.Row+"_"+u.Column).addClass("dashboardLabelControl"):n("#"+this._id+"_cell_"+u.Row+"_"+u.Column).addClass("dashboardLabelControl"),o.attr({"data-controlId":u.Id,"data-controltype":"Label"}),o.find(".e-dbrd-control").remove(),f=n(o).find(".e-dbrd-control-container"),e=n("<div>").addClass("e-dbrd-control"),o.css({"background-color":"transparent"}),s.css({overflow:"hidden",position:"relative",height:"100%",width:"100%",display:"table-cell","vertical-align":u.VerticalTextAlignment}).addClass("e-dbrd-label-control"),e.css({display:"table",border:"none","background-color":u.Background,overflow:"hidden",height:"100%",width:"100%"}),h={span:s,div:f},this._appendLabelText(u.FormatText,u.ParamColumns,h),e.append(h.span),f.append(e),c=e.height()-10,c>f.height()&&e.ejDashboardScroller({scrollerSize:13,height:f.height(),width:f.width()}))},_renderImage:function(i){var e=i.getCurrentPageData(),r=null,o,u,f,s;if(e.isError){this._showControlError(e.pagedata,n("#"+this.id+"_cell"+configInfo.Row+"_"+configInfo.Column+" .e-dbrd-control "),configInfo);return}r=e.pagedata;this._hideControlError(n("#"+this._id+"_cell_"+r.Row+"_"+r.Column));o=n("#"+this._id+"_cell_"+r.Row+"_"+r.Column);o.addClass("dashboardImageControl").attr({"data-controlId":r.Id,"data-controltype":"Image"});u=n(o).find(".e-dbrd-control").attr({id:this._id+t.DashboardConstants.Widget+r.Id});i.configInfo.IsLinked===!0&&i.configInfo.ControlLinkData!==null&&(u.addClass("e-dbrd-imageControl").attr({"data-controlId":i.configInfo.Id,"data-controlLinkData":JSON.stringify(i.configInfo.IsLinked?i.configInfo.ControlLinkData:""),imageLink:e.pagedata.Data}),u.css({cursor:"pointer"}));f=n(o).find(".e-dbrd-containerWrapper");u.css({position:"absolute"});switch(r.Stretch){case"Fill":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url("+r.Image+")","background-size":"100% 100%","-webkit-background-repeat":"no-repeat"});break;case"None":s=n("<img>").attr({id:this._id+"_"+r.Id,src:r.Image});s.css({visibility:"hidden"});u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url('"+r.Image+"')","background-repeat":"no-repeat"});u.append(s);setTimeout(function(n,t){n.height()<t.height()&&u.css({"background-position-y":"50%","background-position-x":"50%"})},100,s,u);this._emptyImageContenyCreate(i.data[0].pagedata.IsImageExist,r);return;case"Uniform":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url('"+r.Image+"')","background-size":"contain","-webkit-background-size":"contain","background-position":"50% 50%","background-repeat":"no-repeat"});break;case"UniformToFill":u.css({height:f.height(),width:f.width(),overflow:"hidden",border:"none","background-image":"url('"+r.Image+"')","background-size":"cover","-webkit-background-size":"cover","background-repeat":"no-repeat"})}},_emptyImageContenyCreate:function(i,r){var e=this.element.find(".emptyImage").length===t.DashboardConstants.Zero,f;if(!i&&e){var u=n("<div class = 'emptyImage'><\/div>").attr({id:this._id+"_empty"+r.Id}),o=n('<div class="emptyImageIcon"><\/div>'),s=n('<div class="emptyImagemsg"><\/div>').attr({id:this._id+"_emptyImgMsg"+r.Id}).text(this.locale.utils.EmptyImageMsg);u.append(o);u.append(s);f=this.currentTabContentElement.find("#"+this._id+"_"+r.Id).parents(".e-dbrd-control");f.append(u)}else this.element.find(".emptyImage").remove()},_appendLabelText:function(i,r,u){var rt=3,ut,h,v,ot,e,w,ht,y,ct,s,nt,p,tt,lt,at,it;if(i!==null)for(ut=i.RichTextParagraphs.length,h=0;h<ut;h++){var b=i.RichTextParagraphs[h],vt=b.Runs.length,a=n("<p>"),k=8;for(v=0;v<vt;v++){var ft=0,d=[],et=!1,f=i.RichTextParagraphs[h].Runs[v],o=n("<span>"),c=f.Text||"",l=c,yt=l.indexOf("{"),pt=l.lastIndexOf("}");if(l=l.substring(yt,pt+t.DashboardConstants.One),r!==null&&r.length!==t.DashboardConstants.Zero){for(ot=r.length,e=0;e<ot;e++){var wt=l.split(/[{,\/}]/),g=wt.filter(Boolean),bt=r[e].ParameterText.split(/[{,\/}]/),st=bt.filter(Boolean);for(w=0;w<d.length;w++)if(d[w]===st[t.DashboardConstants.Zero]){et=!0;break}for(ht=g.length,y=0;y<ht;y++)g[y]!==st[t.DashboardConstants.Zero]||et||(d.push(g[y]),ct=r[e].ParameterText.replace(/(?!\w|\s)./g,"").replace(/\s+/g," ").replace(/^(\s*)([\W\w]*)(\b\s*$)/g,"$2"),s=c.split(r[e].ParameterText),(s.length!==t.DashboardConstants.One||s.length!==t.DashboardConstants.Zero)&&(s.length!==t.DashboardConstants.Zero&&(o.append(s[0]),s.splice(t.DashboardConstants.Zero,t.DashboardConstants.One)),l.indexOf(r[e].ParameterText)!==t.DashboardConstants.IndexLowerBound?f.Bold?(o.append(n("<span>").html("All").addClass("e-dbrd-param-column").css({"font-weight":"bold"}).attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" ")):(o.append(n("<span>").html("All").addClass("e-dbrd-param-column").attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" ")):l===ct?(nt=/[{}:]/,p=v,v!==t.DashboardConstants.Zero&&nt.test(i.RichTextParagraphs[h].Runs[p-t.DashboardConstants.One].Text)&&nt.test(i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text)&&(tt=a.children().last(),lt=tt.text().replace("{{:",""),tt[t.DashboardConstants.Zero].innerHTML=lt,at=i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text.replace("}}",""),i.RichTextParagraphs[h].Runs[p+t.DashboardConstants.One].Text=at,o.empty(),o.append(n("<span>").html("All").addClass("e-dbrd-param-column").attr({"data-param":r[e].ParameterText,"data-source":r[e].DataSource})),c=s.join(" "+r[e].ParameterText+" "))):c=s.join()))}o.append(c)}else o.append(c);k<f.FontSize&&(k=f.FontSize);o.css({"font-size":f.FontSize+"px","font-weight":f.Bold?"bold":"normal","font-style":f.Italic?"italic":"normal","text-decoration":f.Underline?"underline":"initial"});t.isNullOrUndefined(f.FontFamily)||o.css({"font-family":f.FontFamily});t.isNullOrUndefined(f.ForegroundColor)||o.css({color:"#"+f.ForegroundColor.substr(rt)});t.isNullOrUndefined(f.BackgroundColor)||o.css({"background-color":"#"+f.BackgroundColor.substr(rt)});f.IsHyperlink&&!t.isNullOrUndefined(f.HyperlinkData)&&(ft=1,f.HyperlinkData.NavigateUrl.match(/^[a-zA-Z]+:\/\//)||f.HyperlinkData.NavigateUrl.toUpperCase().startsWith("MAILTO:")||(f.HyperlinkData.NavigateUrl="http://"+f.HyperlinkData.NavigateUrl),it=n("<a>").attr({href:f.HyperlinkData.NavigateUrl,target:this._getTargetType(f.HyperlinkData.Target)}).html(f.HyperlinkData.Alias),it.html(o),a.append(it));ft!==t.DashboardConstants.One&&a.append(o)}t.isNullOrUndefined(b.TextAlignment)||a.css({"text-align":b.TextAlignment.toLowerCase()});a.css({"min-height":k+"px",width:u.div.width()});u.span.append(a)}},_loadimageSlaves:function(i){var r=0,e=null,h=[],c=[],o=[],l=n(i.target),v=this,u,s,a,f;if(e=l.parents(".e-dbrd-control-container").find(".e-dbrd-imageControl").eq(r).attr("data-controlLinkData"),u=n.parseJSON(l.parents(".e-dbrd-control-container").find(".e-dbrd-imageControl").eq(r).attr("imageLink")),u.length!==r&&u!==null){for(s=Object.keys(u[r]),a=Object.values(u[r]),f=0;f<s.length;f++)h.push({Column:s[f],Value:a[f]});c.push({Items:h})}if(t.isNullOrUndefined(e)||(o=n.parseJSON(e)),!t.isNullOrUndefined(o)){v._controlNavigate(o,c,null);return}},_getTargetType:function(n){switch(n){case"New Window":case"New Tab":return"_blank";case"Same Window":return"_self"}return"_blank"}}}(jQuery,SyncfusionDashboard),function(n,t,i){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.treemap={_renderTreeMap:function(r,u){var l=r.getCurrentPageData(),f=r.configInfo,h=this.dashboardControls.getControlByReport(f.Id),c=r.drillLevels,a=!1,nt=null,tt=null,it=15,ct=null,e=null,p=0,rt=1,y=0,s=0,ut=[],v,ft,k,et,o,ot,w,d,b,st,ht,g;if(h.columnFormating=f.ColumnFormatting,this._dashboardData().isExportImage&&(f.EnableDrillDown=!1),v=n("#"+this._id+"_cell_"+f.Row+"_"+f.Column),e=v.find(".e-dbrd-control"),e.attr({id:this._id+t.DashboardConstants.Widget+f.Id}),f.ColorType==="range")for(ft=f.ColorMapping.ColorMapping.length,y=0;y<ft;y++)f.ColorMapping.ColorMapping[y].color=h.customTheme.rangeColorMap[y];if(f.ColorType==="desat"&&(k=JSON.parse(f.ColorMapping.ColorMapping),k.color=h.customTheme.desaturationColorMap,f.ColorMapping.ColorMapping=JSON.stringify(k)),l.isError){e.attr({"data-controlId":f.Id});e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id});this._showControlError(l.pagedata,e,f);return}if((this._hideControlError(e),this._applyOrRemoveNoDataAvailable(l.pagedata.length,e))&&(!f.isNodata||this._applyOrRemoveNoDataAvailable(p,e))){if(!t.isNullOrUndefined(u)&&u.isMaximize&&f.LoadOnDemand){if(ut.push(c[0]),c=[],c=ut,h.drillLevelInfo!==i&&h.drillLevelInfo.length>p)for(et=h.drillLevelInfo.length,s=et-t.DashboardConstants.One;s>=t.DashboardConstants.Zero;s--)h.drillLevelInfo[s].Key===f.Id+"_Maximize"&&h.drillLevelInfo.splice(s,t.DashboardConstants.One);h.drillLevelInfo.push({Key:f.Id+"_Maximize",Values:[]})}if(e.data("ejTreeMap")&&t.isNullOrUndefined(u)){for(o=e.data("ejTreeMap"),ot=l.pagedata.length,w=0;w<ot;w++)l.pagedata[w][o.model.weightValuePath]===p&&(ct+=rt);if(d="ColorMapping",o.model.dataSource=l.pagedata,o.model.rangeColorMapping=f.ColorType==="range"?f.ColorMapping[d]:[],o.model.tooltipTemplate=o.model.enableDrillDown?this._id+"_"+e.attr("data-controlId")+"_toolTip0":this._id+"_"+e.attr("data-controlId")+"_toolTip",o.model.desaturationColorMapping=f.ColorType==="desat"?JSON.parse(f.ColorMapping[d]):[],o.model.headerLabelClicked=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f):null,o.model.drillStarted=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f):null,o.model.drillDownLevel=0,o._drilldownHeaders=[],o._prevData=[],o._prevLevels=[],o._prevLegend=[],b=e.attr("data-controlId"),o.model.enableDrillDown)for(st=c.length,s=0;s<st;s++)n("#"+this._id+"_"+b+"_toolTip"+s).remove(),n("#"+this._id+"_"+b+"_labeltemplate"+s).remove();else n("#"+o.model.tooltipTemplate).remove(),n("#"+this._id+"_"+b+"_labeltemplate0").remove();this._createTreeMapTemplates(["label","tooltip"],f,c);o.refresh();this._treeMapInitialSelection(h,e,f.Id);return}if(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.treemapDiv)?(v.find("e-dbrd-control-container").css({overflow:"hidden"}),v.attr({"data-controltype":"TreeMap"}),this.model._dashboardData.isExportImage?e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id}):e.attr({id:this._id+t.DashboardConstants.Widget+f.Id,"data-controlId":f.Id}).css({overflow:"hidden"}),v.find(".e-remove-control-filter").attr("id",e.attr("id")+"_removeControlFilter"),v.find(".e-dbrd-export").attr({value:f.Id})):(e=u.treemapDiv,a=u.isMaximize),f.isNodata){this._applyOrRemoveNoDataAvailable(p,e);return}for(ht=c.length,s=0;s<ht;s++)c[s].labelTemplate=this._id+"_"+f.Id+"_labeltemplate"+s,c[s].labelVisibilityMode="hideonexceededlength";this._createTreeMapTemplates(["label","tooltip"],f,c);g=f.ColorMapping.Format;f.ColorType==="desat"&&(nt=this.formatLegend(JSON.parse(f.ColorMapping.ColorMapping).rangeMinimum,g),tt=this.formatLegend(JSON.parse(f.ColorMapping.ColorMapping).rangeMaximum,g));var lt=f.LabelPosition,at=h.customTheme.palette,vt=f.WeightValue,yt=f.ColorValue,pt=f.ShowLegend,wt=f.EnableDrillDown,bt=h.customTheme.drillDownSelectionColor,kt=f.ColumnFormatting[0].ColumnName,dt=h.customTheme.highlightColor,gt=f.LegendPosition.toLowerCase(),ni=f.ColorType==="range"?"default":"interactive",ti=f.ColorType==="desat"?nt:null,ii=f.ColorType==="desat"?tt:null,ri=f.ColorType==="range"?25:20,ui=f.ColorType==="range"?700:200,fi=f.IsMasterFilter||f.IsLinked,ei=f.EnableDrillDown?this._id+"_"+f.Id+"_toolTip0":this._id+"_"+f.Id+"_toolTip",oi=f.ColorType==="range"?f.ColorMapping.ColorMapping:[],si=f.ColorType==="desat"?JSON.parse(f.ColorMapping.ColorMapping):[],hi=n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a),ci=f.EnableDrillDown?n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a):null,li=f.EnableDrillDown&&c.length===rt,ai=f.EnableDrillDown?n.proxy(this.drillStartedForTreeMap,this,f,a):null;e.ejTreeMap({leafItemSettings:{showLabels:!0,labelPosition:lt,labelTemplate:this._id+"_"+f.Id+"_labeltemplate0",labelVisibilityMode:"hideonexceededlength"},palette:at,dataSource:l.pagedata,enableResize:!0,enableDrillDownArrow:!0,weightValuePath:vt,colorValuePath:yt,showLegend:pt,borderBrush:"green",enableDrillDown:wt,drillDownSelectionColor:bt,header:kt,selectionMode:"default",highlightBorderThickness:3,highlightBorderBrush:dt,legendSettings:{dockPosition:gt,mode:ni,iconWidth:it,iconHeight:it,leftLabel:ti,rightLabel:ii,height:ri,width:ui},highlightOnSelection:fi,showTooltip:!0,tooltipTemplate:ei,rangeColorMapping:oi,desaturationColorMapping:si,levels:c,enableRightClick:!0,doubleClick:n.proxy(this._loadTreeMapSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a),treeMapItemSelected:hi,treeMapItemRightSelected:n.proxy(this._loadSlaves,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a),drillDownItemSelected:ci,isVirtualRender:li,showSubItems:!f.LoadOnDemand,drillDownItemAction:f.EnableDrillDown?n.proxy(this._widgetActionForTreemap,this,f,f.IsLinked?f.ControlLinkData:null,f.IsMasterFilter,a):null,drillDownHeaderColor:null,headerTemplateRendering:n.proxy(this.headerTemplate,this),preRender:ai});n(".tooltipelement").length>t.DashboardConstants.Zero&&(n(".tooltipelement")[0].style.zIndex="10000");this._treeMapInitialSelection(h,e,f.Id);!this._applyOrRemoveNoDataAvailable(l.pagedata.length,e)}},_setTreeMapConfigInfo:function(n){n.configInfo.ShowLegend=!t.isNullOrUndefined(n.configInfo.ShowLegend)&&n.configInfo.ShowLegend;n.configInfo.isNodata=!t.isNullOrUndefined(n.configInfo.isNodata)&&n.configInfo.isNodata;n.configInfo.IsLinked=!t.isNullOrUndefined(n.configInfo.IsLinked)&&n.configInfo.IsLinked;n.configInfo.IsMasterFilter=!t.isNullOrUndefined(n.configInfo.IsMasterFilter)&&n.configInfo.IsMasterFilter;n.configInfo.EnableDrillDown=!t.isNullOrUndefined(n.configInfo.EnableDrillDown)&&n.configInfo.EnableDrillDown;n.configInfo.ActionSetting=t.isNullOrUndefined(n.configInfo.ActionSetting)?[]:n.configInfo.ActionSetting;n.configInfo.ColorMapping=t.isNullOrUndefined(n.configInfo.ColorMapping)?[]:n.configInfo.ColorMapping;n.configInfo.DateTimeColumns=t.isNullOrUndefined(n.configInfo.DateTimeColumns)?[]:n.configInfo.DateTimeColumns;n.configInfo.Row=t.isNullOrUndefined(n.configInfo.Row)?t.DashboardConstants.Zero:n.configInfo.Row;n.configInfo.Column=t.isNullOrUndefined(n.configInfo.Column)?t.DashboardConstants.Zero:n.configInfo.Column;n.configInfo.IsBlendingWidget=!t.isNullOrUndefined(n.configInfo.IsBlendingWidget)&&n.configInfo.IsBlendingWidget},headerTemplate:function(n){n.connectorText=' <span class="e-glyphicon" style="color:black; margin-left:3px; margin-right:3px;"><\/span> '},_widgetActionForTreemap:function(n,i,r,u,f){var e,o,s;if(f.doubleClick){if(f.evt.type="DoubleClick",clearTimeout(this.ActionTreeMapTimer),f.evt.public=!0,f.treeMap.rectClick(f.evt),!n.LoadOnDemand)for(e=0;e<n.ActionSetting.length;e++)for(o=0;o<n.ActionSetting[e].Action.length;o++){if(n.ActionSetting[e].ActionType!=="ContextMenu"&&n.ActionSetting[e].Action[o]==="DrillDown"&&n.ActionSetting[e].ActionType===f.evt.type){f.cancel=!1;f.evt.private=!0;return}if(e===n.ActionSetting.length-t.DashboardConstants.One){f.cancel=!0;this._loadSlaves(n,i,r,u,f);break}}}else s=this,f.cancel=!0,this.ActionTreeMapTimer=setTimeout(function(){var e,o;if(!n.LoadOnDemand)for(f.evt.type==="mousedown"&&(f.evt.type="Click"),e=0;e<n.ActionSetting.length;e++)for(o=0;o<n.ActionSetting[e].Action.length;o++){if(n.ActionSetting[e].ActionType!=="ContextMenu"&&n.ActionSetting[e].Action[o]==="DrillDown"&&n.ActionSetting[e].ActionType===f.evt.type){f.cancel=!1;f.evt.private=!0;f.treeMap._headerClickFunction(f.evt);return}if(e===n.ActionSetting.length-t.DashboardConstants.One){f.cancel=!0;s._loadSlaves(n,i,r,u,f);break}}},300)},drillStartedForTreeMap:function(n,r,u){var s,o,f,h,e;if(!t.isNullOrUndefined(u)&&(n.ColorType==="range"&&u.type==="preRender"&&this._applyRangeColor(u.model.drillDownLevel,u,u.model.headerLabel,n),s=n.ColorMapping.Format,n.ColorType!=="desat"||t.isNullOrUndefined(u)||t.isNullOrUndefined(u.minimumValue)||t.isNullOrUndefined(u.maximumValue)||(n.ShowLegend&&(u.model.legendSettings.leftLabel=this.formatLegend(u.minimumValue.colorWeight,s),u.model.legendSettings.rightLabel=this.formatLegend(u.maximumValue.colorWeight,s)),u.model.desaturationColorMapping.rangeMinimum=u.minimumValue.colorWeight,u.model.desaturationColorMapping.rangeMaximum=u.model.showSubItems?u.max.colorWeight:u.maximumValue.colorWeight),u.model.isVirtualRender?t.isNullOrUndefined(u)||(u.model.tooltipTemplate=this._id+"_"+n.Id+"_toolTip"+Number(u.model.drillDownLevel)):u.model.tooltipTemplate=this._id+"_"+n.Id+"_toolTip"+Number(u.level),o=0,f=this.dashboardControls.getControlByReport(n.Id),f.drillLevelInfo!==i&&f.drillLevelInfo.length>o))for(h=f.drillLevelInfo.length,e=o;e<h;e++)u.model.drillDownLevel!==f.drillLevelInfo[e].Values.length&&f.drillLevelInfo[e].Key===(r?n.Id+"_Maximize":n.Id)&&(f.drillLevelInfo[e].Values=f.drillLevelInfo[e].Values.slice(o,u.model.drillDownLevel),f.drillLevels=f.drillLevels.slice(o,u.model.drillDownLevel<t.DashboardConstants.One?t.DashboardConstants.One:u.model.drillDownLevel))},_applyRangeColor:function(n,t,i,r){var e=0,h=1,l=-1,o=2,c=r.LoadOnDemand?t.maximumValue.colorWeight:t.max.colorWeight,u=t.minimumValue.colorWeight,s=(c-u)/3;u=u===e?l:u;c+=h;var a=u=u===l?e:u,v=u+s,y=u+o*s,p=u+s,w=u+o*s,b=c,f=r.ColorMapping.Format;t.model.rangeColorMapping[e]={from:a,to:p,legendLabel:this.formatLegend(a,f)+"-"+this.formatLegend(p,f),color:t.model.rangeColorMapping[e].color};t.model.rangeColorMapping[h]={from:v,to:w,legendLabel:this.formatLegend(v,f)+"-"+this.formatLegend(w,f),color:t.model.rangeColorMapping[h].color};t.model.rangeColorMapping[o]={from:y,to:b,legendLabel:this.formatLegend(y,f)+"-"+this.formatLegend(b,f),color:t.model.rangeColorMapping[o].color}},formatLegend:function(n,i){var u=10,f=3,s=5,e=6,h=7,o=9,r=null;if(t.isNullOrUndefined(i)&&(i={AbbreviationType:"AUTO",Culture:"en-US",DecimalPoints:2,MeasureFormat:"DEFAULT",NegativeValueFormat:"DEFAULT",Prefix:"",Suffix:""}),Math.abs(n)>1e15||Math.abs(n)<1e-15)return i.MeasureFormat.toLowerCase()==="number"||i.MeasureFormat.toLowerCase()==="default"?(t.isNullOrUndefined(i.DecimalSeparator)||t.isNullOrUndefined(i.GroupSeparator)||(r=n.toString().replaceAll(i.DecimalSeparator.CurrentValue,i.DecimalSeparator.AliasValue),r=n.toString().replaceAll(i.GroupSeparator.CurrentValue,i.GroupSeparator.AliasValue)),r=i.Prefix+n+i.Suffix):r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i),r;if(this.model.dashboardCulture==="en-IN")switch(i.AbbreviationType.toLowerCase()){case"auto":r=i.MeasureFormat.toLowerCase()==="percent"?this._truncateNumberForTreeMap(n,i)+"%":this._truncateNumberForTreeMap(n,i);break;case"ones":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i);break;case"thousands":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K%":this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K";break;case"lakhs":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,s),i)+"L%":this._applyCultureForTreeMap(n/Math.pow(u,s),i)+"L";break;case"millions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M%":this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M";break;case"crores":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,h),i)+"C%":this._applyCultureForTreeMap(n/Math.pow(u,h),i)+"C";break;case"billions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B%":this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B"}else switch(i.AbbreviationType.toLowerCase()){case"auto":r=i.MeasureFormat.toLowerCase()==="percent"?this._truncateNumberForTreeMap(n,i)+"%":this._truncateNumberForTreeMap(n,i);break;case"ones":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n,i)+"%":this._applyCultureForTreeMap(n,i);break;case"thousands":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K%":this._applyCultureForTreeMap(n/Math.pow(u,f),i)+"K";break;case"millions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M%":this._applyCultureForTreeMap(n/Math.pow(u,e),i)+"M";break;case"billions":r=i.MeasureFormat.toLowerCase()==="percent"?this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B%":this._applyCultureForTreeMap(n/Math.pow(u,o),i)+"B"}return t.isNullOrUndefined(i.DecimalSeparator)||t.isNullOrUndefined(i.GroupSeparator)||(r=r.replaceAll(i.DecimalSeparator.CurrentValue,i.DecimalSeparator.AliasValue),r=r.replaceAll(i.GroupSeparator.CurrentValue,i.GroupSeparator.AliasValue)),i.Prefix+r+i.Suffix},_truncateNumberForTreeMap:function(n,t){var o=10,e=Math.pow(o,3),s=Math.pow(o,5),r=Math.pow(o,6),h=Math.pow(o,7),u=Math.pow(o,9),i=n,f=null;return this.model.dashboardCulture==="en-IN"?i>=e&&i<s||i<=-e&&i>-s?f=this._applyCultureForTreeMap(i/e,t)+"K":i>=s&&i<r||i<=-s&&i>-r?f=this._applyCultureForTreeMap(i/s,t)+"L":i>=r&&i<h||i<=-r&&i>-h?f=this._applyCultureForTreeMap(i/r,t)+"M":i>=h&&i<u||i<=-h&&i>-u?(f=this._applyCultureForTreeMap(i/h,t)+"C",f=this._applyCultureForTreeMap(i/r,t)+"M"):f=i>=u||i<=-u?this._applyCultureForTreeMap(i/u,t)+"B":this._applyCultureForTreeMap(i,t):f=i>=e&&i<r||i<=-e&&i>-r?this._applyCultureForTreeMap(i/e,t)+"K":i>=r&&i<u||i<=-r&&i>-u?this._applyCultureForTreeMap(i/r,t)+"M":i>=u||i<=-u?this._applyCultureForTreeMap(i/u,t)+"B":this._applyCultureForTreeMap(i,t),f},_applyCultureForTreeMap:function(n,i){var u=0,r;return(t.isNullOrUndefined(i)&&(i={AbbreviationType:"AUTO",Culture:"en-US",DecimalPoints:2,MeasureFormat:"DEFAULT",NegativeValueFormat:"DEFAULT",Prefix:"",Suffix:""}),i.AbbreviationType.toLowerCase()==="auto")?this._adjustZerosForTreeMap(n,i):(r=t.globalize.parseFloat(n.toString(),i.Culture),isNaN(r))?"NAN":(i.MeasureFormat.toLowerCase()==="percentage"&&(r*=100),t.preferredCulture(i.Culture),i.MeasureFormat.toLowerCase()==="currency")?parseInt(r)===u?t.globalize.format(r,"C",i.Culture):t.globalize.format(r,"C"+i.DecimalPoints,i.Culture):i.MeasureFormat.toLowerCase()==="number"&&r<u?this._applyNegativeFormattingForTreeMap(r,i):t.globalize.format(r,"N"+i.DecimalPoints,i.Culture)},_adjustZerosForTreeMap:function(n,i){var e=0,r,u,f,s,o;if(t.preferredCulture(i.Culture),r=n,u="",i.MeasureFormat.toLowerCase()==="percentage"?(r*=100,u="P"+i.DecimalPoints):u=i.MeasureFormat.toLowerCase()==="currency"?"C"+i.DecimalPoints:"N"+i.DecimalPoints,f=u,r===e?(r=e,f=u.replace(i.DecimalPoints,"0")):(r===parseInt(r)||r%i.DecimalPoints===e)&&(f=u.replace(i.DecimalPoints,"0")),i.MeasureFormat.toLowerCase()==="number"&&r<e){s=Math.abs(t.globalize.parseFloat(r.toString(),i.Culture));o=t.globalize.format(s,f,i.Culture);switch(i.NegativeValueFormat.toLowerCase()){case"default":return"-"+o;case"nonegativesignwithbracket":return"("+o+")";case"negativesigninsuffix":return o+"-"}}return t.globalize.format(t.globalize.parseFloat(r.toString(),i.Culture),f,i.Culture)},_applyNegativeFormattingForTreeMap:function(n,i){var u=Math.abs(t.globalize.parseFloat(n.toString(),i.Culture)),r=t.globalize.format(u,"N"+i.DecimalPoints,i.Culture);switch(i.NegativeValueFormat.toLowerCase()){case"default":return"-"+r;case"nonegativesignwithbracket":return"("+r+")";case"negativesigninsuffix":return r+"-";default:return"-"+r}},_treeMapInitialSelection:function(t,i,r){var l,a,v,h;if(t.SelectedFilterInfo.length>0){var c=[],u=0,f=0;n("#"+i.attr("id")+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0");n("#"+i.attr("id")).parents(".e-dbrd-control-container").data({IsFilterApplied:!0});l=i.data("ejTreeMap");l.selectedItems=[];var e=[],o=[],s=[],y=t.SelectedFilterInfo.length;for(u=0;u<y;u++){if(t.SelectedFilterInfo[u].DimensionFilterInfo!==null)for(a=t.SelectedFilterInfo[u].DimensionFilterInfo.Text.length,f=0;f<a;f++)e.push({Column:t.SelectedFilterInfo[u].UniqueColumnName.toLowerCase().replace(" ",""),Value:t.SelectedFilterInfo[u].DimensionFilterInfo.Text[f]}),o.push(t.SelectedFilterInfo[u].UniqueColumnName.toUpperCase().replace(" ","")),s.push(t.SelectedFilterInfo[u].DimensionFilterInfo.Text[f]);if(t.SelectedFilterInfo[u].DateFilterInfo!==null)for(v=t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length,f=0;f<v;f++)e.push({Column:t.SelectedFilterInfo[u].UniqueColumnName.toLowerCase().replace(" ",""),Value:t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[f]}),o.push(t.SelectedFilterInfo[u].UniqueColumnName.toUpperCase().replace(" ","")),s.push(t.SelectedFilterInfo[u].DateFilterInfo.DateFilterList[f])}c.push({Items:e});i.ejTreeMap("selectItemByPath",o.join(":"),s.join(":"),":");h=this._checkMasterData(r);h!==null&&this.masterData.splice(h,1);this.masterData.push({Key:r,Value:c,MultiSelection:!0})}},_createTreeMapTemplates:function(n,t,i,r,u){for(var h,o,f=null,e=t.ColorType==="desat"?JSON.parse(t.ColorMapping.ColorMapping):[],c=n.length,s=0;s<c;s++)switch(n[s]){case"label":if(!t.EnableDrillDown){for(f='<script id="'+this._id+"_"+t.Id+'_labeltemplate0" type="application/jsrender"><div>',h=i.length,o=0;o<h;o++)f+='<label style="color:'+(t.ColorType==="desat"?'{{:~labelColor(#data["'+t.ColorValue+'"],"'+e.rangeMinimum+'","'+e.rangeMaximum+'", "'+e.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+i[o].groupPath+'"]}}<\/label><br />';f+="<\/div><\/script>  ";this.currentTabContentElement.append(f)}break;case"tooltip":this._generateTreeMapToolTiptemplate(t,i,e,r,u)}},_generateTreeMapToolTiptemplate:function(i,r,u,f,e){var nt=0,k=1,tt=".",it=",",h=i.ColumnFormatting.slice(),s=[],o,ut,w,rt,ft,et,ot,st,ht,ct;if(i.WeightValue!==null){for(o=0,o=h.length-k;o>=nt;o--)i.WeightValue.toLowerCase()===h[o].fieldName.toLowerCase()&&(s.push(h[o]),h.splice(o)),i.WeightValue!==i.ColorValue&&typeof h[o]!="undefined"&&i.ColorValue.toLowerCase()===h[o].fieldName.toLowerCase()&&(s.push(h[o]),h.splice(o));var y=[],d=[],g=null,l=null,b=null,lt=s.length;for(o=0;o<lt;o++)l=n("<tr>"),b=n("<td>").html(s[o].ColumnName).addClass("e-tool-value"),l.append(b,n("<td>").html(":").addClass("e-tool-value")),y.push(l.clone()),d.push(l.clone()),t.isNullOrUndefined(s[o].DecimalSeparator)||t.isNullOrUndefined(s[o].GroupSeparator)?(d[o].append(n("<td>").html('{{:~TreeMapFirstLevelToolTipFormat(data,"'+s[o].fieldName.replace(/\s/g,"").replace(/^\w\s/gi,"")+'","'+s[o].FormatType+'","'+s[o].Format+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+tt+'","'+tt+'","'+it+'","'+it+'","'+s[o].Prefix+'","'+s[o].Suffix+'","'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()),y[o].append(n("<td>").html('{{:~MapToolTipFormat("'+s[o].FormatType+'","'+s[o].Format+'","'+tt+'","'+tt+'","'+it+'","'+it+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+s[o].Prefix+'","'+s[o].Suffix+'",#data["'+s[o].fieldName+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone())):(d[o].append(n("<td>").html('{{:~TreeMapFirstLevelToolTipFormat(data,"'+s[o].fieldName.replace(/\s/g,"").replace(/^\w\s/gi,"")+'","'+s[o].FormatType+'","'+s[o].Format+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+s[o].DecimalSeparator.CurrentValue+'","'+s[o].DecimalSeparator.AliasValue+'","'+s[o].GroupSeparator.CurrentValue+'","'+s[o].GroupSeparator.AliasValue+'","'+s[o].Prefix+'","'+s[o].Suffix+'","'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()),y[o].append(n("<td>").html('{{:~MapToolTipFormat("'+s[o].FormatType+'","'+s[o].Format+'","'+s[o].DecimalSeparator.CurrentValue+'","'+s[o].DecimalSeparator.AliasValue+'","'+s[o].GroupSeparator.CurrentValue+'","'+s[o].GroupSeparator.AliasValue+'","'+s[o].Culture+'","'+s[o].Unit+'","'+s[o].NegativeValueFormat+'","'+s[o].Prefix+'","'+s[o].Suffix+'",#data["'+s[o].fieldName+'"],"'+this.model.dashboardCulture+'")}}').addClass("e-tool-value").clone()));var p=null,v=null,c=0,a=0;if(i.EnableDrillDown)for(ut=r.length,o=0;o<ut;o++){for(p=n("<div>").attr({style:"white-space: nowrap;"}),v=n("<table>").addClass("e-tree-tool-table"),c=0;c<=o;c++){if(l=n("<tr>"),b=n("<td>").html(h[c].ColumnName).addClass("e-tool-value"),l.append(b,n("<td>").html(":").addClass("e-tool-value")),o===(i.LoadOnDemand?r.length:h.length-k)?t.isNullOrUndefined(h[c].displayName)?l.append(n("<td>").html("{{:(#data['"+h[c].fieldName+"'])}}").addClass("e-tool-value")):l.append(n("<td>").html("{{:(#data['"+h[c].displayName+"'])}}").addClass("e-tool-value")):c===(i.LoadOnDemand?h.length:o)?l.append(n("<td>").html("{{:label}}").addClass("e-tool-value")):l.append(n("<td>").html("{{:~GetRowName(data,'"+h[c].fieldName+"')}}").addClass("e-tool-value")),!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(e.drillLevelInfo[nt])&&f.model.drillDownLevel>=k&&i.LoadOnDemand)for(w=0;w<f.model.drillDownLevel;w++)rt=n("<tr>"),ft=n("<td>").html(t.isNullOrUndefined(e.drillLevels[w].Values)?e.drillLevels[w].column:e.drillLevels[w].Values.column).addClass("e-tool-value"),rt.append(ft,n("<td>").html(":").addClass("e-tool-value")),rt.append(n("<td>").html(e.drillLevelInfo[nt].Values[w]).addClass("e-tool-value")),v.append(rt);v.append(l)}if(o===h.length-(i.LoadOnDemand?nt:k))for(et=y.length,a=0;a<et;a++)v.append(y[a].clone());else for(ot=d.length,a=0;a<ot;a++)v.append(d[a].clone());if(p.append(v),t.isNullOrUndefined(f)?(this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+o+"]").length>t.DashboardConstants.Zero&&i.LoadOnDemand&&this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+o+"]").remove(),this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+"_toolTip"+o+'" type="application/jsrender">'+p[0].outerHTML+"<\/script>")):(this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+"]").length>t.DashboardConstants.Zero&&i.LoadOnDemand&&this.element.find("script[id= "+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+"]").remove(),this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+"_toolTip"+f.model.drillDownLevel+'" type="application/jsrender">'+p[0].outerHTML+"<\/script>")),g=t.isNullOrUndefined(f)?'<script id="'+this._id+"_"+i.Id+"_labeltemplate"+o+'" type="application/jsrender">':'<script id="'+this._id+"_"+i.Id+"_labeltemplate"+f.model.drillDownLevel+'" type="application/jsrender">',o===h.length-k)for(st=h.length,c=0;c<st;c++)g+='<label style="color:'+(i.ColorType==="desat"?'{{:~labelColor(#data["'+i.ColorValue+'"],"'+u.rangeMinimum+'","'+u.rangeMaximum+'", "'+u.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+r[c].groupPath+'"]}}<\/label><br />';else for(a=0;a<=o;a++)g+='<label style="color:'+(i.ColorType==="desat"?'{{:~labelColor(#data["'+i.ColorValue+'"],"'+u.rangeMinimum+'","'+u.rangeMaximum+'", "'+u.color+'")}}':"white")+';font-size:12px;font-weight:normal;margin-left:5px;">{{:#data["'+r[a].groupPath+'"]}}<\/label><br />';g+="<\/script>  ";this.currentTabContentElement.append(g)}else{for(p=n("<div>").attr({style:"white-space: nowrap;"}),v=n("<table>").addClass("e-tree-tool-table"),p.append(v),ht=h.length,c=0;c<ht;c++)l=n("<tr>"),b=n("<td>").html(h[c].ColumnName).addClass("e-tool-value"),l.append(b,n("<td>").html(":").addClass("e-tool-value")),t.isNullOrUndefined(h[c].displayName)?(l.append(n("<td>").html("{{:#data['"+h[c].fieldName+"']}}").addClass("e-tool-value")),v.append(l)):(l.append(n("<td>").html("{{:#data['"+h[c].displayName+"']}}").addClass("e-tool-value")),v.append(l));for(ct=y.length,a=0;a<ct;a++)v.append(y[a]);this.currentTabContentElement.append('<script id="'+this._id+"_"+i.Id+'_toolTip" type="application/jsrender">'+p[0].outerHTML+"<\/script>")}}},_getValuesFromDrillLevelInfo:function(n,t,i){for(var u=n.drillLevelInfo.length,r=0;r<u;r++)if(n.drillLevelInfo[r].Key===(i?t+"_Maximize":t))return n.drillLevelInfo[r].Values;return[]},_updateValuesInDrillLevelInfo:function(n,t,i,r){for(var f=n.drillLevelInfo.length,u=0;u<f;u++)if(n.drillLevelInfo[u].Key===(r?t+"_Maximize":t)){n.drillLevelInfo[u].Values=i;break}},_drillDownTemplate:function(i,r,u){var e=this.dashboardControls.getControlByReport(i.Id),l=1,s=0,o=null,c,y,a,p;if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.selectedItems)&&u.selectedItems.length>s&&(o=!t.isNullOrUndefined(u.selectedItems[0])&&!t.isNullOrUndefined(u.selectedItems[0][0])?u.selectedItems[0]:u.selectedItems),this.levels.hasOwnProperty(i.Id)||(this.levels[i.Id]=[]),!t.isNullOrUndefined(o)&&o.length>s&&!this.levels[i.Id].includes(o[0])&&this.levels[i.Id].push(o[0]),i.rowCount<=u.model.drillDownLevel||i.rowCount===u.model.drillDownLevel){u.data.cancelDrilldown=!0;return}var w=r?this.element.find(".e-dbrd-MaximizedControl"):this.element.find("#"+this._id+"_Widget_"+i.Id),h=[],v=!1,f=[];if(!t.isNullOrUndefined(o)&&o.length>s&&u.model.drillDownLevel>s&&(c=e.columnFormating,y=c.length,n.each(o[0],function(n,i){for(var r=0;r<y;r++)n.toLowerCase()===c[r].columnName.toLowerCase().replace("&","")&&f.push({Key:n,Value:i}),t.isNullOrUndefined(c[r].displayName)||n.toLowerCase()!==c[r].displayName.toLowerCase().replace("&","")||f.push({Key:n,Value:i})})),!t.isNullOrUndefined(e.drillLevelInfo)&&e.drillLevelInfo.length>s)for(a=0;a<e.drillLevelInfo.length;a++)e.drillLevelInfo[a].Key===(r?i.Id+"_Maximize":i.Id)&&(v=!0);v&&(h=this._getValuesFromDrillLevelInfo(e,i.Id,r));t.isNullOrUndefined(f)||t.isNullOrUndefined(f[f.length-l])||h.push(f[f.length-l].Value);v?this._updateValuesInDrillLevelInfo(e,i.Id,h,r):e.drillLevelInfo.push({Key:r?i.Id+"_Maximize":i.Id,Values:h});this._createControlWaitingIndicator(w.parents(".e-dbrd-control-container"),!0);p=JSON.stringify({action:"GetInnerLevelDrill",dashboardPath:this.dashboardPath(),data:h,controlId:i.Id,serverSideCache:this.model.enableServerSideCache,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dashboardName:this.dashboardName,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,customLanguagePath:this.model.localeSettings.resourcePath,filterParameters:this.initialFilters!==null?JSON.stringify(this.initialFilters):null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(JSON.parse(JSON.stringify(this.dashboardParameters))),methodName:this.model.serviceMethods.getDrillControlData,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner});this.doAjaxPost({type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:p,onSuccess:n.proxy(this._loadDrilledTreeMap,this,u,i,r,!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(f[f.length-l])?f[f.length-l].Value:null)});this.dashboardControls.updateCurrentReport(e);u.model.tooltipTemplate=this._id+"_"+i.Id+"_toolTip"+u.model.drillDownLevel},_loadDrilledTreeMap:function(t,i,r,u,f,e){var p,l,w,b;e=this._processResponseMessage(e);for(var a=[],k=[],h=this.dashboardControls.getControlByReport(i.Id),c=[],y=15,o=[],v=null,s=0,s=0;s<e.d.length-1;s++)k.push({Key:e.d[s].Key,Value:n.parseJSON(e.d[s].Value)}),e.d[s].Key==="Data"&&a.push(n.parseJSON(e.d[s].Value)),e.d[s].Key==="DynamicData"&&(c=n.parseJSON(e.d[s].Value).SerializeLevelInfo),e.d[s].Key==="ConfigInfo"&&(o=n.parseJSON(e.d[s].Value));for(h.drillLevelData.push(a[0]),h.drillLevels.push({Key:r?o.Id+"_Maximize":o.Id,Values:c[0]}),p=n.map(h.columnFormating,function(n){return n.columnName}),l=0;l<o.ColumnFormatting.length;l++)p.indexOf(o.ColumnFormatting[l].columnName)===-1&&h.columnFormating.push(o.ColumnFormatting[l]);w={columnCount:0,template:"",dockPosition:o.LegendPosition.toLowerCase(),mode:o.ColorType==="range"?"default":"interactive",iconWidth:y,iconHeight:y,height:o.ColorType==="range"?25:20,width:o.ColorType==="range"?700:200};v=r?this.element.find(".e-dbrd-MaximizedControl"):this.element.find("#"+this._id+"_Widget_"+o.Id);b=v.ejTreeMap("instance");c[0].labelTemplate=this._id+"_"+o.Id+"_labeltemplate"+t.model.drillDownLevel;c[0].labelVisibilityMode="hideonexceededlength";this._createTreeMapTemplates(["label","tooltip"],o,c,t,h);b.runTimeSubitems(a[0],u,c[0],w);this._destroyAllControlWaitingIndicator();n(".tooltipelement").length>this.zero&&(n(".tooltipelement")[0].style.zIndex="10000");this._treeMapInitialSelection(h,v,o.Id);!this._applyOrRemoveNoDataAvailable(a[0].length,v)},_loadSlaves:function(i,r,u,f,e){var st=0,ht=-1,k=null,d=1,vt=null,p=null,it=null,l,ft,g,w,kt,v,et,nt,lt,y,dt,at,tt,b,ot;if(!t.isNullOrUndefined(e)&&(e.doubleClick?k=t.dashboardViewer.ActionType.DBClick:e.rightClick?k=t.dashboardViewer.ActionType.ContextMenu:(e.type==="drillDownItemSelected"||e.type==="treeMapItemSelected"||e.type==="drillDownItemAction"||e.type==="ejTreeMapdrillDownItemSelected"||e.type==="ejTreeMapdrillDownItemAction"||e.type==="ejTreeMaptreeMapItemSelected")&&(k=t.dashboardViewer.ActionType.Click),!t.isNullOrUndefined(i)))for(p=0;p<i.ActionSetting.length;p++)if(i.ActionSetting[p].ActionType===k&&i.ActionSetting[p].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(it=0;it<i.ActionSetting[p].Action.length;it++)if(i.ActionSetting[p].Action[it]==="Filter"&&!t.isNullOrUndefined(e))if(e.doubleClick&&e.type!=="doubleClick"){t.isNullOrUndefined(e.evt)||e.evt.stopPropagation();e.isSelected=!e.isSelected;e.isSelected&&(e.selectedItems=[]);break}else{e.isSelected&&(e.selectedItems=[]);break}if(this.controlRelations.length!==st||!t.isNullOrUndefined(r)||i.EnableDrillDown||this._checkHasViewData(i.Id)){t.isNullOrUndefined(e)||(vt={id:i.Id,evt:e,configInfo:i,event:e.evt,treeMap:t.isNullOrUndefined(e)?null:e.treeMap});!t.isNullOrUndefined(e)&&e.rightClick&&this._setHoverSelectionForWidget(vt);var yt=0,rt=null,pt=null,o=0,h=0,s=[],wt=[],bt=[],c=0,ut=null,a=null,ct=null;if(this.treeMapLinking=!1,l=this.dashboardControls.getControlByReport(i.Id),!t.isNullOrUndefined(e)&&(ft=!t.isNullOrUndefined(e.selectedItems)&&!t.isNullOrUndefined(e.selectedItems[0])&&!t.isNullOrUndefined(e.selectedItems[0][0])?e.selectedItems[0]:e.selectedItems,!t.isNullOrUndefined(ft)))for(o=0;o<ft.length;o++){g=ft[o];for(h in g)if(g.hasOwnProperty(h))for(w=l.columnFormating,kt=w.length,v=0;v<kt;v++)h.toLowerCase()===w[v].columnName.toLowerCase().replace("&","")&&s.push({Column:w[v].columnName.toLowerCase(),Value:g[h]}),t.isNullOrUndefined(w[v].displayName)||h.toLowerCase()!==w[v].displayName.toLowerCase().replace("&","")||s.push({Column:w[v].displayName.toLowerCase(),Value:g[h]});bt.push({Items:s})}if(l.SelectedFilterInfo=[],s.length>st)for(et=s.length,o=0;o<et;o++)if(c=this._checkFilterInfo(s[o].Column,l.SelectedFilterInfo),nt=i.DateTimeColumns,t.isNullOrUndefined(c)||c===ht){if(a=new selectedFilterInfo,t.isNullOrUndefined(nt)||nt.indexOf(s[o].Column.toUpperCase())===ht)a.DimensionFilterInfo.Text.push(s[o].Value);else for(a.DateFilterInfo.DateFilterList.push(s[o].Value),h=0;h<et;h++)if(s[h].Column===s[o].Column+"_displayvalue"){a.DateFilterInfo.DisplayDateFilterList.push(s[h].Value);break}a.DimensionFilterInfo.Conditions=4;a.UniqueColumnName=s[o].Column;a.ReportName=l.reportName;wt.push(a)}else{if(t.isNullOrUndefined(nt)||nt.indexOf(s[o].Column.toUpperCase())===ht)l.SelectedFilterInfo[c].DimensionFilterInfo.Text.push(s[o].Value);else for(l.SelectedFilterInfo[c].DateFilterInfo.DateFilterList.push(s[o].Value),h=0;h<et;h++)if(s[h].Column===s[o].Column+"_displayvalue"){l.SelectedFilterInfo[c].DateFilterInfo.DisplayDateFilterList.push(s[h].Value);break}l.SelectedFilterInfo[c].DimensionFilterInfo.Conditions="Include";l.SelectedFilterInfo[c].ReportName=l.reportName}for(lt=n("#"+this._id+t.DashboardConstants.Widget+i.Id).data("ejTreeMap"),o=0;o<this.controlRelations.length;o++)if(this.controlRelations[o].Master===i.Id){if(rt=this.controlRelations[o].Slaves,rt.length===st&&(pt=this._checkFilterOverviewData(i.Id),this._addFilterDataToTitle(pt)),y=this._checkMasterData(i.Id),y!==null){for(c=0;c<this.masterData[y].Value.length;c++)this.masterData[y].Value.length===s.length&&this.masterData[y].Value[c].Column===s[c].Column&&this.masterData[y].Value[c].value===s[c].value&&(yt+=d);yt===this.masterData[y].Value.length;this.masterData.splice(y,d)}this.target=[];dt={master:i.Id,masterData:this.masterData,slaves:rt,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};t.isNullOrUndefined(e)&&this._makeSlaveDataRequest(dt);break}for(t.isNullOrUndefined(e)||(i.LoadOnDemand&&!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(e.treeMap)&&e.treeMap.model.drillDownLevel<i.rowCount-d?(ut={configInfo:i,isMaximizedView:f,evt:e},ct=this._drillDownTemplate):t.isNullOrUndefined(e.evt)||t.isNullOrUndefined(e.selectedItemLevel)||i.rowCount===e.selectedItemLevel+d||(e.evt.type="mousedown",e.evt.which=1,ut={value:e.selectedItemLabel,evt:e,treeMap:e.treeMap,drillDownLevel:e.selectedItemLevel+d},e.evt.DrillDownData=ut,ct=lt.drillDown)),at={id:i.Id,isSelected:t.isNullOrUndefined(e)?!1:e.isSelected,filterInfo:wt,treeMap:t.isNullOrUndefined(e)?null:e.treeMap,evt:e,isMaximizedView:f,actionType:k,dataWrapper:bt,widgetInstance:lt,masterData:this.masterData,slaves:rt,callbackfn:ct,drillDownData:ut},this._widgetActionHandler(at),tt=this._id+t.DashboardConstants.Widget+i.Id,b=0;b<i.ActionSetting.length;b++)if(i.ActionSetting[b].ActionType===at.actionType&&i.ActionSetting[b].ActionType!==t.dashboardViewer.ActionType.ContextMenu)for(ot=0;ot<i.ActionSetting[b].Action.length;ot++)i.ActionSetting[b].Action[ot]==="Filter"&&(t.isNullOrUndefined(a)?(n("#"+tt+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","0"),n("#"+tt+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!1})):(n("#"+tt+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+tt+"_removeControlFilter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})))}},_loadTreeMapSlaves:function(n,i,r,u,f){var e;(!n.EnableDrillDown||f.type!=="treeMapItemSelected"||t.isNullOrUndefined(f.treeMap)||n.rowCount===f.treeMap._drilldownHeaders.length)&&(f.doubleClick?(clearTimeout(this.treeMapTimer),this._loadSlaves(n,i,r,u,f)):(e=this,this.treeMapTimer=setTimeout(function(){e._loadSlaves(n,i,r,u,f)},300)))},_getColumnName:function(n,i){for(var u=i.length,r=0;r<u;r++){if(n===i[r].columnName.toLowerCase().replace("&",""))return i[r].columnName.toLowerCase();if(!t.isNullOrUndefined(i[r].displayName)&&n===i[r].displayName.toLowerCase().replace("&",""))return i[r].displayName.toLowerCase()}return""},_overrideTreemapDrillHeader:function(){var n=1;t.isNullOrUndefined(t.datavisualization)||t.isNullOrUndefined(t.datavisualization.TreeMap)||(t.datavisualization.TreeMap.prototype.getDrillDownHeader=function(t){var r="",u=t.length,i;if(t.length===n)return t[0]=this.model.header,t[0];for(i=0;i<u;i++)r+=t[i],i!==t.length-n&&(r+=" > ");return r})}}}(jQuery,SyncfusionDashboard);$.views.helpers({TreeMapFirstLevelToolTipFormat:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var w=0,y=[],b,p,k;for(ejDashboard.isNullOrUndefined(n.length)?y.push(n):y=n,b=y.length,p=0;p<b;p++)k=y[p][t],w+=k;return $.views.helpers.MapToolTipFormat(i,r,o,s,h,c,u,f,e,l,a,w,v)},GetRowName:function(n,t){var r=0,i=[];return ejDashboard.isNullOrUndefined(n.length)&&(i.push(n),i!==null&&i.length>r)?i[0][t]:n!==null&&n.length>r?n[0][t]:""},labelColor:function(n,t,i){var r=Number(t),u=Number(i);return n<(u-r)/3+r?"black":"white"}}),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.widgets={_renderWidget:function(i,r,u){var l,w,c,v,d,e,a;try{var f=null,h=i.getCurrentPageData(),o=i.configInfo,s=0,b=[];if(i.configInfo.ColumnUrlDetails.length>s)for(l=0;l<i.configInfo.ColumnUrlDetails.length;l++)b.push({uniqueColumnName:i.configInfo.ColumnUrlDetails[l].UniqueColumnName,urlLink:i.configInfo.ColumnUrlDetails[l].UrlLink});var k=i.configInfo.ColumnUrlDetails.length>s?b:t.isNullOrUndefined(i.configInfo.ControlLinkData)?"":i.configInfo.ControlLinkData.Path,y=!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r.isMaximize)&&r.isMaximize,p=this._id+"_Widget_"+o.Id+"_iframe"+(y?"_maximized":"");if(t.isNullOrUndefined(r)||t.isNullOrUndefined(r.Div)?(w=n("#"+this._id+"_cell_"+o.Row+"_"+o.Column),w.attr({"data-controltype":"CustomWidget"}),f=w.find(".e-dbrd-control"),f.attr({id:this._id+"_Widget_"+o.Id,"data-controlId":o.Id}).addClass("dashboardCustomWidget")):f=r.Div,c=this.dashboardControls.getControlByReport(i.reportName),c.getCurrentPageData().isError){this._showControlError(c.getCurrentPageData(),f,c.configInfo);return}if(!(i.configInfo.BoundColumns==="{}")&&!this._applyOrRemoveNoDataAvailable(h.pagedata.length,f))return;if(!f.hasClass("dependenciesLoadStarted")&&(y&&!f.hasClass("isInitialized")&&t.isNullOrUndefined(u)||this.model._dashboardData.isExportImage||this.model._dashboardData.isExportPdf)&&this._createCustomWidgetInstance(c,f,y),c.widgetSettings.capabilities.EnableIFrame){if(v=document.getElementById(p).contentWindow,f.hasClass("isInitialized")||f.hasClass("dependenciesLoadStarted"))d={customThemeSettings:jQuery.isEmptyObject(i.customTheme)?null:i.customTheme,dataSource:h.pagedata,boundColumns:JSON.parse(i.configInfo.BoundColumns),enableLinking:i.configInfo.ColumnUrlDetails.length>s||!t.isNullOrUndefined(i.configInfo.ControlLinkData),linkSettings:{enableTabularUrlLinking:i.configInfo.ColumnUrlDetails.length>s,urlPatterns:k},isDataBound:!(i.configInfo.BoundColumns==="{}"),isIFrameEnable:!0,initMode:this.model._dashboardData.isExportImage?"export":"runtime",properties:this._parseCustomProperties(o.Properties)},f.removeClass("isInitialized"),f.removeClass("dependenciesLoadStarted"),this._createCustomWidgetWaitingIndicator(f,!1),v.postMessage(JSON.stringify({action:"init",type:"initialize",data:d}),"*");else if(n(document.getElementById(p)).length>s){t.isNullOrUndefined(u)?v.postMessage(JSON.stringify({action:"update",type:"refresh",data:h.pagedata}),"*"):u.type==="resize"&&(u.action="update",n(document.getElementById(p)).attr({width:u.size.width+"px",height:u.size.height+"px"}),v.postMessage(JSON.stringify(u),"*"));return}}else if(e=null,f.addClass("dataLoaded"),f.hasClass("isInitialized")){f.removeClass("isInitialized");e=ej.dashboard.getWidgetInstance(f[0]);e.model.dataSource=h.pagedata;e.model.isIFrameEnable=!1;e.model.customThemeSettings=jQuery.isEmptyObject(i.customTheme)?null:JSON.stringify(i.customTheme);e.model.enableLinking=i.configInfo.ColumnUrlDetails.length>s||!t.isNullOrUndefined(i.configInfo.ControlLinkData);e.model.linkSettings={enableTabularUrlLinking:i.configInfo.ColumnUrlDetails.length>s,urlPatterns:k};e.model.boundColumns=JSON.parse(i.configInfo.BoundColumns);e.model.isDataBound=!(i.configInfo.BoundColumns==="{}");e.model.initMode=this.model._dashboardData.isExportImage?"export":"runtime";e.model.properties=this._parseCustomProperties(o.Properties);try{e.init()}catch(g){}for(a=0;a<this.model.customWidgetStatus.length;a++)if(o.Id===this.model.customWidgetStatus[a].widgetId){this.model.customWidgetStatus[a].isRendered=!0;break}}else if(!t.isNullOrUndefined(ej.dashboard.getWidgetInstance(f[0]))){e=ej.dashboard.getWidgetInstance(f[0]);t.isNullOrUndefined(u)?(e.model.dataSource=h.pagedata,e.update({type:"refresh",data:h.pagedata})):u.type==="resize"&&e.update(u);return}}catch(nt){return}},_createCustomWidgetWaitingIndicator:function(i,r){var u,f,e,o;n(i).length===t.DashboardConstants.Zero||n(i).parents(".e-dbrd-filter-control-wrapper").length>t.DashboardConstants.Zero||n(i).hasClass("e-dbrd-filterpanel-wrapper")||(u=n("<div>").addClass("e-dbrd-customwidget-waiting"),r&&u.css({background:" rgba(255, 255, 255, 0.30) "}),u.css({width:"100%",height:"100%","z-index":"5",position:"absolute",top:"0",left:"0"}),f=20,e=4,(t.browserInfo().name==="mozilla"||t.browserInfo().name==="msie")&&(f=10,e=2),(t.browserInfo().name==="chrome"||t.browserInfo().name==="edge"||t.browserInfo().name==="webkit")&&(u.css({zoom:"0.5"}),t.browserInfo().name==="edge"&&(f=15)),o='<svg class = "e-dbrd-blueWaitingIndcator"><circle class = "e-dbrd-circlePath" cx = "27" cy = "27" r = "'+f+'" fill = "none" stroke-width = "'+e+'" stroke-miterlimit = "10"><\/circle><\/svg>',u.append(o),n(i).css({position:"relative"}),n(i).append(u))},_receiveIFramePostMessage:function(i){var o;try{var u=JSON.parse(i.data),c=0,r=n("#"+u.dashboardId).data("ejDashboardViewer"),f=null,e=null,s=null,h=null;if(!t.isNullOrUndefined(u.action))switch(u.action){case"interaction":r._loadWidgetSlaves(u.widgetId,u.selectedData);break;case"widgetRendered":for(o=0;o<r.model.customWidgetStatus.length;o++)if(u.widgetId===r.model.customWidgetStatus[o].widgetId){r.model.customWidgetStatus[o].isRendered=!0;break}break;case"linking":r._navigationThroughLinking(u.selectedData,u.url,u.widgetId);break;case"destroyindicator":f=r.dashboardControls.getControlByReport(JSON.parse(i.data).widgetId);e=n("#"+r._id+"_Widget_"+f.configInfo.Id+"_iframe_maximized").parent(".e-dbrd-control");e.length>c?e.find(".e-dbrd-customwidget-waiting").remove():(s=n("#"+r._id+"_cell_"+f.configInfo.Row+"_"+f.configInfo.Column),h=s.find(".e-dbrd-control"),n(h).find(".e-dbrd-customwidget-waiting").remove());break;case"initialized":f=r.dashboardControls.getControlByReport(JSON.parse(i.data).widgetId);e=n("#"+r._id+"_Widget_"+f.configInfo.Id+"_iframe_maximized").parent(".e-dbrd-control");e.length>c?n(e).addClass("isInitialized"):(s=n("#"+r._id+"_cell_"+f.configInfo.Row+"_"+f.configInfo.Column),h=s.find(".e-dbrd-control"),n(h).addClass("isInitialized"))}}catch(l){return}},_navigationThroughLinking:function(n,i,r){var s=this.dashboardControls.getControlByReport(r),c=s.configInfo.ControlLinkData,u,e,o,h,f;if(t.isNullOrUndefined(c)){for(u=i,e=0;e<s.configInfo.ColumnUrlDetails.length;e++)for(o=0;o<n[0].Items.length;o++)n[0].Items[o].Column===s.configInfo.ColumnUrlDetails[e].UniqueColumnName&&(u=u.replaceAll("{{:"+s.configInfo.ColumnUrlDetails[e].CaptionName+"}}",n[0].Items[o].Value));h=u.match(/~currentdomain~ *?/gi);h!==null&&h.length!==t.DashboardConstants.Zero&&(u=u.replace(h[0],encodeURI(location.protocol+"//"+location.host)));u.match(/^[a-zA-Z]+:\/\//)||(u="http://"+u);f={url:u,target:t.dashboardViewer.navigationTargets.Blank,handled:!1,source:null};this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:f});this._trigger("beforeNavigate",{data:f});f.url===""||t.isNullOrUndefined(f.url)||t.DashboardConstants.Window.open(f.url,f.target);f={url:i,target:t.dashboardViewer.navigationTargets.Blank,source:null};this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:f});this._trigger("afterNavigate",{data:f})}else t.isNullOrUndefined(i)||(c.Path=i),this._controlNavigate(c,n,null)},_loadWidgetSlaves:function(t,i){var u=0,r=0,e=this.dashboardControls.getControlByReport(t),f=null;for(e.SelectedFilterInfo=[],i!==null&&i.length>u&&(e.SelectedFilterInfo=i),r=0;r<this.controlRelations.length;r++)if(this.controlRelations[r].Master.lastIndexOf("_"+t)+t.length===this.controlRelations[r].Master.length-1){if(f=this.controlRelations[r].Slaves,f.length===u)return;this._makeSlaveDataRequest({master:t,slaves:f,canDrill:!1,showIndicator:!0,isAutoRefresh:!1});break}i!==null&&i.length>u?(n("#"+this._id+t+"_filter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+this._id+t+"_filter").parents(".e-dbrd-control-container").data({IsFilterApplied:!0})):(n("#"+this._id+t+"_filter").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1"),n("#"+this._id+t+"_filter").parents(".e-dbrd-control-container").data({IsFilterApplied:!1}))},_getViewData:function(n){var t=this.dashboardControls.getControlByReport(n)},_parseCustomProperties:function(n){for(var i={},t=0;t<n.length;t++)try{i[n[t].PropertyName]=JSON.parse(n[t].PropertyValue)}catch(r){i[n[t].PropertyName]=n[t].PropertyValue}return i}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.widgetscore={_renderWidgetControl:function(i){var a=null,c=0,e=0,p=1,v=3,w=i.widgetType,f=i.dynamicData,r=i.control,it=i.staticFiles,o=i.controldata,u=f.SelectedValues,y=100,b=50,k,l,d,s,g,nt,tt,h;switch(w){case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.RadioButton:r.controlType=t.dashboardViewer.Controls.CheckBox;r.scrollSetting.controlPerPage=100;this._updateVirtualScrollSettings(i,r,y);r.totalPages=r.data.length+p;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.ListBox:r.controlType=t.dashboardViewer.Controls.ListBox;r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.DatePicker:r.controlType=t.dashboardViewer.Controls.DatePicker;r.maxMinData=f.Data;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Image:r.controlType=t.dashboardViewer.Controls.Image;r.reportName=o.pagedata.Id;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Grid:r.controlType=t.dashboardViewer.Controls.Grid;r.scrollSetting.controlPerPage=200;r.configInfo.AllowPaging?r.totalCount=f.totalCount:this._updateVirtualScrollSettings(i,r,b);r.SelectedFilterInfo=t.isNullOrUndefined(u)?[]:u;r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.PivotGrid:r.controlType=t.dashboardViewer.Controls.PivotGrid;r.PivotReport=f.PivotReport;r.PivotJSONData=r.data[t.DashboardConstants.Zero].pagedata;t.isNullOrUndefined(f.SelectedCells)||(r.SelectedFilterInfo=f.SelectedCells);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.Chart:if(r.controlType=w,r.customTheme=JSON.parse(JSON.stringify(chartsettings)),!t.isNullOrUndefined(r.configInfo.Properties)&&!t.isNullOrUndefined(r.configInfo.SeriesColorPalette))for(k=r.configInfo.Properties.SeriesColorPalette.length,e=0;e<k;e++)r.customTheme.palette[e]=r.configInfo.Properties.SeriesColorPalette[e].CustomColor;if(r.SeriesList=[],t.isNullOrUndefined(f.SeriesList)||(r.SeriesList=f.SeriesList),this._updateVirtualScrollSettings(i,r,b),r.scrollSetting.controlPerPage=100,!t.isNullOrUndefined(f.ComparisonChartProp))for(l=f.ComparisonChartProp,r.ComparisonChartProp={Type:[],Field:[]},d=l.length,s=0;s<d;s++)r.ComparisonChartProp.Type.push(l[s].Type),r.ComparisonChartProp.Field.push(l[s].Field);t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Gauge:if(r.customTheme=JSON.parse(JSON.stringify(gaugesettings)),t.isNullOrUndefined(r.configInfo.Properties)||t.isNullOrUndefined(r.configInfo.Properties.RangeColor)||(r.customTheme.rangeColor2="#"+r.configInfo.Properties.RangeColor.substr(v),r.customTheme.border2="#"+r.configInfo.Properties.RangeColor.substr(v)),!r.data[0].isError)for(g=r.data[0].pagedata.length,c=0;c<g;c++)a=JSON.parse(r.data[0].pagedata[c]),a.StatusColor!=="undefined"&&(r.customTheme.statusData=a.StatusColor);r.controlType=t.dashboardViewer.Controls.Gauge;this._updateVirtualScrollSettings(i,r,y);r.scrollSetting.controlPerPage=100;i.dynamicData.HasMoreData?r.totalPages=r.data.length+p:r.totalPages+=t.DashboardConstants.One;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.RangeNavigator:r.customTheme=JSON.parse(JSON.stringify(rangenavigatorsettings));r.controlType=t.dashboardViewer.Controls.RangeNavigator;r.SelectedFilterInfo=u;r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.BubbleMap:r.controlType=t.dashboardViewer.Controls.BubbleMap;r.customTheme=JSON.parse(JSON.stringify(bubblemapsettings));t.isNullOrUndefined(r.configInfo.BubbleSettings)||r.configInfo.BubbleSettings.ColorMaping===null||(r.customTheme.bubbleColor="#"+r.configInfo.BubbleSettings.ColorMaping.substr(v));t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.ChoroplethMap:r.controlType=t.dashboardViewer.Controls.ChoroplethMap;r.customTheme=JSON.parse(JSON.stringify(choroplethmapsettings));t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);o.rangeColor=f.RangeAndColor;o.legendPrefx=f.LegendPrefx;o.legendPostfix=f.LegendPostfix;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.TreeMap:if(r.customTheme=JSON.parse(JSON.stringify(treemapsettings)),r.configInfo.ColorType==="desat"&&(nt=n.parseJSON(r.configInfo.ColorMapping.ColorMapping),r.customTheme.desaturationColorMap=nt.color),r.configInfo.ColorType==="range")for(tt=r.configInfo.ColorMapping.ColorMapping.length,h=0;h<tt;h++)r.customTheme.rangeColorMap[h]=r.configInfo.ColorMapping.ColorMapping[h].color;r.controlType=t.dashboardViewer.Controls.TreeMap;r.currentPage=1;r.drillLevels=f.SerializeLevelInfo;t.isNullOrUndefined(f.SelectedValue)||(r.SelectedFilterInfo=f.SelectedValue);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);this.dashboardControls.updateCurrentReport(r);break;case t.dashboardViewer.Controls.Card:r.controlType=t.dashboardViewer.Controls.Card;this._updateVirtualScrollSettings(i,r,y);u=f.SelectedValue;r.scrollSetting.controlPerPage=100;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=f.SelectedValue);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.RangeSlider:r.controlType=t.dashboardViewer.Controls.RangeSlider;t.isNullOrUndefined(u)||(r.SelectedFilterInfo=u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.Label:r.controlType=t.dashboardViewer.Controls.Label;r.reportName=o.pagedata.Id;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.FilterComboBox:r.controlType=t.dashboardViewer.Controls.FilterComboBox;r.scrollSetting.controlPerPage=100;u!==null&&(r.SelectedFilterInfo=t.isNullOrUndefined(u)?[]:u);r=this._clearSelectedFilterInfoIfNeeded(r);r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.HeatMap:r.controlType=t.dashboardViewer.Controls.HeatMap;this.dashboardControls.addControl(r);break;case t.dashboardViewer.Controls.CustomWidget:r.controlType=t.dashboardViewer.Controls.CustomWidget;r.staticFiles=it;r.isFilterPanelControl=this._isFilterPanelWidget(r.reportName);this.dashboardControls.addControl(r)}},_renderFilter:function(n){var i=n.control,e=n.controldata,r=n.dynamicData,f=n.filterId,u=this.dashboardControls.getControlByReport(i.reportName);switch(f){case"datepicker":i.controlType=t.dashboardFilterPanel.controls.DatePicker;i.maxMinData=r.Data;r.SelectedValues&&(i.SelectedFilterInfo=!t.isNullOrUndefined(u)&&!u.errorOccured&&!t.isNullOrUndefined(u.SelectedFilterInfo)?u.SelectedFilterInfo:r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"checkbox":case"radiobutton":i.controlType=f==="checkbox"?t.dashboardFilterPanel.controls.CheckBox:t.dashboardFilterPanel.controls.RadioButton;i.scrollSetting.controlPerPage=200;i.totalCount=r.totalCount||200;t.isNullOrUndefined(r.SelectedValues)||(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"rangeslider":i.controlType=t.dashboardFilterPanel.controls.RangeSlider;r.SelectedValues&&(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"combobox":i.controlType=t.dashboardFilterPanel.controls.FilterComboBox;i.totalCount=r.totalCount||200;i.scrollSetting.controlPerPage=200;e.rowCount=r.totalCount||200;r.SelectedValues&&(i.SelectedFilterInfo=t.isNullOrUndefined(r.SelectedValues)?[]:r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i);break;case"listbox":i.controlType=t.dashboardViewer.Controls.ListBox;i.scrollSetting.controlPerPage=100;i.totalCount=r.totalCount;r.SelectedValues&&(i.SelectedFilterInfo=r.SelectedValues);i.isFilterPanelControl=this._isFilterPanelWidget(i.reportName);this.dashboardControls.addControl(i)}!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.SelectedFilterInfo)&&i.SelectedFilterInfo.length>t.DashboardConstants.Zero&&(this.isInitialFilterApplied=!this.isGetLinkDashboard)},_clearSelectedFilterInfoIfNeeded:function(n){return this.isExtendedLayout&&this.isInitialFilterCleared&&(this.initialFilterClearedList.length>t.DashboardConstants.Zero&&this.initialFilterClearedList.indexOf(n.reportName)!==t.DashboardConstants.IndexLowerBound&&n.configInfo.IsMasterFilter&&n.SelectedFilterInfo.length>t.DashboardConstants.Zero&&(n.SelectedFilterInfo=[],this.initialFilterClearedList.splice(this.initialFilterClearedList.indexOf(n.reportName),t.DashboardConstants.One)),this.pageInformations.length===this.actualPages.length&&(this.isInitialFilterCleared=!1,this.initialFilterClearedList=[])),!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(n.SelectedFilterInfo)&&n.SelectedFilterInfo.length>t.DashboardConstants.Zero&&(this.isInitialFilterApplied=!this.isGetLinkDashboard),n},_updateVirtualScrollSettings:function(n,i,r){var u=0,f;Array.isArray(n.controldata.pagedata)?u=n.controldata.pagedata.length:typeof n.controldata.pagedata=="string"?u=0:typeof n.controldata.pagedata=="object"&&(n.widgetType===t.dashboardViewer.Controls.ComparisonChart||n.widgetType===t.dashboardViewer.Controls.Chart)&&(f=this._objectValues(n.controldata.pagedata),u=f.length?t.isNullOrUndefined(JSON.parse(f[0]).points)?t.DashboardConstants.Zero:JSON.parse(f[0]).points.length:t.DashboardConstants.Zero);n.widgetType===t.dashboardViewer.Controls.ComparisonChart||n.widgetType===t.dashboardViewer.Controls.Chart?(i.hasMoreData=n.dynamicData.HasMoreData,i.hasMoreData&&(i.totalCount=n.dynamicData.TotalCount)):u<r?i.totalCount+=u:i.totalCount=u+r},_objectValues:function(n){var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(n[i]);return t},_renderControlsForStarting:function(n){for(var i,r=null,e=n.length,f=[],o=!t.isNullOrUndefined(this.model.currentMasterReport)&&this.model.currentMasterReport.length>t.DashboardConstants.Zero?this.model.currentMasterReport.length:t.DashboardConstants.Zero,u=t.DashboardConstants.Zero;u<o;u++)f.push(this.model.currentMasterReport[u].ReportName);for(i=0;i<e;i++){this.isGetLinkDashboard&&f.indexOf(n[i].reportName)===t.DashboardConstants.IndexLowerBound&&!t.isNullOrUndefined(n[i].SelectedFilterInfo)&&n[i].SelectedFilterInfo.length>t.DashboardConstants.Zero&&(n[i].SelectedFilterInfo=[]);switch(n[i].controlType){case t.dashboardViewer.Controls.Card:this._callFunction(this._renderCards,n[i],null,!0);break;case t.dashboardViewer.Controls.CheckBox:this._callFunction(this._renderCheckBoxandRadioButton,n[i],null,!0);break;case t.dashboardViewer.Controls.Gauge:this._callFunction(this._renderGauges,n[i],null,!0);break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:this._callFunction(this._renderChart,n[i],null,!0);break;case t.dashboardViewer.Controls.ComparisonChart:this._callFunction(this._renderComparisonChart,n[i],null,!0);break;case t.dashboardViewer.Controls.RangeNavigator:this._callFunction(this._renderRangeNavigator,n[i],null,!0);break;case t.dashboardViewer.Controls.RangeSlider:this._callFunction(this._renderRangeSlider,n[i],null,!0);break;case t.dashboardViewer.Controls.DatePicker:this._callFunction(this._renderDatePicker,n[i],null,!0);break;case t.dashboardViewer.Controls.TreeMap:this._callFunction(this._renderTreeMap,n[i],null,!0);break;case t.dashboardViewer.Controls.ListBox:this._callFunction(this._renderListBox,n[i],null,!0);break;case t.dashboardViewer.Controls.FilterComboBox:n[i].configInfo.ShowAsListBox?this._callFunction(this._renderListBox,n[i],null,!0):this._dashboardData().isExportImage?this._renderFDropDownList(n[i],null):this._callFunction(this._renderFDropDownList,n[i],null,!0);break;case t.dashboardViewer.Controls.Grid:this._dashboardData().isExportImage?this._renderGrid(n[i],null):this._callFunction(this._renderGrid,n[i],null,!0);break;case t.dashboardViewer.Controls.PivotGrid:this._callFunction(this._renderPivotGrid,n[i],null,!0);break;case t.dashboardViewer.Controls.BubbleMap:this._callFunction(this._renderBubbleMap,n[i],null,!0);break;case t.dashboardViewer.Controls.ChoroplethMap:this._callFunction(this._renderChoroplethMap,n[i],null,!0);break;case t.dashboardViewer.Controls.Image:this._callFunction(this._renderImage,n[i],null,!0);break;case t.dashboardViewer.Controls.Label:this._callFunction(this._renderLabel,n[i],null,!0);break;case t.dashboardViewer.Controls.HeatMap:this._callFunction(this._renderHeatMap,n[i],null,!0);break;case"parameterColumnData":r=n[i].data[0].pagedata;t.isNullOrUndefined(n[i].controlRelations)||n[i].controlRelations.length===t.DashboardConstants.Zero||(this.controlRelations=n[i].controlRelations);t.isNullOrUndefined(n[i].appliedFilterData)||n[i].appliedFilterData.length===t.DashboardConstants.Zero||(this.appliedFilterData=n[i].appliedFilterData);this._callFunction(this._updateParameterColumns,n[i].data[0].pagedata);break;case"Title":this._dashboardData().isExportImage||t.isNullOrUndefined(r)||r.length!==t.DashboardConstants.Zero||this.currentTabContentElement.find(".e-dbrd-banner-title").append("<p>"+n[i].reportName+"<\/p>");break;case"NoData":this._callFunction(this._WidgetNotConfigured,n[i]);break;case"CustomWidget":this._callFunction(this._renderWidget,n[i],null,!0)}}this._callFunction(this._updateParameterColumns,r)},_processWidgetData:function(n,i){switch(n.controlType){case t.dashboardViewer.Controls.Card:this._renderCards(n,{id:"",cardDiv:i,isMaximize:!1});break;case t.dashboardViewer.Controls.CheckBox:this._renderCheckBoxandRadioButton(n);break;case t.dashboardViewer.Controls.Gauge:this._renderGauges(n,{id:"",gaugeDiv:i,isMaximize:!1});break;case t.dashboardViewer.Controls.TreeMap:this._renderTreeMap(n,{id:"",treemapDiv:i,isMaximize:!1})}},_removeAppliedFilter:function(i,r,u){var v,y,d,g,w,nt,b,k,a,tt,ft,et,c;this.CurrentMaster===""||t.isNullOrUndefined(this.CurrentMaster)||this._removeAllControlSelectedValues(this.CurrentMaster);v=this._checkMasterData(this.CurrentMaster);y=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All;v!==null&&this.masterData.splice(v,t.DashboardConstants.One);var s=[],e=0,f=null,h=!1;switch(r){case"Grid":n("#"+i).ejDashboardGrid("clearSelection");this._loadGridSlaves(this.CurrentMaster,null,null,!1,null,null,null);break;case"PivotGrid":n("#"+i).find(".e-pivotgrid .selected").removeClass("selected");f=n("#"+i+"_div").data("ejDashboardPivotGrid");f.model.selectedCells=null;this._loadPivotGridSlaves(this.CurrentMaster,null);break;case"Chart":case"ProportionChart":case"DrillDownChart":if(this._loadChartSlaves(null,this.CurrentMaster,null,null,!0,null),s=n("#"+i).find(".e-datavisualization-chart"),r==="ProportionChart"&&s.length>t.DashboardConstants.Zero)for(d=s.length,e=0;e<d;e++)f=s.eq(e).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();else f=n("#"+i).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();break;case"ComparisonChart":if(this._loadComparisonChartSlaves(null,this.CurrentMaster,null,null,!1,null),s=n("#"+i+" .e-datavisualization-chart"),s.length>t.DashboardConstants.Zero)for(g=s.length,e=0;e<g;e++)f=s.eq(e).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();else f=n("#"+i).data("ejDashboardChart"),f.model.selectedDataPointIndexes=[],f.redraw();break;case"CircularGauge":case"Gauge":n("#"+i).find(".e-circularGauge-Selected").removeClass("e-circularGauge-Selected");this._loadGaugeSlaves(u,this.CurrentMaster,!1,null,null);break;case"Linear":this._loadGaugeSlaves(null,this.CurrentMaster);break;case"RangeNavigator":this.flag=!1;f=n("#"+i).data("ejDashboardRangeNavigator");f.model.zoomPosition="0";f.model.zoomFactor="1";f.model.selectedRangeSettings={start:"",end:""};f.renderNavigator();this.flag=!0;this._loadRangeNaviSlaves(this.CurrentMaster,null,null,null);break;case"BubbleMap":case"ChoroplethMap":this._loadMapSlaves(this.CurrentMaster,null,!1,!1,null,null,null);this._clearMapSelectedShapes(i);break;case"TreeMap":var o=n("#"+i).data("ejTreeMap"),l=n("#"+i).attr("data-controlid"),p=this.dashboardControls.getControlByReport(l);p.configInfo.EnableDrillDown&&p.configInfo.ColorType==="range";o.selectedItems=[];o.model.tooltipTemplate=o.model.enableDrillDown?o.model.isVirtualRender?this._id+"_"+l+"_toolTip"+o.model.drillDownLevel:this._id+"_"+l+"_toolTip"+o._drilldownItems.length:this._id+"_"+l+"_toolTip";this._loadSlaves(p.configInfo,null,{Id:this.CurrentMaster},null,null);!o.model.isVirtualRender&&o._drilldownItems.length>t.DashboardConstants.Zero?(w=o._drilldownItems.length,o.model.drilledStateLevel=w,o.model.drillDownDataValue=o._drilldownItems[w-t.DashboardConstants.One].header,o.refresh(!0)):o.model.isVirtualRender||o._drilldownItems.length!==t.DashboardConstants.Zero?n("#"+i).ejTreeMap("refresh"):(o.model.drilledStateLevel=0,o.model.drillDownDataValue="",o.refresh(!0));break;case"Card":nt=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;n("#"+i).find(".e-dbrd-selected-card").hide().prop({"data-selected-widget":""});t.isNullOrUndefined(u)||(u.name="");this._LoadCardSlaves(this.CurrentMaster,"",null,!1,null,null,nt,u);break;case"CheckBox":if(b=!n("#"+i).hasClass("e-dbrd-control-checkbox"),b)k=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+y+"]"),k.length!==t.DashboardConstants.Zero&&k.ejDashboardRadioButton("instance").option("checked",!0);else if(a=n("#"+i+" .e-checkbox.e-js.e-input"),a.length!==t.DashboardConstants.Zero)for(tt=a.length,e=0;e<tt;e++)a.eq(e).ejDashboardCheckBox("instance").option("checked",!0);this._loadCheckBoxSlaves(this.CurrentMaster,b);break;case"RangeSlider":f=n("#"+i).data("ejDashboardSlider");t.isNullOrUndefined(f._isDate)?(f.option("values",[f.model.minValue,f.model.maxValue]),f.option("value",f.model.maxValue)):f.model.sliderType==="range"?f.option("dateValue",[f.model.minDate,f.model.maxDate]):f.option("dateValue",f.model.maxDate);f.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[0]:this._applyFormattingForSlider(f.model.formatColumn,f.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[1]:this._applyFormattingForSlider(f.model.formatColumn,f.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(f.model.formatColumn)?f.getValue()[1]:this._applyFormattingForSlider(f.model.formatColumn,f.model.maxValue));this._onRangeSliderChange(this.CurrentMaster,"",null);break;case"DatePicker":f=n("#"+i).ejDashboardDashboardDatePicker("instance");f&&(f.model.value=null,f.redraw());this._onDatePickerChange(this.CurrentMaster,null);break;case"FilterComboBox":f=n("#"+i).data("ejDashboardDropDownList");var ot=JSON.parse(JSON.stringify(this.dashboardParameters)),it="false",rt="false",ut=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo;if(t.isNullOrUndefined(f))f=n("#"+i+"_lstbx").data("ejDashboardListBox"),h=!1,t.isNullOrUndefined(f)||(h=f.model.showCheckbox,h?(f.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(f.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0))),this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",h,null);else{for(ft=f.model.change,f.model.change=null,f._isFilterCleared=!0,f._totalSelectedItems=[],ut.SelectFirstItem=!1,et=f.model.query._params.length,c=0;c<et;c++)switch(f.model.query._params[c].key){case"masterData":f.model.query._params[c].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":f.model.query._params[c].value=JSON.stringify([]);break;case"searchSelectedCount":f.model.query._params[c].value=0}for(e=0;e<f.model.query._params.length;e++)f.model.query._params[e].key==="hasNull"?it=f.model.query._params[e].value:f.model.query._params[e].key==="hasEmpty"&&(rt=f.model.query._params[e].value);f.model.showCheckbox?f.option("checkAll",!1):f.unselectItemsByIndices(f.model.selectedItems);f.option("query",(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",ut.Id).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("controlRowCount",f._totalCount).addParams("modifiedConnectionStrings",this.modifiedConnectionStrings).addParams("allowFilterdata",JSON.stringify("")).addParams("selectedItems",JSON.stringify([])).addParams("searchSelectedCount",t.DashboardConstants.Zero).addParams("hasNull",it).addParams("hasEmpty",rt).addParams("isPublic",this.isPublicDashboard).addParams("isUnlisted",this.isUnlistedDashboard).addParams("unlistedCode",this.unlistedCode).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("itemId",this.itemId).addParams("dashboardName",this.dashboardName).addParams("dateFormat",this.model.localeSettings.dateFormat).addParams("timeFormat",this.model.localeSettings.timeFormat).addParams("customCulture",this.model.localeSettings.culture).addParams("methodName",this.model.serviceMethods.getControlDataOnDemand).addParams("isWebDesigner",this.model._isWebDesigner).addParams("serverUrl",this.serverUrl()).addParams("dashboardParameterString",JSON.stringify(this._setAjaxDashboardParameterValue(ot))));f.clearText();f.option("watermarkText",y);this._onGlobalFilterChange(!1,f.model.showCheckbox,!0,this.CurrentMaster,null);f.model.change=ft}break;case"ListBox":f=n("#"+i+"_lstbx").data("ejDashboardListBox");h=!1;t.isNullOrUndefined(f)||(h=f.model.showCheckbox,h?(f.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):f.unSelectAll());this._loadListBoxSlaves(null,null,null,this.CurrentMaster,i+"_lstbx","",h,null);break;case"HeatMap":this._removeHeatMapSelection(i,this.CurrentMaster);break;case"CustomWidget":this._loadWidgetSlaves(this.CurrentMaster,null)}},_refreshWidgetData:function(i,r,u){var a=3,v=null,f={},h=200,y=1,p,e,w,b,c,k,o,d,l,g,nt,s;switch(i){case t.dashboardViewer.Controls.ListBox:r.controlType=t.dashboardViewer.Controls.ListBox;r.totalCount=this._updateWidgetTotalCount(r,h);this._callFunction(this._renderListBox,r);break;case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.RadioButton:f=this.dashboardControls.getControlByReport(r.reportName);r.configInfo.Row=f.configInfo.Row;r.configInfo.Column=f.configInfo.Column;r.controlType=t.dashboardViewer.Controls.CheckBox;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);this._callFunction(this._renderCheckBoxandRadioButton,r);break;case t.dashboardViewer.Controls.DatePicker:r.controlType=t.dashboardViewer.Controls.DatePicker;r.maxMinData=u.Data;this._callFunction(this._renderDatePicker,r);break;case t.dashboardViewer.Controls.Grid:r.controlType=t.dashboardViewer.Controls.Grid;r.scrollSetting.controlPerPage=200;r.totalCount=r.configInfo.AllowPaging?u.totalCount:this._updateWidgetTotalCount(r,50);r.maxMinData=u.MaxminData;this._callFunction(this._renderGrid,r);break;case t.dashboardViewer.Controls.PivotGrid:r.controlType=t.dashboardViewer.Controls.PivotGrid;r.PivotReport=u.PivotReport;r.PivotJSONData=r.data[t.DashboardConstants.Zero].pagedata;this._callFunction(this._renderPivotGrid,r);break;case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:if(r.controlType=i,f=this.dashboardControls.getControlByReport(r.reportName),r.configInfo=f.configInfo,r.customTheme=JSON.parse(JSON.stringify(chartsettings)),!t.isNullOrUndefined(r.configInfo.Properties)&&!t.isNullOrUndefined(r.configInfo.SeriesColorPalette))for(p=r.configInfo.Properties.SeriesColorPalette.length,e=0;e<p;e++)r.customTheme.palette[e]=r.configInfo.Properties.SeriesColorPalette[e].CustomColor;if(r.SeriesList=[],t.isNullOrUndefined(u.SeriesList)||(r.SeriesList=u.SeriesList),w={widgetType:i,dynamicData:u,control:r,controldata:r.data[0].pagedata},b=100,this._updateVirtualScrollSettings(w,r,b),!t.isNullOrUndefined(u.ComparisonChartProp))for(c=u.ComparisonChartProp,r.ComparisonChartProp={Type:[],Field:[]},k=c.length,o=0;o<k;o++)r.ComparisonChartProp.Type.push(c[o].Type),r.ComparisonChartProp.Field.push(c[o].Field);r.configInfo.Properties.CustomLegends=u.CustomLegends;r.configInfo.Properties.SeriesCustomLegends=u.SeriesCustomLegends;this.dashboardControls.updateCurrentReport(r);i===t.dashboardViewer.Controls.ComparisonChart?(r.configInfo.SecondaryAxisMaximumValueColumnName=u.SecondaryAxisMaximumValueColumnName,r.configInfo.PrimaryAxisMaximumValueColumnName=u.PrimaryAxisMaximumValueColumnName,this._callFunction(this._renderComparisonChart,r)):this._callFunction(this._renderChart,r);break;case t.dashboardViewer.Controls.Gauge:if(r.customTheme=JSON.parse(JSON.stringify(gaugesettings)),f=this.dashboardControls.getControlByReport(r.reportName),r.configInfo.ColumnInfo=f.configInfo.ColumnInfo,r.configInfo.Row=f.configInfo.Row,r.configInfo.Column=f.configInfo.Column,t.isNullOrUndefined(r.configInfo.Properties)||t.isNullOrUndefined(r.configInfo.Properties.RangeColor)||(r.customTheme.rangeColor2="#"+r.configInfo.Properties.RangeColor.substr(a),r.customTheme.border2="#"+r.configInfo.Properties.RangeColor.substr(a)),!r.data[0].isError)for(d=r.data[0].pagedata.length,l=0;l<d;l++)v=JSON.parse(r.data[0].pagedata[l]),v.StatusColor!=="undefined"&&(r.customTheme.statusData=v.StatusColor);r.controlType=t.dashboardViewer.Controls.Gauge;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);r.totalPages=r.data.length+y;this._callFunction(this._renderGauges,r);break;case t.dashboardViewer.Controls.RangeNavigator:r.customTheme=JSON.parse(JSON.stringify(rangenavigatorsettings));r.controlType=t.dashboardViewer.Controls.RangeNavigator;this._callFunction(this._renderRangeNavigator,r);break;case t.dashboardViewer.Controls.BubbleMap:r.customTheme=JSON.parse(JSON.stringify(bubblemapsettings));t.isNullOrUndefined(r.configInfo.BubbleSettings)||r.configInfo.BubbleSettings.ColorMaping===null||(r.customTheme.bubbleColor="#"+r.configInfo.BubbleSettings.ColorMaping.substr(a));r.controlType=t.dashboardViewer.Controls.BubbleMap;this._callFunction(this._renderBubbleMap,r);break;case t.dashboardViewer.Controls.ChoroplethMap:r.customTheme=JSON.parse(JSON.stringify(choroplethmapsettings));r.controlType=t.dashboardViewer.Controls.ChoroplethMap;r.data.length!==t.DashboardConstants.Zero&&(r.data[0].rangeColor=u.RangeAndColor,r.data[0].legendPrefx=u.LegendPrefx,r.data[0].legendPostfix=u.LegendPostfix);this._callFunction(this._renderChoroplethMap,r);break;case t.dashboardViewer.Controls.TreeMap:if(r.customTheme=JSON.parse(JSON.stringify(treemapsettings)),r.configInfo.ColorMapping=u.ColorMapping,r.configInfo.isNodata=u.isNodata,r.configInfo.ColorType==="desat"&&(g=n.parseJSON(r.configInfo.ColorMapping.ColorMapping),r.customTheme.desaturationColorMap=g.color),r.configInfo.ColorType==="range")for(nt=r.configInfo.ColorMapping.ColorMapping.length,s=0;s<nt;s++)r.customTheme.rangeColorMap[s]=r.configInfo.ColorMapping.ColorMapping[s].color;r.controlType=t.dashboardViewer.Controls.TreeMap;r.drillLevels=u.SerializeLevelInfo;this._callFunction(this._renderTreeMap,r);break;case t.dashboardViewer.Controls.Card:r.controlType=t.dashboardViewer.Controls.Card;r.scrollSetting.controlPerPage=100;r.totalCount=this._updateWidgetTotalCount(r,h);r.totalPages=r.data.length+y;this._callFunction(this._renderCards,r);break;case t.dashboardViewer.Controls.RangeSlider:r.controlType=t.dashboardViewer.Controls.RangeSlider;this._callFunction(this._renderRangeSlider,r);break;case t.dashboardViewer.Controls.CustomWidget:r.controlType=t.dashboardViewer.Controls.CustomWidget;this._callFunction(this._renderWidget,r);break;case t.dashboardViewer.Controls.Image:r.controlType=t.dashboardViewer.Controls.Image;this._callFunction(this._renderImage,r);break;case t.dashboardViewer.Controls.FilterComboBox:r.configInfo.ShowAsListBox?(r.controlType=t.dashboardViewer.Controls.FilterComboBox,r.scrollSetting.controlPerPage=100,r.totalCount=200,this._callFunction(this._renderListBox,r)):(r.controlType=t.dashboardViewer.Controls.FilterComboBox,r.data[0].selectedValues=u.SelectedValues,r.data[0].rowCount=u.totalCount,r.configInfo.SelectFirstItem&&u.SelectedValues!==null?r.SelectedFilterInfo=t.isNullOrUndefined(u.SelectedValues)?[]:u.SelectedValues:r.configInfo.SelectFirstItem&&u.SelectedValues===null&&(r.SelectedFilterInfo=[]),r.scrollSetting.controlPerPage=100,this._callFunction(this._renderFDropDownList,r));break;case t.dashboardViewer.Controls.HeatMap:r.controlType=t.dashboardViewer.Controls.HeatMap;this._callFunction(this._renderHeatMap,r);break;case t.dashboardViewer.Controls.Label:r.controlType=t.dashboardViewer.Controls.Label;this.dashboardControls.addControl(r)}},_updateWidgetTotalCount:function(n,t){var r=0,i;return n.data.length>r?(i=n.data[r].pagedata.length,i<t)?i:i+t:r},_getWidgetType:function(n){if(!t.isNullOrUndefined(n)){var i=n.split("_")[0];switch(i){case"ComboBox":return t.dashboardViewer.Controls.FilterComboBox;case"ListBox":return t.dashboardViewer.Controls.ListBox;case"RangeSlider":return t.dashboardViewer.Controls.RangeSlider;case"DatePicker":return t.dashboardViewer.Controls.DatePicker;case"RadioButton":case"CheckBox":return t.dashboardViewer.Controls.CheckBox}}return""},_removeAllControlSelectedValues:function(n){var i=[],u,r;for(t.isNullOrUndefined(n)?i=this.dashboardControls.getAllControls():i.push(this.dashboardControls.getControlByReport(n)),u=i.length,r=0;r<u;r++)switch(i[r].controlType){case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardViewer.Controls.Gauge:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.TreeMap:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.Grid:case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:case t.dashboardViewer.Controls.RangeNavigator:case t.dashboardViewer.Controls.ListBox:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.CustomWidget:i[r].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.PivotGrid:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[];break;case t.dashboardViewer.Controls.RangeSlider:i[r].SelectedItems={Included:[]};i[r].SelectedFilterInfo=[]}},_getControlClassName:function(n,i,r,u){switch(r){case"Grid":switch(n){case"header":if(i==="background-color")return".e-grid .e-gridheader";if(i==="font-color"||i==="font-family")return".e-grid .e-headercell";break;case"content":return".e-grid .e-gridcontent";case"hover":return".e-grid .e-gridcontent tr.e-hover";case"border":return".e-grid .e-rowcell, .e-grid .e-indentcell";case"selection":return".e-grid td.e-active"}break;case"PivotGrid":switch(n){case"grouping-bar":return".e-pivotgrid .valueColumn,.e-pivotgrid .grpRow";case"grouping-button":return".e-pivotgrid .pivotButton,.e-pivotgrid .pivotButton .e-btn.e-select";case"icon":if(i==="sort-icon-color")return".e-pivotgrid .sorting:before";if(i==="filter-icon-color")return".e-pivotgrid .filter:before";break;case"header":return".e-pivotgrid .colheader,.e-pivotgrid .rowheader,.e-pivotgrid .calc";case"content":return".e-pivotgrid .value";case"summary":return".e-pivotgrid .summary";case"hover":return".e-pivotgrid .colheader:hover,.e-pivotgrid .rowheader:hover,.e-pivotgrid .calc:hover"}break;case"Card":switch(n){case"title":return" td .e-card-header";case"value":return" td .e-value";case"variation":return" .e-card .e-variation";case"card":return" .e-card";case"selection":return" .e-dbrd-selected-card, .e-dbrd-selected-card .e-corner-triangle border-left-color"}break;case"FilterComboBox":switch(n){case"combobox":return"_container .e-input,_container ::-webkit-input-placeholder,_container ::-moz-placeholder,_container :-ms-input-placeholder,_container :-moz-placeholder";case"button":return"_container .e-select";case"dropdownlist":return"_popup_wrapper .e-dbrd-canvas.e-ddl-popup";case"icon":return i==="tick-color"?"_popup_wrapper .e-ddl-popup .e-check-act:before":i==="search-icon-color"?"_popup_wrapper .e-atc.e-search .e-isearch:before, .e-atc.e-search .e-iclose:before":"_popup_wrapper .e-ddl-popup .e-checkwrap";case"hover":return"_popup_wrapper li.e-hover";case"searchbox":return"_popup_wrapper .e-atc .e-input";case"selection":return"_popup_wrapper.e-drbd-cntrl-combobox .e-active"}break;case"CheckBox":if(u.indexOf("RadioButton")!==t.DashboardConstants.IndexLowerBound)switch(n){case"label":return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-rad-active:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-radiobtn .e-dbrd-radiobtn-container .e-spanicon"}else switch(n){case"label":return".e-dbrd-control-checkbox .e-dbrd-checkbox-container label";case"icon":if(i==="tick-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-image:before";if(i==="background-color"||i==="border-color")return".e-dbrd-control-checkbox .e-dbrd-checkbox-container .e-chk-act"}break;case"RangeSlider":switch(n){case"container":return"_wrapper.rangeslider_wrapper";case"range":return i==="range-color"?".e-slider .e-range":".e-slider.e-widget";case"handle":return" .e-handle.e-select";case"label":return"leftcontainer_"+u+" label","rightcontainer_"+u+" label"}break;case"ListBox":switch(n){case"listbox":return" .e-content";case"icon":return i==="tick-color"?" .e-chkbox-wrap .e-chk-image:before":" .e-chkbox-wrap .e-chk-act";case"hover":return" .e-listbox .e-hover"}break;case"DatePicker":switch(n){case"textbox":return".e-FilterBox.e-dashboarddatepicker.e-js.e-input-main";case"calendar":return i==="currentmonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-current-month":i==="week-header-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-week-header th":i==="days-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td":i==="othermonth-font-color"?"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .other-month":i==="next-arrow-color"?"_wrapper .e-dashboarddatepicker-icon i:before":"_popup_wrapper.e-dashboarddatepicker-popup-wrapper";case"selection":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td.selected";case"hover":return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .calendar-table table td:hover";case"icon":if(i==="calendar-color")return"_wrapper .e-dashboarddatepicker-icon:before";if(i==="arrow-color")return"_popup_wrapper.e-dashboarddatepicker-popup-wrapper .e-arrow-enabled  i:before"}}},_generateAPIFromJson:function(n,i){var f=null,h=0,u=[],o=null,r=null,e=null,s=t.DashboardConstants.Zero;switch(n){case"BubbleMap":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"hover":u.highlightColor=r["background-color"];u.highlightBorderColor=r["border-color"];break;case"shape":u.fillColor=r["background-color"];u.borderColor=r["border-color"];break;case"select":u.selecionColor=r["background-color"];u.selectionBorderColor=r["border-color"];break;case"bubble":u.bubbleColor=r["background-color"]}}break;case"ChoroplethMap":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"hover":u.highlightColor=r["background-color"];u.highlightBorderColor=r["border-color"];break;case"shape":u.fillColor=r["background-color"];u.borderColor=r["border-color"];break;case"select":u.selecionColor=r["background-color"];u.selectionBorderColor=r["border-color"];break;case"range":u.rangecolor=r["background-color"]}}break;case"TreeMap":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"drilldownhover":u.drillDownSelectionColor=r["background-color"];break;case"select":u.highlightColor=r["border-color"];break;case"drilldownheader":u.drillDownHeaderColor=r["background-color"];break;case"desaturatecolor":u.desaturationColorMap=r["background-color"];break;case"rangecolormap":u.rangeColorMap=r["background-color"]}}break;case"RangeNavigator":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"tooltip":u.toolTipBackground=r["background-color"];u.toolTipData=r["font-color"];break;case"selected":u.backgroundColor=r["background-color"];break;case"unselected":u.unSelectedRegionColor=r["background-color"];break;case"border":u.borderColor=r["border-color"];break;case"navigator":u.navigatorBackgroundColor=r["background-color"];u.navigatorBorderColor=r["border-color"]}}break;case"Gauge":for(e=Object.keys(i),s=e.length,f=t.DashboardConstants.Zero;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"range1":u.rangeColor1=r["background-color"];u.border1=r["border-color"];break;case"range2":u.rangeColor2=r["background-color"];u.border2=r["border-color"];break;case"data":u.statusData=r["font-color"]}}break;case"Chart":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"x-axis":u.xAxisLineColor=r["xaxisline-color"];u.primaryXAxismajorGridLines=r["primaryxaxis-majorgridlines"];u.primaryXAxisfontcolor=r["primaryxaxis-fontcolor"];u.primaryXAxistitlecolor=r["primaryxaxis-titlecolor"];break;case"y-axis":u.yAxisLineColor=r["yaxisline-color"];u.primaryYAxismajorGridLines=r["primaryyaxis-majorgridlines"];u.primaryYAxisfontcolor=r["primaryyaxis-fontcolor"];u.primaryYAxistitlecolor=r["primaryyaxis-titlecolor"];break;case"axes":u.axisLineColor=r["axisline-color"];u.titletextcolor=r["title-color"];break;case"series":u.palette=r["background-color"];u.dataLabelColor=r["font-color"];break;case"legend":u.legendfontcolor=r["legendfont-color"];break;case"tick":u.majorTickColor=r["majortick-color"]}}break;case"ComparisonChart":for(e=Object.keys(i),s=e.length,f=h;f<s;f++){o=e[f];r=i[e[f]];switch(o){case"x-axis":u.primaryXAxisfontcolor=r["font-color"];u.primaryXAxistitlecolor=r["title-color"];break;case"y-axis":u.primaryYAxisfontcolor=r["font-color"];u.primaryYAxistitlecolor=r["title-color"];break;case"series":u.palette=r["background-color"];u.dataLabelColor=r["font-color"]}}}return u},_widgetMaximize:function(i,r,u){var l=0,h=0,d=1,y=10,e="",b=null,c=null,g=u.elementType,f=u.control,o=u.reportName,s=u.element,nt,a,p,v,it;switch(g){case t.dashboardViewer.Controls.Grid:e=s.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-y});this._renderGrid(f,{id:e,gridDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:if(c=s.find(".e-dbrd-control"),e=c.attr("id"),i[0].id=this._id+"_maximized_"+o,nt=this._getValuesFromDrillLevelInfo(f,o,!1),a=this._getValuesFromDrillLevelData(f,o,!1),!t.isNullOrUndefined(a)&&a.length>t.DashboardConstants.Zero){p=a.length;b=a[p-t.DashboardConstants.One];var k=JSON.parse(JSON.stringify(nt)),tt=this._containsKey(f.drillLevelInfo,o+"_Maximize"),w=[];if(t.isNullOrUndefined(tt)){for(f.drillLevelInfo.push({Key:o+"_Maximize",Values:k}),l=0;l<p-d;l++)w.push(a[l]);f.drillLevelData.push({Key:o+"_Maximize",Values:w})}else{for(h=0;h<f.drillLevelInfo.length;h++)f.drillLevelInfo[h].Key===o+"_Maximize"&&f.drillLevelInfo.splice(h);for(f.drillLevelInfo.push({Key:o+"_Maximize",Values:k}),l=0;l<p-d;l++)w.push(a[l]);for(h=0;h<f.drillLevelData.length;h++)f.drillLevelData[h].Key===o+"_Maximize"&&f.drillLevelData.splice(h);f.drillLevelData.push({Key:o+"_Maximize",Values:w});tt.Values=k}f.isExportFromMaximizedView=!0;this.dashboardControls.updateCurrentReport(f);this._drawDrilledChart(b.ConfigInfo,b.Data,{id:this._id+"_maximized_"+o,chartDiv:i,isMaximize:!0},!0)}else f.drillLevelInfo.push({Key:o+"_Maximize",Values:[]}),f.isExportFromMaximizedView=!0,this.dashboardControls.updateCurrentReport(f),this._renderChart(f,{id:e,chartDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.ComparisonChart:e=s.find(".e-dbrd-control").attr("data-controlId");this._renderComparisonChart(f,{id:e,chartDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:v=t.buildTag("div");it=s.find(".e-dbrd-control").attr("id")+"_Maximized";v.css({width:"100%",height:"100%","background-color":"white"}).attr({id:it});i.append(v).attr({id:"mapParent"}).css({width:"100%",height:"100%","margin-left":"-2px"});g===t.dashboardViewer.Controls.BubbleMap?this._renderBubbleMap(f,{id:e,bubbleMapDiv:v,isMaximize:!0}):this._renderChoroplethMap(f,{id:e,choroplethMapDiv:v,isMaximize:!0});break;case t.dashboardViewer.Controls.TreeMap:c=s.find(".e-dbrd-control");e=c.attr("id");f.currentPage=t.DashboardConstants.One;this._renderTreeMap(f,{id:e,treemapDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Card:c=s.find(".e-dbrd-control");e=c.attr("id");f.loadedPages=[];f.currentPage=t.DashboardConstants.One;f.scrollSetting.scrollTop=t.DashboardConstants.Zero;f.scrollSetting.controlPerPage=100;this._renderCards(f,{id:e,cardDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.Gauge:c=s.find(".e-dbrd-control");e=c.attr("id");i.attr({"data-controlLinkData":c.attr("data-controlLinkData")});f.loadedPages=[];f.currentPage=t.DashboardConstants.One;f.scrollSetting.scrollTop=t.DashboardConstants.Zero;this._renderGauges(f,{id:e,gaugeDiv:i,isMaximize:!0});break;case t.dashboardViewer.Controls.PivotGrid:r.css({"background-color":"white"});e=s.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-y});var ut=s.find(".e-dbrd-control").attr("id"),rt=n("#"+ut).children().data("ejDashboardPivotGrid"),ft=f.PivotJSONData,et=n.extend(!0,[],rt._tempFilterData),ot=rt.getOlapReport();this._renderPivotGrid(f,{id:e,pivotgridDiv:i,isMaximize:!0,jsonRecords:ft,filterInfo:et,pvtReport:ot});break;case t.dashboardViewer.Controls.HeatMap:r.css({"background-color":"white"});e=s.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-y});this._renderHeatMap(f,{id:e,Div:i,isMaximize:!0});break;case"CustomWidget":r.css({"background-color":"white"});e=s.find(".e-dbrd-control").attr("data-controlId");i.css({width:r.width()-y});this._renderWidget(f,{id:e,Div:i,isMaximize:!0})}},_heightOfCell:function(n,i){var r=null,u=2;switch(n){case t.dashboardViewer.Controls.PivotGrid:case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.DrillDownChart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.CustomWidget:case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:case t.dashboardViewer.Controls.TreeMap:case t.dashboardViewer.Controls.Grid:case t.dashboardViewer.Controls.ListBox:case t.dashboardViewer.Controls.Gauge:r=3*i;break;case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.RangeNavigator:case t.dashboardViewer.Controls.CheckBox:case t.dashboardViewer.Controls.Label:case t.dashboardViewer.Controls.Image:r=u*i;break;case t.dashboardViewer.Controls.RangeSlider:case t.dashboardViewer.Controls.DatePicker:case t.dashboardViewer.Controls.FilterComboBox:r=u*i;break;default:r=i}return r},_chartmaximizefind:function(n){switch(n){case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:return!0}return!1},_widgetIconInformation:function(i,r){var s=150,o,f,e,u;i[0].layoutInformation.Name!=="CustomWidget"&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Gauge&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Card&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Chart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ProportionChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ComparisonChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.Grid&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ChoroplethMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.BubbleMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.TreeMap&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.DrillDownChart&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.PivotGrid&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.HeatMap||!i[0].layoutInformation.Label.ShowMaximize||this.isWidget||this.model.enableWidgetMode||(o={tabindex:"0",role:"button",removeClass:"e-dbrd-widget-icons",name:"Maximize",id:this._id+i[0].layoutInformation.ReportName+"_Maximize",classname:"e-dbrd-hide-maximize",arialabel:"Maximize",datatooltip:this.locale.utils.Maximize,type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id},i[0].width<s?r.push(o):(o.classname="e-dbrd-maximize",r.push(o)));this.isFilterWidget=i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeNavigator||i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeSlider||i[0].layoutInformation.Name===t.dashboardViewer.Controls.DatePicker||i[0].layoutInformation.Name===t.dashboardViewer.Controls.FilterComboBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.CheckBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.ListBox?!0:!1;f=null;(!this.model.allowComment||this.model.enableWidgetMode||i[0].layoutInformation.Label.EnableCsvExport||i[0].layoutInformation.Label.EnableImageExport||i[0].layoutInformation.Label.EnablePdfExport||i[0].layoutInformation.Label.EnableExcelExport)&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.RangeSlider&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.DatePicker&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.FilterComboBox&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.CheckBox&&i[0].layoutInformation.Name!==t.dashboardViewer.Controls.ListBox||(f={tabindex:"0",role:"menu",name:"menu",id:this._id+i[0].layoutInformation.ReportName+"_menu",ariahaspopup:"true",arialabel:"Export Option",classname:"e-dbrd-widget-small-menu",removeClass:"e-dbrd-border e-dbrd-widget-icons",type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datatooltip:this.locale.utils.Export,margintop:"3.5px",marginright:"6px"},f.display=n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment?"block":"none",i[0].width<s?r.push(f):(f.classname="e-dbrd-widget-menu e-dbrd-border",r.push(f)));e=null;i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeNavigator||i[0].layoutInformation.Name===t.dashboardViewer.Controls.RangeSlider||i[0].layoutInformation.Name===t.dashboardViewer.Controls.DatePicker||i[0].layoutInformation.Name===t.dashboardViewer.Controls.FilterComboBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.CheckBox||i[0].layoutInformation.Name===t.dashboardViewer.Controls.ListBox||!(i[0].layoutInformation.Label.EnableCsvExport&&this.model._exportSettings.canExportCsv||i[0].layoutInformation.Label.EnableImageExport&&this.model._exportSettings.canExportImage||this.model.enableViewData&&(t.isNullOrUndefined(i[0].layoutInformation.Label.ViewData)||i[0].layoutInformation.Label.ViewData)||i[0].layoutInformation.Label.EnablePdfExport&&this.model._exportSettings.canExportPdf||i[0].layoutInformation.Label.EnableExcelExport&&this.model._exportSettings.canExportExcel||i[0].layoutInformation.Label.ShowDescription&&!this.model.allowComment)||this.isWidget||this.model.enableWidgetMode||(u="",i[0].layoutInformation.Label.EnableCsvExport&&this.model._exportSettings.canExportCsv&&(u+=" enable-csv-export"),i[0].layoutInformation.Label.EnableExcelExport&&this.model._exportSettings.canExportExcel&&(u+=" enable-excel-export"),i[0].layoutInformation.Label.EnableImageExport&&this.model._exportSettings.canExportImage&&(u+=" enable-image-export"),i[0].layoutInformation.Label.EnablePdfExport&&this.model._exportSettings.canExportPdf&&(u+=" enable-pdf-export"),this.model.enableViewData&&(t.isNullOrUndefined(i[0].layoutInformation.Label.ViewData)||i[0].layoutInformation.Label.ViewData)&&(u+=" enable-view-Data"),e={tabindex:"0",role:"menu",name:"menu",id:this._id+i[0].layoutInformation.ReportName+"_menu",ariahaspopup:"true",menuIcon:u,arialabel:"Export Option",classname:"e-dbrd-control-small-menu",removeClass:"e-dbrd-border e-dbrd-widget-icons",type:i[0].layoutInformation.Name,value:i[0].layoutInformation.Id,datatooltip:this.locale.utils.MoreOptions,margintop:"3.5px",marginright:"4px"},i[0].width<s?r.push(e):(e.classname="e-dbrd-control-menu e-dbrd-border",r.push(e)))},_resizeControls:function(i,r,u){var h,c;this.resize=!0;var e=0,o=null,f=this,s=t.DashboardConstants.Zero;switch(u.controlType){case t.dashboardViewer.Controls.Card:case t.dashboardViewer.Controls.Gauge:case t.dashboardViewer.Controls.CheckBox:this.timers.push(setTimeout(function(h){var a=[],l,v,y,c;for(s=h.data.length,e=0;e<s;e++)if(h.data[e].pageNumber===t.DashboardConstants.One){h.data[e].scrollTop=0;a.push(h.data[e]);break}if(h.data=a,h.currentPage=1,h.loadedPages=[],h.scrollSetting.scrollTop=0,l=null,h.controlType===t.dashboardViewer.Controls.Card){for(v=f.currentTabContentElement.find(".e-dbrd-control-container[type=Card]"),l=f.currentTabContentElement.find(".e-dbrd-control-container[type=Card] .e-control-heading"),y=l.length,c=t.DashboardConstants.Zero;c<y;c++)n(l[c]).css({width:n(v[c]).width()});i&&h.reportName===r.attr("data-controlid")&&(o=new Dbrdcontrol,o=o.clone(JSON.parse(JSON.stringify(u))),f._renderCards(o,{id:"",cardDiv:r,isMaximize:!1}));h.loadedPages=[];f._callFunction(f._renderCards,h)}else h.controlType===t.dashboardViewer.Controls.Gauge?(i&&u.reportName===r.attr("data-controlid")&&(o=new Dbrdcontrol,o=o.clone(h),f._renderGauges(o,{id:"",gaugeDiv:r,isMaximize:!1})),h.loadedPages=[],f._callFunction(f._renderGauges,h)):f._callFunction(f._renderCheckBoxandRadioButton,h)},t.DashboardConstants.Zero,u));break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:this.timers.push(setTimeout(function(n){var h=[],u;for(s=n.data.length,e=0;e<s;e++)if(n.data[e].pageNumber===t.DashboardConstants.One){h.push(n.data[e]);break}n.data=h;n.currentPage=1;n.loadedPages=[];u=f._getValuesFromDrillLevelData(n,n.reportName,i);i&&n.reportName===r.attr("data-controlid")&&(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?f._resizeDrilledChart(n.reportName):n.reportName.indexOf("ProportionChart")!==t.DashboardConstants.IndexLowerBound&&n.configInfo.MultipleSeries&&(o=new Dbrdcontrol,o=o.clone(n),f.target.push(""+f._id+"_maximized_"+n.reportName),f._callFunction(f._renderChart,n,{id:""+f._id+"_maximized_"+n.reportName,chartDiv:r,isMaximize:!0})));!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?f._resizeDrilledChart(n.reportName):n.reportName.indexOf("ProportionChart")!==t.DashboardConstants.IndexLowerBound&&n.configInfo.MultipleSeries&&(f.target.push(""+f._id+t.DashboardConstants.Widget+n.reportName),f._callFunction(f._renderChart,n))},t.DashboardConstants.Zero,u));break;case"parameterColumnData":for(h=[],c=u.data.length,e=0;e<c;e++)if(u.data[e].pageNumber===t.DashboardConstants.Zero){u.data[e].scrollTop=0;h.push(u.data[e]);break}h.length>t.DashboardConstants.Zero&&(this.isDashboardResize=!0,this._callFunction(this._updateParameterColumns,h[0].pagedata))}},_widgetContextMenu:function(i,r,u){var f=u;return r===t.dashboardViewer.Controls.FilterComboBox?f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dropdownlist").attr("id"):r===t.dashboardViewer.Controls.DatePicker?f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-datepicker").attr("id"):r===t.dashboardViewer.Controls.RangeSlider&&(f=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-slider").attr("id")),f},_dashboardDrillThrough:function(n){var t={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({reportName:this.dashboardPath(),controlName:n,methodName:this.model.serviceMethods.navigateTo,currentUser:JSON.stringify(this.currentUser),serverUrl:this.serverUrl()}),onSuccess:this._navigate,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(t)},_navigate:function(i,r){var a,h,l,p;!this._isAjaxCacheEnabled()||t.isNullOrUndefined(i)||t.isNullOrUndefined(i.data)||(this._getValueFromStore(i.data)||this._addToStore(i.data,r),this._cleanUpStore());var c=n.parseJSON(r.d),f=[],e="",o=null,u=t.DashboardConstants.Zero;if(c.IsReport){for(f=c.ReportName.split("\\"),e="",a=f.length,u=0;u<a;u++)e=u===t.DashboardConstants.Zero?f[u]:e+"\\\\"+f[u];h=t.buildTag("div");h.append(n('<div style="width:100%;height:100%;">').attr({id:"drilledDashboard"}));l=' $("#drilledDashboard").ejDashboardViewer({ dashboardPath:"'+e+'",url:"'+this.serviceUrl()+'",serverUrl: "'+this.serverUrl()+'"  });';o=window.open("","_blank","");var v=n("head").find("link").add("style"),y=n("head").find("script").add("style"),s="";t.browserInfo().name==="msie"?(v.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);s+=i.outerHTML}),y.each(function(t,i){i.tagName==="SCRIPT"&&n(i).attr("src",i.src);s+=i.outerHTML}),o.document.write('<html style="width:100%;height:100%;"><head><\/head><body style="width:100%;height:100%;">'+s+h[0].innerHTML+"<script>"+l+"<\/script><\/body><\/html>")):(o.document.write('<html style="width:100%;height:100%;"/>'),v.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);s+=i.outerHTML}),y.each(function(t,i){i.tagName==="SCRIPT"&&n(i).attr("src",i.src);s+=i.outerHTML}),o.document.writeln(s+'<\/head><body style="width:100%;height:100%;">'),o.document.writeln(h[0].innerHTML+"<script>"+l+"<\/script><\/body><\/html>"));o.focus()}else{for(f=c.CustomURL.split("\\"),e="",p=f.length,u=0;u<p;u++)e=u===t.DashboardConstants.Zero?f[u]:e+"\\\\"+f[u];o=window.open(e,"_blank");o.focus()}},_truncateNumber:function(n){var f=Math.pow(10,3),e=Math.pow(10,5),i=Math.pow(10,6),o=Math.pow(10,7),r=Math.pow(10,9),u=Math.pow(10,12),t=n;if(this.model.dashboardCulture==="en-IN"){if(t>=f&&t<e||t<=-f&&t>-e)return{fraction:this._calculateFraction(t,f),symbol:"K"};if(t>=e&&t<i||t<=-e&&t>-i)return{fraction:this._calculateFraction(t,e),symbol:"L"};if(t>=i&&t<o||t<=-i&&t>-o)return{fraction:this._calculateFraction(t,i),symbol:"M"};if(t>=o&&t<r||t<=-o&&t>-r)return{fraction:this._calculateFraction(t,o),symbol:"C"};if(t>=r&&t<u||t<=-r&&t>-u)return{fraction:this._calculateFraction(t,r),symbol:"B"};if(t>=u||t<=-u)return{fraction:this._calculateFraction(t,u),symbol:"T"}}else if(t>=f&&t<i||t<=-f&&t>-i)return{fraction:this._calculateFraction(t,f),symbol:"K"};return t>=i&&t<r||t<=-i&&t>-r?{fraction:this._calculateFraction(t,i),symbol:"M"}:t>=r&&t<u||t<=-r&&t>-u?{fraction:this._calculateFraction(t,r),symbol:"B"}:t>=u||t<=-u?{fraction:this._calculateFraction(t,u),symbol:"T"}:{fraction:Number(t),symbol:""}},_calculateFraction:function(n,i){return!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)?n/i:null},_applyPercentage:function(n,i,r,u){if(!t.isNullOrUndefined(n&&i&&r&&u)){t.preferredCulture(i);var f=t.globalize.parseFloat(u.toString(),i);return isNaN(f)?u:(f*=100,f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),!t.isNullOrUndefined(f.symbol))?t.globalize.format(f.fraction,n.replace("P","N"),i)+f.symbol+"%":t.globalize.format(f.fraction,n.replace("P","N"),i)+"%"}return null},_applyPercentageForChart:function(n,i,r,u){if(!t.isNullOrUndefined(n&&i&&r&&u)){t.preferredCulture(i);var f=t.globalize.parseFloat(u.toString(),i);return isNaN(f)?u:(f*=100,f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),!t.isNullOrUndefined(f.symbol))?t.globalize.format(f.fraction,n.replace("P","N"),i)+f.symbol+"%":t.globalize.format(f.fraction,n.replace("P","N"),i)+"%"}return null},_applyStringFormatting:function(n,i,r,u){var f=u;return isNaN(f)?u:(f=r===t.DashboardConstants.Zero?this._truncateNumber(f):this._applyNumberUnit(r,f),this._adjustZeros(f,r,n,i))},_applyStringFormattingForGrid:function(n,i,r,u,f,e,o,s,h){var l="",c=parseFloat(o.toString());if(isNaN(c))return o;if((Math.abs(c)>1e15||Math.abs(c)<1e-15)&&n.indexOf("N")!==-1)return f+c+e;if(n.toString().indexOf("N")>-1&&c<0){c=Math.abs(c);c=r===t.DashboardConstants.Zero?this._truncateNumber(c):this._applyNumberUnit(r,c);l=this._adjustZeros(c,r,n,i);switch(u){case"Default":l="-"+l;break;case"NoNegativeSignWithBracket":l="("+l+")";break;case"NegativeSignInSuffix":l+="-"}}else c=r===t.DashboardConstants.Zero?this._truncateNumber(c):this._applyNumberUnit(r,c),l=this._adjustZeros(c,r,n,i);return t.isNullOrUndefined(h)||t.isNullOrUndefined(s)||(l=l.replaceAll(s.CurrentValue,s.AliasValue),l=l.replaceAll(h.CurrentValue,h.AliasValue)),f+l+e},_adjustZeros:function(n,i,r,u){if(!t.isNullOrUndefined(u&&r&&i&&n)){t.preferredCulture(u);var e=r,f=n,o=parseInt(r.replace(/^\D+/g,""));return i===t.DashboardConstants.Zero?(f.fraction===t.DashboardConstants.Zero?(f={fraction:t.DashboardConstants.Zero,symbol:""},e=r.replace(o,"0")):(f.fraction===parseInt(f.fraction)||f.fraction%o===t.DashboardConstants.Zero)&&(e=r.replace(o,"0")),t.globalize.format(f.fraction,e,u)+f.symbol):i===""?f.fraction:t.globalize.format(f.fraction,e,u)+f.postFixLabel}return null},_removeWidgetSelection:function(i,r){var v=this._checkMasterData(this.CurrentMaster),y,p,b,a,k,h,d,g,nt,tt,it,o;v!==null&&this.masterData.splice(v,t.DashboardConstants.One);var e=[],f=0,u=null,s=!1,rt=t.isNullOrUndefined(this.locale.utils)?t.DashboardConstants.All:this.locale.utils.All;switch(r){case"Grid":n("#"+i).ejDashboardGrid("clearSelection");break;case"PivotGrid":n("#"+i).find(".e-pivotgrid .selected").removeClass("selected");u=n("#"+i+"_div").data("ejDashboardPivotGrid");u.model.selectedCells=null;break;case"Chart":case"ProportionChart":case"DrillDownChart":if(e=n("#"+i).find(".e-datavisualization-chart"),r==="ProportionChart"&&e.length>t.DashboardConstants.Zero)for(y=e.length,f=0;f<y;f++)u=e.eq(f).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());else u=n("#"+i).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());break;case"ComparisonChart":if(e=n("#"+i+" .e-datavisualization-chart"),e.length>t.DashboardConstants.Zero)for(p=e.length,f=0;f<p;f++)u=e.eq(f).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());else u=n("#"+i).data("ejDashboardChart"),t.isNullOrUndefined(u)||(u.model.selectedDataPointIndexes=[],u.redraw());break;case"CircularGauge":case"Gauge":n("#"+i).find(".e-circularGauge-Selected").removeClass("e-circularGauge-Selected");n("#"+i).find(".e-dbrd-selected-card").removeClass("e-dbrd-selected-card");break;case"RangeNavigator":this.flag=!1;u=n("#"+i).data("ejDashboardRangeNavigator");t.isNullOrUndefined(u)||(u.model.zoomPosition="0",u.model.zoomFactor="1",u.model.selectedRangeSettings={start:"",end:""},u.renderNavigator());this.flag=!0;break;case"BubbleMap":case"ChoroplethMap":this._clearMapSelectedShapes(i);break;case"TreeMap":var c=n("#"+i).data("ejTreeMap"),l=n("#"+i).attr("data-controlid"),w=this.dashboardControls.getControlByReport(l);w.configInfo.EnableDrillDown&&w.configInfo.ColorType==="range";c.selectedItems=[];c.model.tooltipTemplate=c.model.enableDrillDown?this._id+"_"+l+"_toolTip0":this._id+"_"+l+"_toolTip";n("#"+i).ejTreeMap("refresh");break;case"Card":n("#"+i).find(".e-dbrd-selected-card").hide().prop({"data-selected-widget":""});break;case"CheckBox":if(b=!n("#"+i).hasClass("e-dbrd-control-checkbox"),b)a=n("#"+i).find(".e-radiobtn.e-js.e-input[value="+t.DashboardConstants.All+"]"),a.length!==t.DashboardConstants.Zero&&(u=a.ejDashboardRadioButton("instance"),t.isNullOrUndefined(u)||(k=t.isNullOrUndefined(u.model)?"":u.model.change,u.model.change=null,u.option("checked",!0),u.model.change=k));else if(h=n("#"+i+" .e-checkbox.e-js.e-input"),h.length!==t.DashboardConstants.Zero)for(d=h.length,f=0;f<d;f++)t.isNullOrUndefined(u)||(u=h.eq(f).ejDashboardCheckBox("instance"),g=t.isNullOrUndefined(u.model)?"":u.model.change,u.model.change=null,u.option("checked",!0),u.model.change=g);break;case"RangeSlider":u=n("#"+i).data("ejDashboardSlider");t.isNullOrUndefined(u)||t.isNullOrUndefined(u._isDate)?(u.option("values",[u.model.minValue,u.model.maxValue]),u.option("value",u.model.maxValue)):u.model.sliderType==="range"?u.option("dateValue",[u.model.minDate,u.model.maxDate]):u.option("dateValue",u.model.maxDate);u.model.sliderType==="range"?(n("#leftcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[0]:this._applyFormattingForSlider(u.model.formatColumn,u.model.minValue)),n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[1]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue))):n("#rightcontainer_"+this.CurrentMaster).children("label").html(t.isNullOrUndefined(u.model.formatColumn)?u.getValue()[1]:this._applyFormattingForSlider(u.model.formatColumn,u.model.maxValue));break;case"DatePicker":u=n("#"+i).ejDashboardDashboardDatePicker("instance");!t.isNullOrUndefined(u)&&u&&(u.model.value=null,u.redraw());break;case"FilterComboBox":if(u=n("#"+i).data("ejDashboardDropDownList"),nt=this.dashboardControls.getControlByReport(this.CurrentMaster).configInfo,t.isNullOrUndefined(u))u=n("#"+i+"_lstbx").data("ejDashboardListBox"),s=!1,t.isNullOrUndefined(u)||(s=u.model.showCheckbox,s?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):(u.unSelectAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!0)));else{for(tt=u.model.change,u.model.change=null,u._isFilterCleared=!0,u._totalSelectedItems=[],nt.SelectFirstItem=!1,it=u.model.query._params.length,o=0;o<it;o++)switch(u.model.query._params[o].key){case"masterData":u.model.query._params[o].value=JSON.stringify(this.dashboardControls.getAllControlsMasterData());break;case"selectedItems":u.model.query._params[o].value=JSON.stringify([]);break;case"searchSelectedCount":u.model.query._params[o].value=0}u.model.showCheckbox?u.option("checkAll",!1):u.unselectItemsByIndices(u.model.selectedItems);u.clearText();u.option("watermarkText",rt);u.model.change=tt}break;case"ListBox":u=n("#"+i+"_lstbx").data("ejDashboardListBox");s=!1;t.isNullOrUndefined(u)||(s=u.model.showCheckbox,s?(u.checkAll(),n("#"+i+"_lstbx").attr("data-isuserunselect",!1)):u.unSelectAll())}},_applyNumberUnit:function(n,t){var i=10,e=2,o=4,s=5,h=3,u=6,f=7,r=1,c=Math.pow(i,h),y=Math.pow(i,s),l=Math.pow(i,u),p=Math.pow(i,f),a=Math.pow(i,9),v=Math.pow(i,12);if(this.model.dashboardCulture==="en-IN")switch(n){case r:return{fraction:t/r,postFixLabel:""};case e:return{fraction:t/c,postFixLabel:"K"};case h:return{fraction:t/y,postFixLabel:"L"};case o:return{fraction:t/l,postFixLabel:"M"};case s:return{fraction:t/p,postFixLabel:"C"};case u:return{fraction:t/a,postFixLabel:"B"};case f:return{fraction:t/v,postFixLabel:"T"};default:return{fraction:t,postFixLabel:""}}else switch(n){case r:return{fraction:t/r,postFixLabel:""};case e:return{fraction:t/c,postFixLabel:"K"};case o:return{fraction:t/l,postFixLabel:"M"};case u:return{fraction:t/a,postFixLabel:"B"};case f:return{fraction:t/v,postFixLabel:"T"};default:return{fraction:t,postFixLabel:""}}},_startSelectionMaintanenceForWidget:function(i,r){var o,u,y,p,c;if(!t.isNullOrUndefined(i)){var h=null,e=null,f=0;if(t.isNullOrUndefined(i.id)||i.id.indexOf("TreeMap")===t.DashboardConstants.IndexLowerBound)if(i.id.indexOf("Card")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.evt))if(i.id.indexOf("PivotGrid")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.evt))if(i.id.indexOf("Map")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.evt))if(i.id.indexOf("Grid")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.widgetInstance)){if(i.id.indexOf("Chart")!==t.DashboardConstants.IndexLowerBound&&!t.isNullOrUndefined(i.sender)&&!t.isNullOrUndefined(i.widgetInstance)){var l=i.sender.data.region.Region.PointIndex,a=i.sender.data.region.SeriesIndex,w=i.widgetInstance.model.series[0].selectionSettings,v=i.widgetInstance.getTargetId(a,l,w.mode),s=null;v&&(s=n("#"+v)[0].parentNode.id);var b=s.split("_svg"),k="."+b[0]+"SelectionStyleseries0",d=n("#"+s).find(k);d.length>f&&i.widgetInstance.removeSelection(a,l,i.widgetInstance.model.series,w.mode,!1,!1,!0);i.widgetInstance.selection(i.widgetInstance,i.sender,i.widgetInstance.model.series[0],!1,!1,a,l,s,v)}}else r.text==="Apply Filter"&&(this.contextMenu=!0),c=i.widgetInstance,c.selectRows(c.getIndexByRow(i.selectionEvent.row));else{if(i.evt.model.layers[0]._prevSelectedShapes.length>f){for(o=0;o<i.evt.model.layers[0]._prevSelectedShapes.length;o++)i.evt.model.layers[0]._prevSelectedShapes[o].classList.contains("e-mapSelectedShape")&&i.evt.model.layers[0]._prevSelectedShapes[o].setAttribute("class","mapShape");this._clearSelectionForWidget(i,i.id,i.widgetInstance)}u=t.isNullOrUndefined(i.evt.originalEvent[0])?i.evt.originalEvent.shape:i.evt.originalEvent[0].shape;y=i.evt.model.layers[0].shapeSettings[window.applyColor||"selectionColor"];u.setAttribute("fill",y);u.removeSelectionCSS=window.applyColor==="selectionColor";u.removeSelectionCSS=!1;p=i.evt.model.layers[0];u.setAttribute("class","e-mapSelectedShape mapShape");p._prevSelectedShapes.push(u);u&&!u.getAttribute("data-addFill")&&u.getAttribute("data-nodeValue")&&(u.setAttribute("fill",u.getAttribute("data-nodeValue")),u.setAttribute("data-addFill",!0))}else n(i.evt.target).find("tbody tr .selected").length>f&&n(i.evt.target).find("tbody tr .selected").removeClass("selected"),n(i.evt.target).find("thead tr .selected").length>f&&n(i.evt.target).find("thead tr .selected").removeClass("selected"),e=i.evt.JSONRecords[0].Index,n(i.evt.target).find('tbody tr th[p="'+e+'"]').length>f?n(i.evt.target).find('tbody tr th[p="'+e+'"]').addClass("selected").css({"background-color":""}):n(i.evt.target).find('thead tr th[p="'+e+'"]').length>f&&n(i.evt.target).find('thead tr th[p="'+e+'"]').addClass("selected").css({"background-color":""});else n(i.evt.currentTarget).css("background-color")==="rgb(247, 247, 247)"&&n(i.evt.currentTarget).css({"background-color":"white"}),n(i.evt.currentTarget).addClass("e-dbrd-clicked-card"),this._AddCardSelection([n(i.evt.currentTarget).attr("id")],n(i.evt.currentTarget).parents(".e-dbrd-control"),i.cardCount,!1,i.evt);else!t.isNullOrUndefined(i.treeMap)&&i.treeMap.model.enableDrillDown&&(h=i.evt.evt.target,n(h).hasClass("drillGroupRect")&&n(h).css({"background-color":""})),i.evt.evt.which=1,r.ID!=="50"||i.isSelected||(i.evt.evt.public=!0,i.evt.treeMap.rectClick(i.evt.evt))}},_clearSelectionForWidget:function(i,r,u){var o,a,s,e,l,h,c,y;if(!t.isNullOrUndefined(i))if(o=null,a=0,t.isNullOrUndefined(r)||r.indexOf("TreeMap")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.evt))if(t.isNullOrUndefined(r)||r.indexOf("PivotGrid")===t.DashboardConstants.IndexLowerBound)if(t.isNullOrUndefined(r)||r.indexOf("Card")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(i.evt.currentTarget))if(t.isNullOrUndefined(r)||r.indexOf("Map")===t.DashboardConstants.IndexLowerBound||!r.indexOf("TreeMap")===t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(u))if(t.isNullOrUndefined(r)||r.indexOf("Grid")===t.DashboardConstants.IndexLowerBound){if(!t.isNullOrUndefined(r)&&r.indexOf("Chart")!==t.DashboardConstants.IndexLowerBound&&(h=n("#"+u._id).find('[class*="Selection"]'),h.length>a))for(c=0;c<h.length;c++)y=n(h[c]).attr("data-controlid"),y==="contextMenu"}else n("table .ehover").removeClass("ehover");else{u.clearShapeSelection();var p=t.isNullOrUndefined(i.evt.originalEvent[0])?i.evt.originalEvent.shape:i.evt.originalEvent[0].shape,v=[],f=i.evt.model.layers[0];for(s=0;f&&s<f._prevSelectedShapes.length;s++)e=f._prevSelectedShapes[s],l=p.getAttribute("nodeValue"),l&&!e.classList.contains("e-mapSelectedShape")?(e.setAttribute("fill",l),e.setAttribute("class","mapShape"),e.removeSelectionCSS=!1):v.push(e);f&&(f._clearShapeWidth(),f._prevSelectedShapes=v)}else n(i.evt.currentTarget).css("background-color")==="rgb(247, 247, 247)"&&n(i.evt.currentTarget).css({"background-color":"white"});else n(u.element).find("th").filter(function(){return n(this).css("background-color")==="rgb(119, 167, 251)"&&n(this).css("background-color",""),null});else o=i.evt.target,n(o).css("background-color")==="white"&&n(o).css({"background-color":""})},_setHoverSelectionForWidget:function(i,r,u){var v=0,c,f,y,p,e,s,w,o,l,b,g,nt;if(!t.isNullOrUndefined(i))if(t.isNullOrUndefined(i.id)||t.isNullOrUndefined(i.configInfo)||(i.configInfo&&i.configInfo.Id.indexOf("TreeMap")!==t.DashboardConstants.IndexLowerBound&&!t.isNullOrUndefined(i.treeMap)&&i.treeMap.model.enableDrillDown?(c=i.event.target,n(c).hasClass("drillGroupRect")&&n(c).css({"background-color":"white"})):i.id.indexOf("Card")!==t.DashboardConstants.IndexLowerBound?(t.isNullOrUndefined(n(i.evt))||n(i.evt.currentTarget).css("background-color")!=="rgb(255, 255, 255)")&&n(i.evt.currentTarget).css("background-color")!=="rgb(247, 247, 247)"||n(i.evt.currentTarget).css({"background-color":"#f7f7f7"}):i.id.indexOf("PivotGrid")!==t.DashboardConstants.IndexLowerBound&&n(i.evt.args.args.target).length>v&&(n(i.evt.args.args.target).is("span")?n(n(i.evt.args.args.target).parents()[0]).css({"background-color":"#77a7fb"}):n(i.evt.args.args.target).css({"background-color":"#77a7fb"}))),t.isNullOrUndefined(r)||r.indexOf("Map")===t.DashboardConstants.IndexLowerBound)if(t.isNullOrUndefined(r)||r.indexOf("Grid")===t.DashboardConstants.IndexLowerBound){if(!t.isNullOrUndefined(r)&&r.indexOf("Chart")!==t.DashboardConstants.IndexLowerBound&&!t.isNullOrUndefined(u)){if(e=n("#"+u._id).find('[class*="Selection"]'),e.length>v)for(s=0;s<e.length;s++)w=n(e[s]).attr("data-controlid"),w==="contextMenu"&&n("#"+e[s].id).attr("class","");for(o=0;o<e.length;o++)l=n(e[o]).attr("data-controlid"),b=n(e[o]).attr("class"),(i.rightClick||l!=="dbclick"||b.indexOf("Selection")===-1)&&l!=="filter"||n("#"+e[o].id).attr("class","");var k=i.data.region.Region.PointIndex,d=i.data.region.SeriesIndex,tt=u.model.series[0].highlightSettings,a=null,h=u.getTargetId(d,k,tt.mode);h&&(a=n("#"+h)[0].parentNode.id);g={id:a};nt={target:{id:h,parentNode:g}};u.selection(u,nt,u.model.series[0],!1,!1,d,k,a,h)}}else n(i.row).closest("tr[role='row']").addClass("ehover");else f=t.isNullOrUndefined(i.originalEvent[0])?i.originalEvent.shape:i.originalEvent[0].shape,i.model.layers[0].shapeSettings.highlightColor="#d3d3d3",y=i.model.layers[0].shapeSettings[window.applyColor||"highlightColor"],f.setAttribute("fill",y),f.removeSelectionCSS=window.applyColor==="highlightColor",f.removeSelectionCSS=!0,p=i.model.layers[0],p._prevSelectedShapes.push(f),f&&!f.getAttribute("data-addFill")&&f.getAttribute("data-nodeValue")&&(f.setAttribute("fill",f.getAttribute("data-nodeValue")),f.setAttribute("data-addFill",!0))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.sdk={exportToPdf:function(n,i,r,u,f,e,o,s,h){var w="pdf",a=[],c=0,d,v,l,b,g,nt,y,p,it;if(o&&this.onDemandTabs)this._defaultSelection(),this.multiDashboardExport=!0,this._exportDashboardPdf(i,r,u,w,e),a=this._getSuccessStatus(null,this.onDemandTabs);else if(o&&!this.onDemandTabs)this._exportDashboardPdf(i,r,u),d=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),a=this._getSuccessStatus(d,this.onDemandTabs);else if(!o&&s.length>t.DashboardConstants.Zero)v=this._getDashboardSelectionDetails(s),this._getSelectedDashboardInfo(v),v[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,this._exportDashboardPdf(i,r,u,w,e)),a=this._getStatus(v);else if(h.length>t.DashboardConstants.Zero){if(l=this._getWidgetSelectionDetails(h),b=!1,l[t.DashboardConstants.Zero].selectedWidgetsList.length>t.DashboardConstants.Zero){for(b=!0,this._exportDashboardPdf(i,r,u,w,e,l[t.DashboardConstants.Zero].selectedWidgetsList,b),g=l[t.DashboardConstants.Zero].selectedWidgetNames.length,c=0;c<g;c++)a.push({status:this.locale.utils.Success,name:l[t.DashboardConstants.Zero].selectedWidgetNames[c]});if(l[t.DashboardConstants.Zero].nonMatchedItems.length>t.DashboardConstants.Zero)for(nt=l[t.DashboardConstants.Zero].nonMatchedItems.length,c=0;c<nt;c++)a.push({status:this.locale.utils.Failure,name:l[t.DashboardConstants.Zero].nonMatchedItems[c],Reason:this.locale.errorMessages.ErrorInMultipleWidgetExport})}}else{var k=this.currentTabContentElement.find(".e-dbrd-control-container"),tt=!1,rt=t.isNullOrUndefined(k)?t.DashboardConstants.Zero:k.length;for(y=0;y<rt;y++)if(p=k.eq(y),it=p.attr("data-widget-id"),it===n){this.orientation=f;var ut=p.find(".e-dbrd-control").attr("id"),ft=p.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype"),et={type:ft,element:ut,filename:i,pageSizeType:r,title:u};this._exportControlPdf(et,e);tt=!0;break}a=tt?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return a},resizeDashboard:function(){this._resizeDashboard()},refreshData:function(n){!t.isNullOrUndefined(n)&&n&&this.clearAllFilters();!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters.trim().length>t.DashboardConstants.Zero?this._initializeFilterParameters():this.initialFilters=[];this.refreshDashboard(null,!1)},applyComments:function(i){var o=null,r=null,s=null,h=null,u=null,a,f,v,c,y,e,p,l;if(this.model.allowComment){if(this.model.commentSettings=i,!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.widgets)){for(o=i.widgets.length>t.DashboardConstants.Zero?i.widgets:"",r=this.currentTabContentElement.find(".e-dbrd-control-container"),u=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),a=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,f=0;f<a;f++)for(v=n(r[f]).attr("id"),c=0;c<o.length;c++)o[c]===v&&(t.isNullOrUndefined(i.isWidgetCommented)||(i.isWidgetCommented?(s=n(r[f]).find(".e-dbrd-banner-widget-withoutcomments"),s.length>t.DashboardConstants.Zero&&s.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")):(s=n(r[f]).find(".e-dbrd-banner-widget-withcomments"),s.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"))));for(y=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,e=0;e<y;e++)for(p=n(u[e]).attr("id"),l=0;l<o.length;l++)o[l]===p&&(t.isNullOrUndefined(i.isWidgetCommented)||(i.isWidgetCommented?(h=n(u[e]).find(".e-dbrd-filterPanel-widget-withoutcomments"),h.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")):(h=n(u[e]).find(".e-dbrd-banner-widget-withcomments"),h.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-filterPanel-widget-withoutcomments"))))}t.isNullOrUndefined(i)||t.isNullOrUndefined(i.isDashboardCommented)||(i.isDashboardCommented?this.currentTabContentElement.find(".e-dbrd-banner .e-dbrd-banner-dashboardwithoutcomment").removeClass("e-dbrd-banner-dashboardwithoutcomment").addClass("e-dbrd-banner-dashboardwithcomment"):this.currentTabContentElement.find(".e-dbrd-banner .e-dbrd-banner-dashboardwithcomment").removeClass("e-dbrd-banner-dashboardwithcomment").addClass("e-dbrd-banner-dashboardwithoutcomment"))}},setFocus:function(t){n(t).focus()},applyCustomTheme:function(i,r){var b,k,d,a,y,v;if(this.model.enableCustomTheming&&!t.isNullOrUndefined(r)&&r!==""){this._filterPanelCustomValues(i,r);for(var w=0,u=null,e=null,f=this.dashboardControls.controls,g=f.length,u=w;u<g;u++)if(f[u].controlType===i.controlType&&f[u].reportName===i.reportName)if(f[u].controlType==="CustomWidget"){if(b=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLocaleLowerCase()],k=b[r],f[u].customTheme=k,this.model.enableCustomTheming&&!t.isNullOrUndefined(f[u].customTheme))for(var o=0,s=0,l=Object.keys(f[u].customTheme),nt=t.isNullOrUndefined(f[u].configInfo.Properties)?t.DashboardConstants.Zero:f[u].configInfo.Properties.length,o=0;o<nt;o++)for(d=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length,s=0;s<d;s++)if(l[s]===f[u].configInfo.Properties[o].PropertyName){f[u].configInfo.Properties[o].PropertyValue=f[u].customTheme[l[s]];break}}else if(f[u].controlType==="BubbleMap"||f[u].controlType==="ChoroplethMap"||f[u].controlType==="TreeMap"||f[u].controlType==="RangeNavigator"||f[u].controlType==="Gauge"||f[u].controlType==="Chart"||f[u].controlType==="ComparisonChart")this._customThemeforAPI(i,f[u],r);else if(a=i.isMaximize?i.Id:this._id+t.DashboardConstants.Widget+i.reportName,f[u].controlThemeName=r,this.model.customThemeSettings.widgetThemeSettings!==null&&(y=n("<style>").attr("id",a+"_style"),v=this.model.customThemeSettings.widgetThemeSettings[i.controlType.toLowerCase()],v!==null&&v[r]!==null)){var p=v[r],h=Object.keys(p),c=null,tt=h.length;for(e=w;e<tt;e++)t.isNullOrUndefined(c)?c=this._generateCSSFromJson(a,i.controlType,h[e],p[h[e]],i.isMaximize?i.reportName:i.configInfo.Id):c+=" "+this._generateCSSFromJson(a,i.controlType,h[e],p[h[e]],i.isMaximize?i.reportName:i.configInfo.Id);t.isNullOrUndefined(c)||(y.append(c),n("head").append(y))}}},getWidgetTitle:function(n){return this._getWidgetDetails(n)===""?this._getWidgetDetails(n):{type:this._getWidgetDetails(n).type,title:this._getWidgetDetails(n).title}},getWidgetId:function(n){return this._getWidgetDetails(n)===""?this._getWidgetDetails(n):this._getWidgetDetails(n).id},clearAllFilters:function(){var n=this.dashboardControls.getAllControlsMasterData();n.length!==t.DashboardConstants.Zero&&this._clearAllFilters()},clearWidgetFilter:function(n,i){var e=null,o,f;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(this._isFilterPanelWidget(n)){this.filterPanelObj.CurrentMaster=n;o=this._getMasterElementName(n)+t.DashboardConstants.Widget+n;this.filterPanelObj._removeAppliedFilter(o,i);return}var r=this._id+t.DashboardConstants.Widget+n,s=r+"_removeControlFilter",u=this.currentTabContentElement.find("#"+s);if(!t.isNullOrUndefined(u)||u.length===t.DashboardConstants.Zero){if(u.hasClass("e-remove-control-filter-disable"))return;u.addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");u.parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}i==="Gauge"&&(f=this.currentTabContentElement.find("#"+r),f.find(".e-dbrd-selected-card").length!==t.DashboardConstants.Zero&&f.find(".e-dbrd-selected-card").removeClass("e-dbrd-selected-card"));(i==="Gauge"||i==="Card")&&(e={target:this.currentTabContentElement.find("#"+r)});i==="ProportionChart"&&(r=this._id+t.DashboardConstants.Widget+n);this.CurrentMaster=n;this._removeAppliedFilter(r,i,e)}},getCurrentFilters:function(){var n=this.dashboardControls.getAllControlsMasterData(),i=this._getAppliedDashboardParameters(),r;return n.length===t.DashboardConstants.Zero&&i.length===t.DashboardConstants.Zero?t.isNullOrUndefined(this.isInitialFilterApplied)?{masterData:null,encryptedData:null,isInitialFilter:null}:{masterData:null,encryptedData:"filterQuery=''",isInitialFilter:this.isInitialFilterApplied}:(n=this.dashboardControls.minifySelectedFilterInfo(n),n=n.concat(i),r="filterQuery="+encodeURI(JSON.stringify(n)),{masterData:this.appliedFilterData,encryptedData:r,isInitialFilter:this.isInitialFilterApplied})},getCurrentDashboardFilters:function(){for(var o,u,s,f,r=null,n="",e=0,i=t.DashboardConstants.Zero;i<this.dashboardDetails.length;i++){for(o=!1,u=t.DashboardConstants.Zero;u<this.tabInfoCollection.length;u++)if(this.tabInfoCollection[u].initPrivatePropertiesInfo._id.indexOf(this.dashboardDetails[i].DashboardName)!==t.DashboardConstants.IndexLowerBound){if(o=!0,r=this.tabInfoCollection[u].initPrivatePropertiesInfo.dashboardControls.getAllControlsMasterData(),s=this._getAppliedDashboardParameters(),r.length===t.DashboardConstants.Zero&&s.length===t.DashboardConstants.Zero){n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId:n+"::"+this.dashboardDetails[i].DashboardId;e+=t.DashboardConstants.One;break}r=this.dashboardControls.minifySelectedFilterInfo(r);r=r.concat(s);n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId+":"+encodeURI(JSON.stringify(r)):n+"::"+this.dashboardDetails[i].DashboardId+":"+encodeURI(JSON.stringify(r));break}o||(f=this.getCurrentFiltersRevamp(),this.dashboardDetails[i].DashboardId===this.model._selectedTabGuid&&f!==null?n=n===""?f.encryptedData:n+"::"+f.encryptedData.substr(12):(e+=t.DashboardConstants.One,n=n===""?"filterQuery="+this.dashboardDetails[i].DashboardId:n+"::"+this.dashboardDetails[i].DashboardId))}return this.dashboardDetails.length===e?null:{encryptedData:n}},getCurrentFiltersRevamp:function(){var n=this.dashboardControls.getAllControlsMasterData(),i=this._getAppliedDashboardParameters(),r;return n.length===t.DashboardConstants.Zero&&i.length===t.DashboardConstants.Zero?null:(n=this.dashboardControls.minifySelectedFilterInfo(n),n=n.concat(i),r="filterQuery="+this.model._selectedTabGuid+":"+encodeURI(JSON.stringify(n)),{masterData:this.appliedFilterData,encryptedData:r})},updateFilterOverview:function(i,r){var s,h,l;if(!t.isNullOrUndefined(this.model.filterOverviewSettings)){this.model.filterOverviewSettings.viewName=i;this.model.filterOverviewSettings.viewId=r;this.filterDataLength=this.appliedFilterData;var f=this.element.find(".e-dbrd-filterListMenuPopUp"),e=f.find(".e-dbrd-save-filterData"),c=f.find(".e-dbrd-saveAs-filterData"),u=f.find(".e-dbrd-filter-nameList"),o=f.find(".e-dbrd-filterOverView-menu");t.isNullOrUndefined(i)||(n(window).width()<t.DashboardConstants.MobileWidth?(s=!1,h=f.find(".e-dbrd-saveViewed-filters").css({height:"45px",display:"block"}),u.length===t.DashboardConstants.Zero?(u=n("<div>").addClass("e-dbrd-filter-nameList").css({padding:"14px 10px"}),u.html(i)):(s=!0,u.html(i)),e.length!==t.DashboardConstants.Zero&&e.css({display:"none"}),t.isNullOrUndefined(o)||o.length===t.DashboardConstants.Zero?(l=n("<div>").addClass("e-dbrd-filterOverView-menu"),s||h.append(u),(this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon)&&h.append(l)):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon||o.remove()):(this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showSaveAsIcon?(e.css({cursor:"default",color:"#dbdbdb"}),c.css({cursor:"pointer",color:"#6d6e70"}),u.html(i)):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?this.model.filterOverviewSettings.showSaveIcon?(e.css({cursor:"default",color:"#dbdbdb"}),u.html(i)):(c.css({cursor:"pointer",color:"#6d6e70"}),u.html(i)):u.html(i),this.model.filterOverviewSettings.showViewSavedFilterIcon&&f.find(".e-dbrd-view-saved").css({display:"block"})))}},showViewSavedFilter:function(n){var i=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp"),r=i.find(".e-dbrd-view-saved");i.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(n)&&n?r.css({display:"block"}):r.css({display:"none"})},redrawDashboard:function(){this._clearTimers();this._unWireEvents();this._destroy();this.element.empty().addClass("e-dashboardviewer"+this.model.cssClass);this._init()},refreshDashboard:function(i,r,u,f){this.pagesToRefresh.length===t.DashboardConstants.Zero&&(this.pagesToRefresh=this._getPageForCurrentView());this._clearTimers();this._clearCacheOnRefresh();var e=this,o={},s=!1,h=JSON.parse(JSON.stringify(e.dashboardParameters));setTimeout(function(){var w=f,b={},it=[],v,rt,l,c,d,ut,g,k,tt,ft;t.isNullOrUndefined(i)?b=e.dashboardControls.getAllControlsForRefresh():(v=e.dashboardControls.getControlByReport(i),rt={currentPage:t.isNullOrUndefined(v)?null:v.currentPage,reportName:t.isNullOrUndefined(v)?null:v.reportName,controlPerPage:!t.isNullOrUndefined(v)&&!t.isNullOrUndefined(v.scrollSetting)?v.scrollSetting.controlPerPage:null},it.push(rt),b=it);e._trigger("actionBegin",{eventType:t.dashboardViewer.event.refresh,source:{element:i,data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(e.dashboardControls.getAllControlsMasterData())}});l=e._isFilterPanelWidget(i)&&!t.isNullOrUndefined(e.model.filterPanelSettings.filterPanelId)&&!t.isNullOrUndefined(e.filterPanelDiv)?e.filterPanelDiv.find(".e-dbrd-control"):e.currentTabContentElement.find(".e-dbrd-control");c=0;t.isNullOrUndefined(e.filterPanelObj)||e.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||e.filterPanelObj.showLoader();var y=null,a="",et=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length;for(c=0;c<et;c++)y=n(l[c]).parents(".e-dbrd-control-container"),a=l.eq(c).attr("data-controlid"),l[c].id!==""&&e.target.push(l[c].id),e._isFilterPanelWidget(a)||t.isNullOrUndefined(a)||(i===null?(d=e.dashboardControls.getControlByReport(a),e.isExtendedLayout&&!t.isNullOrUndefined(d)&&e.pagesToRefresh.indexOf(d.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?e._createControlWaitingIndicator(y,!0):e.isExtendedLayout||e._createControlWaitingIndicator(y,!0)):a===i&&e._createControlWaitingIndicator(y,!0));for(l=e.currentTabContentElement.find(".e-FilterBox"),ut=t.isNullOrUndefined(l)?t.DashboardConstants.Zero:l.length,c=0;c<ut;c++)y=n(l[c]).parents(".e-dbrd-control-container"),l[c].id!==""&&e.target.push(l[c].id),a=l.eq(c).attr("data-controlid"),e._isFilterPanelWidget(a)||t.isNullOrUndefined(a)||(i===null?(g=e.dashboardControls.getControlByReport(a),e.isExtendedLayout&&!t.isNullOrUndefined(g)&&e.pagesToRefresh.indexOf(g.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?e._createControlWaitingIndicator(y,!0):e.isExtendedLayout||e._createControlWaitingIndicator(y,!0)):a===i&&e._createControlWaitingIndicator(y,!0));var ot=e.model.localeSettings.resourcePath,st=e.model.localeSettings.dateFormat,ht=e.model.localeSettings.culture,nt=e._getGridSettings(),p=e._getPivotGridSettings();for((n.isEmptyObject(p)||n.isEmptyObject(p.valueSorting)&&p.sortedHeaders==="")&&(p=null),nt.length===t.DashboardConstants.Zero&&(nt=""),t.isNullOrUndefined(w)&&!e.isFromHistory&&(w=e.dashboardControls.getAllControlsMasterData()),c=0;c<b.length;c++)k=e.dashboardControls.getControlByReport(b[c].reportName),k.expandedNodes&&k.expandedNodes.length!==t.DashboardConstants.Zero&&(o[k.reportName]=k.expandedNodes);tt=e.currentTabContentElement.find(".e-dbrd-filterListMenu");t.isNullOrUndefined(w)||w.length!==t.DashboardConstants.Zero||t.isNullOrUndefined(tt)||tt.css("display")!=="none"||(s=!0);e.refreshedPages=e.refreshedPages.concat(e.pagesToRefresh.filter(function(n){return e.refreshedPages.indexOf(n)<t.DashboardConstants.Zero}));ft={type:"POST",url:e.serviceUrl()+"/"+e.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:e.dashboardPath(),data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(w),rangeData:JSON.stringify(e.rangeData),widgetInfo:JSON.stringify(b),modifiedConnectionStrings:e.modifiedConnectionStrings,rowCountList:e.model.autoRefreshSettings.trackData?e.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(e.currentUser),itemId:e.itemId,isRefresh:r,isPublic:e.isPublicDashboard,customLanguagePath:ot,dateFormat:st,timeFormat:e.model.localeSettings.timeFormat,customCulture:ht,isWidget:e.model.enableWidgetMode,widgetName:e.widgetModeSettings.name,widgetId:e.widgetModeSettings.id,filterParameters:JSON.stringify(e.initialFilters),dashboardName:e.dashboardName,dashboardParameterSettings:e._setAjaxDashboardParameterValue(h),gridSettings:JSON.stringify(nt),valueSorting:t.isNullOrUndefined(p)?null:JSON.stringify(p),page:JSON.stringify(e.pagesToRefresh),expandedmembers:JSON.stringify(o),isInitialFilterCleared:s,methodName:e.model.serviceMethods.getRefreshControlData,serverUrl:e.serverUrl(),isWebDesigner:e.model._isWebDesigner}),onSuccess:e._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};e.doAjaxPost(ft);e._destroyDashboardMenu();e._trigger("actionComplete",{eventType:t.dashboardViewer.event.refreshComplete,source:{element:i,data:u?JSON.stringify(e.model.currentMasterReport):JSON.stringify(e.dashboardControls.getAllControlsMasterData())}})},t.DashboardConstants.Zero)},loadLayout:function(i,r){var f,u,e;this.currentTabContentElement.html("");this.initialDashboard=null;f=!1;r&&(this.initialDashboard={id:this.model._selectedTabGuid,index:this.model.selectedTabIndex,name:this.model.selectedTabName});this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip"));this.onDemandTabs||n("#"+this._id).append('<div class="e-dbrd-desc-tooltip"><\/div>');this.model.enableCustomTheming&&this._customTheme(["font"]);this.isWidget||this._showWaitingPopup(!1);i!==null&&this.dashboardPath(i);u={Id:null,IsGroup:!1,UserName:null,FullName:null,Email:null,AccessToken:this.model.accessToken};this._trigger("setCurrentUser",{model:this.model,data:u});t.isNullOrUndefined(u.Id)&&t.isNullOrUndefined(u.AccessToken)||(this.currentUser=u);(this.dashboardParameters.length===t.DashboardConstants.Zero||r)&&(f=!0);var o=this.model.localeSettings.resourcePath,s=this.model.localeSettings.dateFormat,h=this.model.localeSettings.culture;this.dashboardPath()!==""&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeLayoutRender,source:{element:this.dashboardPath(),data:null}}),this.isLink&&this.isExtendedLayout&&(this.pageInfo=[t.DashboardConstants.One],this.pageInformations=[t.DashboardConstants.One]),e={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),action:JSON.stringify([{Method:"LoadLayout"}]),data:null,serverSideCache:this.model.enableServerSideCache,modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,customLanguagePath:o,dateFormat:s,timeFormat:this.model.localeSettings.timeFormat,customCulture:h,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:JSON.stringify(this.initialDashboard),dashboardParameterSettings:this._stringifyParameterValue(this.model.dashboardParameterSettings),isDashboardParametersNeed:f,methodName:this.model.serviceMethods.initializeControl,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._renderDashboardLayout,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(e),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.layoutRendered,source:{element:this.dashboardPath(),data:null}}))},loadDashboard:function(n){var u;this._destroyWaitingPopup();this._destroyWaitingPopup();n!==null&&this.dashboardPath(n);u=this.includeGlobalFilter?this.dashboardControls.getAllControlsMasterData():null;this._fillDashboardParametersfromIntialFiltersifAny(this.initialFilters);var i=this,f=this.model.localeSettings.resourcePath,e=this.model.localeSettings.dateFormat,o=this.model.localeSettings.culture,s=JSON.parse(JSON.stringify(this.dashboardParameters)),r={dashboardPath:i.dashboardPath(),action:JSON.stringify([{Method:"Initialize"}]),data:t.isNullOrUndefined(i.model.currentMasterReport)?t.isNullOrUndefined(u)?null:JSON.stringify(u):JSON.stringify(i.model.currentMasterReport),serverSideCache:i.model.enableServerSideCache,filterParameters:JSON.stringify(i.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,customLanguagePath:f,dateFormat:e,timeFormat:this.model.localeSettings.timeFormat,customCulture:o,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(s),isDashboardParametersNeed:!1,page:JSON.stringify(this.pageInfo),isGetLinkDashboard:this.isGetLinkDashboard,isLinking:this.isLink,methodName:this.model.serviceMethods.initializeControl,serverUrl:this.serverUrl(),dataSourceCollection:JSON.stringify(this.dataSourceInfoCollection),isWebDesigner:this.model._isWebDesigner};this._trigger("onApplyConnection",{model:this.model,data:r,tabId:this._id});r.token=this.token;setTimeout(function(){if(i.dashboardPath()!==""){i._trigger("actionBegin",{eventType:t.dashboardViewer.event.onApplyConnection,source:{element:i.dashboardPath(),data:r}});i.modifiedConnectionStrings=r.modifiedConnectionStrings;var n={type:"POST",url:i.serviceUrl()+"/"+i.model.serviceMethods.processRequestForPost,data:JSON.stringify(r),onSuccess:i._renderControl,needRequestParameter:!1,additionalParameter:null};i.doAjaxPost(n)}},100)},loadDashboardOnDemand:function(){var r;this._destroyWaitingPopup();this._fillDashboardParametersfromIntialFiltersifAny(this.initialFilters);var n=this,e=this.model.localeSettings.resourcePath,o=this.model.localeSettings.dateFormat,s=this.model.localeSettings.culture,h=JSON.parse(JSON.stringify(this.dashboardParameters)),i=this.dashboardControls.getAllControlsMasterData(),u=!1,f=n.currentTabContentElement.find(".e-dbrd-filterListMenu");t.isNullOrUndefined(i)||i.length!==t.DashboardConstants.Zero||t.isNullOrUndefined(f)||f.css("display")!=="none"||(u=!0);r={dashboardPath:n.dashboardPath(),action:JSON.stringify([{Method:"Initialize"}]),data:t.isNullOrUndefined(i)?null:JSON.stringify(i),serverSideCache:n.model.enableServerSideCache,filterParameters:JSON.stringify(n.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,customLanguagePath:e,dateFormat:o,timeFormat:this.model.localeSettings.timeFormat,customCulture:s,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(h),isDashboardParametersNeed:!1,page:JSON.stringify(this.pageInfo),isInitialFilterCleared:u,isGetLinkDashboard:this.isGetLinkDashboard,methodName:this.model.serviceMethods.initializeControl,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner};r.token=this.token;setTimeout(function(){if(n.dashboardPath()!==""){n.modifiedConnectionStrings=r.modifiedConnectionStrings;var t={type:"POST",url:n.serviceUrl()+"/"+n.model.serviceMethods.processRequestForPost,data:JSON.stringify(r),onSuccess:n._renderControl,needRequestParameter:!1,additionalParameter:null};n.doAjaxPost(t)}},100);i.length===t.DashboardConstants.Zero||t.isNullOrUndefined(this.filteredInfo)||t.isNullOrUndefined(this.filteredInfo.filteredPages)||this.filteredInfo.filteredPages.push(this.pageInfo[t.DashboardConstants.Zero]);t.isNullOrUndefined(this.filteredInfo)||this.filteredInfo.filteredPages.length!==this.actualPages.length||(this.filteredInfo=null)},exportToImage:function(n,i,r,u,f,e,o,s){var h=0,c=[],v,y,p,l,w,k;if(o&&this.onDemandTabs)this._defaultSelection(),this.multiDashboardExport=!0,v={imageType:i,resolution:r,filename:u,title:f,fileType:"zip"},this._exportDashboardImage(v,e),c=this._getSuccessStatus(null,this.onDemandTabs);else if(o&&!this.onDemandTabs)y={imageType:i,resolution:r,filename:u,title:f},this._exportDashboardImage(y,e),p=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),c=this._getSuccessStatus(p,this.onDemandTabs);else if(!o&&s.length>t.DashboardConstants.Zero)l=this._getDashboardSelectionDetails(s),this._getSelectedDashboardInfo(l),l[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,w={imageType:i,resolution:r,filename:u,title:f,fileType:"zip"},this._exportDashboardImage(w,e)),c=this._getStatus(l);else{var a=this.currentTabContentElement.find(".e-dbrd-control-container"),b=!1,g=t.isNullOrUndefined(a)?t.DashboardConstants.Zero:a.length;for(h=0;h<g;h++)if(k=a.eq(h).attr("data-widget-id"),k===n){var d=a.eq(h),nt=d.find(".e-dbrd-control").attr("id"),tt=d.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype"),it={type:tt,element:nt,resolution:r,imageType:i,filename:u,title:f};this._exportControlImage(it,e);b=!0;break}c=b?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return c},exportToExcel:function(n,i,r,u,f,e,o,s){var v=this.currentTabContentElement.find(".e-dbrd-control-container"),a=[],h={},l,c,b,y,p,k,d,w;h.headerText=i;l=0;c="";switch(r){case"xlsx":case this.locale.utils.ExportToExcel2013:c=this.locale.utils.ExportToExcel2013;break;default:c=this.locale.utils.ExportToExcel97To2003}if(t.isNullOrUndefined(s)||(this.tempViewDataDetails.isViewDataExport=this.tempViewDataDetails.isRawData=s),f&&this.onDemandTabs&&!o)this.multiDashboardExport=!0,this._exportDataAsExcel(h,c,r,u),a=this._getSuccessStatus(null,this.onDemandTabs);else if(f&&!this.onDemandTabs||o)this._exportDataAsExcel(h,c,r,u),b=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),a=this._getSuccessStatus(b,this.onDemandTabs);else if(!f&&e.length>t.DashboardConstants.Zero)y=this._getDashboardSelectionDetails(e),this._getSelectedDashboardInfo(y),y[t.DashboardConstants.Zero].selectedItems.length>t.DashboardConstants.Zero&&(this.multiDashboardExport=!0,this._exportDataAsExcel(h,c,r,u)),a=this._getStatus(y);else{for(p=!1,k=t.isNullOrUndefined(v)?t.DashboardConstants.Zero:v.length,l=0;l<k;l++)if(d=v.eq(l).attr("data-widget-id"),d===n){w=v.eq(l);h.controlId=n;h.controlType=w.find(".e-dbrd-control").parents(".e-dbrd-layout-cell").attr("data-controltype");(t.isNullOrUndefined(i)||i==="")&&(h.headerText=w.find(".e-control-title").html());h.controlType==="CircularGauge"&&(h.controlType="Gauge");this._exportDataAsExcel(h,c,r,u);p=!0;break}a=p?this._getSuccessStatus(n,!1):this._getFailureStatusForWidget(n)}return this.tempViewDataDetails.isViewDataExport=this.tempViewDataDetails.isRawData=!1,a},removeCommentToggleState:function(){var i=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked"),n;i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");n=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");n.length>t.DashboardConstants.Zero&&n.removeClass("e-dbrd-banner-widget-withcomments-menuClicked")},dynamicwithCommentIconChange:function(i){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),f,o,e,s,u,h;if(!t.isNullOrUndefined(this.filterPanelId))for(f=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,e=0;e<o;e++)r.push(f[e]);for(s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)if(h=n(r[u]).attr("id"),i===h){var c=n(r[u]).find(".e-dbrd-banner-widget-withoutcomments"),l=n(r[u]).parents(".e-dbrd-inactive").find(".e-dbrd-banner-widget-withoutcomments"),a=n(r[u]).find(".e-dbrd-filterPanel-widget-withoutcomments");c.length>t.DashboardConstants.Zero?c.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"):a.length>t.DashboardConstants.Zero?a.removeClass("e-dbrd-filterPanel-widget-withoutcomments").addClass("e-dbrd-filterPanel-widget-withcomments"):l.length>t.DashboardConstants.Zero&&l.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")}},dynamicwithoutCommentIconChange:function(i){var r=this.currentTabContentElement.find(".e-dbrd-control-container"),f,o,e,s,u,h;if(!t.isNullOrUndefined(this.filterPanelId))for(f=n("#"+this.filterPanelId).find(".e-dbrd-control-container"),o=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,e=0;e<o;e++)r.push(f[e]);for(s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)if(h=n(r[u]).attr("id"),i===h){var c=n(r[u]).find(".e-dbrd-banner-widget-withcomments"),l=n(r[u]).parents(".e-dbrd-inactive").find(".e-dbrd-banner-widget-withcomments"),a=n(r[u]).find(".e-dbrd-filterPanel-widget-withcomments");c.length>t.DashboardConstants.Zero?c.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"):a.length>t.DashboardConstants.Zero?a.removeClass("e-dbrd-filterPanel-widget-withcomments").addClass("e-dbrd-filterPanel-widget-withoutcomments"):l.length>t.DashboardConstants.Zero&&l.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments")}},toggleDashboardComment:function(){var n=this.currentTabContentElement.find(".e-dbrd-banner-dashboardwithcomment"),i=this.currentTabContentElement.find(".e-dbrd-banner-dashboardwithoutcomment");n.length>t.DashboardConstants.Zero?n.removeClass("e-dbrd-banner-dashboardwithcomment").addClass("e-dbrd-banner-dashboardwithoutcomment"):i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-dashboardwithoutcomment").addClass("e-dbrd-banner-dashboardwithcomment")},toggleWidgetComment:function(){this.element.find(".e-dbrd-tooltip").hide();var n=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments"),i=this.currentTabContentElement.find(".e-dbrd-banner-widget-withoutcomments");n.length>t.DashboardConstants.Zero?n.removeClass("e-dbrd-banner-widget-withcomments").addClass("e-dbrd-banner-widget-withoutcomments"):i.length>t.DashboardConstants.Zero&&i.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments")},toggleFavoriteIcon:function(){if(this.model.favoriteSettings.enabled){var n=this.element.find(".e-dbrd-dashboardfavIcon"),i=this.element.find(".e-dbrd-dashboardunfavIcon");n.length===t.DashboardConstants.Zero?i.removeClass("e-dbrd-dashboardunfavIcon").addClass("e-dbrd-dashboardfavIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite}):n.removeClass("e-dbrd-dashboardfavIcon").addClass("e-dbrd-dashboardunfavIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite})}},toggleDashboardParameterIcon:function(){this.model.dashboardParameterSettings.showIcon?this.element.find(".e-dbrd-banner-params").css({display:"block"}):this.element.find(".e-dbrd-banner-params").css({display:"none"})},getWidgetDataByReportName:function(n){for(var s,e,i=this.currentTabContentElement.find(".e-dbrd-control-container"),u=null,o=null,f=null,h=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<h;r++)if(o=i.eq(r).attr("id"),u=i.eq(r).attr("data-widget-id"),o===n||u===n){f=this.dashboardControls.getControlByReport(u);break}return t.isNullOrUndefined(f)?null:(s=this.dashboardControls.getControlByReport("parameterColumnData"),e=[],e.push(f,s),e)},doAjaxPost:function(i){var u=null,o=null,r=this,s,f,e,h;if(this.model.enableAutoRefresh&&this.rendered&&(s=this._getSlaveIdList(JSON.parse(i.data)),s.length>t.DashboardConstants.Zero&&this._restartTimerForSlaves(s)),f=JSON.parse(i.data),f.serverUrl=this.serverUrl(),i.data=JSON.stringify(f),o={data:f.data,tabId:this.dashboardName,page:f.page},e=null,!t.isNullOrUndefined(f.action)&&this._isJsonString(f.action)&&(e=JSON.parse(f.action)),this.slaveDataRequest&&this.slaveDataRequest.readyState!==4&&!t.isNullOrUndefined(e)&&e[0].Method!=="LoadLayout"&&e[0].Method!=="Initialize"&&i.url.indexOf("GetControlDataOnDemand")===t.DashboardConstants.IndexLowerBound&&this.slaveDataRequest.abort(),this._isAjaxCacheEnabled()&&!this.model._isLiveData&&(u=n.parseJSON(i.data),delete u.context,!t.isNullOrUndefined(u.action)&&(this._isJsonString(u.action)&&!t.isNullOrUndefined(JSON.parse(u.action))&&JSON.parse(u.action).length>t.DashboardConstants.Zero&&JSON.parse(u.action)[0].Method!=="LoadLayout"&&JSON.parse(u.action)[0].Method!=="Initialize"||u.action==="GetInnerLevelDrillChart")&&i.url.indexOf("GetControlDataOnDemand")===t.DashboardConstants.IndexLowerBound&&(this._cleanUpStore(),h=this._generateKeyFromDataForCache(u,null,u.action),this._checkKeyInStore(h,i.onSuccess)))){this._destroyErrorMsg();return}this.slaveDataRequest=n.ajax({type:i.type,url:i.url,data:i.data,datatype:"json",contentType:"application/json;charset=utf-8",success:i.needRequestParameter?n.proxy(this.postAction,this,i.onSuccess,o,i.data):t.isNullOrUndefined(i.additionalParameter)?n.proxy(this.postAction,this,i.onSuccess,o):n.proxy(this.postAction,this,i.onSuccess,o,i.additionalParameter),beforeSend:n.proxy(function(u){var f,e,o,s;if(r.requestHeaders.customHeaders.length!==t.DashboardConstants.Zero){for(f=t.DashboardConstants.Zero;f<r.requestHeaders.customHeaders.length;f++)e=r.requestHeaders.customHeaders[f],u.setRequestHeader(e.Key,e.Value);u.setRequestHeader("X-Sync-Header",JSON.stringify(r.requestHeaders.customHeaders))}r.isFromAutoRefresh||(r.isDashboardScrolled||(o=n("<div/>").attr({id:r._id+"_InactiveDiv"}).addClass("e-inactivediv"),s=r.element.find(".e-tab"),s.length!==t.DashboardConstants.Zero&&o.css({top:s.find("ul").height()}),r.currentTabContentElement.append(o)),r._trigger("actionBegin",{eventType:t.dashboardViewer.event.ajaxRequest,source:{element:i.url,data:i.data}}))},this),complete:n.proxy(function(n){if(n.status===200&&!r.isFromFilterDialog){r.element.find(".e-error-notification").remove();r.currentTabContentElement.css({position:""});var u=r.currentTabContentElement.find(".e-dbrd-banner");u.css({"margin-top":"0px"})}r.slaveDataRequest=null;r.element.find(".e-inactivediv").remove();r._trigger("actionComplete",{eventType:t.dashboardViewer.event.ajaxRequestCompleted,source:{element:i.url,data:i.data}})},this),error:n.proxy(function(u,f,e){if(!r._isUnLoad){if(e==="timeout")r._errorMsgPopup(r.locale.utils.DashboardServerTimedOut);else{if(e==="abort")return;u.responseText.indexOf("Session Expired")!==t.DashboardConstants.IndexLowerBound?r._errorMsgPopup(r.locale.utils.SessionExpired):e==="Internal Server Error"?t.isNullOrUndefined(u.responseXML)&&!t.isNullOrUndefined(u.responseJSON)&&u.responseJSON.Message==="An error has occurred."?r._errorMsgPopup(r.locale.errorMessages.ErrorGeneral):t.isNullOrUndefined(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()])?r._errorMsgPopup(n(u.responseXML.childNodes).find("Message").text()):r._errorMsgPopup(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()]):t.isNullOrUndefined(u)?r._errorMsgPopup(r.locale.errorMessages.ErrorGeneral):t.isNullOrUndefined(u.responseXML)&&!t.isNullOrUndefined(u.responseJSON)&&u.responseJSON.Message==="An error has occurred."?r._errorMsgPopup(r.locale.errorMessages.ErrorGeneral):t.isNullOrUndefined(u.responseXML)||t.isNullOrUndefined(u.responseXML.childNodes)||t.isNullOrUndefined(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()])?t.isNullOrUndefined(u.responseXML)||t.isNullOrUndefined(u.responseXML.childNodes)?r._errorMsgPopup(r.locale.errorMessages.ErrorGeneral):r._errorMsgPopup(n(u.responseXML.childNodes).find("Message").text()):r._errorMsgPopup(r.locale.errorMessages[n(u.responseXML.childNodes).find("Message").text()])}e!=="abort"&&(r._destroyWaitingPopup(),r._destroyAllControlWaitingIndicator(),r._destroyWaitingPdfPopup());r._trigger("actionBegin",{eventType:t.dashboardViewer.event.ajaxRequestFailure,source:{element:i.url,data:e}})}},this),timeout:52e4})},doPostBack:function(t,i){var u=n("<form>").attr({action:t,method:"POST",name:"export"}),f=function(t,i){n('<input type="hidden" title="params">').attr({id:t,name:t,value:i}).appendTo(u)};for(var r in i)i.hasOwnProperty(r)&&f(r,i[r]);u.appendTo(document.body).submit().remove()},saveFileFromServer:function(n,t){var i={FileType:n.toString(),base64String:t};this.doPostBack(this.serviceUrl()+"\\SaveFile",i)},postAction:function(n,i,r,u){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeRendering,source:{element:this,data:r}});n.call(this,i,r,u);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterRendering,source:{element:this,data:r}})},getMasterControlsBySlave:function(n){for(var u,r,f=[],o=t.isNullOrUndefined(this.controlRelations)?t.DashboardConstants.Zero:this.controlRelations.length,e=null,i=0;i<o;i++)for(u=0;u<this.controlRelations[i].Slaves.length;u++)if(this.controlRelations[i].Slaves[u]===n)for(e=this.appliedFilterData.length,r=0;r<e;r++)this.controlRelations[i].Master===this.appliedFilterData[r].Control&&f.push(this.appliedFilterData[r]);return f},refreshWidgetData:function(n){var u,o,f,r,s;if(!t.isNullOrUndefined(n)){var e=[],i=[],h=n.length,c=e.length,l=JSON.parse(JSON.stringify(this.dashboardParameters));if(jQuery.type(n)==="string"&&(n=[n]),jQuery.type(n)==="array")for(e=this.currentTabContentElement.find(".e-dbrd-control"),u=0;u<h;u++)for(o=n[u],f=0;f<c;f++)if(r=e.eq(f),r.id!==""&&this.target.push(r.id),r.attr("data-controlid")===o){this._createControlWaitingIndicator(r,!0);i.push(this.dashboardControls.getControlByReport(o));break}this._initializeFilterParameters();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetRefresh,source:{element:n,data:i}});s={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),data:t.isNullOrUndefined(i)?null:JSON.stringify(i),rangeData:JSON.stringify(this.rangeData),widgetInfo:JSON.stringify([]),modifiedConnectionStrings:this.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(this.currentUser),itemId:this.itemId,isRefresh:!1,isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,customLanguagePath:this.model.localeSettings.resourcePath,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,filterParameters:JSON.stringify(this.initialFilters),dashboardParameterSettings:this._setAjaxDashboardParameterValue(l),methodName:this.model.serviceMethods.getRefreshControlData,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(s);this._destroyDashboardMenu();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetRefresh,source:{element:n,data:i}})}},selectTabByName:function(n){if(!t.isNullOrUndefined(n)){var i=this._getTabIndexByTabName(n);this.selectTabByIndex(i)}},selectTabByIndex:function(n){this._renderSelectedDashboard(n,null)},getCurrentTab:function(){for(var t={tabId:"",tabName:"",tabIndex:null,tabElement:null},i=this.dashboardDetails.length,n=0;n<i;n++)this.dashboardName===this.dashboardDetails[n].DashboardName&&(t.tabId=this.dashboardDetails[n].DashboardName,t.tabIndex=this._getTabIndexById(this.dashboardDetails[n].DashboardName),t.tabName=this.dashboardDetails[n].DashboardDisplayName,t.tabElement=this.currentTabContentElement,t.displayName=this.dashboardDetails[n].UserDisplayName);return t},openParameterDialog:function(){!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero&&this._openDashboardParametersDialog(this.dashboardParameters.data,!1)},getDashboardTabsInfo:function(){for(var i,t=[],r=this.dashboardDetails.length,n=0;n<r;n++)i={tabId:this.dashboardDetails[n].DashboardName,tabName:this.dashboardDetails[n].DashboardDisplayName,tabIndex:this._getTabIndexById(this.dashboardDetails[n].DashboardName),displayName:this.dashboardDetails[n].UserDisplayName},t.push(i);return t},updateTabName:function(i){var e=this.element.find(".e-header"),u,o,r,s,f;if(!t.isNullOrUndefined(e))for(u=n(e).children(),o=u.length,this._updateTabInfo(i),r=0;r<o;r++)s=n(u[r]).attr("data-tabid"),f=this._getTabUserDisplayName(s),t.isNullOrUndefined(f)||f.trim()===""||n(u[r]).find("span").text(f)},getFilterPanelState:function(){return t.isNullOrUndefined(this.filterPanelObj)?null:this.filterPanelObj.getState()},openFilterPanel:function(){t.isNullOrUndefined(this.filterPanelObj)?this._showFilterPanel():this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open&&this.filterPanelObj.open();this.isTabSwitch=!1},closeFilterPanel:function(){t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Close||this.filterPanelObj.close()},getFilterPanel:function(){return this.filterPanelObj},getFilterPanelParent:function(){return this.filterPanelDiv},closeAllWindows:function(){this._closeMaximize();this._hideExport();this._closeFilterOverviewDialog();this._hideDescription();this._closeFilterPanel();this._cancelDashboardParameters();this._hideGetLinkDialog()},openGetLinkDialog:function(){var r={element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:{url:this.getCurrentViewUrl(),handled:!1}},i;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:r});r.data.handled||(n(window).width()<t.DashboardConstants.MobileWidth?this._showGetLinkDialogForMobile():(this._on(n("body"),"keydown",this._hideErrorDialog),i=this.element.find("#"+this._id+"_get_link_dialog"),i.css({"max-width":this.currentTabContentElement.width()-100+"px"}),i.length===t.DashboardConstants.Zero&&(this._renderGetLinkDialog(),i=this.element.find("#"+this._id+"_get_link_dialog")),this.element.find(".e-dbrd-dialog-bgrnd").show(),i.show(),this.model.enableCustomTheming&&this._customTheme(["popup"])));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:{element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:r}})},_parseParameterQuery:function(i){var l,s,v,h,c,a,f,y,e,r,p,u,o,w,b;if(t.isNullOrUndefined(i)||i===""||i.length===t.DashboardConstants.Zero)return null;l=[];try{for(l=decodeURIComponent(i).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),s=l.split("|,|"),v=t.isNullOrUndefined(s)?t.DashboardConstants.Zero:s.length,h=0;h<v;h++)if(c=s[h].split("|:|"),c.length>=2){if(a=c[0],f=c[1],a===String.fromCharCode(254)+"filterQuery"+String.fromCharCode(254))return y=CryptoJS.AES.decrypt(f,"RGFzaGJvYXJkIFVybCBLZXk=").toString(CryptoJS.enc.Utf8).replaceAll(String.fromCharCode(254),":"),this._getDashboardViewsData(n.parseJSON(y));if(a.trim().toUpperCase()==="FILTERQUERY"){if(e=null,r=f.split("::"),!t.isNullOrUndefined(f)&&r.length>t.DashboardConstants.One){for(p=r.length,u=t.DashboardConstants.Zero;u<p;u++)if(o=r[u].indexOf(":"),w=o!==t.DashboardConstants.IndexLowerBound?r[u].substring(t.DashboardConstants.Zero,o):r[u],w===this.model._selectedTabGuid&&o!==t.DashboardConstants.IndexLowerBound){b=n.parseJSON(r[u].substring(o+t.DashboardConstants.One));e=this.dashboardControls.unMinifySelectedFilterInfo(b);this.dashboardControls.initialDashboardParameters=e.dashboardParams;break}}else t.isNullOrUndefined(f)||(e=this.dashboardControls.unMinifySelectedFilterInfo(n.parseJSON(f)),this.dashboardControls.initialDashboardParameters=e.dashboardParams);return this._getDashboardViewsData(e.masterData)}}}catch(k){return null}return null},_getDashboardViewsData:function(n){for(var i=[],o=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,f=0;f<o;f++){var r=n[f],u=[],e=this._getMasterInfo(r,i);t.isNullOrUndefined(e)?(this._pushMasterData(u,r),i[i.length]={Control:r.ReportName,Data:u[0],ControlTitle:this.getWidgetTitle(r.ReportName)}):(this._pushMasterData(u,r),e.data=u[t.DashboardConstants.Zero],this._updateMasterInfo(e,i))}return i},_getMasterInfo:function(n,i){for(var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<u;r++)if(i[r].Control===n.ReportName)return i[r];return null},_updateMasterInfo:function(n,i){for(var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<u;r++)i[r].Control===n.Control&&i[r].Data.push(n.data[t.DashboardConstants.Zero])},_pushMasterData:function(n,i){var r=this.getWidgetTitle(i.ReportName);!t.isNullOrUndefined(i.DateFilterInfo)&&i.DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&n.push(i.DateFilterInfo.DateFilterList);!t.isNullOrUndefined(i.DimensionFilterInfo)&&i.DimensionFilterInfo.Text.length>t.DashboardConstants.Zero&&n.push(i.DimensionFilterInfo.Text);!t.isNullOrUndefined(i.MeasureFilterInfo)&&i.MeasureFilterInfo.Values.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(r)&&r.type!==t.dashboardViewer.Controls.Chart&&r.type!==t.dashboardViewer.Controls.ProportionChart&&n.push(i.MeasureFilterInfo.Values)},loadHistoryData:function(n){var t=!1;return this.isFromHistory=!0,t=this._loadDashboardFromSessionData(n),t&&this._replaceState(n),t},getCurrentViewUrl:function(){var n=this._isRenderWithInframe();return this._updateQueryStringParam("filterQuery",n)},disableAutoRefreshTimer:function(n){var u,i,r,f;if(t.isNullOrUndefined(n))this._clearAutoRefreshTimerAndCollection(),this.model.enableAutoRefresh=!1;else{for(u=n.length,i=0;i<u;i++)r=n[i].dashboardName,f=this._isCheckUserValidTabName(r),f&&(t.isNullOrUndefined(this.autoRefreshUserCollection[r])&&(this.autoRefreshUserCollection[r]=[]),t.isNullOrUndefined(n[i].widgets)||n[i].widgets.length===t.DashboardConstants.Zero?(this.autoRefreshUserCollection[r].disable=null,this.autoRefreshUserCollection[r].enable=[]):n[i].widgets.length>t.DashboardConstants.Zero&&(this.autoRefreshUserCollection[r].disable=n[i].widgets),this._enableToDisableOrDisableToEnableWidgetStatus(r,!1));this._disableAutoRefreshCollection()}},enableAutoRefreshTimer:function(n){var u,i,r,f;if(t.isNullOrUndefined(n))this._clearAutoRefreshTimerAndCollection(),this.model.enableAutoRefresh=!0,this._clearAllDisablecollection(),this._resetAutoRefreshSettings(!0);else{for(u=n.length,i=0;i<u;i++)r=n[i].dashboardName,f=this._isCheckUserValidTabName(r),f&&(t.isNullOrUndefined(this.autoRefreshUserCollection[r])&&(this.autoRefreshUserCollection[r]=[]),t.isNullOrUndefined(n[i].widgets)||n[i].widgets.length===t.DashboardConstants.Zero?(this.autoRefreshUserCollection[r].enable=null,this.autoRefreshUserCollection[r].disable=[]):n[i].widgets.length>t.DashboardConstants.Zero&&(this.autoRefreshUserCollection[r].enable=n[i].widgets),this._enableToDisableOrDisableToEnableWidgetStatus(r,!0));this._enableAutoRefreshCollection()}},getCurrentDashboardDetails:function(){var h=[],i=null,u=null,s=null,o=null,r=0,f=0,e=new dashboardInfo,c;if(i=t.isNullOrUndefined(this.currentReport)?null:this.currentReport.layout,e.isMultiTabbedDashboard=this.onDemandTabs,!t.isNullOrUndefined(i))for(c=i.length,r=0;r<c;r++)if(!t.isNullOrUndefined(i[r].Key)&&!t.isNullOrUndefined(i[r].Value))switch(i[r].Key){case t.DashboardConstants.Title:e.currentDashboard.dashboardTitle=JSON.parse(i[r].Value).Title;break;case t.DashboardConstants.Description:e.currentDashboard.dashboardDescription=i[r].Value;break;case t.DashboardConstants.TabInformation:this.onDemandTabs?(e.currentDashboard.dashboardTabIndex=this.model.selectedTabIndex,e.currentDashboard.dashboardGuid=this.model._selectedTabGuid):e.currentDashboard.dashboardGuid=JSON.parse(i[r].Value)[t.DashboardConstants.Zero].DashboardId;break;case t.DashboardConstants.LayoutInformation:for(o=JSON.parse(i[r].Value),f=0;f<o.length;f++)u=new widgetDetails,s=n.isEmptyObject(o[f])?null:this._getWidgetDetails(o[f].ReportName),n.isEmptyObject(s)||s===""||(u.widgetId=o[f].ReportName,u.widgetTitle=s.title,u.widgetGuid=s.id,u.widgetType=s.type,u.widgetDescription=o[f].Label.Description,u.widgetSubTitle=o[f].Label.SubTitle,n.isEmptyObject(u)||h.push(u))}return h.length!==t.DashboardConstants.Zero&&(h=n.unique(h),e.currentDashboard.widgets=h),e},getDashboardData:function(){var n=[],r,i;return t.isNullOrUndefined(this.currentReport)?null:(r=t.isNullOrUndefined(this.currentReport)?"":JSON.stringify(this.currentReport.layout),i=this.isWidget?this.dashboardControls.getControlForOfflineWidget():this.dashboardControls.getAllControlsForOfflineDashboard(this.model.reportName),i=this._processWidgetString(i,this.controlRelations,this.appliedFilterData),n.push({dashboardName:t.isNullOrUndefined(this.model.selectedTabName)?this.model.reportName:this.model.selectedTabName,id:this.model._selectedTabGuid,index:this.model.selectedTabIndex,layout:r,widgetData:i,renderedPages:this.pageInformations,selectedTabIndex:this.model.selectedTabIndex,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),gridSettings:JSON.stringify(this._getGridSettings()),isWidget:this.isWidget,filterPanelData:JSON.stringify(this.tempDataForFilter),includeGlobalFilter:this.includeGlobalFilter}),n=this._generateMultiTabOfflineData(n),JSON.stringify(n))},showViewData:function(n){var u,i;if(!t.isNullOrUndefined(n)&&(u=this.currentTabContentElement.find("#"+n).attr("data-widget-id"),n=t.isNullOrUndefined(u)?n:u,i=this.currentTabContentElement.find("[data-widget-id="+n+"]"),!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero)){var e=i.find(".e-dbrd-control").attr("id"),f=i.find(".e-control-title").length>t.DashboardConstants.Zero?i.find(".e-control-title"):i.find(".e-title"),o=f.text(),s=f.css("color"),r=this.dashboardControls.getControlByReport(n),h=!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r.configInfo)&&!t.isNullOrUndefined(r.configInfo.IsBlendingWidget)?r.configInfo.IsBlendingWidget:!1;this._drawViewDataDialog(e,o,s,h)}},closeViewDataDialog:function(i){var r,u;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.closeViewDataDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:null}});r=t.isNullOrUndefined(i)||!t.isNullOrUndefined(i)&&(n(i.target).hasClass("e-dbrd-viewdata-dialog-close-icon")||n(i.target).hasClass("e-dbrd-viewdata-back-icon")||n(i.target).hasClass("e-dbrd-viewdata-dialog"));r&&(this.currentTabContentElement.find(".e-dbrd-viewdata-inactive").remove(),u=this.currentTabContentElement.find(".e-dbrd-view"),u.removeClass("e-dbrd-view"),this.tempViewDataDetails={});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.closeViewDataDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:null}})}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.multiTabs={_createDashboardTabs:function(){var r,e,v,i,s,w,l;if(this.tabObj=this._getDashboardName(this.dashboardDetails),this.count=0,this.multiDashboardExport=!1,r=!t.isNullOrUndefined(this.model._selectedTabGuid)&&this.model._selectedTabGuid!==""?this._getTabIndexByDashboardId(this.model._selectedTabGuid):null,e=t.isNullOrUndefined(this.model.selectedTabName)||this.model.selectedTabName===""?this.model.selectedTabIndex:this._getTabIndexByTabName(this.model.selectedTabName),!t.isNullOrUndefined(this.tabObj)&&this.tabObj.length>t.DashboardConstants.One){var a=n("<div class='e-dbrd-tab-wrapper' id="+this._id+"_tabWrapper><\/div>"),f=n("<div class='e-dbrd-tab-container' id="+this._id+"_tabContainer><\/div>"),h=n("<ul><\/ul>").css({height:"40px",display:this.model.showTab?"block":"none"});for(this.model.enableWidgetMode&&h.css({display:"none"}),v=this.tabObj.length,i=0;i<v;i++){var u=this.dashboardDetails[i],y=n("<li data-tabId='"+this.tabObj[i]+"'><\/li>"),c=n("<span>");c.attr("id",this.tabObj[i]);this._appendHeader(t.isNullOrUndefined(u.UserDisplayName)?u.DashboardDisplayName:u.UserDisplayName,u.Parameters,c);f.append("<div id="+this._id+"_"+this.tabObj[i].replace(/ /g,"_")+"><\/div>");y.append(n("<a>").attr({href:"#"+this._id+"_"+this.tabObj[i].replace(/ /g,"_"),"data-tooltip":t.isNullOrUndefined(u.UserDisplayName)?u.DashboardDisplayName:u.UserDisplayName,oncontextmenu:"return false"}).append(c));h.append(y)}a.append(f);this.dashboardWrapper.append(a);f.prepend(h);var o=!t.isNullOrUndefined(r)&&r!==t.DashboardConstants.IndexLowerBound&&r!==""?r:e!==t.DashboardConstants.IndexLowerBound&&e!==""?e:t.DashboardConstants.Zero,b=f.ejDashboardTab({selectedItemIndex:o,beforeActive:n.proxy(this._beforeTabSwitch,this),itemActive:n.proxy(this._afterTabActive,this)}).ejDashboardTab("instance"),p=this.element.find(".e-tab .e-header li a "),k=p.length;for(s=0;s<k;s++)w=p.eq(s).find("span").eq(t.DashboardConstants.Zero),this._adjustParameterColumn(w);this.element.find(".e-content").css({border:"none"});this.onDemandTabs=!0;this.currentTabContentElement=n(f).find(".e-active-content");f.removeClass("e-widget");this._id=this.currentTabContentElement.attr("id");this.dashboardName=this.dashboardDetails.length>o?this.dashboardDetails[o].DashboardName:this.dashboardDetails[0].DashboardName;b.refreshTabScroll();r!==null&&o!==r&&this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this._getCurrentDashboardGuid()});this.tabInformation=this.element.find(".e-tab>.e-header>.e-item");this.tabInfoCollection=[];this.length=0;this._scrollCheck();this._createTabIcons();this._createMobResDiv();l=this.getCurrentTab();this.model.selectedTabIndex=l.tabIndex;this.model.selectedTabName=l.tabName;this.model._selectedTabGuid=this._getCurrentDashboardGuid();this.model.showTab||(this.element.find(".e-active-content").css({"padding-top":"0px"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}));n(window).width()<t.DashboardConstants.MobileWidth&&this._hideTab();this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.model.enableCustomTheming&&this._customTheme(["font"])}},_addGlobalFilterInTab:function(){!this.includeGlobalFilter||t.isNullOrUndefined(this.filterPanelObj)||t.isNullOrUndefined(this.filterPanelObj.filterpanelContentWrapper)||t.isNullOrUndefined(this.filterPanelObj.globalFilterWrapper)||(this.filterPanelObj.filterpanelContentWrapper.prepend(this.filterPanelObj.globalFilterWrapper),this.filterPanelObj._setGlobalFilterBanner())},_getTabObjByTabId:function(n){var r,i;if(!t.isNullOrUndefined(this.tabInfoCollection))for(r=this.tabInfoCollection.length,i=0;i<r;i++)if(this.tabInfoCollection[i].tabIdInfo===n)return this.tabInfoCollection[i].initPrivatePropertiesInfo;return null},_isGlobalFilterApplied:function(){var n="",u,i,r;if(!t.isNullOrUndefined(this.tabInfoCollection))for(u=this.tabInfoCollection.length,i=0;i<u;i++)if(r=this.tabInfoCollection[i].initPrivatePropertiesInfo,!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r.dashboardControls))return n=r.dashboardControls.getGlobalControlsMasterData(),{globalFilter:n,isGlobalFilter:!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero};return t.isNullOrUndefined(this.dashboardControls)?{globalFilter:null,isGlobalFilter:!1}:(n=this.dashboardControls.getGlobalControlsMasterData(),{globalFilter:n,isGlobalFilter:!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero})},_getDashboardName:function(n){for(var i=[],r=n.length,t=0;t<r;t++)i.push(n[t].DashboardName);return i},_getTabIndexByTabName:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardDisplayName.trim()===n.trim())return i;return t.DashboardConstants.IndexLowerBound},_getTabIndexById:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardName===n)return i;return t.DashboardConstants.IndexLowerBound},_getCurrentDashboardGuid:function(){for(var i=this.dashboardDetails.length,n=0;n<i;n++)if(this.dashboardDetails[n].DashboardName===this.dashboardName)return this.dashboardDetails[n].DashboardId;return t.DashboardConstants.IndexLowerBound},_getTabInfoByDashboardName:function(n){for(var i=this.dashboardDetails.length,t=0;t<i;t++)if(this.dashboardDetails[t].DashboardName===n)return{tabId:this.dashboardDetails[t].DashboardName,tabName:this.dashboardDetails[t].DashboardDisplayName,tabIndex:this._getTabIndexById(this.dashboardDetails[t].DashboardName)};return""},_beforeTabSwitch:function(i){var u,r,f,e;t.isNullOrUndefined(i)||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.tabSelect,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),this._clearTimers(),u=this._getTabInfoByDashboardName(this.dashboardName),this.includeGlobalFilter&&(this.lastUpdatedGlobalFilter=this._getAppliedFilterDataForGlobalFilter(this.appliedFilterData)),this._tabObjectInformationCollection(i),r=n(i.activeHeader),r.find(".e-link").css({padding:"12px 15px 0px"}),n(i.prevActiveHeader).find(".e-link").css({padding:"9px 15px 0px"}),f=r.data("tabid"),e=this._getTabInfoByDashboardName(f),this._trigger("tabSelect",{tabArgs:i,currentTab:u,nextTab:e}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.tabSelect,source:{element:n(i.activeHeader),data:r.data("tabid")}}))},_afterTabActive:function(i){var r,e,o,u,s,f,h;if(!t.isNullOrUndefined(i)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.tabActive,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),this.previousTab=this._getTabInfoByDashboardName(this.dashboardName),r=this._getTabObjByTabId(this.previousTab.tabId),e=n(i.activeHeader),this.currentTabContentElement=this.element.find(".e-dbrd-tab-container").find(".e-active-content"),this.dashboardName=e.data("tabid"),o=this._reinitializeTabObjChk(i),this._id=this._dashboardId+"_"+e.attr("data-tabid").replace(/ /g,"_"),u=this._getTabInfoByDashboardName(this.dashboardName),this.model.reportName=u.tabName,this.model.selectedTabIndex=u.tabIndex,this.model.selectedTabName=u.tabName,this.model._selectedTabGuid=this._getCurrentDashboardGuid(),this._errorMsgPos(),this._scrollTabSwitch(i),this._closeExternalFilterPanels(),this.isTabSwitch=!0,this.lastUpdatedGlobalFilter=t.isNullOrUndefined(r)?[]:r.lastUpdatedGlobalFilter,this.model.canLoadDataOffline&&this._setGlobalFilterForCurrentTab(),this._hasDataForCurrentTab(this.dashboardName)&&!this.isLinking)this._applyHiddenTabDataIfAny(this.dashboardName);else if(o||this.isLinking){if(this.model.currentMasterReport=this.isLinking?this.model.currentMasterReport:null,this.isLink=this.isLinking,this.filterPanelObj=null,this.model.canLoadDataOffline&&this._hasOfflineData(this.model.selectedTabName))return this._renderTabWithOfflineData(this._getCurrentTabOfflineData(this.model.selectedTabName));this._dashboardData().loadFromData=!1;this.isLinking=!1;this.externalFilterPanel||this.model.filterPanelSettings.state!==t.dashboardViewer.filterPanelSettings.state.expand||(this.model.filterPanelSettings.state=t.dashboardViewer.filterPanelSettings.state.collapse);t.widget.destroyAll(this.currentTabContentElement.find(".e-js"));this.currentTabContentElement.data({rendered:"false"});this.lastUpdatedGlobalFilter=t.isNullOrUndefined(r)?[]:r.lastUpdatedGlobalFilter;this.loadLayout(null,!0);this.tabSwitchFromHistory=!0}else{if(this.isFilterPanelOpen&&this.externalFilterPanel?this.filterPanelObj!==null?(this.filterPanelObj.open(),this.filterPanelObj.isGlobalFilterUpdated=this._refreshDashboardWithGlobalFilter(),this.filterPanelObj.refreshData(this.tempDataForFilter)):(this.preventFilterPanelEvents=!0,this._showFilterPanel(),this.preventFilterPanelEvents=!1):t.isNullOrUndefined(this.lastUpdatedGlobalFilter)||this.lastUpdatedGlobalFilter.length!==t.DashboardConstants.Zero||this._setGlobalFilterWrapper(),!t.isNullOrUndefined(this.multiTabDashboardParameter.data)&&this.multiTabDashboardParameter.data.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero){for(s=this.multiTabDashboardParameter.data.length,f=0;f<s;f++)if(this.multiTabDashboardParameter.data[f].value!==this.dashboardParameters.data[f].value){this.multiTabDashboardParameter=[];this.refreshDashboard(null,!1);break}}else this.currentTabContentElement.find(".e-dbrd-controlWaiting").length>t.DashboardConstants.Zero&&(this._destroyAllControlWaitingIndicator(),this.refreshDashboard(null,!1));h=this._refreshDashboardWithGlobalFilter();h&&this.refreshDashboard(null,!1);this._updateHiddenTabRefreshTimeOnSwitch();this._resizeDashboard();this._updateDashboardTitleInBrowserPage();this.model.enableAutoRefresh&&this._resetCurrentTabRefreshTimer();this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("none");this._addFilterDataToTitle({InteractionData:this.appliedFilterData})}this._addGlobalFilterInTab();this._applyCurrentDashboardExportType();this._trigger("tabActive",{tabArgs:i,currentTab:u,previousTab:this.previousTab});this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.isFromHistory=!1;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.tabActive,source:{element:n(i.activeHeader),data:e.data("tabid")}})}return null},_renderTabWithOfflineData:function(n){this._dashboardData().loadFromData=!0;this._dashboardData().isControl=n.isWidget;this._dashboardData().layout=JSON.parse(n.layout);this._dashboardData().widgetData=JSON.parse(n.widgetData);this._dashboardData().isExportImage=!1;this._dashboardData().controlHeader="";this._dashboardData().isScreenshot=!1;this._dashboardData().isTestCase=!0;this.includeGlobalFilter=n.includeGlobalFilter;this.model.currentMasterReport=t.isNullOrUndefined(n.masterData)?null:JSON.parse(n.masterData);this.tempDataForFilter=t.isNullOrUndefined(n.filterPanelData)?this.tempDataForFilter:JSON.parse(n.filterPanelData);this._loadDashboardFromData()},_closeExternalFilterPanels:function(){var e,r,u,o,i,s,f;if(this.preventFilterPanelEvents=!0,e=this.isFilterPanelOpen,this.externalFilterPanel&&!t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)&&(r=n("#"+this.model.filterPanelSettings.filterPanelId),r.length!==t.DashboardConstants.Zero))for(u=r.find(".e-dashboardfilterpanel"),o=u.length,i=0;i<o;i++)s=u.eq(i),f=s.data("ejDashboardDashboardFilterPanel"),t.isNullOrUndefined(f)||f.close();this.isFilterPanelOpen=e;this.preventFilterPanelEvents=!1},_tabInitPrivatePropertiesInformation:function(){return{reportCultures:this.reportCultures,hasFilterPanel:this.hasFilterPanel,includeGlobalFilter:this.includeGlobalFilter,filterPanelId:this.filterPanelId,filterPanelDiv:this.filterPanelDiv,filterPanelObj:this.filterPanelObj,globalFilterWrapper:this._getGlobalFilterWrapper(),slaveDataRequest:this.slaveDataRequest,tempDataForFilter:this.tempDataForFilter,isFromAutoRefresh:this.isFromAutoRefresh,rendered:this.rendered,locale:this.locale,isReloaded:this.isReloaded,isFilterWidget:this.isFilterWidget,_isUnLoad:this._isUnLoad,widgetModeSettings:this.widgetModeSettings,theme:this.theme,controlRelations:n.parseJSON(JSON.stringify(this.controlRelations)),Context:this.Context,requestTimer:this.requestTimer,autorefreshTimer:this.autorefreshTimer,_id:this._id,_globalFilterId:this._globalFilterId,flag:this.flag,isWidget:this.isWidget,rangeData:this.rangeData,masterData:this.masterData,mapControlsData:this.mapControlsData,isMouseClick:this.isMouseClick,target:this.target,lastFocusElement:this.lastFocusElement,currentReport:this.currentReport,CurrentMaster:this.CurrentMaster,MapType:this.MapType,customRange:this.customRange,defaultRange:this.defaultRange,modifiedConnectionStrings:this.modifiedConnectionStrings,customRangeApplied:this.customRangeApplied,DrillableMapEntries:this.DrillableMapEntries,rtl:this.rtl,stackChartConfig:this.stackChartConfig,TitleLabels:this.TitleLabels,scrollTop:this.scrollTop,previousDashboardSize:this.previousDashboardSize,isPrintTriggered:this.isPrintTriggered,reportName:this.reportName,reportDescription:this.reportDescription,dashboardControls:this.dashboardControls,maximizeddashboardControls:this.maximizedashboardControls,appliedFilterData:this.appliedFilterData,_gaugeTooltipTarget:this._gaugeTooltipTarget,_gaugetoolTipTimer:this._gaugetoolTipTimer,_ExportedImageFileName:this._ExportedImageFileName,fileName:this.fileName,title:this.title,exportDashboard:this.exportDashboard,imageValidation:this.imageValidation,isPublicDashboard:this.isPublicDashboard,isUnlistedDashboard:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dashboardHeight:this.dashboardHeight,dashboardWidth:this.dashboardWidth,containerWidth:this.containerWidth,containerHeight:this.containerHeight,month:this.month,weekDays:this.weekDays,clearFilter:this.clearFilter,removeFilter:this.removeFilter,orientation:this.orientation,isExtendedLayout:this.isExtendedLayout,availableRowCount:this.availableRowCount,layoutControls:this.layoutControls,pageInfo:this.pageInfo,pageInformations:this.pageInformations,heightOfCell:this.heightOfCell,isDashboardScrolled:this.isDashboardScrolled,isWidgetExceedCurrentPage:this.isWidgetExceedCurrentPage,isRowsAvailable:this.isRowsAvailable,actualPages:this.actualPages,layoutWrapperHeight:this.layoutWrapperHeight,pageHeight:this.pageHeight,currentScrollTop:this.currentScrollTop,currentScrollHeight:this.currentScrollHeight,hiddenPageWidgetsForRefresh:this.hiddenPageWidgetsForRefresh,exportImageHeightForExtendedLayout:this.exportImageHeightForExtendedLayout,previousCacheKey:this.previousCacheKey,isFromCache:this.isFromCache,noNeedToUpdateTimeSpan:this.noNeedToUpdateTimeSpan,isRefreshClicked:this.isRefreshClicked,pagesToRefresh:this.pagesToRefresh,refreshedPages:this.refreshedPages,dashboardDisplayName:this.dashboardDisplayName,lastUpdatedGlobalFilter:this.lastUpdatedGlobalFilter,layout:this.layout,hasGaugeCustomLabel:this.hasGaugeCustomLabel,gaugeTitleFontSize:this.gaugeTitleFontSize}},_tabObjectInformationCollection:function(i){var o=n(i.prevActiveHeader).children().attr("href"),f,r,e,u;if(n(o).children(".e-error-notification").length===t.DashboardConstants.Zero)if(f=this._tabInitPrivatePropertiesInformation(i),this.tabInfoCollection.length>t.DashboardConstants.Zero&&this.tabInfoCollection.length<=this.tabObj.length){for(r=-1,e=this.tabInfoCollection.length,u=0;u<e;u++)if(n(i.prevActiveHeader).data("tabid")===this.tabInfoCollection[u].tabIdInfo){r=u;break}r===-1?this.tabInfoCollection.push({tabIdInfo:n(i.prevActiveHeader).data("tabid"),initPrivatePropertiesInfo:jQuery.extend(!0,{},f)}):(this.count=0,this.tabInfoCollection[r].initPrivatePropertiesInfo={},this.tabInfoCollection[r].initPrivatePropertiesInfo=jQuery.extend(!0,{},f))}else this.tabInfoCollection.push({tabIdInfo:n(i.prevActiveHeader).data("tabid"),initPrivatePropertiesInfo:jQuery.extend(!0,{},f)})},_reInitializationOfInitPrivateProperties:function(t){this.hasFilterPanel=t.hasFilterPanel;this.includeGlobalFilter=t.includeGlobalFilter;this.filterPanelId=t.filterPanelId;this.filterPanelDiv=t.filterPanelDiv;this.filterPanelObj=t.filterPanelObj;this.globalFilterWrapper=t.globalFilterWrapper;this.isTabSwitch=t.isTabSwitch;this.tempDataForFilter=t.tempDataForFilter;this.slaveDataRequest=t.slaveDataRequest;this.isFromAutoRefresh=t.isFromAutoRefresh;this.rendered=t.rendered;this.locale=t.locale;this.isReloaded=t.isReloaded;this.isFilterWidget=t.isFilterWidget;this._isUnLoad=t._isUnLoad;this.widgetModeSettings=t.widgetModeSettings;this.theme=t.theme;this.controlRelations=n.parseJSON(JSON.stringify(t.controlRelations));this.Context=t.Context;this.requestTimer=t.requestTimer;this.autorefreshTimer=t.autorefreshTimer;this._id=t._id;this._globalFilterId=t._globalFilterId;this.flag=t.flag;this.isWidget=t.isWidget;this.rangeData=t.rangeData;this.masterData=t.masterData;this.mapControlsData=t.mapControlsData;this.isMouseClick=t.isMouseClick;this.target=t.target;this.lastFocusElement=t.lastFocusElement;this.currentReport=t.currentReport;this.CurrentMaster=t.CurrentMaster;this.MapType=t.MapType;this.customRange=t.customRange;this.defaultRange=t.defaultRange;this.modifiedConnectionStrings=t.modifiedConnectionStrings;this.customRangeApplied=t.customRangeApplied;this.DrillableMapEntries=t.DrillableMapEntries;this.rtl=t.rtl;this.stackChartConfig=t.stackChartConfig;this.TitleLabels=t.TitleLabels;this.scrollTop=t.scrollTop;this.previousDashboardSize=t.previousDashboardSize;this.isPrintTriggered=t.isPrintTriggered;this.reportName=t.reportName;this.reportDescription=t.reportDescription;this.dashboardControls=t.dashboardControls;this.maximizedashboardControls=t.maximizeddashboardControls;this.appliedFilterData=t.appliedFilterData;this._gaugeTooltipTarget=t._gaugeTooltipTarget;this._gaugetoolTipTimer=t._gaugetoolTipTimer;this._ExportedImageFileName=t._ExportedImageFileName;this.fileName=t.fileName;this.title=t.title;this.exportDashboard=t.exportDashboard;this.imageValidation=t.imageValidation;this.isPublicDashboard=t.isPublicDashboard;this.isUnlistedDashboard=t.isUnlistedDashboard;this.unlistedCode=t.unlistedCode;this.itemId=t.itemId;this.dashboardHeight=t.dashboardHeight;this.dashboardWidth=t.dashboardWidth;this.containerWidth=t.containerWidth;this.containerHeight=t.containerHeight;this.month=t.month;this.weekDays=t.weekDays;this.clearFilter=t.clearFilter;this.removeFilter=t.removeFilter;this.orientation=t.orientation;this.isExtendedLayout=t.isExtendedLayout;this.availableRowCount=t.availableRowCount;this.layoutControls=t.layoutControls;this.pageInfo=t.pageInfo;this.pageInformations=t.pageInformations;this.heightOfCell=t.heightOfCell;this.isDashboardScrolled=t.isDashboardScrolled;this.isWidgetExceedCurrentPage=t.isWidgetExceedCurrentPage;this.isRowsAvailable=t.isRowsAvailable;this.actualPages=t.actualPages;this.layoutWrapperHeight=t.layoutWrapperHeight;this.pageHeight=t.pageHeight;this.currentScrollTop=t.currentScrollTop;this.currentScrollHeight=t.currentScrollHeight;this.hiddenPageWidgetsForRefresh=t.hiddenPageWidgetsForRefresh;this.exportImageHeightForExtendedLayout=t.exportImageHeightForExtendedLayout;this.previousCacheKey=t.previousCacheKey;this.isFromCache=t.isFromCache;this.noNeedtoUpdateTimeSpan=t.noNeedtoUpdateTimeSpan;this.isRefreshClicked=t.isRefreshClicked;this.pagesToRefresh=t.pagesToRefresh;this.refreshedPages=t.refreshedPages;this.layout=t.layout;this.dashboardDisplayName=t.dashboardDisplayName;this.lastUpdatedGlobalFilter=t.lastUpdatedGlobalFilter;this.hasGaugeCustomLabel=t.hasGaugeCustomLabel;this.gaugeTitleFontSize=t.gaugeTitleFontSize},_reinitializeTabObjChk:function(i){var f=!0,u,o,r,e;if(this.tabInfoCollection.length>t.DashboardConstants.Zero&&this.tabInfoCollection.length<=this.tabObj.length){for(u=-1,o=this.tabInfoCollection.length,r=0;r<o;r++)if(n(i.activeHeader).data("tabid")===this.tabInfoCollection[r].tabIdInfo){u=r;break}u===-1||this.errorMsg?this._initPrivateProperties():(this._reInitializationOfInitPrivateProperties(this.tabInfoCollection[u].initPrivatePropertiesInfo),e=this.currentTabContentElement.data("rendered"),t.isNullOrUndefined(e)||e==="false"?(this.currentTabContentElement.html(""),f=!0):f=!1)}else this._initPrivateProperties();return f},_createTabIcons:function(){var t=n("<div  class='e-dbrd-tab-menu-container e-dbrd-hoverable' id="+this._dashboardId+"_tabMenu tabindex = '0'><\/div>").attr({"data-tooltip":this.locale.utils.MoreOptions}).css({display:this.model.showTab?"block":"none"}),r=n("<div class='e-dbrd-tab-menu-border'><\/div>"),i=n("<span class='e-dbrd-tab-menu'><\/div>");t.insertAfter(this.element.find(".e-tab .e-header"));t.append(i);r.insertBefore(i)},_showTabMenu:function(i){var h,f,u,o,c,s;if(this.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&this._closeFilterOverviewDialog(i),n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide(),this.element.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")&&this._destroyReportDescription(),this._destroyContextMenu(),this._destroyControlMenu(),this._destroyDashboardMenu(),this._onControlDescriptionMouseLeave(i),this.element.find("#"+this._dashboardId+"_tabMenuPopup").length===t.DashboardConstants.Zero){i.stopImmediatePropagation();h=[];f=[];this.dashboardParameters.showIcon&&this.HasDashboardParameter&&f.push({id:this._id+"_dashboardparameters",text:this.locale.utils.DashboardParameters,sprite:"e-dbrd-banner-params"});(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel)&&f.push({id:this._dashboardId+"_tabExport",text:this.locale.utils.ExportDashboards,sprite:"e-dbrd-tab-menu-export-image"});var r=n('<div class="e-dbrd-tab-menu-popup">').attr({id:this._dashboardId+"_tabMenuPopup",oncontextmenu:"return false"}).css({"z-index":"1000"}),e=this.tabInformation,l=e.length;for(u=0;u<l;u++)h=n(e[u]).hasClass("e-active")?{id:this._dashboardId+"_"+n(e[u]).attr("data-tabid").replace(/ /g,"_"),text:e[u].textContent,sprite:"e-dbrd-tab-menu-popup-image"}:{id:this._dashboardId+"_"+n(e[u]).attr("data-tabid").replace(/ /g,"_"),text:e[u].textContent},f.push(h);for(o=[],this.model._exportSettings.canExportImage&&o.push({id:1,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToImage}),this.model._exportSettings.canExportPdf&&o.push({id:2,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToPdf}),this.model._exportSettings.canExportExcel&&o.push({id:3,parentId:this._dashboardId+"_tabExport",text:this.locale.utils.ExportToExcel}),c=o.length,s=0;s<c;s++)f.push(o[s]);t.isNullOrUndefined(this.model.beforeTabMenuCreate)||this._trigger("beforeTabMenuCreate",{menuData:f});r.ejDashboardMenu({orientation:"vertical",fields:{dataSource:f,parentId:"parentId",text:"text",spriteCssClass:"sprite"},click:n.proxy(this._tabSelection,this,r)});this.element.append(r);this._disableExcelOnImageAlone();i.type==="keydown"?(r.css({position:"absolute",top:n(i.target).find(".e-dbrd-tab-menu").offset().top-n(this.element).offset().top+n(i.target).find(".e-dbrd-tab-menu").height()*this.scalingFactor+2,width:"auto","z-index":10002}),r.css({left:n(window).width()-22-n(this.element).offset().left-r.width()*this.scalingFactor})):(r.css({position:"absolute",top:n(i.target).offset().top-n(this.element).offset().top+n(i.target).height()*this.scalingFactor+2,width:"auto","z-index":10002}),r.css({left:i.pageX-n(this.element).offset().left-r.width()*this.scalingFactor}));this.model.enableCustomTheming&&this._customTheme(["menu"])}else this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"?this._tabMenuPopupHide(i):(this._disableExcelOnImageAlone(),this._showMenuPopupHide(i))},_tabSelection:function(i,r){var f,e,u,o,s,h,c;if(r.parentId===null&&r.text===this.locale.utils.DashboardParameters)this._openDashboardParametersDialog(this.dashboardParameters.data,!1);else if(r.parentId===null){for(f=this.tabInformation,e=f.length,u=0;u<e+t.DashboardConstants.One;u++)if(u===t.DashboardConstants.Zero)continue;else if(o=this._dashboardId+"_"+n(f[u-t.DashboardConstants.One]).data("tabid").replace(/ /g,"_"),r.ID===o){s=this.element.find(".e-dbrd-tab-container").attr("id");h=n("#"+s).data("ejDashboardTab");h.showItem(u-t.DashboardConstants.One);break}}else c=this.locale.utils.Dashboard,this._controlMenuSelected(i,c,"",r)},_tabMenuPopupHide:function(i){t.isNullOrUndefined(i)||(this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide(),n(i.target).parent().attr("id")!==this._dashboardId+"_tabExport"&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide())},_showMenuPopupHide:function(t){var i,e,r,u;t.stopImmediatePropagation();var o=this.element.find(".e-dbrd-tab-menu-popup .e-dbrd-tab-menu-popup-image").detach(),f=this.element.find(".e-dbrd-tab-menu-popup > .e-list"),s=f.length;for(i=0;i<s;i++)e=this.element.find(".e-tab .e-header .e-active").children("a").text(),r=n(f[i]).children("a"),e===r.text()&&r.prepend(o);u=this.element.find("#"+this._dashboardId+"_tabMenuPopup");this.model.showGetLinkIcon||u.find("#"+this._dashboardId+"_Link").remove();u.show()},_resizeContentPadding:function(){this.element.find(".e-dbrd-tab-menu-popup").remove();this.length=0;n(window).width()<t.DashboardConstants.MobileWidth?(this._hideTab(),this.element.find(".e-active-content").css({"padding-top":"0px"}),this.model.showTab&&(this.element.find(".e-dbrd-tab-res-icon-container").css({display:"block"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"20px"})),this.element.find(".e-error-notification").length>t.DashboardConstants.Zero&&this.element.find(".e-error-notification").css({top:"2px"})):(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}),!this.model.showTab||this.model.enableWidgetMode?this._hideTab():(this._showTab(),this._scrollCheck(),this._scrollResizeHandler()),this._errorMsgPos())},_createMobResDiv:function(){var t=n("<div class='e-dbrd-tab-res-icon-container' id="+this._dashboardId+"_tabResIconContainer><\/div>"),i=n("<span class='e-dbrd-tab-res-icon' id="+this._dashboardId+"_tabResIcon><\/span>");t.append(i);this.element.find(".e-dbrd-tab-wrapper").prepend(t)},_createNavigationDrawers:function(){var s,u,i,e,o,c,l;if(this.element.find(".e-dbrd-tab-res-inactive").length===t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tab-res-popup").length===t.DashboardConstants.Zero){s=n("<div class='e-dbrd-tab-res-inactive' id="+this._dashboardId+"_tabResInactive><\/div>");u=n("<div class='e-dbrd-tab-res-popup' id="+this._dashboardId+"_tabResPopup><\/div>");this.element.prepend(s);this.element.prepend(u);var h=n("<ul class='e-dbrd-res-ulist'><\/ul>"),r=null,f=null,a=this.tabInformation.length;for(i=0;i<a;i++)e=n(this.tabInformation[i]).data("tabid").replace(/ /g,"_"),o=n(this.tabInformation[i]).children(".e-link").text(),n(this.tabInformation[i]).hasClass("e-active")?(r=n("<li class='e-dbrd-tab-res-element' data-tabid="+e+"><\/li>").addClass("e-res-selected-element"),f=n("<div class='e-dbrd-tab-res-text'><\/div>").text(o).addClass("e-res-selected-font")):(r=n("<li class='e-dbrd-tab-res-element' data-tabid="+e+"><\/li>"),f=n("<div class='e-dbrd-tab-res-text'><\/div>").text(o)),r.append(f),h.append(r);u.append(h);this.dashboardParameters.showIcon&&this.onDemandTabs&&this.HasDashboardParameter&&(c=n("<button class='e-brd-multitab-mob-params-btn'><div class = 'e-brd-multitab-mob-params-btn'><\/div><\/button>").text(this.locale.utils.DashboardParameters),this.element.find(".e-dbrd-tab-res-popup").append(c));(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel)&&(l=n("<button class='e-brd-multitab-mob-export-btn'><div class = 'e-brd-multitab-mob-export-btn-icon'><\/div><\/button>").text(this.locale.utils.ExportBtn),this.element.find(".e-dbrd-tab-res-popup").append(l));this.model.enableCustomTheming&&this._customTheme(["multitabSettings"]);this.model.enableCustomTheming&&this._customTheme(["font"])}else this.element.find(".e-dbrd-tab-res-inactive").show(),this.element.find(".e-dbrd-tab-res-popup").show();this._on(this.element,"click",".e-dbrd-tab-res-inactive",this._hideResPopup)},_navigationItemClick:function(t){var c=n(t.currentTarget).parent().data("tabid"),r=this._dashboardId+"_"+c,u,i,f,e,o,s,h;if(r!==this.element.find(".e-active-content").attr("id")){for(u=this.tabInformation.length,i=0;i<u;i++)f=this._dashboardId+"_"+n(this.tabInformation[i]).data("tabid").replace(/ /g,"_"),r===f&&(e=this.element.find(".e-dbrd-tab-container").attr("id"),o=n("#"+e).data("ejDashboardTab"),o.showItem(i));s=this.element.find(".e-res-selected-font");s.removeClass("e-res-selected-font");h=this.element.find(".e-res-selected-element");h.removeClass("e-res-selected-element");n(t.currentTarget).parent().addClass("e-res-selected-element");n(t.currentTarget).addClass("e-res-selected-font")}this._hideResPopup()},_hideResPopup:function(){this.element.find(".e-dbrd-tab-res-popup").hide();this.element.find(".e-dbrd-tab-res-inactive").hide();this._off(this.element,"click",".e-dbrd-tab-res-inactive",this._hideResPopup)},_selectTabById:function(n){if(!t.isNullOrUndefined(n)){var i=this._getTabIndexByDashboardId(n);this.selectTabByIndex(i)}},_getTabIndexByDashboardId:function(n){for(var r=this.dashboardDetails.length,i=0;i<r;i++)if(this.dashboardDetails[i].DashboardId===n)return i;return t.DashboardConstants.IndexLowerBound},_setGlobalFilterForAllTabs:function(){var h,e,n,u,c,i,o,s,f,l,r;if(!t.isNullOrUndefined(this.tabInfoCollection)&&this.tabInfoCollection.length>t.DashboardConstants.Zero)for(h=this.tabInfoCollection.length,e=0;e<h;e++)if(n=this.tabInfoCollection[e],!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(n.initPrivatePropertiesInfo)&&n.initPrivatePropertiesInfo.includeGlobalFilter){for(u=this.dashboardControls.controls,c=u.length,i=0;i<c;i++)t.isNullOrUndefined(u[i])||t.isNullOrUndefined(u[i].configInfo)||!u[i].configInfo.IsGlobalFilter||n.initPrivatePropertiesInfo.dashboardControls.addControl(u[i]);if(o=this.dashboardControls.getAllFilterPanelControls(),(!t.isNullOrUndefined(this.filterPanelObj)||!t.isNullOrUndefined(o))&&(s=!t.isNullOrUndefined(this.filterPanelObj),n.initPrivatePropertiesInfo.globalFilterWrapper=s?this.filterPanelObj.globalFilterWrapper:n.initPrivatePropertiesInfo.globalFilterWrapper,!t.isNullOrUndefined(n.initPrivatePropertiesInfo.filterPanelObj)))for(f=s?this.filterPanelObj.dashboardControls.controls:o,l=f.length,r=0;r<l;r++)t.isNullOrUndefined(f[r])||t.isNullOrUndefined(f[r].configInfo)||!f[r].configInfo.IsGlobalFilter||n.initPrivatePropertiesInfo.filterPanelObj.dashboardControls.addControl(f[r])}},_setGlobalFilterForCurrentTab:function(){var f,u,r,i,e,n;if(this.includeGlobalFilter&&!t.isNullOrUndefined(this.tabInfoCollection)&&this.tabInfoCollection.length>t.DashboardConstants.Zero)for(f=this.tabInfoCollection.length,u=0;u<f;u++)if(r=this.tabInfoCollection[u],!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(r.initPrivatePropertiesInfo)&&r.initPrivatePropertiesInfo.includeGlobalFilter){for(i=r.initPrivatePropertiesInfo.dashboardControls.controls,e=i.length,n=0;n<e;n++)t.isNullOrUndefined(i[n])||t.isNullOrUndefined(i[n].configInfo)||!i[n].configInfo.IsGlobalFilter||this.dashboardControls.addControl(i[n]);break}},_refreshDashboardWithGlobalFilter:function(){return this.includeGlobalFilter?JSON.stringify(this.lastUpdatedGlobalFilter)!==JSON.stringify(this._getAppliedFilterDataForGlobalFilter(this.appliedFilterData)):!1},_getAppliedFilterDataForGlobalFilter:function(n){var r,i;if(!t.isNullOrUndefined(n)){for(r=[],i=0;i<n.length;i++)this._isGlobalFilter(n[i].Control)&&r.push(n[i]);return r}return n},_scrollIconCreation:function(){var e,h;if(this.element.find(".e-dbrd-ryt-scroll-container").length===t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length===t.DashboardConstants.Zero){var u=n("<div class='e-dbrd-ryt-scroll-container'><\/div>"),i=n("<div class='e-dbrd-scroll-wrap'><\/div>"),f=n("<div class='e-dbrd-ryt-icon-scroll-wrap'><\/div>"),c=n("<span class='e-dbrd-scroll-right'><\/span>");f.append(c);i.append(f);u.append(i);this.element.find(".e-tab").prepend(u);e=n("<div class='e-dbrd-scroll-ryt-trans'><\/div>");i.append(e);var o=n("<div class='e-dbrd-left-scroll-container'><\/div>"),r=n("<div class='e-dbrd-scroll-wrap'><\/div>"),s=n("<div class='e-dbrd-left-icon-scroll-wrap'><\/div>"),l=n("<span class='e-dbrd-scroll-left'><\/span>");s.append(l);r.append(s);o.append(r);this.element.find(".e-tab").prepend(o);h=n("<div class='e-dbrd-scroll-left-trans'><\/div>");r.append(h);this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable");this._scrollTransCheck();this.model.enableCustomTheming&&this._customTheme(["multitabSettings"])}else this.element.find(".e-dbrd-ryt-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-left-scroll-container").css({display:"block"}),this._scrollTransCheck()},_scrollCheck:function(){var f,e,u,i,o,s,r,h;if(n(window).width()>t.DashboardConstants.MobileWidth){for(f=this.tabInformation,e=f.length,u=0;u<e;u++)this.length=this.length+n(f[u]).outerWidth();this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero?(i=this.element.find(".e-tab>.e-header").width(),o=n(".e-dbrd-tab-wrapper").width(),i<o&&(this._scrollIconRemove(),i=n(".e-dbrd-tab-wrapper").width(),this.element.find(".e-tab>.e-header").width(i),this.element.find(".e-tab>.e-header").css({width:i,"margin-left":"0px"}))):(s=n(".e-dbrd-tab-wrapper").width(),r=0,s<this.length?(this._scrollIconCreation(),r=this.length+this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width(),this.element.find(".e-tab>.e-header").width(r),h=this.element.find(".e-dbrd-left-icon-scroll-wrap").width(),this.element.find(".e-tab>.e-header").css({"margin-left":h+"px","margin-right":"0px"}),this.initialForward=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))):(r=n(".e-dbrd-tab-wrapper").width(),this.element.find(".e-tab>.e-header").width(r)))}},_hideTab:function(){this.element.find(".e-tab>.e-header").css({display:"none"});this.element.find(".e-active-content").css({"padding-top":"0px"});this.element.find(".e-dbrd-ryt-scroll-container").css({display:"none"});this.element.find(".e-dbrd-left-scroll-container").css({display:"none"});this.model.showTab||(this.element.find(".e-dbrd-banner").css({"border-top":"none"}),this.element.find(".e-dbrd-tab-menu-container").css({display:"none"}),this.element.find(".e-dbrd-tab-res-icon-container").css({display:"none"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"0px"}))},_showTab:function(){this.model.showTab&&n(window).width()>=t.DashboardConstants.MobileWidth?(this.element.find(".e-tab>.e-header").css({display:"block"}),this.element.find(".e-dbrd-ryt-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-left-scroll-container").css({display:"block"}),this.element.find(".e-dbrd-tab-menu-container").css({display:"block"}),this.element.find(".e-dbrd-banner").css({"border-top":"1px solid #c8c8c8"})):this.model.showTab&&n(window).width()<t.DashboardConstants.MobileWidth&&(this.element.find(".e-dbrd-tab-res-icon-container").css({display:"block"}),this.element.find(".e-active-content .e-dbrd-banner.e-dbrd-multitab-banner").css({"padding-left":"20px"}))},_scrollForward:function(){var r=this.element.find(".e-dbrd-ryt-scroll-container"),f,e;if(!r.hasClass("e-dbrd-navi-disable")){var u=60,i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),o=r.offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();i===this.initialForward?(i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u,this.element.find(".e-tab>.e-header").css({"margin-left":"-"+i+"px"}),this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable")):(this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))-u,this.element.find(".e-tab>.e-header").css({"margin-left":i+"px"}));f=this.element.find(".e-tab>.e-header").find("li").last().offset().left+this.element.find(".e-tab>.e-header").find("li").last().width();f<o&&(r.addClass("e-dbrd-navi-disable"),this.element.find(".e-dbrd-left-scroll-container").removeClass(".e-dbrd-navi-disable"));this._scrollTransCheck();n(".e-dbrd-ryt-scroll-container").hasClass("e-dbrd-navi-disable")&&(e=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+this.element.find(".e-dbrd-scroll-ryt-trans").width(),this.element.find(".e-tab>.e-header").css({"margin-left":e}))}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollBackward:function(){var r=this.element.find(".e-dbrd-left-scroll-container"),e,o;if(!r.hasClass("e-dbrd-navi-disable")){var u=60,i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),s=r.offset().left,f=r.width(),h=this.initialForward+f;i===-h?(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u+f,this.element.find(".e-tab>.e-header").css({"margin-left":i})):i!==-this.initialForward?(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"))+u,this.element.find(".e-tab>.e-header").css({"margin-left":i})):(this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),this.element.find(".e-tab>.e-header").css({"margin-left":this.initialForward+"px"}));e=parseInt(this.element.find(".e-tab>.e-header").css("margin-left"));e>=s&&(this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable"),this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"));this._scrollTransCheck();n(".e-dbrd-left-scroll-container").hasClass("e-dbrd-navi-disable")&&(o=this.element.find(".e-dbrd-left-scroll-container").width()-this.element.find(".e-dbrd-scroll-left-trans").width(),this.element.find(".e-tab>.e-header").css({"margin-left":o}))}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollIconRemove:function(){this.element.find(".e-dbrd-left-scroll-container").remove();this.element.find(".e-dbrd-ryt-scroll-container").remove()},_scrollTabSwitch:function(){var l;if(this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero){var n=this.element.find(".e-tab>.e-header"),e=this.element.find(".e-tab .e-header .e-active"),i=e.offset().left,o=e.width(),a=i+o,s=this.element.find(".e-dbrd-left-icon-scroll-wrap").width(),v=this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width(),h=this.element.find(".e-dbrd-tab-menu-container").width(),y=this.element.find(".e-dbrd-tab-wrapper").width()-(s+v+h),p=parseInt(this.element.find(".e-dbrd-tab-wrapper").css("margin-left")),c=null,r=null,u=this.element.find(".e-tab>.e-header").children("li").last().offset().left+n.children("li").last().width(),f=this.element.find(".e-dbrd-ryt-scroll-container").offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();if(u>f&&this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable"),i>p&&a<=y)return;i<=t.DashboardConstants.Zero?(c=parseInt(this.element.find(".e-tab>.e-header").css("margin-left")),r=c+-i+s,n.css({"margin-left":r})):(l=this.element.find(".e-dbrd-ryt-icon-scroll-wrap").offset().left,r=i+o-(l+this.element.find(".e-dbrd-ryt-icon-scroll-wrap").width()-h),n.css({"margin-left":parseInt(n.css("margin-left"))-r+"px"}));parseInt(n.css("margin-left"))<this.element.find(".e-dbrd-left-icon-scroll-wrap").width()?this.element.find(".e-dbrd-left-scroll-container").removeClass("e-dbrd-navi-disable"):parseInt(n.css("margin-left"))>=this.element.find(".e-dbrd-left-icon-scroll-wrap").width()&&this.element.find(".e-dbrd-left-scroll-container").addClass("e-dbrd-navi-disable");u=n.children("li").last().offset().left+n.children("li").last().width();f=this.element.find(".e-dbrd-ryt-scroll-container").offset().left+this.element.find(".e-dbrd-scroll-ryt-trans").width();u<=f?this.element.find(".e-dbrd-ryt-scroll-container").addClass("e-dbrd-navi-disable"):this.element.find(".e-dbrd-ryt-scroll-container").removeClass("e-dbrd-navi-disable");this._scrollTransCheck()}this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_scrollResizeHandler:function(){var n=this.element.find(".e-tab .e-header");if(this.element.find(".e-dbrd-ryt-scroll-container").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-left-scroll-container").length>t.DashboardConstants.Zero){var r=this.element.width(),i=parseFloat(n.css("margin-left")),u=n.width()+i,f=r-u;n.css({"margin-left":i+f+"px"})}this._scrollTabSwitch()},_currentlyEleVisibleOrNot:function(){var n=this.element.find(".e-tab .e-header .e-active"),t=n.offset().left+n.width(),i=this.element.find(".e-dbrd-ryt-icon-scroll-wrap"),u=this.element.find(".e-dbrd-left-icon-scroll-wrap").offset().left+i.width(),f=i.offset().left,r=!1;return t>u&&t<=f&&(r=!0),r},_errorMsgPos:function(){if(this.element.find(".e-error-notification").length>t.DashboardConstants.Zero){var n=this.element.find(".e-tab .e-header").height()+5;this.element.find(".e-error-notification").css({top:n})}},_scrollTransCheck:function(){var n=this.element.find(".e-dbrd-scroll-left-trans"),i=this.element.find(".e-dbrd-scroll-ryt-trans"),r=n.parents(".e-dbrd-left-scroll-container"),u=i.parents(".e-dbrd-ryt-scroll-container");r.hasClass("e-dbrd-navi-disable")?(n.css({display:"none"}),this.element.find(".e-dbrd-scroll-left").css({color:"#dbdbdb"})):u.hasClass("e-dbrd-navi-disable")&&(i.css({display:"none"}),this.element.find(".e-dbrd-scroll-right").css({color:"#dbdbdb"}));r.hasClass("e-dbrd-navi-disable")||(n.css({display:"block"}),this.element.find(".e-dbrd-scroll-left").css({color:"#6d6e70"}));u.hasClass("e-dbrd-navi-disable")||(i.css({display:"block"}),this.element.find(".e-dbrd-scroll-right").css({color:"#6d6e70"}));this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)&&(this.element.find(".e-dbrd-scroll-left-trans").css({display:"none"}),this.element.find(".e-dbrd-scroll-ryt-trans").css({display:"none"}))},_saveRenderedHiddenTabData:function(n,t){this.hiddenTabData[n]=t},_isHiddenTabData:function(n){return this.dashboardName!==n},_hasDataForCurrentTab:function(n){return!t.isNullOrUndefined(this.hiddenTabData[n])},_applyHiddenTabDataIfAny:function(n){if(this._hasDataForCurrentTab(n)){var t=this.hiddenTabData[n];switch(t.type){case"layout":this._renderDashboardLayout(null,t.data);break;case"refreshData":this._refreshControlData(null,t.data);break;case"initData":this._renderControl(null,t.data)}delete this.hiddenTabData[n]}},_getTabNameByTabIndex:function(n){for(var r=null,i=this.getDashboardTabsInfo(),u=i.length,t=0;t<u;t++)if(i[t].tabIndex===n){r=i[t].tabName;break}return r},_clearTimers:function(){if(this.timers!==null){for(var n=0;n<this.timers.length;n++)clearTimeout(this.timers[n]);this.timers=[]}this.updateTimer!==null&&clearTimeout(this.updateTimer);this.autorefreshTimer!==null&&clearTimeout(this.autorefreshTimer);t.isNullOrUndefined(this.showContextMenu)||clearTimeout(this.showContextMenu);this.longPress!==null&&clearTimeout(this.longPress);t.isNullOrUndefined(this.tooltip)||clearTimeout(this.tooltip);this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);this.requestTimer!==null&&clearTimeout(this.requestTimer);this._gaugetoolTipTimer&&clearTimeout(this._gaugetoolTipTimer)},_setGlobalFilterWrapper:function(){var r,i,n;if(this.includeGlobalFilter&&!t.isNullOrUndefined(this.tabInfoCollection)&&this.tabInfoCollection.length>t.DashboardConstants.Zero&&t.isNullOrUndefined(this.globalFilterWrapper))for(r=this.tabInfoCollection.length,i=0;i<r;i++)n=this.tabInfoCollection[i],t.isNullOrUndefined(n)||t.isNullOrUndefined(n.initPrivatePropertiesInfo)||!n.initPrivatePropertiesInfo.includeGlobalFilter||t.isNullOrUndefined(n.initPrivatePropertiesInfo.globalFilterWrapper)||(this.globalFilterWrapper=n.initPrivatePropertiesInfo.globalFilterWrapper)}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.history={_pushSessionStorage:function(n){var c,r,l,i,a;if(this.model.interactionSettings.allowHistoryMaintenance){var f=null,e=null,o=[],s=this._dashboardId,u=this.dashboardControls.controls,h=[];for(this.onDemandTabs&&(f=this._getCurrentTabInfo(),s=this.currentTabContentElement.attr("id")),this.hasFilterPanel&&!t.isNullOrUndefined(this.filterPanelObj)&&(e=this.filterPanelObj.dashboardControls.getAllControlsMasterData(),o=this.filterPanelObj.dashboardControls.getAllcontrolsSelectedItems()),c=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,r=0;r<c;r++)h.push({id:u[r].reportName,loadedPages:n==="initial"?[]:u[r].loadedPages});l={type:n,masterData:this.dashboardControls.getAllControlsMasterData(),selectedItems:this.dashboardControls.getAllcontrolsSelectedItems(),appliedFilterData:this.appliedFilterData,filterPanelMasterData:e,filterPanelSelectedItems:o,tabId:s,tabInfo:f,widgetProp:h,dashboardPath:this.dashboardPath(),dashboardParameters:this._getAppliedDashboardParameters(!0)};i=this._getSessionKey();t.isNullOrUndefined(sessionStorage)||(a=sessionStorage.getItem(i),t.isNullOrUndefined(a)?sessionStorage.setItem(i,JSON.stringify(l)):i=this._getSessionKey());n!=="initial"?this._pushBrowserHistory(i):this._replaceState(i)}},_getSessionKey:function(){return this._getGUIDFromRandom()},_getGUIDFromRandom:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)})},_popSessionStorageData:function(n){if(!t.isNullOrUndefined(sessionStorage)){var i=sessionStorage.getItem(n);if(!t.isNullOrUndefined(i))return JSON.parse(i)}return null},_replaceState:function(n){var i,r;t.isNullOrUndefined(n)||n===""||(i=JSON.stringify({"sync-dbrd-key":n}),this._updateCookie(n),r=this._isRenderWithInframe(),t.isNullOrUndefined(window.top.history.replaceState)||(!t.isNullOrUndefined(n)&&r?window.top.history.replaceState(i,"DashboardViewer",top.location.href):t.isNullOrUndefined(n)||window.history.replaceState(i,"DashboardViewer",location.href)))},_pushBrowserHistory:function(n){var u,i,r;t.isNullOrUndefined(n)||n===""||(u=this._isRenderWithInframe(),this._updateCookie(n),i=JSON.stringify({"sync-dbrd-key":n}),r="DashboardViewer",t.isNullOrUndefined(window.top.history.pushState)||(!t.isNullOrUndefined(i)&&u?window.top.history.pushState(i,r,top.location.href):t.isNullOrUndefined(i)||window.history.pushState(i,r,location.href)))},_updateCookie:function(n){var t=new Date;t.setHours(t.getHours()+24);document.cookie="sync-dbrd-key="+n+";expires="+t.toUTCString()},_getKeyFromCookie:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)sync-dbrd-key\s*\=\s*([^;]*).*$)|^.*$/,"$1")},_updateQueryStringParam:function(n,i){var r=null,u=null,o=null,c=null,s=null,f,h,a,l,e;return t.isNullOrUndefined(this.model._baseUrl)?i?(r=[parent.location.protocol,"//",parent.location.host,parent.location.pathname].join(""),u=window.top.location.search):(r=[location.protocol,"//",location.host,location.pathname].join(""),u=document.location.search):r=this.model._baseUrl,f=this.getCurrentFilters(),h=t.isNullOrUndefined(f.encryptedData)?"":"&"+f.encryptedData,t.isNullOrUndefined(f)&&u===""?(r+=this.onDemandTabs?"?~tabname~="+this.model.selectedTabName+"&~isGetLinkDashboard~=true"+h:"?~isGetLinkDashboard~=true&"+h,c=r):t.isNullOrUndefined(f)&&u!==""?c=r+u:(a=this._checkUrlHasTabName(),this.onDemandTabs&&!a?(o="~tabname~="+this.model.selectedTabName+"&~isGetLinkDashboard~=true"+h,s=t.isNullOrUndefined(f)?"":"?"+o):(o="~isGetLinkDashboard~=true"+h,s=t.isNullOrUndefined(f)?"":"?"+o),l=new RegExp("([?&])"+n+"[^&]*"),e=u.replace("?~isGetLinkDashboard~=true",""),e=u.replace("&~isGetLinkDashboard~=true",""),e&&(s=e.match(l)!==null?e.replace(l,"$1"+o):!t.isNullOrUndefined(s)&&s.length>t.DashboardConstants.Zero?e+"&"+o:e),c=r+s),c},_checkUrlHasTabName:function(){for(var f,e,o=!1,i=[],n=null,r=this._isRenderWithInframe()?window.top.location.href.slice(window.top.location.href.indexOf("?")+t.DashboardConstants.One).split("&"):window.location.href.slice(window.location.href.indexOf("?")+t.DashboardConstants.One).split("&"),s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=t.DashboardConstants.Zero;u<s;u++)n=r[u].split("="),f=n[t.DashboardConstants.Zero]==="~tabname~"?"tab":n[t.DashboardConstants.Zero],i.push(f),i[f]=n[1];return e=decodeURIComponent(i.tab),t.isNullOrUndefined(e)||this.model.selectedTabName!==e||(o=!0),o},_isRenderWithInframe:function(){return self===top?!1:self!==top||document.location.origin===parent.location.origin?!0:!1},_popBrowserHistory:function(i){var e;if(!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.originalEvent.state)&&this.model.interactionSettings.handleHistoryEvent){var f=JSON.parse(i.originalEvent.state),r=null,u=null;t.isNullOrUndefined(f)||t.isNullOrUndefined(f["sync-dbrd-key"])||f["sync-dbrd-key"]===""||(r=f["sync-dbrd-key"]);t.isNullOrUndefined(r)||r===""||(u=this._popSessionStorageData(r),u!==null&&this._updateCookie(r));e={event:i,handled:!1,sessionData:u};this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onHistoryPopstateChange,source:{element:n(i.currentTarget),data:u}});this._destroyInactiveElements();this._trigger("onHistoryPopstateChange",e);e.handled||t.isNullOrUndefined(u)||this._loadDashboardFromSessionData(r);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onHistoryPopstateChange,source:{element:n(i.currentTarget),data:u}})}},_destroyInactiveElements:function(){this.element.find(".e-dbrd-inactive").remove();this.element.find(".e-dbrd-dialog-bgrnd-export").remove();this.element.find(".e-dbrd-dialog.e-dbrd-alert").remove();this.element.find(".e-dbrd-dialog-bgrnd").remove();this.element.find(".e-dbrd-mobileExport").remove();this.element.find(".e-dbrd-filterListMenuPopUp").remove()},_loadDashboardFromSessionData:function(n){var r=!1,i;if(!t.isNullOrUndefined(n)&&n!==""&&(i=this._popSessionStorageData(n),!t.isNullOrUndefined(i))){i.tabId!==this._id&&this._tabSwitchingFromHistory(i);switch(i.type){case"initial":case"TabSwitch":case"refreshControls":this._initialRenderingFromHistory(i);r=!0;break;case"none":this._tabSwitchingFromHistory(i);r=!0}}return r},_initialRenderingFromHistory:function(n){var i=this;setTimeout(function(){var r,v,o,y,s,c,f,p,e,h,l;if(i._id===n.tabId){i.isFromHistory=!0;var u=i.dashboardControls.controls,a=n.masterData,w=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length;for(r=0;r<w;r++){for(v=t.isNullOrUndefined(n.widgetProp)?t.DashboardConstants.Zero:n.widgetProp.length,o=0;o<v;o++)u[r].reportName===n.widgetProp[o].id&&(u[r].loadedPages=n.widgetProp[o].loadedPages);for(y=t.isNullOrUndefined(n.selectedItems)?t.DashboardConstants.Zero:n.selectedItems.length,s=0;s<y>t.DashboardConstants.Zero;s++)c=n.selectedItems[s],u[r].reportName===c.ReportName&&(u[r].SelectedItems=c.SelectedItems)}if(n.length!==t.DashboardConstants.Zero&&i._loadDashboardParamData(n.dashboardParameters),!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(a)){if(i._reassignFilterData(n,i.dashboardControls.controls),i.hasFilterPanel&&!t.isNullOrUndefined(i.filterPanelObj)){for(f=i.filterPanelObj.dashboardControls.controls,p=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,e=0;e<p;e++)for(n.filterPanelSelectedItems.length===t.DashboardConstants.Zero&&(f[e].SelectedItems={Included:[],Excluded:[],DateRange:{start:"",end:""}}),h=0;h<n.filterPanelSelectedItems.length>t.DashboardConstants.Zero;h++)l=n.filterPanelSelectedItems[h],f[e].reportName===l.ReportName&&(f[e].SelectedItems=l.SelectedItems);i._reassignFilterData(n,i.filterPanelObj.dashboardControls.controls)}i.refreshDashboard(null,!1,null,a)}}},250)},_updateFilterOverviewFromHistory:function(n){var t=this;setTimeout(function(){var i=[];i.InteractionData=n;t._addFilterDataToTitle(i)},500)},_reassignFilterData:function(i,r){var h=[],v=[],o=i.masterData,c=r.length,u,f,l,e,a,s;if(o.length>t.DashboardConstants.Zero)for(u=0;u<c;u++)for(f=r[u].reportName,l=o.length,e=0;e<l;e++)a=o[e].ReportName,f===a&&r[u].configInfo.IsMasterFilter?n.inArray(f,h)===-1&&(this._applySelectedFilterInfo(f,o[e],r[u]),h.push(f)):f!==""&&r[u].configInfo.IsMasterFilter&&n.inArray(f,h)===-1&&(this._filterRemoveForSlave(r[u],f),v.push(r[u]));else for(s=0;s<c;s++)this._filterRemoveForSlave(r[s])},_applySelectedFilterInfo:function(n,i,r){if(r.SelectedFilterInfo.length===t.DashboardConstants.Zero||t.isNullOrUndefined(r.SelectedFilterInfo[0]))r.SelectedFilterInfo.length===t.DashboardConstants.Zero&&r.SelectedFilterInfo.push({DateFilterInfo:i.DateFilterInfo,DimensionFilterInfo:i.DimensionFilterInfo,MeasureFilterInfo:i.MeasureFilterInfo,PointIndex:i.PointIndex,SeriesIndex:i.SeriesIndex,UniqueColumnName:i.UniqueColumnName,ReportName:i.ReportName,IsStdDateTime:i.IsStdDateTime,Value:i.Value});else{var u=r.SelectedFilterInfo[0];u.DateFilterInfo=i.DateFilterInfo;u.DimensionFilterInfo=i.DimensionFilterInfo;u.MeasureFilterInfo=i.MeasureFilterInfo;u.PointIndex=i.PointIndex;u.SeriesIndex=i.SeriesIndex;u.UniqueColumnName=i.UniqueColumnName}},_filterRemoveForSlave:function(n){n.SelectedFilterInfo=[]},_tabSwitchingFromHistory:function(n){if(n.length!==t.DashboardConstants.Zero&&this._loadDashboardParamData(n.dashboardParameters),!t.isNullOrUndefined(n.tabInfo)&&!t.isNullOrUndefined(n.tabInfo.tabName)){this.isFromHistory=!0;var i=n.tabInfo.tabName;this.selectTabByName(i)}},_getCurrentTabInfo:function(){for(var t={tabId:"",tabName:"",tabIndex:null,tabElement:null},i=this.dashboardDetails.length,n=0;n<i;n++)this.dashboardName===this.dashboardDetails[n].DashboardName&&(t.tabId=this.dashboardDetails[n].DashboardName,t.tabIndex=this._getTabIndexById(this.dashboardDetails[n].DashboardName),t.tabName=this.dashboardDetails[n].DashboardDisplayName);return t},_setSessionTabAndMaster:function(){var i,n;(t.isNullOrUndefined(this.model._dashboardData)||!this.model._dashboardData.isTestCase)&&(i=this._getKeyFromCookie(),t.isNullOrUndefined(i)||i===""||(n=this._popSessionStorageData(i),t.isNullOrUndefined(n)||n.dashboardPath!==this.dashboardPath()||(this.model.currentMasterReport=n.masterData.length>0?n.masterData:[],t.isNullOrUndefined(n.tabInfo)||t.isNullOrUndefined(n.tabInfo.tabName)||(this.model.selectedTabName=n.tabInfo.tabName))))},_getAppliedDashboardParameters:function(n){var u=[],r,i;if(!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length!==t.DashboardConstants.Zero)for(r=t.DashboardConstants.Zero;r<this.dashboardParameters.data.length;r++)i=this.dashboardParameters.data[r],(i.defaultValue!==i.value||n)&&u.push({dprmn:i.parameterName,dprmv:i.value});return u},_loadDashboardParamData:function(n){var i,r,u;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(this.dashboardParameters)&&!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length!==t.DashboardConstants.Zero)for(i=t.DashboardConstants.Zero;i<n.length;i++)r=n[i],u=this._isParamPresent(r),u!==t.DashboardConstants.IndexLowerBound&&(this.dashboardParameters.data[u].value=r.dprmv)},_isParamPresent:function(n){for(var r=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,i=t.DashboardConstants.Zero;i<r;i++)if(this.dashboardParameters.data[i].parameterName===n.dprmn)return i;return t.DashboardConstants.IndexLowerBound}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.scroller={_onControlMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);if(n(this.currentTabContentElement).find(".e-control-prop-onHover").removeClass("e-control-prop-Visible"),r.hasClass("e-waitingLoadedPopup")||r.find(".e-scrollbar").hasClass("onScrolling")){r.removeClass("mouseEntered");return}r.removeClass("mouseEntered")}},_onMaximizeLeave:function(i){var u,f,r;if(!t.isNullOrUndefined(i)&&!n(i.currentTarget).hasClass("mouseEntered"))for(u=n("body").find(".e-dbrd-active-scrollbar"),f=u.length,r=0;r<f;r++)if(!u.eq(r).hasClass("onScrolling")){if(u.eq(r).stop(!0).show().fadeOut(1500),!n(i.target).hasClass("e-vhandle")&&n(i.target).find(".e-vhandle").length===t.DashboardConstants.Zero)return;u.eq(r).removeClass("e-dbrd-active-scrollbar")}},_onControlMouseOver:function(i){var r,f,e,u;if(!t.isNullOrUndefined(i)&&(this.currentTabContentElement.find(".mouseEntered").removeClass("mouseEntered"),r=n(i.currentTarget),!n(r).hasClass("e-ejinputtext"))){for(r.addClass("mouseEntered"),f=n("body").find(".e-dbrd-active-scrollbar"),e=f.length,u=0;u<e;u++){if(f.eq(u).hasClass("onScrolling"))return;f.eq(u).stop(!0).show().fadeOut(1500);n(i.target).hasClass("e-vhandle")||n(i.target).hasClass("e-hhandle")||f.eq(u).trigger("mouseleave");f.eq(u).removeClass("e-dbrd-active-scrollbar")}n(this.currentTabContentElement).find(".e-control-prop-onHover").removeClass("e-control-prop-Visible");r.hasClass("e-dbrd-showMenuOnHover")&&r.find(".e-dbrd-control").children().length!==t.DashboardConstants.Zero&&r.find(".e-control-prop-onHover").addClass("e-control-prop-Visible");r.find(".e-vhandle").css({"background-color":"#B3B3B3",border:"3px solid #ececec","border-radius":"10px"});r.find(".e-scrollbar").addClass("e-dbrd-active-scrollbar");r.find(".e-hhandle").css({"background-color":"#B3B3B3",border:"3px solid #ececec",height:"8px",bottom:t.DashboardConstants.Zero,"border-radius":"10px"});r.find(".e-scrollbar").hasClass("onScrolling")||(r.find(".e-scrollbar").stop(!0).hide().fadeIn(1500),r.find(".e-hhandle").css({bottom:"3px"}));this.currentTabContentElement.find(".e-dbrd-scroller>.e-scrollbar").css({display:"block"})}},_onScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"rgba(255, 0, 0, 0)"});r.find(".e-vup").css({"font-size":"6px",left:"0px",top:"-2px"});r.find(".e-vdown").css({"font-size":"6px",left:"0px",top:"0.65px"});r.find(".e-vhandle").css({width:"7px","border-radius":"10px"});r.find(".e-hup").css({"font-size":"6px",left:"0px",top:"-1px"});r.find(".e-hdown").css({"font-size":"6px",left:"0px",top:"-2px"});r.find(".e-hhandle").css({height:"8px","margin-top":"2px",bottom:"3px"})}},_onScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vup").css({"font-size":"0"});r.find(".e-vdown").css({"font-size":"0"});r.find(".e-vhandle").css({width:"5px",left:"0"});r.find(".e-hup").css({"font-size":"0"});r.find(".e-hdown").css({"font-size":"0"});r.find(".e-hhandle").css({height:"5px"})}},_onDashboardScrollBarMouseMove:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget);r.addClass("mouseOver");r.css({"background-color":"#F5F5F5"});r.find(".e-vhandle").css({width:"8px",left:"-2px","border-radius":"0px","border-left":"1px solid #ccccccab","border-top":"1px solid #ccccccab"})}},_onDashboardScrollBarMouseLeave:function(i){if(!t.isNullOrUndefined(i)){var r=n(i.currentTarget).css({"background-color":""});if(n(i.toElement).hasClass("e-gridwaitingpopup")||r.hasClass("onScrolling")||n(i.target).hasClass("e-dbrd-active-scrollbar"))return;r.removeClass("mouseOver");r.find(".e-vhandle").css({width:"7px",left:"0"})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.scriptdownload={_downloadScriptFromCdnLink:function(n){var i,u,r;if(!t.isNullOrUndefined(this.model.cdnFilePath)&&!this._isEmptyOrSpaces(this.model.cdnFilePath)){if(this.widgetDownLoadCount=0,this.currentWidgetDownloadCount=0,i=[],u=[],i=this._dashboardWidgetDownload(i,n),!t.isNullOrUndefined(this.filterPanelWidgetscollection)){var e=JSON.parse(this.filterPanelWidgetscollection),f=t.isNullOrUndefined(e)?null:e.filterPanelwidgetCollection,o=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length;for(r=t.DashboardConstants.Zero;r<o;r++)u.push(f[r]);i=this._filterWidgetDownload(i,u)}this._overAllwidgetFileDownload(i)}},_isEmptyOrSpaces:function(n){return t.isNullOrUndefined(n)||n===""||n.match(/^ *$/)!==null},_callFileDownloadRecursive:function(n,t){var i=this;setTimeout(function(){i.currentWidgetDownloadCount===i.widgetDownLoadCount?(i._startRenderingControls(),i._dashboardWidgetRenderExcuting(n,t)):i._callFileDownloadRecursive()},500)},_dashboardWidgetDownload:function(n,i){for(var r=n,f=null,f=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<f;u++)switch(i[u].Name){case t.dashboardViewer.Controls.Card:t.isNullOrUndefined(jQuery.fn.ejDashboardCard)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardCard));break;case t.dashboardViewer.Controls.Gauge:t.isNullOrUndefined(jQuery.fn.ejCircularGauge)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardCircularGauge));break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ProportionChart:case t.dashboardViewer.Controls.ComparisonChart:t.isNullOrUndefined(jQuery.fn.ejDashboardChart)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardChart));break;case t.dashboardViewer.Controls.RangeNavigator:t.isNullOrUndefined(jQuery.fn.ejDashboardChart)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardChart));t.isNullOrUndefined(jQuery.fn.ejDashboardRangeNavigator)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardRangeNavigator));break;case t.dashboardViewer.Controls.RangeSlider:t.isNullOrUndefined(jQuery.fn.ejDashboardSlider)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardRangeSlider));break;case t.dashboardViewer.Controls.DatePicker:t.isNullOrUndefined(jQuery.fn.ejDashboardDashboardDatePicker)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardDatepicker));break;case t.dashboardViewer.Controls.TreeMap:t.isNullOrUndefined(jQuery.fn.ejTreeMap)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardTreeMap));break;case t.dashboardViewer.Controls.FilterComboBox:case t.dashboardViewer.Controls.ListBox:t.isNullOrUndefined(jQuery.fn.ejDashboardListBox)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardListbox));break;case t.dashboardViewer.Controls.Grid:t.isNullOrUndefined(jQuery.fn.ejDashboardGrid)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardGrid));break;case t.dashboardViewer.Controls.PivotGrid:t.isNullOrUndefined(jQuery.fn.ejDashboardPivotGrid)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardPivotgrid));break;case t.dashboardViewer.Controls.BubbleMap:case t.dashboardViewer.Controls.ChoroplethMap:t.isNullOrUndefined(jQuery.fn.ejMap)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardMap))}return r},_filterWidgetDownload:function(n,i){var r=n,f,u;if(!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero)for(f=i.length,u=0;u<f;u++)switch(i[u]){case t.dashboardViewer.Controls.ListBox:t.isNullOrUndefined(jQuery.fn.ejDashboardListBox)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardListbox));break;case t.dashboardViewer.Controls.RangeSlider:t.isNullOrUndefined(jQuery.fn.ejDashboardSlider)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardRangeSlider));break;case t.dashboardViewer.Controls.DatePicker:t.isNullOrUndefined(jQuery.fn.ejDashboardDashboardDatePicker)&&(r=this._widgetFileDownloadCheck(r,t.dashboarDownLoadFileName.ejDashboardDatepicker))}return r},_widgetFileDownloadCheck:function(n,i){var r=n,f,u;if(!t.isNullOrUndefined(r)&&r.length>t.DashboardConstants.Zero)for(f=r.length,u=0;u<f;u++)r.indexOf(i)===t.DashboardConstants.IndexLowerBound&&r.push(i);else r.push(i);return r},_overAllwidgetFileDownload:function(i){var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,f=this,r,e;if(u>t.DashboardConstants.Zero)for(r=0;r<u;r++)e=i[r],this.currentWidgetDownloadCount=u,n.ajax({url:this.model.cdnFilePath+"/"+e+".all.min.js",dataType:"script",cache:!0,success:function(){f.widgetDownLoadCount++},error:function(){f._errorMsgPopup(i[r],!0)}})}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.tooltips={_unWireMouseMoveEvents:function(){this._off(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mousemove",this._wireMouseMoveEvents)},_wireMouseMoveEvents:function(){this._off(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._off(this.element,"mousemove",this._wireMouseMoveEvents)},_onControlTitleMouseLeave:function(t){n.isFunction(t.preventDefault)&&t.preventDefault();t.bubbles=!1;this.element.find(".e-dbrd-tooltip").hide()},_showTitleFilterToolTip:function(t){var r=n(t.currentTarget),i=this.currentTabContentElement.find(".e-dbrd-title-filter-wrapper");r.offset().left+i.width()>window.outerWidth?(i.find(".e-dbrd-title-filter-arrow").css({left:i.width()-66+"px"}),i.css({top:r.offset().top,left:r.offset().left-(i.width()-(r.offset().left+r.width()+2>window.outerWidth?12:18))})):(i.css({top:r.offset().top,left:r.offset().left-15}),i.find(".e-dbrd-title-filter-arrow").css({left:""}));i.stop(!0,!0,!0).show()},_hideTitleFilterToolTip:function(i){if(!(n(i.relatedTarget).parents(".e-dbrd-title-filter-wrapper").length>t.DashboardConstants.Zero)&&!n(i.relatedTarget).hasClass("e-dbrd-title-filter-wrapper")){var r=this.currentTabContentElement.find(".e-dbrd-title-filter-wrapper");r.stop(!0,!0,!0).hide()}},_onControlTitleMouseOver:function(i){var r,e,u,f;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.element.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(i.bubbles=!1,r=this,e=t.DashboardConstants.Zero,this.longPress!==null&&i.type==="touchend"){clearTimeout(this.longPress);return}if(u=null,f=null,t.isNullOrUndefined(i.originalEvent)?(u=i.target.offsetLeft,f=i.target.offsetTop):(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,f=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY),i.type==="touchstart")e=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mouseover"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.longPress=setTimeout(function(){var l=400,a=30,o="",s,h,c,e,v,y;if((n(i.target).hasClass("e-control-title")||n(i.target).hasClass("e-control-subtitle")||n(i.target).hasClass("e-spanned-header")||n(i.target).hasClass("e-dbrd-param-column"))&&(o=n(i.target)),s=null,h=null,o.length>t.DashboardConstants.Zero?(s=o.innerWidth(),h=o[0].scrollWidth):(s=n(i.currentTarget).innerWidth(),h=n(i.currentTarget)[0].scrollWidth),h<=s&&r._compareControlTitleWidth(n(i.target))&&!r._SubtitleTooltip(i)){r._onControlTitleMouseLeave(i);return}(c=r._measureText(n(i.currentTarget).text().trim(),100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,e=r.element.find(".e-dbrd-tooltip"),n(i.target).hasClass("e-dbrd-param-column")||n(i.target).hasClass("e-spanned-header")?e.html(r._getParameterColumnValue(n(i.target).parent())):n(i.target).children(".e-dbrd-param-column").length>t.DashboardConstants.Zero||n(i.target).siblings(".e-dbrd-param.column").length>t.DashboardConstants.Zero?e.html(r._getParameterColumnValue(n(i.target))):n(i.target).hasClass("e-link")&&!t.isNullOrUndefined(n(i.target))?e.html(n(i.target)[t.DashboardConstants.Zero].innerText):e.html(n(i.target).html()),r._SubtitleTooltip(i)&&(v=n(i.target).parents(".e-dbrd-control-container"),y=v.find(".e-control-subtitle").text(),e.html(n(i.target).html()+"<br />"+y)),r.locale.utils.ExportDashboards!==e[0].innerText)&&(e.css({top:f+15-r.element.offset().top,left:(u-r.element.offset().left+c>n(r.currentTabContentElement).width()?u-r.element.offset().left-c:u-r.element.offset().left)+r.element.scrollLeft(),display:"block","max-width":l,"max-height":l}),e.hasClass("overflows")&&e.removeClass("overflows"),(n(i.target).hasClass("e-control-title")||n(i.target).hasClass("e-control-subtitle")||n(i.target).hasClass("e-spanned-header")||n(i.target).hasClass("e-dbrd-param-column")||n(i.target).hasClass("e-link"))&&e.addClass(e[t.DashboardConstants.Zero].scrollHeight>e.height()+10?"overflows":null),o.length>t.DashboardConstants.Zero&&e.css({left:u-f,"margin-left":"15px","margin-right":"15px"}),e.offset().left>r.element.width()-(e.width()+a)*r.scalingFactor&&e.css({left:r.element.width()-(e.width()+a)*r.scalingFactor+"px"}),e.offset().left<t.DashboardConstants.Zero&&e.css({left:"0px","margin-left":"15px","margin-right":"15px"}))},e)}},_compareControlTitleWidth:function(n){var r=!0,i,u,t;if(n.hasClass("e-spanned-header")||n.hasClass("e-dbrd-param-column")){for(i=n.parent().children(),u=i.length,t=0;t<u;t++)if((i.eq(t).hasClass("e-spanned-header")||i.eq(t).hasClass("e-dbrd-param-column"))&&i.eq(t)[0].scrollWidth>i.eq(t).innerWidth()){r=!1;break}r&&n.parent()[0].scrollWidth>n.parent().innerWidth()&&(r=!1)}return r},_SubtitleTooltip:function(i){var r=n(i.target).parents(".e-dbrd-control-container"),u;return n(window).width()>t.DashboardConstants.MobileWidth&&(u=105,r.height()<u&&r.find(".e-control-subtitle").length!==t.DashboardConstants.Zero)?!0:!1},_getParameterColumnValue:function(n){for(var r="",i=n.children(),u=i.length,t=0;t<u;t++)(i.eq(t).hasClass("e-spanned-header")||i.eq(t).hasClass("e-dbrd-param-column"))&&(r+=i.eq(t).html());return r},_onControlDescriptionMouseLeave:function(i){if(!t.isNullOrUndefined(i)&&!n(i.target).hasClass("e-control-description")&&!n(i.target).hasClass("e-dbrd-desc-tooltip")&&!n(i.target).parents().hasClass("e-dbrd-desc-tooltip")){var r=this.element.find(".e-dbrd-desc-tooltip");this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&(this.element.find(".e-dbrd-desc-tooltip").removeClass("e-dbrd-control"),this.element.find(".e-dbrd-desc-tooltip").ejDashboardScroller("destroy"));r.css({width:"auto",height:"auto"});this.element.find(".e-tooltip-active").removeClass("e-tooltip-active");r.hide()}},_showbreadscrumblevelChartToolTip:function(t){var i,u,r;(n(t.target).hasClass("e-dbrd-drill")||n(t.target).hasClass("e-dbrd-dropDown ul li"))&&(t.bubbles=!1,n.isFunction(t.stopPropagation)&&t.stopPropagation(),i=t.currentTarget.textContent,i!=="")&&(u=window.innerWidth,r=this._measureText(t.currentTarget.textContent.trim(),100,{size:"11px",fontStyle:"Normal",fontFamily:"Roboto"}).width,n(t.target).width()<r&&(n(this.element).find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}),n(this.element).find(".e-dbrd-tooltip").html(i).css({top:t.pageY+15,left:t.pageX+u>n(window).width()?t.pageX-r:t.pageX}).stop(!0,!0).show()))},_hidebreadscrumblevelChartToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();n(this.element).find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},_showFilterToolTip:function(t){var i,r;n(t.target).hasClass("e-brd-list")&&(t.bubbles=!1,n.isFunction(t.stopPropagation)&&t.stopPropagation(),i=t.currentTarget.textContent,i!=="")&&(r=this._measureText(i,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12,n(t.target).width()<r&&n(this.element).find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)","z-index":"1000000"}).html(i).css({top:t.pageY+15,left:t.pageX+r>n(window).width()?t.pageX-r:t.pageX}).stop(!0,!0).show())},_hideFilterToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();n(this.element).find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},_showDashboardToolTip:function(i){var r,e,u,f;if(!this.currentTabContentElement.find(".e-control-description").hasClass("e-tooltip-active")&&!this.element.find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")){if(r=this,e=t.DashboardConstants.Zero,!t.isNullOrUndefined(this.tooltip)&&i.type==="touchend"){clearTimeout(this.tooltip);return}if(u=null,f=null,t.isNullOrUndefined(i.originalEvent)?(u=i.target.offsetLeft,f=i.target.offsetTop):(u=i.type==="touchstart"?i.originalEvent.touches[0].pageX:i.pageX,f=i.type==="touchstart"?i.originalEvent.touches[0].pageY:i.pageY),i.type==="touchstart")e=1e3,n(i.target).addClass("e-touch-tooltip");else if(i.type==="mousemove"&&n(i.target).hasClass("e-touch-tooltip")){n(i.target).removeClass("e-touch-tooltip");return}this.tooltip=setTimeout(function(){var s,e,o;if(n(i.currentTarget).hasClass("e-dbrd-hoverable")&&(i.bubbles=!1,n.isFunction(i.stopPropogation)&&i.stopPropagation(),n(i.currentTarget).parents(".e-dbrd-banner").siblings(".e-dbrd-fzone").length>t.DashboardConstants.Zero?r.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px rgba(255,255,255,0.5)"}):r.element.find(".e-dbrd-tooltip").css({"box-shadow":""}),s=n(i.currentTarget).attr("data-tooltip"),s!=="")){if(n(i.currentTarget).hasClass("e-remove-control-filter-disable")){r.element.find(".e-dbrd-tooltip").hide();return}e=r._measureText(s,100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width+12;e=e<300?e:300;r.element.find(".e-dbrd-tooltip").html(s).css({"z-index":"100001",top:f+15-r.element.offset().top,left:(u-r.element.offset().left+e*r.scalingFactor>n(r.element).width()?u-r.element.offset().left-e*r.scalingFactor<t.DashboardConstants.Zero?t.DashboardConstants.Zero:u-r.element.offset().left-e*r.scalingFactor:u-r.element.offset().left)+r.element.scrollLeft()}).stop(!0,!0).show();o=r.element.find(".e-dbrd-tooltip");o.length&&o.offset().top+o.height()+10>n("body").height()&&o.css({top:o.offset().top-o.height()});r.model.enableCustomTheming&&r._customTheme(["tooltip"])}},e)}},_hideDashboardToolTip:function(t){t.bubbles=!1;n.isFunction(t.stopPropagation)&&t.stopPropagation();this.tooltipTimer!==null&&clearTimeout(this.tooltipTimer);var i=this;this.tooltipTimer=setTimeout(function(){i.element.find(".e-dbrd-tooltip").stop(!0,!0,!0).hide()},500)},_onControlDescriptionMouseOver:function(i){var e;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:n(i.target).find("p").html()}});n.isFunction(i.preventDefault)&&i.preventDefault();n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation();n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this._destroyControlMenu();this._destroyContextMenu();this._destroyDashboardMenu();this._closeFilterOverviewDialog(i);this._hideDashboardDescription(i);i.bubbbles=!1;var u=300,f=this._measureText(n(i.currentTarget).text(),100,{size:"14",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,r=this.element.find(n(".e-dbrd-desc-tooltip"));n(i.target).hasClass("e-tooltip-active")?(this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&this.element.find(".e-dbrd-desc-tooltip").removeClass("e-scroller e-js e-widget e-dbrd-control"),r.css({width:"auto",height:"auto"}),n(i.target).removeClass("e-tooltip-active"),r.hide()):(this.element.find(".e-tooltip-active").removeClass("e-tooltip-active"),this.element.find(".e-dbrd-desc-tooltip").hasClass("e-scroller")&&this.element.find(".e-dbrd-desc-tooltip").removeClass("e-scroller e-js e-widget e-dbrd-control"),r.css({top:i.pageY-this.element.offset().top+15,left:i.pageX-this.element.offset().left+f>n(window).width()?i.pageX-this.element.offset().left>f?i.pageX-this.element.offset().left-f:t.DashboardConstants.Zero:i.pageX-this.element.offset().left,display:"block","word-wrap":"break-word",margin:"0px 15px 0px 15px"}),r.css({width:"auto",height:"auto"}),r.html(n(i.currentTarget.children[0]).html()),n(i.target).addClass("e-tooltip-active"),r.addClass("e-dbrd-active"),r.width()>u&&(r.empty(),r.append('<div class="e-dbrd-scroll"><\/div>'),r.find(".e-dbrd-scroll").html(n(i.currentTarget.children[0]).html()),e=n(i.target).offset().left/this.scalingFactor,e+u>this.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()?r.css({left:n(i.target).offset().left-this.currentTabContentElement.offset().left-u}):r.css({left:n(i.target).offset().left-this.currentTabContentElement.offset().left}),r.addClass("e-dbrd-active"),r.find(".e-dbrd-scroll").css({width:"300px"}),n(".e-dbrd-scroll").height()>150&&(r.addClass("e-dbrd-control"),r.ejDashboardScroller({width:"300px",height:"150px"}))));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:n(i.target).find("p").html()}});this.model.enableCustomTheming&&this._customTheme(["description"])},_descShowOrLess:function(i){var e=n(i.currentTarget),r=n(e).parents(".e-dbrd-inactive"),s=r.find(".e-dbrd-inactive-footer-description"),h=r.find(".e-dbrd-inactive-footer"),o=null,c=r.find(".e-dbrd-downArrow"),l=r.find(".e-dbrd-moreText"),a=r.find(".e-dbrd-upArrow"),v=r.find(".e-dbrd-lessText"),y=r.find(".e-dbrd-moreLessDiv"),p=n("#"+this._id+"_InActiveDiv"),f,w,u;if(e.hasClass("e-dbrd-desc-moreDiv"))for(f=n(e).children(),w=f.length,u=0;u<w;u++)(n(f[u]).hasClass("e-dbrd-moreText")||n(f[u]).hasClass("e-dbrd-lessText"))&&n(f[u]).css("display")==="block"&&(o=n(f[u]));o.length!==t.DashboardConstants.Zero&&(o[0].innerText===this.locale.utils.TextMore?(h.css({height:s.height()+55}),c.css({display:"none"}),l.css({display:"none"}),a.css({display:"block"}),v.css({display:"block"}),y.css({"margin-top":s.height()-e.height()-10+"px"}),p.css({"overflow-y":"auto"})):(h.css({height:"70px"}),c.css({display:"block"}),l.css({display:"block"}),a.css({display:"none"}),v.css({display:"none"}),y.css({"margin-top":"0px"}),p.css({"overflow-y":"hidden"})))},_hideDescription:function(){if(this.currentTabContentElement.find(".e-dbrd-control-desc").length>t.DashboardConstants.Zero){var n=this.currentTabContentElement.find(".e-control-descDiv p").html();this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationClose,source:{element:null,data:n}});this.currentTabContentElement.find(".e-dbrd-control-desc").css({display:"none"});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.informationClose,source:{element:null,data:n}})}},_destroyReportDescription:function(){n(this.element).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick");n(this.element).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active")},_showReportDescription:function(i){var r,o,f;if(!t.isNullOrUndefined(i)){var e=300,u=0;this._tabMenuPopupHide(i);n(this.element).find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:this.element.find(".e-dbrd-divHtml p").html()}}),n(this.element).find(".e-dbrd-report-desc").hasClass("e-dbrd-descr-active")?this._destroyReportDescription():(n(this.element).find(".e-dbrd-banner-description").addClass("e-dbrd-banner-infoclick"),n(this.element).find(".e-dbrd-report-desc").hasClass("e-dbrd-control")||n(this.element).find(".e-dbrd-report-desc").addClass("e-dbrd-control"),r=n(this.element).find(".e-dbrd-banner-description"),u=r.offset().left-this.element.offset().left+r.width()*this.scalingFactor,o=r.offset().top-this.element.offset().top+r.height()*this.scalingFactor,n(this.element).find(".e-dbrd-report-desc").css({display:"block",left:u,top:o}).addClass("e-dbrd-descr-active")),u+e>this.currentTabContentElement.find(".e-dbrd-layout-wrapper").width()&&n(this.element).find(".e-dbrd-report-desc").css({left:u-e+50}),t.isNullOrUndefined(i)||(this.element.find("#"+this._id+"reportDescriptionDiv").css({width:"auto",height:"auto"}),f=this.element.find("#"+this._id+"reportDescriptionDiv"),f.width()>e&&(this.element.find("#"+this._id+"reportDescriptionDiv").css({width:"300px"}),this.element.find(".e-dbrd-divHtml").height()>150?(this.element.find("#"+this._id+"reportDescriptionDiv").addClass("e-dbrd-control"),f.ejDashboardScroller({height:"150px"})):f.css({height:"auto"})),this.model.enableCustomTheming&&this._customTheme(["description"])),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.descriptionPopupOpen,source:{element:n(i.target),data:this.element.find(".e-dbrd-divHtml p").html()}}))}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dataRefresh={_refreshMasterControl:function(){var f,n,e,i,r,u;if(!t.isNullOrUndefined(this.model.currentMasterReport))for(f=this.model.currentMasterReport.length,n=0;n<f;n++)for(e=this.dashboardControls.controls.length,i=0;i<e;i++)if(r=this.dashboardControls.controls[i],u=this.model.currentMasterReport[n],u.ReportName===r.reportName){r.SelectedFilterInfo.push(u);break}},_resetAutoRefreshSettings:function(i){var r=null,f,u;if(this.onDemandTabs)for(f=this.model.autoRefreshSettings.length,u=0;u<f;u++)if(r=this._getTabsInfoForAutoRefresh(n.extend(!0,[],this.model.autoRefreshSettings[u])),!t.isNullOrUndefined(r)&&t.isNullOrUndefined(i)&&r.tabName===this.getCurrentTab().tabName){this._initializeAutoRefreshFunctions(r);break}else!t.isNullOrUndefined(r)&&i&&this._initializeAutoRefreshFunctions(r);else r=n.extend(!0,[],this.model.autoRefreshSettings[t.DashboardConstants.Zero]),r.reportName=this.reportName,this._stopDisableTimerWidgetsIntialization(r),this._initializeAutoRefreshFunctions(r)},_getTabsInfoForAutoRefresh:function(n){for(var i,e,u=null,f=this.getDashboardTabsInfo(),o=f.length,r=t.DashboardConstants.Zero;r<o;r++)if(i=f[r],i.tabName===n.tabName||t.isNullOrUndefined(n.tabName)&&i.tabIndex===n.tabIndex){n.tabName=i.tabName;e=this._checkDbrdIsRenderedOrNotByDbrdName(n.tabName);e&&(n.reportName=n.tabName,u=this._stopDisableTimerWidgetsIntialization(n));break}return u},_getDashboardTabControls:function(n,t){var r=null,u,i;if(n===this.reportName)r=t?this.dashboardControls.getAllControlsForRefresh():this.dashboardControls;else for(u=this.tabInfoCollection.length,i=0;i<u;i++)if(this.tabInfoCollection[i].initPrivatePropertiesInfo.reportName===n){r=t?this.tabInfoCollection[i].initPrivatePropertiesInfo.dashboardControls.getAllControlsForRefresh():this.tabInfoCollection[i].initPrivatePropertiesInfo.dashboardControls;break}return r},_initializeAutoRefreshFunctions:function(n){var i=this._getDashboardRefreshDetails(n);t.isNullOrUndefined(i)||this._initializeAutoRefresh(i);t.isNullOrUndefined(this.scheduler12ClkTimer)&&this._initialize24HrsTimerForScheduling(!0)},_getDashboardRefreshDetails:function(n){var r=null,u,i;return t.isNullOrUndefined(n)||(u=this._getIntervalTimeForDbrd(n),i=this._getWidgetListCollectionForRefresh(n),r={interval:u,isWidgetSpecific:n.isWidgetSpecific,widgets:t.isNullOrUndefined(i)?null:i.hourlyWidgets,reportName:n.reportName,showWaitingIndicator:n.showWaitingIndicator,scheduleWidgets:t.isNullOrUndefined(i)?null:i.scheduleWidgets},this._schedulerKeyGeneration(r)),r},_getIntervalTimeForDbrd:function(n){var i=null;return t.isNullOrUndefined(n.intervalSettings)||n.intervalSettings.mode!==t.dashboardViewer.refreshTimer.mode.hourly?t.isNullOrUndefined(n.intervalSettings)||(i=n.intervalSettings):i=this._getIntervalTimeToRefresh(n.intervalSettings),i},_getWidgetListCollectionForRefresh:function(n){var i=null,r,u;return n.isWidgetSpecific?i=this._checkWidgetHasMinTimeIntervalForRefresh(n.widgets,n.reportName):!t.isNullOrUndefined(n.widgets)&&n.widgets.length>t.DashboardConstants.Zero?i=this._getWidgetListForDbrdRefresh(n.widgets,n.reportName,n.intervalSettings):(t.isNullOrUndefined(n.widgets)||n.widgets.length>t.DashboardConstants.Zero)&&(r=this.onDemandTabs?this._getDashboardTabControls(n.tabName,!1):this.dashboardControls,u=r.getAllControlsId(),i=this._getWidgetListForDbrdRefresh(u,n.reportName,n.intervalSettings)),i},_checkWidgetHasMinTimeIntervalForRefresh:function(i,r){var f=n.extend(!0,[],i),o=[],c=null,a=[],l,s,e,v,h,u,y;if(!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero){for(l=f.length,s=0;s<l;s++)o.push(f[s].id);for(c=this._getDashboardControlsForAutoRefresh(o,r),o=[],e=0;e<l;e++)for(v=c.length,h=0;h<v;h++)c[h].reportName===f[e].id&&(u=f[e],y=!t.isNullOrUndefined(u.intervalSettings)&&!t.isNullOrUndefined(u.intervalSettings.mode)?u.intervalSettings.mode:t.dashboardViewer.refreshTimer.mode.hourly,t.isNullOrUndefined(y)||(u.interval=u.intervalSettings.mode===t.dashboardViewer.refreshTimer.mode.hourly?this._getIntervalTimeToRefresh(u.intervalSettings):null,t.isNullOrUndefined(u.interval)?a.push(u):(delete f[e].intervalSettings,o.push(u))));f=o}return{hourlyWidgets:f,scheduleWidgets:a}},_getWidgetListForDbrdRefresh:function(i,r,u){var f=n.extend(!0,[],i),e=[],c=null,p=null,l=!1,a,s,o,v,h,y;if(t.isNullOrUndefined(u)||u.mode===t.dashboardViewer.refreshTimer.mode.hourly||(l=!0),!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero){for(a=f.length,s=0;s<a;s++)e.push(f[s]);for(c=this._getDashboardControlsForAutoRefresh(e,r),e=[],o=0;o<a;o++)for(v=c.length,h=0;h<v;h++)c[h].reportName===f[o]&&e.indexOf(f[o])===t.DashboardConstants.IndexLowerBound&&(y=l?{id:f[o],intervalSettings:u}:f[o],e.push(y))}return p=l?{scheduleWidgets:e}:{hourlyWidgets:e}},_initializeAutoRefresh:function(n){var e=n.interval,c=n.isWidgetSpecific,i=n.widgets,o=n.reportName,s=n.showWaitingIndicator,f=null,r=[],h,u;if(!c&&!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero){for(h=i.length,u=0;u<h;u++)f=i[u],f!==""&&r.push({interval:e,id:f});this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(r=this._restrictPreviousPageWidgets(r));this._widgetAutoRefresh(r,o,s)}else!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero&&(this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(i=this._restrictPreviousPageWidgets(i)),this._widgetAutoRefresh(i,o,s))},_processAutoRefreshData:function(i,r){var g,et,c,h,e,u,b,it,ht,k,d;r=this._processResponseMessage(r);this.isFromAutoRefresh=!1;this.isDashboardResize=!1;var a=[],rt=null,ut=null,f=null,ft=null,l={},o=null,p=[],w={};for(this.currentSlaveInfo=[],this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)&&(g=this._generateKeyFromDataForCache(i),this._getValueFromStore(g)||this._addToStore(g,r),this._cleanUpStore()),et=r.d.length,c=0;c<et;c++)if(h=r.d[c],h.Key===t.DashboardConstants.ParamColumns)r.d[c].Value!==null&&(l=new Dbrdcontrol,w=this.dashboardControls.getControlByReport("parameterColumnData"),ft=JSON.parse(r.d[c].Value),l.controlType="parameterColumnData",t.isNullOrUndefined(w)||(w.data=[],p=new dbrdcontrolData,p.pagedata=ft,l.data.push(p),l=w,l.data=[],l.data.push(p))),rt=n.parseJSON(h.Value);else if(h.Key===t.DashboardConstants.FilterPanelElement){this.tempDataForFilter=n.parseJSON(r.d[c].Value);t.isNullOrUndefined(this.filterPanelObj)||(this.filterPanelObj.isGlobalFilterUpdated=this._refreshDashboardWithGlobalFilter(),this.filterPanelObj.refreshData(this.tempDataForFilter));continue}else if(h.Key===t.DashboardConstants.Widgets){var nt=JSON.parse(h.Value),s=[],tt=[],ot=[],v=[],st=[],y=!1;for(e in nt)if(Object.prototype.hasOwnProperty.call(nt,e)&&(f=nt[e],v=[],s={},y=!1,f!==null&&(t.isNullOrUndefined(f.Data)||(v=JSON.parse(f.Data)),t.isNullOrUndefined(f.Error)||(y=!0),t.isNullOrUndefined(f.ConfigInfo)||t.isNullOrUndefined(f.ConfigInfo)||(tt=JSON.parse(f.ConfigInfo)),t.isNullOrUndefined(f.DynamicData)||(s=JSON.parse(f.DynamicData)),t.isNullOrUndefined(f.FormattedData)||(ot=JSON.parse(f.FormattedData)),t.isNullOrUndefined(f.ExpandedData)||(st=f.ExpandedData))),u=this.dashboardControls.getControlByReport(e.split(":")[0]),!t.isNullOrUndefined(u)){if(this.currentSlaveInfo.push(u.reportName),t.isNullOrUndefined(s)||(u.controlType===t.dashboardViewer.Controls.DatePicker?u.maxMinData=s.Data:u.controlType===t.dashboardViewer.Controls.ChoroplethMap?(u.data[t.DashboardConstants.Zero].rangeColor=s.RangeAndColor,u.data[t.DashboardConstants.Zero].legendPrefx=s.LegendPrefx,u.data[t.DashboardConstants.Zero].legendPostfix=s.LegendPostfix):u.controlType==="PivotGrid"&&t.isNullOrUndefined(f.Data)&&!t.isNullOrUndefined(f.JsonRecords)&&(v=JSON.parse(f.JsonRecords))),e.split(":").length===t.DashboardConstants.One&&(e=e+":1"),e.split(":").length===2){if(o=this.dashboardControls.getControlByReport(e.split(":")[0]),o.getPageDataBypage(parseInt(e.split(":")[1])).pagedata=v,o.getPageDataBypage(parseInt(e.split(":")[1])).formattedData=ot,o.getPageDataBypage(parseInt(e.split(":")[1])).ExpandedNodeData=st,y===!1&&(o.getPageDataBypage(parseInt(e.split(":")[1])).isError=!1),o.configInfo=tt,this._updateConfigInfo(o.controlType,o),u.controlType==="PivotGrid"?(o.PivotReport=s.PivotReport,o.PivotJSONData=o.data[t.DashboardConstants.Zero].pagedata):u.controlType==="TreeMap"&&(o.drillLevels=s.SerializeLevelInfo),u=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(e.split(":")[0])))),u.currentPage=parseInt(e.split(":")[1]),y===!0)for(b=t.DashboardConstants.Zero;b<u.data.length;b++)u.data[b].isError=y;a.push(u)}else this.dashboardControls.getControlByReport(e).getCurrentPageData().pagedata=v,u=(new Dbrdcontrol).clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(e)))),a.push(u);u.controlType!=="Grid"||tt.AllowPaging||t.isNullOrUndefined(u.totalCount)?t.isNullOrUndefined(s.totalCount)||s.totalCount===u.totalCount||(u.totalCount=s.totalCount,u.totalPages=Math.ceil(u.totalCount/u.scrollSetting.controlPerPage)):u.totalCount=this._updateWidgetTotalCount(u,50);u.controlType==="PivotGrid"&&(u.PivotJSONData=t.isNullOrUndefined(f.JsonRecords)?o.data[t.DashboardConstants.Zero].pagedata:JSON.parse(f.JsonRecords),u.data[t.DashboardConstants.Zero].pagedata=t.isNullOrUndefined(f.JsonRecords)?o.data[t.DashboardConstants.Zero].pagedata:JSON.parse(f.JsonRecords))}}else h.Key===t.DashboardConstants.Title&&(ut=JSON.parse(h.Value));if(this._dashboardData().isControl||this._callFunction(this._addFilterDataToTitle,ut),this._startRenderingControls(a,this._getPageForCurrentView()),this._callFunction(this._updateParameterColumns,rt),this.model.enableAutoRefresh===!0){for(it=[],ht=a.length,k=0;k<ht;k++)d=a[k],t.isNullOrUndefined(d.reportName)||d.reportName===""||it.push(d.reportName);this._restartTimerForSlaves(it)}this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("refreshControls")},_refreshControl:function(t){var i=n(t.currentTarget).parents(".e-dbrd-control").attr("data-controlid");this.refreshDashboard(i,!0)},_resetAutoRefresh:function(){var t=this,i;this.autorefreshTimer!==null&&clearTimeout(this.autorefreshTimer);i=[];this.autorefreshTimer=setTimeout(function(){t.rangeData=[];t._setSlaveData(i,n(t.currentTabContentElement).find(".e-dbrd-control"));t._setSlaveData(i,n(t.currentTabContentElement).find(".e-FilterBox"));var r={master:null,masterData:t.masterData,slaves:i,showIndicator:t.model.autoRefreshSettings.showWaitingIndicator,isAutoRefresh:!0};t._makeSlaveDataRequest(r)},this.model.autoRefreshSettings.interval*1e3)},_setSlaveData:function(n,t){for(var r=t.length,i=0;i<r;i++)t[i].id!==""&&n.push(t[i].id)},_widgetAutoRefresh:function(n,i,r){if(n.length>t.DashboardConstants.Zero){var u=this._getWidgetHasSameTimer(n,r),f=this._generateAutoRefreshCollection(u,i);this._setTimerForCurrentTabWidgets(f)}},_generateAutoRefreshCollection:function(n,i){for(var u,f=[],e=n.length,r=t.DashboardConstants.Zero;r<e;r++)u=i+t.DashboardConstants.AutoRefreshList+(Object.keys(this.autoRefreshCollection).length+t.DashboardConstants.One),this.autoRefreshCollection[u]=n[r],f.push(u);return f},_getWidgetHasSameTimer:function(n,i){for(var r,o,u,s,h=[],f=[],c=n.length,e=t.DashboardConstants.Zero;e<c;e++)if(r=n[e],f.length===t.DashboardConstants.Zero||f.indexOf(r.interval)===t.DashboardConstants.IndexLowerBound){for(o=[],u=t.DashboardConstants.Zero;u<c;u++)s=n[u],r.interval===s.interval&&o.push(s.id);f.push(r.interval);h.push({intervalTime:r.interval,showWaitingIndicator:i,refreshWidgets:o})}return h},_getDashboardControlsForAutoRefresh:function(n,i){for(var o,u,e=[],f=this.reportName===i?this.dashboardControls.getAllControlsForRefresh():this._getDashboardTabControls(i,!0),s=f.length,r=t.DashboardConstants.Zero;r<s;r++)for(o=n.length,u=t.DashboardConstants.Zero;u<o;u++)f[r].reportName!==""&&n[u]!==""&&f[r].reportName===n[u]&&e.push(f[r]);return e},_autoRefreshWaitingIndicatorCreate:function(i){var u,r,f;for(this.isFromAutoRefresh=!0,u=i.length,r=t.DashboardConstants.Zero;r<u;r++)f="#"+this._id+t.DashboardConstants.Widget+i[r].reportName,this._createControlWaitingIndicator(n(f).parents(".e-dbrd-control-container"),!0)},_autoRefreshCallSender:function(n){var s=JSON.parse(JSON.stringify(this.dashboardParameters)),e=this.dashboardControls.getAllControlsMasterData(),h=n.length,i,r,f,u,o;for(this.target=t.isNullOrUndefined(this.target)?[]:this.target,i=t.DashboardConstants.Zero;i<h;i++)if(n[i].reportName.indexOf(t.dashboardViewer.Controls.Grid)===t.DashboardConstants.Zero)if(r=this._id+t.DashboardConstants.Widget+n[i].reportName,f=this.target.length,f!==t.DashboardConstants.Zero)for(u=t.DashboardConstants.Zero;u<f;u++)this.target[u].indexOf(r)===t.DashboardConstants.IndexLowerBound&&this.target.push(r);else this.target.push(r);o={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),widgetInfo:JSON.stringify(n),data:e.length===t.DashboardConstants.Zero?null:JSON.stringify(e),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.model.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,dateFormat:this.model.localeSettings.dateFormat,timeFormat:this.model.localeSettings.timeFormat,customCulture:this.model.localeSettings.culture,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(s),page:JSON.stringify(this._getPageForCurrentView()),methodName:this.model.serviceMethods.getRefreshControlData,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(o)},_getSlaveIdList:function(n){var u=null,i=[],f,r;if(t.isNullOrUndefined(n.controlsIdList)&&!t.isNullOrUndefined(n.widgetInfo))for(u=JSON.parse(n.widgetInfo),f=u.length,r=t.DashboardConstants.Zero;r<f;r++)i.push(u[r].reportName);else t.isNullOrUndefined(n.controlsIdList)?!t.isNullOrUndefined(n.action)&&n.action.indexOf("GetInnerLevelDrill")>=t.DashboardConstants.Zero&&i.push(n.controlId):i=JSON.parse(n.controlsIdList);return i},_restartTimerForSlaves:function(n){if(n.length>t.DashboardConstants.Zero){var r=this._getRefreshListKeyFromAutoRefreshCollection(n),i=this._getCurrentTabKeyList(r);i.length>t.DashboardConstants.Zero&&this._restartWidgetTimer(i,n)}},_getCurrentTabKeyList:function(n){for(var i=null,u=[],f=n.length,r=t.DashboardConstants.Zero;r<f;r++)i=n[r],i.indexOf(this.reportName)===t.DashboardConstants.IndexLowerBound?this.hiddenTabRefreshKey.indexOf(i)===t.DashboardConstants.IndexLowerBound&&this.hiddenTabRefreshKey.push(i):i.indexOf(this.reportName)>=t.DashboardConstants.Zero&&u.push(i);return u},_getRefreshListKeyFromAutoRefreshCollection:function(n){for(var r,h,i=[],e=this.autoRefreshCollection,o=Object.keys(e),s=t.DashboardConstants.Zero,c=o.length,u=t.DashboardConstants.Zero;u<c;u++){if(s===n.length)break;var f=o[u],l=e[f].refreshWidgets,a=n.length;for(r=t.DashboardConstants.Zero;r<a;r++)h=n[r],(i===t.DashboardConstants.Zero||l.indexOf(h)!==t.DashboardConstants.IndexLowerBound)&&(s++,i.indexOf(f)===t.DashboardConstants.IndexLowerBound&&i.push(f))}return i},_restartWidgetTimer:function(n,i){var r=null,u=t.DashboardConstants.Zero,e,o,f;if(n.length>t.DashboardConstants.Zero)for(e=n.length,u=t.DashboardConstants.Zero;u<e;u++)r=n[u],o=this._checkAllItemsInRefreshCollection(this.autoRefreshCollection[r].refreshWidgets,i),o?(f=this.autoRefreshTimerCollection[r],f!==null&&clearTimeout(f),this._setAutoRefreshWidgetTimer(r,this.autoRefreshCollection[r].intervalTime)):this._removeItemAndStartIndividualWidgteTimer(n,i)},_setAutoRefreshWidgetTimer:function(n,i){var r=this;t.isNullOrUndefined(i)||i===t.DashboardConstants.Zero||(this.autoRefreshTimerCollection[n]=setTimeout(function(n){var i,u,f;n.indexOf(r.reportName)>=t.DashboardConstants.Zero?(i=r._getDashboardControlsForAutoRefresh(r.autoRefreshCollection[n].refreshWidgets,r.reportName),u=r.autoRefreshCollection[n].showWaitingIndicator,r.isFromAutoRefresh=!0,r.isExtendedLayout&&r.actualPages.length!==t.DashboardConstants.One&&(f=r._getPageForCurrentView(),i=r._getAutoRefreshWidgetsForCurrentPage(i,f)),u&&r._autoRefreshWaitingIndicatorCreate(i),r._autoRefreshCallSender(i)):n.indexOf(r.reportName)===t.DashboardConstants.IndexLowerBound&&r.hiddenTabRefreshKey.indexOf(n)===t.DashboardConstants.IndexLowerBound&&r.hiddenTabRefreshKey.push(n)},i*t.DashboardConstants.Thousand,n))},_removeItemAndStartIndividualWidgteTimer:function(n,i){for(var r,v,y,f,p,w,b,k,s=[],e=null,o=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero,c=null,l=[],a=null,d=n.length,h=0;h<d;h++)for(c=n[h],r=this.autoRefreshCollection[c],e=r.refreshWidgets,a=r.showWaitingIndicator,v=i.length,o=t.DashboardConstants.Zero;o<v;o++)for(y=e.length,u=t.DashboardConstants.Zero;u<y;u++)e[u]===i[o]&&(f=e[u],(s===t.DashboardConstants.Zero||s.indexOf(f)===t.DashboardConstants.IndexLowerBound)&&(s.push(f),p=f,r.refreshWidgets.splice(r.refreshWidgets.indexOf(p),t.DashboardConstants.One),w={interval:r.intervalTime,id:f},l.push(w)));b=this._getWidgetHasSameTimer(l,a);k=this._generateAutoRefreshCollection(b,this.reportName);this._setTimerForCurrentTabWidgets(k)},_setTimerForCurrentTabWidgets:function(n){for(var r,u=n.length,i=t.DashboardConstants.Zero;i<u;i++)r=n[i],this._setAutoRefreshWidgetTimer(r,this.autoRefreshCollection[r].intervalTime)},_checkAllItemsInRefreshCollection:function(n,i){for(var e,u=t.DashboardConstants.Zero,f=!1,o=i.length,r=0;r<o;r++)e=i[r],n.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&u++;return u===n.length&&(f=!0),f},_resetCurrentTabRefreshTimer:function(){var n,i,o,r,u,e,f;if(this.onDemandTabs&&this.hiddenTabRefreshKey.length>t.DashboardConstants.Zero&&(n=[],i=this._getCurrentTabKeyList(this.hiddenTabRefreshKey),i.length>t.DashboardConstants.Zero)){for(o=i.length,r=0;r<o;r++){var s=i[r],h=this.autoRefreshCollection[s].refreshWidgets,c=h.length;for(u=t.DashboardConstants.Zero;u<c;u++)e=h[u],n.indexOf(e)===t.DashboardConstants.IndexLowerBound&&n.push(e);this.hiddenTabRefreshKey.splice(this.hiddenTabRefreshKey.indexOf(s),t.DashboardConstants.One)}this._refreshHiddenTabWidgets(n)}this.onDemandTabs&&Object.keys(this.schedulerHiddenTabKeys).length>t.DashboardConstants.Zero&&(f=this.schedulerHiddenTabKeys[this.reportName],!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&(this._refreshHiddenTabWidgets(f),this.schedulerHiddenTabKeys.splice(this.schedulerHiddenTabKeys.indexOf(this.reportName),t.DashboardConstants.One)))},_refreshHiddenTabWidgets:function(n){var i=this._getDashboardControlsForAutoRefresh(n,this.reportName),r;this.isExtendedLayout&&this.actualPages.length!==t.DashboardConstants.One&&(r=this._getPageForCurrentView(),i=this._getAutoRefreshWidgetsForCurrentPage(i,r));this._autoRefreshWaitingIndicatorCreate(i);this._autoRefreshCallSender(i)},_stopDisableTimerWidgetsIntialization:function(i){var o,f,r,e,u;if(!t.isNullOrUndefined(this.autoRefreshUserCollection)&&Object.keys(this.autoRefreshUserCollection).length>t.DashboardConstants.Zero)if(o=t.isNullOrUndefined(i.tabName)?i.reportName:i.tabName,f=this.autoRefreshUserCollection[o].disable,t.isNullOrUndefined(f))i.widgets=[];else if(r=t.DashboardConstants.Zero,e=null,!t.isNullOrUndefined(i.widgets)){for(u=n.extend(!0,[],i.widgets),r=0;r<u.length;r++)e=i.isWidgetSpecific?u[r].id:u[r],f.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&u.splice(r,t.DashboardConstants.One);i.widgets=u}return i},_clearAutoRefreshTimerAndCollection:function(){for(var i=[],r=Object.keys(this.autoRefreshCollection),u=r.length,n=t.DashboardConstants.Zero;n<u;n++)i.push(r[n]);this._clearAutoRefreshTimer(i);this.autoRefreshCollection=[];this.autoRefreshTimerCollection=[];this.hiddenTabRefreshKey=[];this.scheduleCollection=[];this.schedulerHiddenTabKeys=[];this.scheduler12ClkTimer!==null&&clearTimeout(this.scheduler12ClkTimer);this.scheduler12ClkTimer=null},_clearAutoRefreshTimer:function(n){for(var i=t.DashboardConstants.Zero,r=null,u=null,f=n.length,i=t.DashboardConstants.Zero;i<f;i++)r=n[i],u=this.autoRefreshTimerCollection[r],u!==null&&(clearTimeout(u),this.autoRefreshCollection[r].intervalTime=t.DashboardConstants.Zero)},_isCheckUserValidTabName:function(n){var f=this.reportName,i=!1,r,u,t;if(this.onDemandTabs||f!==n){if(this.onDemandTabs)for(r=this.getDashboardTabsInfo(),u=r.length,t=0;t<u;t++)n===r[t].tabName&&(i=!0)}else i=!0;return i},_checkDbrdIsRenderedOrNotByDbrdName:function(i){var f=!1,u,e,r,o;if(f=i===this.reportName&&!this.onDemandTabs&&n("#"+this._dashboardId).has(".e-dbrd-layout-wrapper").length>t.DashboardConstants.Zero,this.onDemandTabs)for(u=this.getDashboardTabsInfo(),e=u.length,r=0;r<e;r++)if(i===u[r].tabName){o=u[r].tabId;f=n("#"+this._dashboardId+"_"+o).has(".e-dbrd-layout-wrapper").length>t.DashboardConstants.Zero;break}return f},_disableAutoRefreshCollection:function(){var n=this._getDisableOrEnableWidgetCollection(!0),i;n.length>t.DashboardConstants.Zero&&(i=this._getRefreshListKeyFromAutoRefreshCollection(n),this._removeWidgetsToDisableAutoRefresh(i,n),this._removeWidgetsFromScheduleCollection(),this._clearTimerForDisableWidgets())},_getDisableOrEnableWidgetCollection:function(n){for(var r,a,u,v,f,y,o,c,s=this.autoRefreshUserCollection,e=[],i=null,l=Object.keys(s),p=l.length,h=0;h<p;h++)if(r=l[h],a=this._checkDbrdIsRenderedOrNotByDbrdName(r),a)if(u=n?s[r].disable:s[r].enable,t.isNullOrUndefined(u)||u.length===t.DashboardConstants.Zero)for(i=this._getControlsIdFromRefreshApi(r),v=i.length,f=0;f<v;f++)e.indexOf(i[f])===t.DashboardConstants.IndexLowerBound&&e.push(i[f]);else for(i=this._getControlsIdFromRefreshApi(r),y=u.length,o=0;o<y;o++)c=u[o],i.indexOf(c)!==t.DashboardConstants.IndexLowerBound&&e.push(c);return e},_removeWidgetsToDisableAutoRefresh:function(n,i){for(var f,u,o=n,s=o.length,e=t.DashboardConstants.Zero;e<s;e++){var h=o[e],r=this.autoRefreshCollection[h].refreshWidgets,c=i.length;for(f=t.DashboardConstants.Zero;f<c;f++)for(u=t.DashboardConstants.Zero;u<r.length;u++)r[u]===i[f]&&r.splice(r.indexOf(r[u]),t.DashboardConstants.One)}},_getControlsIdFromRefreshApi:function(i){for(var s,r,h,u,c,o=[],e=n.extend(!0,[],this.model.autoRefreshSettings),l=e.length,f=0;f<l;f++)if(s=this._getDashboardNameFromRefreshAPI(e[f]),!t.isNullOrUndefined(s)&&s===i)if(r=e[f].widgets,t.isNullOrUndefined(r))c=this.onDemandTabs?this._getDashboardTabControls(i,!1):this.dashboardControls,o=c.getAllControlsId();else for(h=r.length,u=t.DashboardConstants.Zero;u<h;u++)r[u].id!==""&&o.push(e[f].isWidgetSpecific?r[u].id:r[u]);return o},_getDashboardNameFromRefreshAPI:function(n){var i=null;return this.onDemandTabs&&!t.isNullOrUndefined(n.tabName)?i=n.tabName:this.onDemandTabs&&!t.isNullOrUndefined(n.tabIndex)?i=this._getTabNameByTabIndex(n.tabIndex):this.onDemandTabs||(i=this.reportName),i},_clearTimerForDisableWidgets:function(){for(var r,f,n=[],u=Object.keys(this.autoRefreshCollection),e=u.length,i=0;i<e;i++)r=u[i],f=this.autoRefreshCollection[r].refreshWidgets,f.length<=t.DashboardConstants.Zero&&n.push(r);n.length>t.DashboardConstants.Zero&&this._clearAutoRefreshTimer(n)},_enableAutoRefreshCollection:function(){var i=this._getDisableOrEnableWidgetCollection(!1),n;this._restartTimerForSlaves(i);var r=this._getEnableTimerwidgetListToRefresh(i),t=this._getIntervalTimeToEnableWidgets(r),u=t.length;for(n=0;n<u;n++)this._widgetAutoRefresh(t[n].hourlyWidgets,t[n].reportName,t[n].showWaitingIndicator),this._schedulerKeyGeneration(t[n])},_getEnableTimerwidgetListToRefresh:function(n){for(var i,r,u=Object.keys(this.autoRefreshCollection),f=u.length===t.DashboardConstants.Zero?n:[],o=u.length,e=0;e<o;e++){var s=u[e],h=this.autoRefreshCollection[s].refreshWidgets,c=n.length;for(i=0;i<c;i++)r=n[i],h.indexOf(r)===t.DashboardConstants.IndexLowerBound&&f.indexOf(r)===t.DashboardConstants.IndexLowerBound&&f.push(r)}return f},_getIntervalTimeToEnableWidgets:function(i){for(var e,s,u,o=[],f=n.extend(!0,[],this.model.autoRefreshSettings),h=f.length,r=0;r<h;r++)e=this._getDashboardNameFromRefreshAPI(f[r]),s=this._checkDbrdIsRenderedOrNotByDbrdName(e),s&&(u=this._getEnableWidgetListWithInterval(f[r],e,i),(u.hourlyWidgets.length||u.scheduleWidgets.length>t.DashboardConstants.Zero)&&o.push({reportName:e,hourlyWidgets:u.hourlyWidgets,scheduleWidgets:u.scheduleWidgets,showWaitingIndicator:f[r].showWaitingIndicator}));return o},_getEnableWidgetListWithInterval:function(n,t,i){n.reportName=t;var r=this._getWidgetListCollectionForRefresh(n),u=this._getIntervalSettingsFromAPI(r.hourlyWidgets,i,n),f=this._getIntervalSettingsFromAPI(r.scheduleWidgets,i,n);return{hourlyWidgets:u,scheduleWidgets:f}},_getIntervalSettingsFromAPI:function(n,i,r){var c=r.isWidgetSpecific,h=!t.isNullOrUndefined(r.intervalSettings)&&r.intervalSettings.mode!==t.dashboardViewer.refreshTimer.mode.hourly,s=[],f=null,e=null,l,u,a,o;if(!t.isNullOrUndefined(n)&&n.length>t.DashboardConstants.Zero)for(l=n.length,u=0;u<l;u++)for(a=i.length,o=0;o<a;o++)c&&!h?(f=n[u].id,e=i[o],f===e&&s.push(n[u])):c||h?h&&(f=n[u].id,e=i[o],f===e&&s.push(n[u])):(f=n[u],e=i[o],f===e&&s.push({id:n[u],interval:r.intervalSettings}));return s},_enableToDisableOrDisableToEnableWidgetStatus:function(i,r){var u,f,o,e;if(Object.keys(this.autoRefreshUserCollection[i]).length===2)for(u=n.extend(!0,[],this.autoRefreshUserCollection[i].enable),f=n.extend(!0,[],this.autoRefreshUserCollection[i].disable),o=0;o<u.length;o++)e=u[o],f.indexOf(e)!==t.DashboardConstants.IndexLowerBound&&r&&(f.splice(f.indexOf(e),t.DashboardConstants.One),this.autoRefreshUserCollection[i].disable=f),u.indexOf(e)===t.DashboardConstants.IndexLowerBound||r||(u.splice(u.indexOf(e),t.DashboardConstants.One),this.autoRefreshUserCollection[i].enable=u)},_getIntervalTimeToRefresh:function(n){var i=t.DashboardConstants.Zero,r,u,f;return t.isNullOrUndefined(n)||t.isNullOrUndefined(n.mode)||(r=n.mode,r===t.dashboardViewer.refreshTimer.mode.hourly&&(u=n.hourlySchedule,i=this._getIntervalTimeForHourlyMode(u),f=parseInt(i),i=i<=t.DashboardConstants.Zero||isNaN(f)?t.DashboardConstants.AutoRefreshMinTimer:i)),i},_getIntervalTimeForHourlyMode:function(n){var i=t.DashboardConstants.Zero,r=t.DashboardConstants.Zero,u=t.DashboardConstants.Zero,f=t.DashboardConstants.Zero;return i=t.isNullOrUndefined(n.hours)?i:this._getSecondsForHours(n.hours),r=t.isNullOrUndefined(n.minutes)?r:this._getSecondsForMins(n.minutes),u=t.isNullOrUndefined(n.seconds)?u:n.seconds,i+r+u},_getSecondsForHours:function(n){return n*3600},_getSecondsForMins:function(n){return n*60},_getCurrentTime:function(){return this._getSecondsForHours((new Date).getHours())+this._getSecondsForMins((new Date).getMinutes())+(new Date).getSeconds()},_schedulerKeyGeneration:function(n){var e=n.scheduleWidgets,i,a,r,o,s,h,u,y,f,l;if(!t.isNullOrUndefined(e)){for(i=[],a=e.length,r=0;r<a;r++)o=e[r],s=o.intervalSettings.mode,s!==t.dashboardViewer.refreshTimer.mode.hourly&&(h=this._generateCollectionForScheduling(o,s),t.isNullOrUndefined(h)||i.push(h));if(i.length>t.DashboardConstants.Zero&&t.isNullOrUndefined(this.scheduleCollection[n.reportName])&&!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero)this.scheduleCollection[n.reportName]={scheduleWidgets:i,showWaitingIndicator:n.showWaitingIndicator};else if(!t.isNullOrUndefined(i)&&i.length>t.DashboardConstants.Zero){var c=this.scheduleCollection[n.reportName].scheduleWidgets,v=[],p=c.length;for(u=0;u<p;u++)v.push(c[u].id);for(y=i.length,f=0;f<y;f++)l=i[f],v.indexOf(l.id)===t.DashboardConstants.IndexLowerBound&&c.push(l)}}},_generateCollectionForScheduling:function(n,i){var f=null,r=null,e=n.id,u=null;switch(i){case t.dashboardViewer.refreshTimer.mode.daily:u=new Date;r=n.intervalSettings.dailySchedule;f={id:e,isSchedule:!1,mode:i,days:r.days,nextRenderDate:this._getNextRenderDateForDaily(r.days,u)};break;case t.dashboardViewer.refreshTimer.mode.weekly:u=new Date;r=n.intervalSettings.weeklySchedule;f={id:e,isSchedule:!1,mode:i,weeks:r.weeks,weekDay:r.weekDay,nextRenderDate:this._getNextRenderDateForWeekly(r.weeks,r.weekDay,u),dashboardName:this.reportName};break;case t.dashboardViewer.refreshTimer.mode.monthly:u=new Date;r=n.intervalSettings.monthlySchedule;f={id:e,isSchedule:!1,mode:i,day:r.day,months:r.months,nextRenderDate:this._getNextRenderDateForMonthly(r.day,r.months,u,!1),dashboardName:this.reportName};break;case t.dashboardViewer.refreshTimer.mode.yearly:u=new Date;r=n.intervalSettings.yearlySchedule;f={id:e,isSchedule:!1,mode:i,day:r.day,month:r.month,years:r.years,nextRenderDate:this._getNextRenderDateForYearly(r.day,r.month,r.years,u,!1),dashboardName:this.reportName}}return f},_getNextRenderDateForDaily:function(n,t){return new Date(new Date(t).setDate(new Date(t).getDate()+n))},_getNextRenderDateForWeekly:function(n,i,r){var u=new Date(r),f=this._getNextRenderDay(u,i),o=null,s=t.DashboardConstants.Zero,c,l,h;if(f!==t.DashboardConstants.Zero)if(c=this._getRemainingDaysOfTheWeek(u),l=c.indexOf(f)!==t.DashboardConstants.IndexLowerBound,l)h=this._getStartDateOfWeek(u),s=h.getDay()+(f-t.DashboardConstants.One),o=new Date(h.setDate(h.getDate()+s));else{var a=n*7,v=new Date(u.setDate(u.getDate()+a)),e=this._getStartDateOfWeek(v);e.getDay()===f-t.DashboardConstants.One?o=e:(s=e.getDay()+(f-t.DashboardConstants.One),o=new Date(e.setDate(e.getDate()+s)))}return o},_getNextRenderDay:function(n,i){for(var f,e,u=t.DashboardConstants.Zero,o=i.length,r=0;r<o;r++)if(f=n.getDay()+t.DashboardConstants.One,i[r]>f){u=i[r];break}else e=i.sort(function(n,t){return n>t}),u=e[t.DashboardConstants.Zero];return u},_getStartDateOfWeek:function(n){var i=n?new Date(Number(n)):new Date;return i.setHours(t.DashboardConstants.Zero,t.DashboardConstants.Zero,t.DashboardConstants.Zero,t.DashboardConstants.Zero),i.setDate(i.getDate()-n.getDay()),i},_getRemainingDaysOfTheWeek:function(n){for(var r=[],u=n.getDay()+t.DashboardConstants.One,i=1;i<=7;i++)i>u&&r.indexOf(i)===t.DashboardConstants.IndexLowerBound&&r.push(i);return r},_getNextRenderDateForMonthly:function(n,i,r,u){var f=new Date(r),o=null,a=32,c=new Date(f.getFullYear(),f.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero),v=new Date(f.getFullYear(),f.getMonth()+t.DashboardConstants.One+i,t.DashboardConstants.Zero),e,l,y;if((v.getDate()<n||c.getDate()<n)&&n!==a)o=i===t.DashboardConstants.One&&c.getDate()<n?c:v;else if(u&&n===f.getDate())o=new Date(f.setMonth(f.getMonth()+i));else if(e=n,l=t.DashboardConstants.Zero,e===a&&(y=new Date(f.getFullYear(),f.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero),e=y.getDate()),e>f.getDate())l=e-f.getDate(),o=new Date(f.setDate(f.getDate()+l));else{var s=new Date(f.setMonth(f.getMonth()+i)),h=new Date(s.getFullYear(),s.getMonth(),t.DashboardConstants.One),p=new Date(s.getFullYear(),s.getMonth()+t.DashboardConstants.One,t.DashboardConstants.Zero);e===h.getDate()?o=h:e<=p.getDate()&&(o=new Date(h.setDate(h.getDate()+(e-t.DashboardConstants.One))))}return o},_getNextRenderDateForYearly:function(n,i,r,u,f){var e=new Date(u),o=null,a,v;if(f)n===e.getDate()&&i===e.getMonth()+t.DashboardConstants.One&&(o=new Date(e.setFullYear(e.getFullYear()+r)));else{var l=null,c=null,h=null,s=e.getMonth()+t.DashboardConstants.One;n>e.getDate()&&i===s?(l=n-e.getDate(),o=new Date(e.setDate(e.getDate()+l))):i>s?(h=i-s,a=new Date(e.setMonth(e.getMonth()+h)),o=this._getDateForYearlyMode(n,a)):i<=s&&(c=new Date(e.setFullYear(e.getFullYear()+r)),h=s-i,v=new Date(c.setMonth(c.getMonth()-h)),o=this._getDateForYearlyMode(n,v))}return o},_getDateForYearlyMode:function(n,i){var r=null,u=t.DashboardConstants.Zero;return n>i.getDate()?(u=n-i.getDate(),r=new Date(i.setDate(i.getDate()+u))):n===i.getDate()?r=i:n<i&&(u=i.getDate()-n,r=new Date(i.setDate(i.getDate()-u))),r},_initialize24HrsTimerForScheduling:function(n){if(Object.keys(this.scheduleCollection).length>t.DashboardConstants.Zero){var i=this._getBalanceTimeOfTheDay(n);this._setTimerForScheduling(i)}},_getBalanceTimeOfTheDay:function(n){var t=null,i=null;return t=new Date,i=n?new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,58,0):new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,-2,0),i-t},_setTimerForScheduling:function(n){var i=new Date,r=new Date(i.setDate(i.getDate()+t.DashboardConstants.One)),u=this;this.scheduler12ClkTimer!==null&&clearTimeout(this.scheduler12ClkTimer);this.scheduler12ClkTimer=setTimeout(function(){var n=u._getWidgetListForScheduling(r);Object.keys(n).length>t.DashboardConstants.Zero&&u._refreshSchecduleCollection(n,r)},n)},_getWidgetListForScheduling:function(n){for(var f=Object.keys(this.scheduleCollection),e=[],o=f.length,r=0;r<o;r++){var u=f[r],s=this.scheduleCollection[u].scheduleWidgets,i=this._getScheduleWidgetDetails(u,s,n);!t.isNullOrUndefined(i)&&i.scheduleWidgets.length>t.DashboardConstants.Zero&&i.dateResetWidgets.length>t.DashboardConstants.Zero&&(e[u]={scheduleWidgets:i.scheduleWidgets,dateResetWidgets:i.dateResetWidgets})}return e},_getScheduleWidgetDetails:function(n,i,r){for(var u,e=[],o=[],s=i.length,f=0;f<s;f++)u=i[f],!t.isNullOrUndefined(u.nextRenderDate)&&this._checkDateMonthYear(u.nextRenderDate,r)&&(e.push(u.id),o.push(u));return{scheduleWidgets:e,dateResetWidgets:o}},_checkDateMonthYear:function(n,t){var i=!1;return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&(i=!0),i},_refreshSchecduleCollection:function(n,i){var r,u;Object.keys(n).length>t.DashboardConstants.Zero&&(this._resetNextRenderDate(n,i),r=this._getCurrentTabScheduleCollection(n),t.isNullOrUndefined(r)||(u=this._getDashboardControlsForAutoRefresh(r,this.reportName),this.isFromAutoRefresh=!0,!t.isNullOrUndefined(this.scheduleCollection[this.reportName])&&this.scheduleCollection[this.reportName].showWaitingIndicator&&this._autoRefreshWaitingIndicatorCreate(u),this._autoRefreshCallSender(u),this._initialize24HrsTimerForScheduling(!1)))},_getCurrentTabScheduleCollection:function(n){for(var t,r=null,u=Object.keys(n),f=u.length,i=0;i<f;i++)t=u[i],t===this.reportName?r=n[t].scheduleWidgets:this._addHiddenTabScheduleKeys(n[t].scheduleWidgets,t);return r},_addHiddenTabScheduleKeys:function(n,i){var o=Object.keys(this.schedulerHiddenTabKeys),u,e,r,f;if(o.indexOf(i)===t.DashboardConstants.IndexLowerBound)this.schedulerHiddenTabKeys[i]=n;else for(u=this.schedulerHiddenTabKeys[i],e=n.length,r=0;r<e;r++)f=n[r],u.indexOf(f)===t.DashboardConstants.IndexLowerBound&&u.push(f)},_resetNextRenderDate:function(n,i){for(var u,r,s,e=Object.keys(n),f=0;f<e.length;f++){var h=e[f],o=n[h].dateResetWidgets,c=o.length;for(u=0;u<c;u++){r=o[u];r.isSchedule=!0;s=r.mode;switch(s){case t.dashboardViewer.refreshTimer.mode.daily:r.nextRenderDate=this._getNextRenderDateForDaily(r.days,i);break;case t.dashboardViewer.refreshTimer.mode.weekly:r.nextRenderDate=this._getNextRenderDateForWeekly(r.weeks,r.weekDay,i);break;case t.dashboardViewer.refreshTimer.mode.monthly:r.nextRenderDate=this._getNextRenderDateForMonthly(r.day,r.months,i,!0);break;case t.dashboardViewer.refreshTimer.mode.yearly:r.nextRenderDate=this._getNextRenderDateForYearly(r.day,r.month,r.years,i,!0)}}}},_removeWidgetsFromScheduleCollection:function(){var f=Object.keys(this.scheduleCollection),i,n,r;if(f.length>t.DashboardConstants.Zero){var e=this.autoRefreshUserCollection,u=Object.keys(e),o=u.length;for(i=0;i<o;i++)n=u[i],r=this.scheduleCollection[n],!t.isNullOrUndefined(r)&&r.scheduleWidgets.length>t.DashboardConstants.Zero&&(this._removeScheduleWidgetsByDashboardName(n,r.scheduleWidgets),this.scheduleCollection[n].scheduleWidgets.length===t.DashboardConstants.Zero&&delete this.scheduleCollection[n])}},_removeScheduleWidgetsByDashboardName:function(n,i){var u=this.autoRefreshUserCollection[n].disable,e,f,o,r,s;if(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero)for(e=u.length,f=0;f<e;f++)for(o=u[f],r=0;r<i.length;r++)s=i[r].id,o===s&&i.splice(i.indexOf(i[r]),t.DashboardConstants.One)},_clearAllDisablecollection:function(){var i,r,u,n;if(Object.keys(this.autoRefreshUserCollection).length>t.DashboardConstants.Zero)if(i=null,this.onDemandTabs)for(r=this.getDashboardTabsInfo(),u=r.length,n=0;n<u;n++)i=r[n].tabName,this._removeDisableListOfDbrd(i);else this._removeDisableListOfDbrd(this.reportName)},_removeDisableListOfDbrd:function(n){var i=this.autoRefreshUserCollection[n];!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(i.disable)&&i.disable.length>t.DashboardConstants.Zero&&(i.disable=[])},_getAutoRefreshWidgetsForCurrentPage:function(n,i){for(var s,u,f,e,o=[],h=this.pageInformations.filter(function(n){return i.indexOf(n)===t.DashboardConstants.IndexLowerBound}),c=n.length,r=0;r<c;r++)for(s=this.dashboardControls.controls.length,u=0;u<s;u++)f=this.dashboardControls.controls[u],e=n[r],f.reportName===e.reportName&&(i.indexOf(f.configInfo.Page)!==t.DashboardConstants.IndexLowerBound?o.push(e):h.indexOf(f.configInfo.Page)!==t.DashboardConstants.IndexLowerBound&&this.hiddenPageWidgetsForRefresh.indexOf(n[r])===t.DashboardConstants.IndexLowerBound&&this.hiddenPageWidgetsForRefresh.push(e));return o},_refreshControlForUpdatedPages:function(){var i,f,r,u;if(this.hiddenPageWidgetsForRefresh.length>t.DashboardConstants.Zero){var e=this._getPageForCurrentView(),n=[],o=this.hiddenPageWidgetsForRefresh.length;for(i=0;i<o;i++)for(f=this.dashboardControls.controls.length,r=0;r<f;r++)u=this.dashboardControls.controls[r],u.reportName===this.hiddenPageWidgetsForRefresh[i].reportName&&e.indexOf(u.configInfo.Page)!==t.DashboardConstants.IndexLowerBound&&n.push(this.hiddenPageWidgetsForRefresh[i]);this.hiddenPageWidgetsForRefresh=this.hiddenPageWidgetsForRefresh.filter(function(i){return n.indexOf(i)<t.DashboardConstants.Zero});n.length>t.DashboardConstants.Zero&&(this._autoRefreshWaitingIndicatorCreate(n),this._autoRefreshCallSender(n))}},_restrictPreviousPageWidgets:function(n){for(var f,e,s,r,i,o=Object.keys(this.autoRefreshCollection),h=o.length,u=0;u<h;u++)if(f=o[u],e=this.autoRefreshCollection[f].refreshWidgets,f.indexOf(this.reportName)!==t.DashboardConstants.IndexLowerBound)for(s=e.length,r=0;r<s;r++)for(i=0;i<n.length;i++)if(e[r]===n[i].id){n.splice(n.indexOf(n[i]),t.DashboardConstants.One);break}return n},_setModelAutoRefreshSettingsAPI:function(n){var u=t.DashboardConstants.Zero,i=0,r=0;if(this._clearTimerForDisableWidgets(),this._clearAutoRefreshTimerAndCollection(),t.isNullOrUndefined(n.interval))if(this.onDemandTabs)for(i=0;i<n.length;i++)for(r=0;r<this.model.autoRefreshSettings.length;r++)t.isNullOrUndefined(this.model.autoRefreshSettings[r].tabName)||this.model.autoRefreshSettings[r].tabName!==n[i].tabName?t.isNullOrUndefined(this.model.autoRefreshSettings[r].tabName)&&(this.model.autoRefreshSettings[r].tabName=t.isNullOrUndefined(n[i].tabName)?this.model.autoRefreshSettings[r].tabName:n[i].tabName,this.model.autoRefreshSettings[r].tabIndex=t.isNullOrUndefined(n[i].tabIndex)?this.model.autoRefreshSettings[r].tabIndex:n[i].tabIndex,this.model.autoRefreshSettings[r].intervalSettings=t.isNullOrUndefined(n[i].intervalSettings)?this.model.autoRefreshSettings[r].intervalSettings:n[i].intervalSettings,this.model.autoRefreshSettings[r].showWaitingIndicator=t.isNullOrUndefined(n[i].showWaitingIndicator)?this.model.autoRefreshSettings[r].showWaitingIndicator:n[i].showWaitingIndicator,this.model.autoRefreshSettings[r].isWidgetSpecific=t.isNullOrUndefined(n[i].isWidgetSpecific)?this.model.autoRefreshSettings[r].isWidgetSpecific:n[i].isWidgetSpecific,this.model.autoRefreshSettings[r].widgets=t.isNullOrUndefined(n[i].widgets)?this.model.autoRefreshSettings[r].widgets:n[i].widgets,this.model.autoRefreshSettings[r].trackData=t.isNullOrUndefined(n[i].trackData)?this.model.autoRefreshSettings[r].trackData:n[i].trackData):(this.model.autoRefreshSettings[r].tabName=t.isNullOrUndefined(n[i].tabName)?this.model.autoRefreshSettings[r].tabName:n[i].tabName,this.model.autoRefreshSettings[r].tabIndex=t.isNullOrUndefined(n[i].tabIndex)?this.model.autoRefreshSettings[r].tabIndex:n[i].tabIndex,this.model.autoRefreshSettings[r].intervalSettings=t.isNullOrUndefined(n[i].intervalSettings)?this.model.autoRefreshSettings[r].intervalSettings:n[i].intervalSettings,this.model.autoRefreshSettings[r].showWaitingIndicator=t.isNullOrUndefined(n[i].showWaitingIndicator)?this.model.autoRefreshSettings[r].showWaitingIndicator:n[i].showWaitingIndicator,this.model.autoRefreshSettings[r].isWidgetSpecific=t.isNullOrUndefined(n[i].isWidgetSpecific)?this.model.autoRefreshSettings[r].isWidgetSpecific:n[i].isWidgetSpecific,this.model.autoRefreshSettings[r].widgets=t.isNullOrUndefined(n[i].widgets)?this.model.autoRefreshSettings[r].widgets:n[i].widgets,this.model.autoRefreshSettings[r].trackData=t.isNullOrUndefined(n[i].trackData)?this.model.autoRefreshSettings[r].trackData:n[i].trackData);else this.model.autoRefreshSettings[u].intervalSettings=t.isNullOrUndefined(n[u].intervalSettings)?this.model.autoRefreshSettings[u].intervalSettings:n[u].intervalSettings,this.model.autoRefreshSettings[u].showWaitingIndicator=t.isNullOrUndefined(n[u].showWaitingIndicator)?this.model.autoRefreshSettings[u].showWaitingIndicator:n[u].showWaitingIndicator,this.model.autoRefreshSettings[u].isWidgetSpecific=t.isNullOrUndefined(n[u].isWidgetSpecific)?this.model.autoRefreshSettings[u].isWidgetSpecific:n[u].isWidgetSpecific,this.model.autoRefreshSettings[u].widgets=t.isNullOrUndefined(n[u].widgets)?this.model.autoRefreshSettings[u].widgets:n[u].widgets,this.model.autoRefreshSettings[u].trackData=t.isNullOrUndefined(n[u].trackData)?this.model.autoRefreshSettings.trackData[u]:n[u].trackData;else this.model.autoRefreshSettings.interval=t.isNullOrUndefined(n.interval)?t.DashboardConstants.AutoRefreshMinTimer:n.interval,this.model.autoRefreshSettings.showWaitingIndicator=t.isNullOrUndefined(n.showWaitingIndicator)?!1:n.showWaitingIndicator,this.model.autoRefreshSettings.isWidgetSpecific=t.isNullOrUndefined(n.isWidgetSpecific)?!1:n.isWidgetSpecific,this.model.autoRefreshSettings.widgets=t.isNullOrUndefined(n.widgets)?[]:n.widgets,this.model.autoRefreshSettings.trackData=t.isNullOrUndefined(n.trackData)?!1:n.trackData,this._reassignDeprecatedApi();for(i=0;i<this.model.autoRefreshSettings.length;i++)t.isNullOrUndefined(this.model.autoRefreshSettings[i].widgets&&this.model.autoRefreshSettings[i].widgets.length>u)||this._replaceAutoRefreshWidgetGuid()}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.linking={_controlNavigate:function(n,i,r){var u=0,c=0,a=0,e="",tt={data:i,widgetInstance:r,viewerInstance:this},at=t.dashboardViewer.navigationTargets.Blank,et=!1,it,l,vt,p,w,yt,ot,st,pt,g,rt,k,ut,wt,d,f,ht,bt,o,kt,s,ft,gt,v,y,h,nt,lt,b;if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){for(it=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,l=0;l<it;l++)for(vt=t.isNullOrUndefined(i[l].Items)?t.DashboardConstants.Zero:i[l].Items.length,p=0;p<vt;p++)i[l].Items[p].IsDateTime&&(i[l].Items[p].Value[t.DashboardConstants.Zero]=t.globalize.format(new Date(i[l].Items[p].Value),i[l].Items[p].Format.replace(/[{0:}]/gi,"")));if(n.LinkType===t.DashboardConstants.One){if(w="",e=n.Path,!t.isNullOrUndefined(n.ColumnsCollection))for(yt=t.isNullOrUndefined(n.ColumnsCollection)?t.DashboardConstants.Zero:n.ColumnsCollection.length,u=0;u<yt;u++){for(w="",ot=n.ColumnsCollection[u],c=0;c<it;c++)for(st=i[c].Items,pt=st.length,a=0;a<pt;a++)g=st[a],t.isNullOrUndefined(g.Column)||g.Column.toUpperCase().replaceAll(" ","").toString()!==ot.UColumn.toUpperCase().replaceAll(" ","").toString()||(w=w===""?g.Value:w+","+g.Value);w!==""&&(e=e.replaceAll("{{:"+ot.Column+"}}",w))}rt=e.match(/~currentdomain~ *?/gi);rt!==null&&rt.length!==t.DashboardConstants.Zero&&(e=e.replace(rt[0],encodeURI(location.protocol+"//"+location.host)));e.match(/^[a-zA-Z]+:\/\//)||(e="http://"+e);this._navigateLink(e,at,et,tt,n)}else if(k=[],!t.isNullOrUndefined(n.LinkedControls)){for(ut=[],wt=n.LinkedControls.length,d=0;d<wt;d++){for(f=n.LinkedControls[d].ColumnsCollection,c=0;c<it;c++)for(ht=i[c].Items,c!==t.DashboardConstants.Zero&&k.push("Or"),bt=ht.length,a=0;a<bt;a++)for(o=ht[a],kt=f.length,u=0;u<kt;u++)if(!t.isNullOrUndefined(f[u].SourceControl)&&!t.isNullOrUndefined(o.Column)&&o.Column.toUpperCase()===f[u].SourceColumn.replace(/[^\w\s]/gi,"").toUpperCase()&&!t.isNullOrUndefined(f[u].UColumn)){s=new selectedFilterInfo;s.UniqueColumnName=f[u].UColumn.toLowerCase().replaceAll(" ","").toString();s.ReportName=n.LinkedControls[d].MasterControl;var ni=this.dashboardControls.getControlByReport(f[u].SourceControl),ct=ni.configInfo.DateTimeColumns,ti=t.isNullOrUndefined(ct)?t.DashboardConstants.Zero:ct.length,dt=!1;for(ft=t.DashboardConstants.Zero;ft<ti;ft++)if(ct[ft]===f[u].SourceColumn){dt=!0;break}o.IsDateTime||dt?(o.Value.length>t.DashboardConstants.One?s.DateFilterInfo.DateFilterList.push(o.Value):s.DateFilterInfo.DateFilterList=o.Value,s.DateFilterInfo.Action=t.DashboardConstants.DateFilterInfoInclude):(o.Value.length>t.DashboardConstants.One?s.DimensionFilterInfo.Text.push(o.Value):s.DimensionFilterInfo.Text=o.Value,s.DimensionFilterInfo.Conditions="Include");ut.push(s);k.length!==t.DashboardConstants.Zero&&k.push("And");k.push(f[u].Column+"="+o.Value);break}for(gt=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,u=0;u<gt;u++)t.isNullOrUndefined(f[u].SourceControl)||(v=this.dashboardControls.getAllControlsMasterData(),y=this._checkFilterInfoByReportName(f[u].SourceControl,v),y!==null&&(h=new selectedFilterInfo,h.UniqueColumnName=f[u].UColumn,h.ReportName=n.LinkedControls[d].MasterControl,h.DateFilterInfo=v[y].DateFilterInfo,h.DimensionFilterInfo=v[y].DimensionFilterInfo,h.MeasureFilterInfo=v[y].MeasureFilterInfo,h.PointIndex=v[y].PointIndex,h.SeriesIndex=v[y].SeriesIndex,h.Value=v[y].Value,ut.push(h)))}nt={masterReport:ut,path:n.Path,title:k,isPhysicalPath:n.IsPhysicalPath,tabName:n.ReportDisplayName,tabId:n.ReportUniqueName};n.LinkType===2?(lt=nt.path,b={tabName:lt,handled:et,source:tt},this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:b}),this._trigger("beforeNavigate",{data:b}),b.handled||this._renderLinkedDashboard(nt),b={tabName:lt,source:tt},this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:b}),this._trigger("afterNavigate",{data:b})):(e=nt.path,this._navigateLink(e,at,et,tt,n,nt))}}},_navigateLink:function(n,i,r,u,f,e){var o={url:n,target:i,handled:r,source:u};if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeNavigate,data:o}),this._trigger("beforeNavigate",{data:o}),!o.handled){switch(o.target){case t.dashboardViewer.navigationTargets.Self:case t.dashboardViewer.navigationTargets.Top:case t.dashboardViewer.navigationTargets.Blank:case t.dashboardViewer.navigationTargets.Parent:break;default:if(this._isTargetFrame(o))return}f.LinkType===t.DashboardConstants.Zero?this._launchNewDashboardWindow(e,o):o.url!==""&&(o.url.indexOf("%")!==t.DashboardConstants.IndexLowerBound?t.DashboardConstants.Window.open(o.url,o.target):t.DashboardConstants.Window.open(encodeURI(o.url),o.target));o={url:n,target:i,source:u};this._trigger("afterNavigate",{data:o});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterNavigate,data:o})}},_isTargetFrame:function(n){var i=null;return(i=document.getElementById(n.target),i===null&&(i=document.getElementsByName(n.target),t.isNullOrUndefined(i)||i.length===t.DashboardConstants.Zero||(i=i[t.DashboardConstants.Zero])),i!==null&&i.length!==t.DashboardConstants.Zero)?(i.setAttribute("src",n.url),!0):(n.target=t.dashboardViewer.navigationTargets.Blank,!1)},_renderLinkedDashboard:function(n){var i,r,u;t.isNullOrUndefined(n)||(i=254,r="",n.masterReport.length!==t.DashboardConstants.Zero?r=encodeURI(String.fromCharCode(i)+"filterQuery"+String.fromCharCode(i)+"="+CryptoJS.AES.encrypt(JSON.stringify(n.masterReport).replaceAll(":",String.fromCharCode(i)),"RGFzaGJvYXJkIFVybCBLZXk=").toString()):this.model.currentMasterReport=null,u=this._getTabIndexByTabName(n.tabName),this._renderSelectedDashboard(u,r))},_renderSelectedDashboard:function(i,r){var u,f,o,e,s;if(!t.isNullOrUndefined(i)){if(u=this.tabInformation,t.isNullOrUndefined(u))return;for(f=null,o=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,e=0;e<o;e++)if(i===e){s=this.element.find(".e-dbrd-tab-container").attr("id");f=n("#"+s).data("ejDashboardTab");break}t.isNullOrUndefined(f)||(t.isNullOrUndefined(r)||(this.isLinking=!0,this.model.filterParameters=r,this._initializeFilterParameters()),f.option({selectedItemIndex:i}),this.model.selectedTabIndex=i)}},_launchNewDashboardWindow:function(i,r){var e,u;if(!t.isNullOrUndefined(i))if(e=t.buildTag("div"),u=i.path,i.isPhysicalPath){u=u.replace(/\\/g,"\\\\");e.append(n('<div style="width:100%;height:100%;">').attr({id:"drilledDashboard"}));var s=' $("#drilledDashboard").ejDashboardViewer({ dashboardPath:"'+u+'",currentMasterReport:'+JSON.stringify(i.masterReport)+',url:"'+this.serviceUrl()+'",serverUrl:"'+this.serverUrl()+'"  });',f=window.open("","_blank",""),h=n("head").find("link").add("style"),c=n("head").find("script").add("style"),o="";h.each(function(t,i){i.tagName==="LINK"&&n(i).attr("href",i.href);o+=i.outerHTML});c.each(function(t,i){i.tagName==="SCRIPT"&&i.src!==""&&n(i).attr("src",i.src);o+=i.outerHTML});t.browserInfo().name==="msie"?f.document.write('<html style="width:100%;height:100%;"><head  title="{{:reportName  }  } '+i.title.join(" ")+'"><title><\/title><\/head><body style="width:100%;height:100%;">'+o+e[0].innerHTML+"<script>"+s+"<\/script><\/body><\/html>"):(f.document.write('<html style="width:100%;height:100%;"/>'),f.document.writeln('<head title="{{:reportName  }  } '+i.title.join(" ")+'">'+o+'<title><\/title><\/head><body style="width:100%;height:100%;">'),f.document.writeln(e[0].innerHTML+"<script>"+s+"<\/script><\/body><\/html>"));f.focus()}else i.masterReport.length!==t.DashboardConstants.Zero?(u=u.match(/\?./)?u+"&"+encodeURI(this.onDemandTabs===!0?"~tabname~="+i.tabName+"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport))):"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport)))):u+"?"+encodeURI(this.onDemandTabs===!0?"~tabname~="+i.tabName+"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport))):"&filterQuery="+encodeURI(JSON.stringify(this.dashboardControls.minifySelectedFilterInfo(i.masterReport)))),r.url=u,t.DashboardConstants.Window.open(u,r.target,"")):(u=u+"?~tabname~="+i.tabName,r.url=u,t.DashboardConstants.Window.open(u,r.target,""))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.maximize={_expandDescription:function(i,r,u,f,e,o){var h=n("<div>").addClass("e-dbrd-moreLessDiv").css({height:"25px",width:"100%","background-color":"#ffffff"}),c=n("<div>").addClass("e-dbrd-desc-moreDiv"),a='<div class = "e-dbrd-downArrow"><\/div><div class = "e-dbrd-moreText">'+this.locale.utils.TextMore+"<\/div>",v='<div class = "e-dbrd-upArrow"><\/div><div class = "e-dbrd-lessText">'+this.locale.utils.TextLess+"<\/div>",s,l;c.append(a);c.append(v);h.append(c);s=n("<div>").addClass("e-dbrd-descriptionDiv").css({"margin-top":"45px",height:"90px",width:"100%","background-color":"#ffffff"});s.append(i.inactiveFooter);n(window).width()<t.DashboardConstants.MobileWidth&&i.footerDescription!==null&&i.footerDescription[0].innerText!==""&&!t.isNullOrUndefined(e)?r.append(u.inactiveHeader,s).addClass("e-dbrd-inactive"):n(window).width()<t.DashboardConstants.MobileWidth&&i.footerDescription!==null&&i.footerDescription[0].innerText!==""?r.append(u.inactiveHeader,s).addClass("e-dbrd-inactive"):n(window).width()<t.DashboardConstants.MobileWidth&&!t.isNullOrUndefined(e)?r.append(u.inactiveHeader).addClass("e-dbrd-inactive"):i.footerDescription!==null&&i.footerDescription[0].innerText!==""?r.append(u.inactiveHeader,f.inactiveSubtitle,i.inactiveFooter).addClass("e-dbrd-inactive"):r.append(u.inactiveHeader,f.inactiveSubtitle).addClass("e-dbrd-inactive");n(window).width()<t.DashboardConstants.MobileWidth&&i.footerDesc.height()>i.inactiveFooter.height()?(l=h.height()+u.inactiveHeader.height()+i.inactiveFooter.height()+32,o.css({height:"calc(100% - "+l+"px)"}),r.append(h,o).addClass("e-dbrd-inactive")):n(window).width()<t.DashboardConstants.MobileWidth&&i.footerDescription[0].innerText===""?(o.css({height:"calc(100% - "+u.inactiveHeader.height()+"px)","margin-top":u.inactiveHeader.height()}),r.append(o).addClass("e-dbrd-inactive")):r.append(o).addClass("e-dbrd-inactive")},_maximizeclose:function(i,r){var o=i.find(".e-dbrd-inactive-header-close-button"),s=i.find(".e-dbrd-inactive-header-Menu-button"),h=!t.isNullOrUndefined(r)&&r.length>t.DashboardConstants.Zero?i.find(".e-dbrd-link-enable"):i.find(".e-dbrd-drill-enable"),u=o.width()+s.width()+h.width()+60;if(this.model.allowComment&&n(window).width()<t.DashboardConstants.MobileWidth){var f=i.find(".e-dbrd-banner-widget-withcomments"),e=i.find(".e-dbrd-banner-widget-withoutcomments");(f.length!==t.DashboardConstants.Zero||e.length!==t.DashboardConstants.Zero)&&(u+=f.width()+e.width()+30,i.find(".e-dbrd-maximize-titleDiv").css({"max-width":"calc(100% - "+u+"px)"}))}else i.find(".e-dbrd-maximize-titleDiv").css({"max-width":"calc(100% - "+u+"px)"})},_maximizeTemplate:function(i,r,u,f){i.attr({role:"dialog",tabindex:"-1",id:this._id+"_InActiveDiv",ChartMaximixed:this._chartmaximizefind(u),type:u,"data-id":r.find(".e-dbrd-control").attr("data-controlId")+"_Maximize"});n(window).width()<t.DashboardConstants.MobileWidth&&i.attr({role:"dialog",tabindex:"-1",id:this._id+"_InActiveDiv",ChartMaximixed:this._chartmaximizefind(u),type:u,"data-id":r.find(".e-dbrd-control").attr("data-controlId")+"_Maximize"});this.currentTabContentElement.append(i);var e={inactiveHeader:null,controlTitle:null,maxTitleDiv:null,elementHeading:r.find(".e-control-title").html()||""};return e.inactiveHeader=n('<div class="e-dbrd-inactive-header" />'),n(window).width()<t.DashboardConstants.MobileWidth&&e.inactiveHeader.css({height:"45px",display:"none","margin-top":"0px"}),e.controlTitle=n("<div>").addClass("e-dbrd-maxControl-title").css({"text-align":""+f}),n(window).width()<=t.DashboardConstants.MobileWidth&&(e.controlTitle.append(n("<div>").addClass("e-dbrd-inactive-header-close e-dbrd-inactive-header-close-button e-dbrd-maxIcon")),e.maxTitleDiv=n("<div>").addClass("e-dbrd-maximize-titleDiv"),e.maxTitleDiv.append(n("<span>").addClass("e-dbrd-maxTitleText").html(e.elementHeading)),e.controlTitle.append(e.maxTitleDiv),e.inactiveHeader.append(e.controlTitle)),e},_maximizeComment:function(i,r,u){var e=null,f=i.siblings(".e-dbrd-banner-widget-withcomments"),o=i.siblings(".e-dbrd-banner-widget-withoutcomments"),s;return e=n('<div class="e-dbrd-maximize-controlprop" />'),this.model.allowComment&&(f.length>0||o.length>0)&&(s=f.length>t.DashboardConstants.Zero?n("<div>").attr({tabindex:"0",role:"button"}).addClass("e-dbrd-banner-widget-withcomments e-dbrd-hoverable e-dbrd-border e-dbrd-maxIcon").attr({"aria-label":"Maximize","data-tooltip":this.locale.utils.Comment,type:r,"data-widget-id":u.find(".e-dbrd-control-container")[0].id,id:f[0].id}):n("<div>").attr({tabindex:"0",role:"button"}).addClass("e-dbrd-banner-widget-withoutcomments e-dbrd-hoverable e-dbrd-border e-dbrd-maxIcon").attr({"aria-label":"Maximize","data-tooltip":this.locale.utils.Comment,type:r,"data-widget-id":u.find(".e-dbrd-control-container")[0].id,id:o.length!==t.DashboardConstants.Zero?o[0].id:f[0].id}),n(window).width()<t.DashboardConstants.MobileWidth&&s.addClass("commentIcon").removeClass("e-dbrd-hoverable"),e.append(s)),e},_maximizeDescription:function(i,r,u){var f={footerDesc:null,inactiveFooter:null,footerDescription:null};return f.footerDesc=n("<div class='e-dbrd-inactive-footer-description'>"),f.inactiveFooter=n("<div>").addClass("e-dbrd-inactive-footer").html(f.footerDesc),t.isNullOrUndefined(i)||(f.footerDescription=f.footerDesc.append(u.children().find(".e-control-description").text()),n(window).width()<t.DashboardConstants.MobileWidth?f.footerDesc.css({"padding-right":"0px","padding-left":"0px"}):(f.inactiveFooter.css({"overflow-y":"hidden"}),this._inactiveFooterWidth())),n(window).width()>t.DashboardConstants.MobileWidth&&f.footerDescription[0].innerText===""&&r.inactiveHeader.css({"margin-top":this.currentTabContentElement.find(".e-dbrd-banner").height()*2}),f},_maximizeExport:function(i,r,u,f){if(this.model._exportSettings.canExportImage||this.model._exportSettings.canExportPdf||this.model._exportSettings.canExportExcel||this.model._exportSettings.canExportCsv){var e=i.find(".e-dbrd-control-menu"),o=e.hasClass("enable-image-export")||e.hasClass("enable-pdf-export")||e.hasClass("enable-csv-export")||e.hasClass("enable-excel-export");o&&(e.length>t.DashboardConstants.Zero||r.id==="dashboard_contextMenuPopup"&&r.siblings(".e-control-prop").children(".e-dbrd-control-menu").length>t.DashboardConstants.Zero||i.find(".e-dbrd-control-small-menu").length>t.DashboardConstants.Zero)&&(u.append(n('<div class="e-dbrd-inactive-header-Menu-button e-dbrd-maxIcon" control-id= "'+f.find(".e-dbrd-control").attr("id")+'" />')),n(window).width()>t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-inactive-header-Menu-button .e-dbrd-maxIcon").addClass("e-dbrd-hoverable").attr({"control-id":f.find(".e-dbrd-control").attr("id"),"data-tooltip":this.locale.utils.Export}))}},_createWidgetContainer:function(i,r){var u=n("<div>").addClass("e-dbrd-control-container e-dbrd-control-container-avoid maximize-container").attr({id:r}).css({height:"calc(90% - 120px)"});return n(window).width()<t.DashboardConstants.MobileWidth&&u.addClass("maximize-container-mob").css({height:"calc(100% - 94px)"}),t.browserInfo().name==="webkit"&&u.height(i.parent().height()*.9-80),u},_Maximizesubtitle:function(i,r,u,f,e){var o={inactiveSubtitle:null,subTitle:null,maxSubTitleDiv:null};if(t.isNullOrUndefined(i)||(o.inactiveSubtitle=n('<div class="e-dbrd-inactive-subtitle" />'),o.subTitle=n("<div>").addClass("e-dbrd-maxcontrol-subTitle"),n(window).width()<t.DashboardConstants.MobileWidth?(o.maxSubTitleDiv=n("<div>").addClass("e-dbrd-maximize-subTitleDiv"),o.maxSubTitleDiv.append(n("<span>").addClass("e-dbrd-maxSubTitleText").html(i)),r.inactiveHeader.css({height:"52px"}),r.controlTitle.css({height:"49px"})):(o.subTitle.html(i),o.inactiveSubtitle.append(o.subTitle))),n(window).width()<t.DashboardConstants.MobileWidth&&(!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?u.clone().appendTo(r.controlTitle).addClass("link-maximize-title"):t.isNullOrUndefined(f)||f.clone().appendTo(r.controlTitle).addClass("drill-maximize-title"),r.controlTitle.append(e),r.inactiveHeader.append(r.controlTitle),t.isNullOrUndefined(i)||(r.inactiveHeader.append(o.maxSubTitleDiv),o.maxSubTitleDiv.css({"margin-left":"32px"}))),n(window).width()>t.DashboardConstants.MobileWidth){r.controlTitle.html(r.elementHeading).css({float:"left"});r.inactiveHeader.append(r.controlTitle);!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero?u.clone().appendTo(r.inactiveHeader).addClass("e-dbrd-inactive-header-des"):t.isNullOrUndefined(f)||f.clone().appendTo(r.inactiveHeader).addClass("e-dbrd-inactive-header-mob");e.append(n("<div>").addClass("e-dbrd-inactive-header-close e-dbrd-inactive-header-close-button e-dbrd-maxIcon e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.Close}));var c=r.controlTitle.find(".e-dbrd-inactive-header-Menu-button"),s=e.find(".e-dbrd-banner-widget-withcomments"),h=e.find(".e-dbrd-banner-widget-withoutcomments");n(window).width()<t.DashboardConstants.MobileWidth&&c.length===t.DashboardConstants.Zero&&(s.length!==t.DashboardConstants.Zero?s.css({"margin-right":"10px"}):h.length!==t.DashboardConstants.Zero&&h.css({"margin-right":"10px"}));n(window).width()>=t.DashboardConstants.MobileWidth&&(s.length!==t.DashboardConstants.Zero?s.css({"margin-right":"5px"}):h.length!==t.DashboardConstants.Zero&&h.css({"margin-right":"5px"}));r.inactiveHeader.append(e)}return o},_maximizeControl:function(i,r){var e=n(this.currentTabContentElement).find("#"+i),rt=e.parents(".e-dbrd-control-container").find(".e-dbrd-control").attr("data-controlid"),ft,et,f,s,h,ot,c,st,ht,v,ct,b,g,lt,at;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogOpen,source:{element:e,data:rt}});this.lastFocusElement=e;this.scrollTop=n(window).scrollTop();var u=t.buildTag("div"),o=e.closest(".e-dbrd-layout-cell"),p=e.attr("type"),vt=e.parents(".e-dbrd-control-container").attr("id"),nt=o.children().find(".e-control-description"),yt="black",k=e.parents(".e-dbrd-control-container"),tt=o.find(".e-control-subtitle").html(),ut=o.find(".e-dbrd-link-enable"),pt=o.find(".e-dbrd-drill-enable");this.element.find(".e-dbrd-tooltip").hide();this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._dashboardId+"_toolTip"}).addClass("e-dbrd-tooltip"));this._closeCommentDialog(e);this._destroyControlMenu();this._destroyContextMenu();this._destroyDashboardMenu();this._tabMenuPopupHide();this.currentTabContentElement.css({"overflow-x":"hidden"});this.element.css({"overflow-x":"hidden"});k.find(".e-control-title").length>t.DashboardConstants.Zero&&(yt=k.find(".e-control-title").css("color"));ft=this._getControlHeaderAlignment(k);t.isNullOrUndefined(nt)&&(nt="");et=n("#"+this.currentTabContentElement.attr("id")).children();et.attr("aria-hidden",!0);f=this._maximizeTemplate(u,o,p,ft);s=this._maximizeComment(e,p,o);this._maximizeExport(k,e,s,o);var l=this._Maximizesubtitle(tt,f,ut,pt,s),a=this._createWidgetContainer(u,vt),w=this._maximizeDescription(nt,f,o);this._expandDescription(w,u,f,l,tt,a);this._maximizeclose(u,ut);h=t.buildTag("div");a.append(h);u.children().show();n(window).width()>=t.DashboardConstants.MobileWidth?(w.inactiveFooter.find(".e-dbrd-inactive-footer-description").height()>w.inactiveFooter.height()&&(u.find(".e-dbrd-inactive-footer").ejDashboardScroller({height:w.inactiveFooter.height()}),u.find(".e-dbrd-inactive-footer-description").css({width:w.footerDesc.width()-10})),f.controlTitle.width()>=f.inactiveHeader.width()-s.width()&&(ot=(s.children.length+1)*10,f.controlTitle.css({"max-width":f.inactiveHeader.width()-s.width()-ot+"px",width:"auto",display:"inline-block"}))):t.isNullOrUndefined(l.maxSubTitleDiv)||l.maxSubTitleDiv.find(".e-dbrd-maxSubTitleText").css({"max-width":f.inactiveHeader.width()-40+"px"});h.attr({id:this._id+"_maximized"}).addClass("e-dbrd-MaximizedControl e-dbrd-control");!t.isNullOrUndefined(r)&&r&&h.addClass("dashboardCustomWidget");c=o.find(".e-dbrd-control").attr("data-controlId");h.attr({"data-controlid":c});this.model.enableCustomTheming&&(this._customTheme(["maximize"]),st={controlType:p,reportName:c,isMaximize:!0,Id:"dashboard_maximized"},ht=this.dashboardControls.getControlByReport(c),this.applyCustomTheme(st,ht.controlThemeName));v=null;this.dashboardControls.getControlByReport(c)&&(v=new Dbrdcontrol,v=v.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(c)))),this.maximizedashboardControls.addControl(v));var y=n("<div>").addClass("e-dbrd-max-wrapper"),wt=u.find(".e-dbrd-inactive-header").detach(),bt=u.find(".e-dbrd-inactive-subtitle").detach(),it=null,d=null;if(n(window).width()<t.DashboardConstants.MobileWidth?(it=u.find(".e-dbrd-descriptionDiv").detach(),d=u.find(".e-dbrd-moreLessDiv").detach()):it=u.find(".e-dbrd-inactive-footer").detach(),ct=u.find(".e-dbrd-control-container").detach(),y.append(wt),y.append(bt),y.append(it),t.isNullOrUndefined(d)||d.length===t.DashboardConstants.Zero||y.append(d),y.append(ct),u.append(y),a=u.find(".e-dbrd-control-container"),o.find(".e-nodata").length>t.DashboardConstants.Zero&&p!=="ProportionChart")a.css({"background-color":"white"}),h.css({width:a.width()-10,"margin-left":"5px"}).append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.locale.utils.NoData).addClass("e-nodata"));else{if(b=t.DashboardConstants.Zero,n("body").find("#preventDiv").length!==t.DashboardConstants.Zero){for(n("body").find("#preventDiv").remove(),g=n(".e-pivotgrid"),lt=t.isNullOrUndefined(g)?t.DashboardConstants.Zero:g.length,b=0;b<lt;b++)g.eq(b).data("ejDashboardWaitingPopup").hide();n(".dashboardPivotGridControl").find(".e-dialog-wrap:visible").hide()}at={elementType:p,reportName:c,control:v,element:o};this._widgetMaximize(h,a,at)}n(window).width()>t.DashboardConstants.MobileWidth?f.controlTitle.css({"max-width":f.inactiveHeader.width()-s.width()}):f.maxTitleDiv.css({"max-width":f.inactiveHeader.width()-s.width()});t.isNullOrUndefined(tt)||(l.subTitle.css({"max-width":l.subTitle.width()}),this._adjustParameterColumn(l.subTitle));this._adjustParameterColumn(f.controlTitle);this._destroyWaitingPopup();this._manageFocusWithInElement(u);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogOpen,source:{element:e,data:rt}})},_hideMaximize:function(i){var s=n(i.target),h=n(i.currentTarget),c,u,o;if(s.hasClass("e-dbrd-viewdata")){c=n("#"+this._id+"_data_Div");c.data().ejDashboardGrid.destroy();s.remove();return}if(h.hasClass("canClose")&&(u=i.target.id.split("_DrilledCharts_"),h.attr("chartmaximixed")!=="true"||u[0]===this._id+"_InActiveDiv"||!(("#"+u[0]+"_DrilledChart_"+u[1]).indexOf("canvas")>t.DashboardConstants.IndexLowerBound||("#"+u[0]+"_DrilledChart_"+u[1]).indexOf("svg")>t.DashboardConstants.IndexLowerBound||u[0]!==""))){var e=n("#"+this._id+"_InActiveDiv"),l=this.currentTabContentElement.find(".e-dbrd-inactive").attr("data-id"),f=l.split("_Maximize")[0],r=new 673;if((this.dashboardControls.getControlByReport(f)&&(r=r.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f))))),f.indexOf("PivotGrid")>t.DashboardConstants.IndexLowerBound&&(n(i.target).hasClass("e-dbrd-inactive-header-close")||n(i.target).hasClass("canClose"))&&(o=n("#dashboard_PivotGrid_"+f).children().data("ejDashboardPivotGrid"),r.data[0].pagedata=o._JSONRecords,r.PivotReport=o._olapReport,this.dashboardControls.updateCurrentReport(r)),n(i.target).hasClass("e-dbrd-inactive-header-close")&&(r.isExportFromMaximizedView=!1,this._updateValuesInDrillLevelInfo(r,f,[],!0)),this.dashboardControls.updateCurrentReport(r),n(i.target).hasClass("e-dbrd-inactive")||n(i.target).hasClass("e-dbrd-inactive-header-close"))&&(i.type!=="keypress"||i.key==="Esc")){e.children().fadeOut("slow");n("html,body").animate({scrollTop:this.scrollTop},"slow");try{t.widget.destroyAll(e.find(".e-js").off())}catch(a){console.info(a.message)}e.remove();this.maximizedashboardControls=new dbrddashboardControls;this.setFocus(this.lastFocusElement)}}},_onMaximizeMove:function(t){n(t.currentTarget).hasClass("e-dbrd-viewdata")||n(t.currentTarget).addClass("canClose")}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.errordialogs={_showErrorDialog:function(i){var u,f,e;if(!t.isNullOrUndefined(i)){this._on(n("body"),"keydown",this._hideErrorDialog);var s=n(i.currentTarget).data("err-informative-msg"),o=n(i.target).attr("class"),r=this.element.find("#"+this._id+"_error_dialog");r.length===t.DashboardConstants.Zero&&(this._renderErrorMsgDialog(),r=this.element.find("#"+this._id+"_error_dialog"));u=r.find(".e-dbrd-dialog-content-wrapper");t.isNullOrUndefined(o)||o.indexOf("e-dbrd-learnMore")===t.DashboardConstants.IndexLowerBound?(r.find(".e-dbrd-dialog-title").html(this.locale.utils.DataRetrievalError),r.find(".e-info-msg").length>t.DashboardConstants.Zero&&r.find(".e-info-msg").remove(),u.children(".e-dbrd-content").prepend("<p class='e-info-msg'>"+s+"<\/p>")):(this.element.find("#"+u.attr("id")).ejDashboardScroller({height:"130",orientation:"vertical"}),u.addClass("e-dbrd-control"),this.element.find(".e-dbrd-showDetails, .e-dbrd-stacktrace.e-dbrd-control").css("display","none"),u.children(".e-dbrd-content").html(this.dashboardError));this.element.find(".e-dbrd-dialog-bgrnd").show();this._off(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails);this._off(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails);this._on(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails);this._on(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails);r.show();this.element.find(".e-dbrd-controlWaiting").remove();f=this.element.find(".e-dbrd-dialog.e-dbrd-alert");f.addClass("e-dbrd-error-desc");n(window).width()<t.DashboardConstants.MobileWidth&&f.addClass("e-dbrd-error-mob");e=u.data("ejDashboardScroller");t.isNullOrUndefined(e)||e.refresh();this.model.enableCustomTheming&&this._customTheme(["popup"])}},_hideErrorDialog:function(i){if(n.isFunction(i.preventDefault)&&(n(i.target)[0].className.indexOf("e-dbrd-dialog-bgrnd")!==t.DashboardConstants.IndexLowerBound||n(i.target)[0].className.indexOf("e-dbrd-btn-ok e-success")!==t.DashboardConstants.IndexLowerBound||n(i.target)[0].className.indexOf("e-dbrd-dialog-close-icon")!==t.DashboardConstants.IndexLowerBound||n(i.target)[0].className.indexOf("e-dbrd-error-text-close")!==t.DashboardConstants.IndexLowerBound)){i.preventDefault();i.bubbles=!1;var r=this.element.find("#"+this._id+"_get_link_dialog");t.isNullOrUndefined(r)||r.length!==t.DashboardConstants.Zero?this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}}):r=this.element.find("#"+this._id+"_error_dialog");t.isNullOrUndefined(r)||i.keyCode!==13&&i.keyCode!==27&&i.type!=="click"||(r.remove(),this.element.find(".e-dbrd-dialog-bgrnd").remove(),this._hideErrorDetails(),this._off(this.element,"click",".e-dbrd-showDetails",this._showErrorDetails),this._off(this.element,"click",".e-dbrd-hideDetails",this._hideErrorDetails),this._off(n("body"),"keydown",this._hideErrorDialog));this.element.find(".e-dbrd-error-text-close").remove();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}})}},_hideGetLinkDialog:function(){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}});var i=this.element.find("#"+this._id+"_get_link_dialog");t.isNullOrUndefined(i)||(i.remove(),this.element.find(".e-dbrd-dialog-bgrnd").remove(),this._off(n("body"),"keydown",this._hideErrorDialog));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogClose,source:{element:null}})},_showControlError:function(i,r,u,f){var e,o;t.isNullOrUndefined(i&&r&&u)||(e=r,e.hasClass("e-dbrd-layout-cell")&&(e=e.children()),i.length===t.DashboardConstants.Zero&&(i=this.locale.utils.DataError),o=e.siblings(".e-dbrd-control-error")||e.children(".e-dbrd-control-error"),e.children().hide(),o.length===t.DashboardConstants.Zero?(o=n("<div>").addClass("e-dbrd-control-error align-center"),o.append(n("<div>").addClass("widget-error-icon").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable"),n("<div>").addClass("e-dbrd-controlError-msg").html(i),n("<div class='e-dbrd-link-btn'>").html(this.locale.utils.KnowMore).data({"error-msg":u.msg,"err-informative-msg":u.informativeMsg})),e.css({display:"table"}),o.append(n("<button type='button' class='reload-retrievalerror-icon reload-button'><span style = 'padding-left:6px'>"+this.locale.utils.Reload+"<\/span><\/button>").addClass(f?"e-dbrd-reload-view-data":"e-dbrd-refresh-link-btn").css({"font-size":"13px"}).data({control:e})),e.append(o),e.parents(".e-dbrd-layout-cell").attr("rowspan")==="1"&&e.parents(".e-dbrd-layout-cell").attr("colspan")==="1"?(o.find(".widget-error-icon").remove(),o.prepend(n("<div>").addClass("widget-error-icon-single").attr({"data-tooltip":"Data Retrieval Error"}).addClass("e-dbrd-hoverable").css({"font-size":"18px"})),o.find(".e-dbrd-controlError-msg").remove(),o.find(".e-dbrd-link-btn").css({"font-size":"7px"}),o.find(".e-dbrd-refresh-link-btn").css({border:"none","font-size":"7px",color:"#3b99fc",height:"15px","margin-top":"0px"})):(e.parents(".e-dbrd-layout-cell").attr("rowspan")==="1"||this._isControlErrorOnMobile(e))&&(o.find(".widget-error-icon").addClass("e-dbrd-iocn-single"),o.find(".e-dbrd-controlError-msg").remove(),o.find(".e-dbrd-refresh-link-btn").addClass("e-dbrd-refresh-single"))):o.show().html(i),e.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"none"}),e.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),e.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),e.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"}),e.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"none"}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]))},_isControlErrorOnMobile:function(i){return i.parents(".e-dbrd-layout-cell").attr("rowspan")==="2"&&n(window).width()<t.DashboardConstants.MobileWidth},_hideControlError:function(n){var i,r;t.isNullOrUndefined(n)||(i=n.find(".e-dbrd-control-error")||n.siblings(".e-dbrd-control-error"),i.length!==t.DashboardConstants.Zero&&(r=n.find(".e-control-heading"),r.length!==t.DashboardConstants.Zero&&r.css({display:"block"}),n.css({width:"100%"}),n.children().show(),i.remove(),n.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),n.parent(".e-dbrd-control-container").find(".e-dbrd-control-small-menu").css({display:"block"})))},_displayNoDataAvailable:function(i){for(var f,r,e=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<e;u++)f=n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-dbrd-control"),r="",t.isNullOrUndefined(f)||(r=f.attr("data-controlid").toLowerCase()),r.indexOf("datepicker")!==t.DashboardConstants.IndexLowerBound||r.indexOf("rangenavigator")!==t.DashboardConstants.IndexLowerBound||r.indexOf("radiobutton")!==t.DashboardConstants.IndexLowerBound||r.indexOf("listbox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("combobox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("checkbox")!==t.DashboardConstants.IndexLowerBound||r.indexOf("rangeslider")!==t.DashboardConstants.IndexLowerBound?(n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-nodata").length===t.DashboardConstants.Zero&&n("#"+i[u]).closest(".e-dbrd-control-container").append(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),n("#"+i[u]).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide()):this._applyOrRemoveNoDataAvailable(t.DashboardConstants.Zero,f)},_applyOrRemoveNoDataAvailable:function(i,r){var u=r,e,o,s,f;return(u&&u.find(".e-dbrd-control-nodatainfo").remove(),u.hasClass("e-dbrd-layout-cell")&&(u=u.children()),e=u.siblings(".e-dbrd-control-nodatainfo")||u.children(".e-dbrd-control-nodatainfo"),o=n("<div>").addClass("e-dbrd-control-nodatainfo align-center").css({display:"inline-block"}),i===t.DashboardConstants.Zero)?(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").addClass("e-disable").removeClass("e-dbrd-hoverable").css({cursor:"default"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").addClass("e-disable").removeClass("e-dbrd-hoverable").css({cursor:"default"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"}),e.length===t.DashboardConstants.Zero?(u.children().hide(),e=n('<div style="height:auto; width:100%; display:table">').addClass("e-dbrd-control-nodatainfo"),o.append(n("<div>").addClass("widget-info-icon"),n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),u.css({display:"table"}),e.append(o),u.append(e)):(u.children().hide(),e.show().html(this.locale.utils.NoData).addClass("e-nodata")),s=u.height()-o.height(),o.css({"margin-top":s/2}),this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]),!1):(u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").removeClass("e-disable").addClass("e-dbrd-hoverable"),u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").removeClass("e-disable").addClass("e-dbrd-hoverable"),u.children().show(),u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.RangeSlider||u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.FilterComboBox||u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.DatePicker?u.children().show():u.css({display:"block"}),u.parents(".e-dbrd-control-container").attr("type")===t.dashboardViewer.Controls.FilterComboBox&&u.hasClass("e-dbrd-control-listbox")&&u.css({display:"block"}),this._hideControlError(u),e.remove(),n(window).width()<t.DashboardConstants.MobileWidth?u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}):u.parent(".e-dbrd-control-container").find(".e-dbrd-maximize").css({display:"block"}),n(window).width()<t.DashboardConstants.MobileWidth?u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu").css({display:"block"}):(f=u.parent(".e-dbrd-control-container").find(".e-dbrd-control-menu"),n(f).hasClass("enable-csv-export")||n(f).hasClass("enable-excel-export")||n(f).hasClass("enable-image-export")||n(f).hasClass("enable-pdf-export")||n(f).hasClass("enable-view-Data")?f.css({display:"block"}):f.css({display:"none"})),this.model.responsiveSettings.isWidgetCommented?(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"block"})):n(window).width()<t.DashboardConstants.MobileWidth?(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"none"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"none"})):(u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withoutcomments").css({display:"block"}),u.parent(".e-dbrd-control-container").find(".e-dbrd-banner-widget-withcomments").css({display:"block"})),!0)},_applyOrRemoveNoDataAvailableForFilters:function(i,r){return t.isNullOrUndefined(i,r)?null:i===t.DashboardConstants.Zero?(n(r).closest(".e-dbrd-control-container").find(".e-nodata").length===t.DashboardConstants.Zero&&n(r).closest(".e-dbrd-control-container").append(n("<div>").html(this.locale.utils.NoData).addClass("e-nodata")),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").hide(),!1):(n(r).closest(".e-dbrd-control-container").find(".e-nodata").remove(),n(r).closest(".e-dbrd-control-container").find(".e-dbrd-control").show(),!0)},_showErrorDetails:function(){var i=this.element.find(".e-dbrd-dialog"),r=100,u;n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.currentTabContentElement.height()-(i.find(".e-dbrd-dialog-content-wrapper .e-dbrd-content").height()+60));i.find(".e-dbrd-showDetails").html(this.locale.utils.HideDetails).removeClass("e-dbrd-showDetails").addClass("e-dbrd-hideDetails");i.find(".e-dbrd-stacktrace").addClass("e-dbrd-err-visible").removeClass("e-dbrd-err-hide");u=this.element.find(".e-dbrd-link-btn").data("error-msg");i.find(".e-dbrd-stacktrace").append("<div class='e-stackTrace-content'><p class ='e-err-stack-content'><\/p><\/div>");i.find(".e-stackTrace-content .e-err-stack-content").html(u);i.find("#"+this._id+"_error_dialog_show_content").ejDashboardScroller({height:r+"px",orientation:"vertical"})},_hideErrorDetails:function(){var n=this.element.find(".e-dbrd-dialog"),i;n.find(".e-dbrd-hideDetails").html(this.locale.utils.ShowDetails).removeClass("e-dbrd-hideDetails").addClass("e-dbrd-showDetails");n.find(".e-dbrd-stacktrace").addClass("e-dbrd-err-hide").removeClass("e-dbrd-err-visible");n.find("#"+this._id+"_error_dialog_show_content").length>t.DashboardConstants.Zero&&(i=this.element.find("#"+this._id+"_error_dialog_show_content").data("ejDashboardScroller"),t.isNullOrUndefined(i)||i.destroy(),n.find(".e-stackTrace-content").remove())},_getErrorSwitchDetails:function(i){var r=null;return n(window).width()<t.DashboardConstants.MobileWidth?(r="mobile",i.hasClass("e-dbrd-error-mob")||i.addClass("e-dbrd-error-mob")):n(window).width()>t.DashboardConstants.MobileWidth&&i.hasClass("e-dbrd-error-mob")&&(r="Desktop",i.removeClass("e-dbrd-error-mob")),r},_refreshErrorScroller:function(n){var r=this.element.find("#"+this._id+"_error_dialog"),u=r.find(".e-dbrd-dialog-content-wrapper"),i=null;i=r.find("#"+this._id+"_error_dialog_show_content").data("ejDashboardScroller");t.isNullOrUndefined(i)||(i.destroy(),r.find("#"+this._id+"_error_dialog_show_content").ejDashboardScroller({height:n+"px",orientation:"vertical"}));r.find(".e-info-msg").length===t.DashboardConstants.Zero&&(i=u.data("ejDashboardScroller"),t.isNullOrUndefined(i)||(i.destroy(),r.find("#"+u.attr("id")).ejDashboardScroller({height:n+"px",orientation:"vertical"})))}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.waitingIndicator={_showWaitingPopup:function(i){var r,u,f;this.element.find(".e-tab").length>t.DashboardConstants.Zero&&n("#"+this._dashboardId+"_popupContainerDiv").remove();r=null;u=null;n("#"+this._id+"_popupContainerDiv").length>t.DashboardConstants.Zero?i?(n("#"+this._id+"_popupContainerDiv").css({"background color":"#000000",position:"fixed",top:"0",right:"0",opacity:"0.7","z-index":1e3}),n("#"+this._id+"_popupContainerDiv #"+this._id+"_popupCenterDiv").html('<div class="FilterLoaderIndicator"><\/div>'),n("#"+this._id+"_popupContainerDiv").stop(!0,!0,!0).fadeIn()):(r=n("#"+this._id+"_popupContainerDiv"),r.show().html("").css({"z-index":"100000","background-color":"rgba(0, 0, 0, 0.5)"}),u='<svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class = "waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg>',r.append(u)):(f='<div class = "e-waitingLoadedPopup" id = "'+this._id+'_popupContainerDiv"><svg class = "e-waitingPopup-center" id = "'+this._id+'_popupCenterDiv"><circle class="waitingIndicator" cx="27" cy="27" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"><\/circle><\/svg><\/div>',this.dashboardWrapper.append(f))},_destroyWaitingPopup:function(){this.element.find(".e-tab").length>t.DashboardConstants.Zero&&n("#"+this._id+"_popupContainerDiv").stop(!0,!0,!0).fadeOut();n("#"+this._dashboardId+"_popupContainerDiv").stop(!0,!0,!0).fadeOut()},_createControlWaitingIndicator:function(i,r){var u,f,e,o;n(i).length===t.DashboardConstants.Zero||n(i).parents(".e-dbrd-filter-control-wrapper").length>t.DashboardConstants.Zero||n(i).hasClass("e-dbrd-filterpanel-wrapper")||(u=n("<div>").addClass("e-dbrd-controlWaiting"),r&&u.css({background:" rgba(255, 255, 255, 0.30) "}),u.css({width:"100%",height:"100%","z-index":"5",position:"absolute",top:"0",left:"0"}),f=20,e=4,(t.browserInfo().name==="mozilla"||t.browserInfo().name==="msie")&&(f=10,e=2),(t.browserInfo().name==="chrome"||t.browserInfo().name==="edge"||t.browserInfo().name==="webkit")&&(u.css({zoom:"0.5"}),t.browserInfo().name==="edge"&&(f=15)),o='<div class="e-dbrd-blueLoadingIndcator"><svg class = "e-dbrd-blueWaitingIndcator"><circle class = "e-dbrd-circlePath" cx = "27" cy = "27" r = "'+f+'" fill = "none" stroke-width = "'+e+'" stroke-miterlimit = "10"><\/circle><\/svg><\/div>',u.append(o),n(i).css({position:"relative"}),n(i).append(u))},_destroyAllControlWaitingIndicator:function(){t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||n("#"+this.model.filterPanelSettings.filterPanelId).find(".e-dbrd-controlWaiting").remove();this.currentTabContentElement.find(".e-dbrd-controlWaiting").remove();this.isReloaded=!1},_showFilterViewLoader:function(){this._hideFilterViewLoader();var r=n("<div class='e-dbrd-filter-view-loader-wrapper'>"),i=n("<img class='e-dbrd-filter-view-loader' src='"+this.serviceUrl().toLowerCase().replace("dashboardservice.svc","themes/ViewerIcons/initial_loader.gif")+"'>"),u=this.currentTabContentElement.find("#"+this._id+"_filter");u.length===t.DashboardConstants.Zero&&i.css({left:"85%"});i.css({left:u.offset().left-25+"px"});r.append(i);this.currentTabContentElement.append(r)},_hideFilterViewLoader:function(){var n=this.currentTabContentElement.find(".e-dbrd-filter-view-loader-wrapper");n.length!==t.DashboardConstants.Zero&&n.remove()}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.filteroverview={_showMoreFiltersMenu:function(i){var tt,ht,l,r,o,h,a,w,c,g,v,y,lt,at,vt,yt,e,ft,pt,et,ot,wt,f,nt,st,bt,kt;if(!t.isNullOrUndefined(i)){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewOpen,source:{element:n(i.target),data:this.appliedFilterData}}),tt=n(this.element).find(".e-dbrd-filterListMenuPopUp"),tt.length!==t.DashboardConstants.Zero&&tt.css("display")==="block"){n("#"+n(this.element).find(".e-dbrd-filterListMenuPopUp").attr("id")).remove();n("#"+n(i.target).parent().attr("id")).removeClass("e-dbrd-filterListMenus");this._off(this.element,"click",this._closeFilterOverviewDialog);return}n("#"+n(i.target).parent().attr("id")).addClass("e-dbrd-filterListMenus");var s=n("<div>").attr({id:this._id+"_Commonmenupopupfilter"}).addClass("e-dbrd-filterListMenuPopUp").attr("tabindex","0").css({display:"block"}),dt='<div class = "e-dbrd-title"><div class = "e-dbrd-overview-back"><\/div><div class = "e-dbrd-titleDiv"><span class = "e-dbrd-titleText e-dbrd-filter-title">'+t.DashboardConstants.AppliedFilters+'<\/span><\/div><div class = "e-dbrd-clearDiv" tabindex = "0"><div class = "e-dbrd-clearAllFilters">'+t.DashboardConstants.ClearAllFilters+"<\/div><\/div><\/div>",u=this.currentTabContentElement.find(".e-dbrd-filterListMenu");this.onDemandTabs!==!0||this.model.showTab?n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"hidden"}),s.css({top:this.currentTabContentElement.scrollTop(),"z-index":"100000",width:"100%",height:"100%"})):s.css({top:u.offset().top-n(this.currentTabContentElement).offset().top+u.height()*this.scalingFactor+this.element.find(".e-tab>.e-header").height()*this.scalingFactor+5,left:this.currentTabContentElement.width()<300?this.currentTabContentElement.offset().left+3+"px":u.offset().left-n(this.currentTabContentElement).offset().left+u.width()*this.scalingFactor+this.currentTabContentElement.scrollLeft()-295*this.scalingFactor,right:"1px","z-index":"100000"}):s.css({top:u.offset().top-n(this.currentTabContentElement).offset().top+u.height()*this.scalingFactor+8,left:this.currentTabContentElement.width()<300?this.currentTabContentElement.offset().left+3+"px":u.offset().left-n(this.currentTabContentElement).offset().left+u.width()*this.scalingFactor+this.currentTabContentElement.scrollLeft()-295,right:"1px","z-index":"100000"});ht=n("<div>").addClass("e-dbrd-report-filter-arrow").css({position:"absolute","z-index":"1001",top:"-11px",left:u.width()+74});l=n("<div>").attr({id:this._id+"_commonmenufilterlist"}).addClass("e-dbrd-filterList e-dbrd-control");this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showViewSavedFilterIcon?l.css({height:"calc(100% - 112px)",top:u.offset().top+u.height()+10,left:u.offset().left+u.width()-291}):l.css({height:"calc(100% - 45px)",top:u.offset().top+u.height()+10,left:u.offset().left+u.width()-291});var p=n("<div>").attr({id:this._id+"_commonmenufilterlistscroll"}).addClass("e-dbrd-filterLists").css({height:"100%"}),it=n("<div>").attr({id:this._id+"_commonmenufilterlistinnerscroll"}).addClass("e-dbrd-filterListscollection"),rt=null,ct=t.DashboardConstants.One,ut=this.appliedFilterData.length;for(r=ut-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--){for(o=this.appliedFilterData[r].Control,h=0,a=0;a<ut;a++)a!==r&&this.appliedFilterData[a].Control===o&&(h+=t.DashboardConstants.One);if(h===t.DashboardConstants.Zero)for(w=0;w<ut;w++)this._getWidgetDetails(this.appliedFilterData[w].Control).type==="Grid"&&(h+=t.DashboardConstants.One);var b=this.getWidgetTitle(o),k=b.title.split("{{"),d=[];for(c=t.DashboardConstants.Zero;c<k.length;c++)k[c].indexOf("}}")!==t.DashboardConstants.IndexLowerBound&&k[c].indexOf(":")!==t.DashboardConstants.IndexLowerBound&&d.push("{{"+k[c]);for(g=this.element.find(".e-dbrd-param-column"),v=t.DashboardConstants.Zero;v<d.length;v++)for(y=t.DashboardConstants.Zero;y<g.length;y++)lt=g.eq(y).attr("data-param"),d[v]===lt&&(at=g.eq(y).html(),vt=b.title.replace(d[v],at),b.title=vt);for(yt=n("<div>").attr({id:r+"__commonmenufilterlistinitset"}).addClass("e-dbrd-filterListMenuPopUp-item"),e=n("<div>").attr({id:o+"_controlId"}).addClass("e-brd-clearfilterclosetext"),(t.isNullOrUndefined(rt)||this.appliedFilterData[rt].Control!==o)&&(e.append(n("<span>").attr({"data-tooltip":this.locale.utils.Clear,tabindex:"0",id:o+"_controlId"}).addClass("e-brd-clearFilters e-dbrd-hoverable")),ft=n("<div>").addClass("e-brd-overview-widgetTitle").css({"white-space":"nowrap"}),pt=b.title+(!t.isNullOrUndefined(this.appliedFilterData[r].Column)&&this.appliedFilterData[r].Column.indexOf("(Excluding)")!==t.DashboardConstants.IndexLowerBound?"(Excluding)":""),ft.html(pt),e.append(ft)),h>t.DashboardConstants.Zero&&(et=n("<div>").addClass("e-brd-lists").css({height:"20px"}),et.html(t.isNullOrUndefined(this.appliedFilterData[r].DisplayName)?this.appliedFilterData[r].Column:this.appliedFilterData[r].DisplayName),e.append(et),ct!==t.DashboardConstants.One&&e.css({padding:"0px 0px 3px 0px"})),ot=n("<div>").addClass("e-brd-controlList"),ot.html(this.appliedFilterData[r].Control),e.append(ot),yt.append(e),wt=this.appliedFilterData[r].Data.length,f=0;f<wt;f++)this.appliedFilterData[r].Control.indexOf("DatePicker")!==t.DashboardConstants.IndexLowerBound&&this.appliedFilterData[r].Data[f].indexOf("single")!==t.DashboardConstants.IndexLowerBound?(nt=this.appliedFilterData[r].Data[f].substr(this.appliedFilterData[r].Data[f].lastIndexOf("_")+t.DashboardConstants.One),e.append(n("<div>").attr({id:this._id+"_"+o+"_"+f+"__commonmenufilterlistinner"}).addClass("e-brd-list").html(t.isNullOrUndefined(nt.Value)?nt:nt.Value))):(st=n("<div>").attr({id:this._id+"_"+o+"_"+f+"__commonmenufilterlistinner"}).addClass("e-brd-list").html(t.isNullOrUndefined(this.appliedFilterData[r].Data[f].Value)?this.appliedFilterData[r].Data[f]:this.appliedFilterData[r].Data[f].Value),h>t.DashboardConstants.Zero&&(st.css({"padding-left":"52px"}),ct=t.DashboardConstants.Zero),e.append(st));it.append(e);r!==t.DashboardConstants.Zero&&this.appliedFilterData[r].Control!==this.appliedFilterData[r-t.DashboardConstants.One].Control&&it.append(n("<div>").attr({id:o+"_commonmenufilterlisthr"}).addClass("e-brd-style-two"));rt=r}bt=n("<div>").addClass("e-dbrd-saveViewed-filters");p.append(it);l.append(p);s.html(dt);s.append(bt);s.append(ht,l);kt=n("<div>").addClass("e-dbrd-view-saved");s.append(kt);this.element.append(s);(this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon||this.model.filterOverviewSettings.showViewSavedFilterIcon)&&(n(window).width()<t.DashboardConstants.MobileWidth?this._mobileUpdatedFilterOverview():this._updateSavedViewFilters());this.filterOverviewHeight=p.height();p.height()>240&&(n(window).width()<t.DashboardConstants.MobileWidth?n("#"+n(this.element).find(".e-dbrd-filterLists").attr("id")).ejDashboardScroller({height:"100%"}):n("#"+n(this.element).find(".e-dbrd-filterLists").attr("id")).ejDashboardScroller({height:220}));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewOpen,source:{element:n(i.target),data:this.appliedFilterData}});this.model.enableCustomTheming&&this._customTheme(["filterOverview"]);this._off(this.element,"click",this._closeFilterOverviewDialog);this._on(this.element,"click",this._closeFilterOverviewDialog)}},_removeMoreFilterMenu:function(i){var r=this;setTimeout(function(){var w,g,v,u,b,tt,h,e,k,it,c,rt,ut,l,ft,a,d,p,ot,o;if(!t.isNullOrUndefined(i)){r._trigger("actionBegin",{eventType:t.dashboardViewer.event.clearIndividualFilter,source:{element:n(i.target),data:r.appliedFilterData}});w=n(i.target).parent();g=w.find(".e-brd-controlList");i.stopPropagation();i.bubbles=!1;r._hideDashboardToolTip(i);var s=g[0].innerText,nt=r.dashboardControls.getAllControlsMasterData(),st=nt.length;for(v=0;v<st;v++)if(u=nt[v].ReportName,s===u){if(b=r.dashboardControls.getControlByReport(u).controlType,r._isFilterPanelWidget(u))if(t.isNullOrUndefined(r.filterPanelObj)&&!t.isNullOrUndefined(r.tempDataForFilter)){for(tt=r.tempDataForFilter.length,h=null,e=t.DashboardConstants.Zero;e<tt;e++)s===r.tempDataForFilter[e].filterId&&(k=JSON.parse(r.tempDataForFilter[e].filterInfo.dynamicData),k.SelectedValues=null,r.tempDataForFilter[e].filterInfo.dynamicData=JSON.stringify(k));for(it=r.dashboardControls.controls.length,c=0;c<it;c++)rt=r.dashboardControls.controls[c].reportName,s===rt&&(r.dashboardControls.controls[c].SelectedFilterInfo=[]);for(ut=r.controlRelations.length,l=t.DashboardConstants.Zero;l<ut;l++)if(r.controlRelations[l].Master===s&&(h=r.controlRelations[l].Slaves,h.length===t.DashboardConstants.Zero))return;ft={master:s,masterData:r.masterData,slaves:t.isNullOrUndefined(h)?[]:h,canDrill:!1,showIndicator:!0,isAutoRefresh:!1};r._makeSlaveDataRequest(ft);break}else r.filterPanelObj.CurrentMaster=u,u=r._getMasterElementName(u),r.filterPanelObj._removeAppliedFilter(u,b);else!r.isInitialFilterCleared&&r.isExtendedLayout&&(r.isInitialFilterCleared=!0),r.isExtendedLayout&&r.initialFilterClearedList.indexOf(u)===t.DashboardConstants.IndexLowerBound&&r.initialFilterClearedList.push(u),r.clearWidgetFilter(u,b);n("#"+n(i.target).parent().attr("id")).hide()}var f=r.element.find(".e-dbrd-filterListscollection").children(),y=[],et=f.length;for(a=0;a<et;a++)n(f[a]).attr("id")===n(i.target).attr("id")&&y.push(f[a]);for(r.filterOverviewHeight-=w.height()*y.length,r.filterOverviewHeight<=240&&(d=n("#"+n(r.element).find(".e-dbrd-filterLists").attr("id")),d.hasClass("e-scroller")&&d.ejDashboardScroller("destroy")),p=null,p=y.length===t.DashboardConstants.One?n(i.target).parent().next().attr("id"):n(f[y.length]).attr("id"),ot=n(i.target).parent().prev().attr("id"),t.isNullOrUndefined(p)&&!t.isNullOrUndefined(ot)&&n(i.target).parent().prev().remove(),o=0;o<et;o++)(n(f[o]).attr("id")===n(i.target).attr("id")||n(f[o]).attr("id")===p)&&n(f[o]).remove();if(r.element.find(".e-dbrd-filterListscollection").children().length===t.DashboardConstants.Zero&&(n(window).width()<t.DashboardConstants.MobileWidth?r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+r.element.attr("id")).height()-r.currentTabContentElement.find(".e-dbrd-banner").height()}):r.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":r.isExtendedLayout?"hidden":"auto",height:n("#"+r.element.attr("id")).height()-r.currentTabContentElement.find(".e-dbrd-banner").height()}),n("#"+n(i.target).parent().attr("id")).remove(),n(r.element).find(".e-dbrd-filterListMenuPopUp").remove(),n(r.element).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus")),r.model.filterOverviewSettings.viewName&&r.element.find(".e-dbrd-save-filterData").css({cursor:"pointer",color:"#6d6e70"}),r._trigger("actionComplete",{eventType:t.dashboardViewer.event.clearIndividualFilter,source:{element:n(i.target),data:r.appliedFilterData}}),r.element.find(".e-dbrd-filterListMenuPopUp").length===t.DashboardConstants.Zero&&r._off(r.element,"click",r._closeFilterOverviewDialog),r.element.find(".e-brd-clearfilterclosetext").length===t.DashboardConstants.Zero)r._closeFilterOverviewDialog(i);else return}},500)},_mobileUpdatedFilterOverview:function(){var r=this.element.find(".e-dbrd-filterListMenuPopUp"),s,u,o,h,c;if(r.length!==t.DashboardConstants.Zero)if(s=r.find(".e-dbrd-title"),u=this.model.filterOverviewSettings.viewName,t.isNullOrUndefined(u))c='<div class = "e-dbrd-save-filterData e-dbrd-hoverable" style = "height:45px;padding-left:13px;width:45px" data-tooltip = "'+this.locale.utils.Save+'"><\/div>',this.model.filterOverviewSettings.showSaveIcon&&s.append(c);else{var f=n("<div>").addClass("e-dbrd-filter-nameList"),i=r.find(".e-dbrd-saveViewed-filters").css({height:"45px",display:"block"}),l=n("<div>").addClass("e-dbrd-filterOverView-menu"),e=r.find(".e-dbrd-save-filterData");f.html(u);this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?i.append(f,l):i.append(f);o=i.find(".e-dbrd-filterOverView-menu");h=o.length!==t.DashboardConstants.Zero?o[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero;i.find(".e-dbrd-filter-nameList").css({width:i.width()-h,padding:"14px 10px",height:"45px"});t.isNullOrUndefined(e)||e.length===t.DashboardConstants.Zero||e.css({display:"none"})}},_showFilterOverviewMenu:function(i){var s,u,r,h,c,f,e,a;if(!t.isNullOrUndefined(i)){if(n.isFunction(i.stopPropogation)&&i.stopPropagation(),n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),s=this.currentTabContentElement.find(".e-dbrd-titleDiv").text(),n(i.currentTarget).hasClass("menuClicked")){n(i.currentTarget).removeClass("menuClicked");n("#"+this._id+"_FilterOverviewMenuPopup").ejDashboardMenu("destroy");n("#"+this._id+"_FilterOverviewMenuPopup").remove();return}for(u=[],this.model.filterOverviewSettings.showSaveIcon&&u.push({id:11,parentId:null,text:this.locale.utils.Save}),this.model.filterOverviewSettings.showSaveAsIcon&&u.push({id:22,parentId:null,text:this.locale.utils.SaveAs}),r=n("<div>").attr({id:this._id+"_FilterOverviewMenuPopup"}),n(i.currentTarget).addClass("menuClicked"),h="",r.ejDashboardMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,r,s,h)}),c=this.filterDataLength.length,f=0;f<c;f++){var l=this.filterDataLength[f],o=this.appliedFilterData[f],v=o.Data.length;for(e=0;e<v;e++)l.Data[e]!==o.Data[e]||this.appliedFilterData.length!==this.filterDataLength.length||l.Data.length!==o.Data.length?r.ejDashboardMenu("instance").enableItem(this.locale.utils.Save):r.ejDashboardMenu("instance").disableItem(this.locale.utils.Save)}this.element.append(r.parent());r.css({position:"absolute",top:n(i.target).offset().top+n(i.target).offset().top/2,left:n(i.target).offset().left-r.width()+80+"px",width:"auto","z-index":3});a=this.element.find(".e-menu-wrap");a.css({"z-index":1e5});r.parent().find(".e-menu.e-vertical>.e-list>a").attr("style","padding: 0px 38px 0px 10px !important;");u.length===t.DashboardConstants.Zero&&this.element.find(".e-menu-wrap").hide();this.model.enableCustomTheming&&this._customTheme(["menu"]);this._off(this.element,"click",this._closeFilterOverviewDialog)}},_destroyFilterOverviewMenu:function(){var i=this.element.find("#"+this._id+"_FilterOverviewMenuPopup");i.length!==t.DashboardConstants.Zero&&(n("#"+this._id+"_FilterOverviewMenuPopup").ejDashboardMenu("destroy"),n("#"+this._id+"_FilterOverviewMenuPopup").remove(),this.element.find(".e-dbrd-filterOverView-menu").removeClass("menuClicked"));this._on(this.element,"click",this._closeFilterOverviewDialog)},_hideFilterOverviewDialog:function(i){t.isNullOrUndefined(i)||(this.showFilterMenu=!0,this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({"overflow-y":"auto",height:n("#"+this.element.attr("id")).height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-this.element.find(".e-dbrd-overview-banner").height()}),this._closeFilterOverviewDialog(i));this.showFilterMenu=!1},_closeFilterOverviewDialog:function(i){if(t.isNullOrUndefined(i))n(this.element).find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}),n(this.element).find(".e-dbrd-filterListMenuPopUp").remove(),n(this.element).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus"),this._off(this.element,"click",this._closeFilterOverviewDialog),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}));else{if(i&&n(i.target).parents().hasClass("e-dbrd-filterListMenuPopUp")&&!this.showFilterMenu)return;n(this.element).find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}),n(this.element).find(".e-dbrd-filterListMenuPopUp").remove(),n(this.element).find(".e-dbrd-filterListMenus").removeClass("e-dbrd-filterListMenus"),this._off(this.element,"click",this._closeFilterOverviewDialog),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.filterOverViewClose,source:{element:null,data:this.appliedFilterData}}))}return},_updateSavedViewFilters:function(){var e=this.element.find(".e-dbrd-filterListMenuPopUp"),i=e.find(".e-dbrd-saveViewed-filters").css({display:"block"}),o=e.find(".e-dbrd-view-saved").css({display:"none"}),v=this.model.filterOverviewSettings.viewName,r=n("<div>").addClass("e-dbrd-filter-nameList"),s,h,c,u,f,b,a;r.html(this.locale.utils.UnSavedView).css({cursor:"default"});s='<div class = "e-dbrd-saveAs-filterData e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.SaveAs+'"><\/div>';h='<div class = "e-dbrd-save-filterData e-dbrd-hoverable" data-tooltip = "'+this.locale.utils.Save+'"><\/div>';i.empty();this.model.filterOverviewSettings.showSaveIcon&&this.model.filterOverviewSettings.showSaveAsIcon?i.append(r,s,h):this.model.filterOverviewSettings.showSaveIcon||this.model.filterOverviewSettings.showSaveAsIcon?this.model.filterOverviewSettings.showSaveIcon?i.append(r,h):(c=n(s),c.css({cursor:"pointer",color:"#6d6e70"}),i.append(r,c)):i.append(r);var y=i.find(".e-dbrd-save-filterData"),p=i.find(".e-dbrd-saveAs-filterData"),k=y.length!==t.DashboardConstants.Zero?y[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero,d=p.length!==t.DashboardConstants.Zero?p[t.DashboardConstants.Zero].offsetWidth:t.DashboardConstants.Zero;if(i.find(".e-dbrd-filter-nameList").css({width:i.width()-(k+d+t.DashboardConstants.One)}),!t.isNullOrUndefined(v)){r.html(v).css({cursor:"pointer"});var g=e.find(".e-dbrd-save-filterData").css({cursor:"default",color:"#dbdbdb"}).removeClass("e-dbrd-hoverable"),nt=e.find(".e-dbrd-saveAs-filterData").css({cursor:"pointer",color:"#6d6e70"}),tt=this.filterDataLength.length;for(u=0;u<tt;u++){var w=this.filterDataLength[u],l=this.appliedFilterData[u],it=l.Data.length;for(f=0;f<it;f++)(w.Data[f]!==l.Data[f]||this.appliedFilterData.length!==this.filterDataLength.length||w.Data.length!==l.Data.length)&&(g.css({cursor:"pointer",color:"#6d6e70"}),nt.css({cursor:"pointer",color:"#6d6e70"}))}}b=n("<div>").addClass("e-dbrd-icon-views");a=n("<div>").addClass("e-dbrd-viewText");a.html(this.locale.utils.SavedFilters);o.empty();this.model.filterOverviewSettings.showViewSavedFilterIcon&&(o.css({display:"block"}),o.append(b,a));this.filterDataLength=this.appliedFilterData}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.server={_showFilterOverview:function(){var i=this.element.find(".e-dbrd-filterListMenu"),r=n(this.currentTabContentElement).find("#"+this._id+"_Commonmenupopupfilter"),u=n(this.currentTabContentElement).find(".e-banner-verticalsplitline");this.enableFilterOverview()&&this.appliedFilterData.length>t.DashboardConstants.Zero?(i.show(),u.show()):r.length!==t.DashboardConstants.One&&this.enableFilterOverview()||(i.hide(),r.hide(),u.hide())},_saveFilterData:function(i){if(n(i.currentTarget).css("cursor")!=="default"){var u=n(i.currentTarget),f=t.isNullOrUndefined(i.currentTarget)?i.text:null,r=this.getCurrentFilters(),e=this.getCurrentTab(),s=this.model.filterOverviewSettings.viewName,h=this.model.filterOverviewSettings.viewId,o=this._getCurrentDashboardGuid();u.hasClass("e-dbrd-save-filterData")||!t.isNullOrUndefined(f)&&f===this.locale.utils.Save?t.isNullOrUndefined(r.masterData)||(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onSaveFilter,source:{element:u,data:r}}),this._trigger("onSaveFilter",{data:r,tabInfo:e,dashboardId:o,viewName:s,viewID:h,model:this.model}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onSaveFilter,source:{element:u,data:r}})):(u.hasClass("e-dbrd-saveAs-filterData")||!t.isNullOrUndefined(f)&&f===this.locale.utils.SaveAs)&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onSaveAsFilter,source:{element:u,data:r}}),this._trigger("onSaveAsFilter",{data:r,tabInfo:e,dashboardId:o,model:this.model}),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onSaveAsFilter,source:{element:u,data:r}}))}else return},_viewSavedFilter:function(){var n=this.getCurrentTab(),t=this._getCurrentDashboardGuid();this.model.onViewSavedFilters&&this._trigger("onViewSavedFilters",{tabInfo:n,dashboardId:t,model:this.model})},_enableOrDisableComment:function(){for(var o,s,h,c,l,f=this.currentTabContentElement.find(".e-dbrd-control-container"),y=f.length,u=t.DashboardConstants.Zero;u<y;u++){var r=f.eq(u).find(".e-control-prop"),p=n(f[u]).attr("data-widget-id"),a=n(f[u]).attr("id"),i=n(f[u]).attr("type"),w=this._id+p+"_"+this.locale.utils.Comment;if(r.length===t.DashboardConstants.Zero&&i===t.dashboardViewer.Controls.Card&&(r=f.eq(u).find(".e-control-singleCard")),this.model.allowComment){var e=n("<div>").attr({tabIndex:"0",name:this.locale.utils.Comment,id:w,"data-tooltip":this.locale.utils.Comment,type:i,"data-widget-id":a}).addClass("e-dbrd-banner-widget-withoutcomments e-dbrd-hoverable e-dbrd-border e-dbrd-containerIcon").css({visibility:"visible",display:"block"}),v=this.model.commentSettings.widgets,b=v.length;for(o=t.DashboardConstants.Zero;o<b;o++)if(a===v[o]&&this.model.commentSettings.isWidgetCommented){e.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments");break}r.hasClass("e-control-singleCard")&&(e.css({float:"left"}),n(window).width()<t.DashboardConstants.MobileWidth&&r.find(".e-dbrd-widget-menu").css({display:"block"}));n(window).width()<t.DashboardConstants.MobileWidth&&(i===t.dashboardViewer.Controls.RangeSlider||i===t.dashboardViewer.Controls.DatePicker||i===t.dashboardViewer.Controls.FilterComboBox||i===t.dashboardViewer.Controls.CheckBox||i===t.dashboardViewer.Controls.ListBox)?r.find(".e-dbrd-widget-menu").css({display:"block"}):n(window).width()>t.DashboardConstants.MobileWidth&&(s=r.find(".su"),h=r.find(".e-remove-control-filter"),h.length!==t.DashboardConstants.Zero?h.after(e):s.length!==t.DashboardConstants.Zero?s.after(e):r.prepend(e))}else c=f.eq(u).find(".e-dbrd-banner-widget-withoutcomments"),l=f.eq(u).find(".e-dbrd-banner-widget-withcomments"),r.hasClass("e-control-singleCard")&&n(window).width()<t.DashboardConstants.MobileWidth&&r.find(".e-dbrd-widget-menu").css({display:"none"}),n(window).width()<t.DashboardConstants.MobileWidth&&(i===t.dashboardViewer.Controls.RangeSlider||i===t.dashboardViewer.Controls.DatePicker||i===t.dashboardViewer.Controls.FilterComboBox||i===t.dashboardViewer.Controls.CheckBox||i===t.dashboardViewer.Controls.ListBox)?r.find(".e-dbrd-widget-menu").css({display:"none"}):n(window).width()>t.DashboardConstants.MobileWidth&&(c.length!==t.DashboardConstants.Zero&&c.remove(),l.length!==t.DashboardConstants.Zero&&l.remove())}},_openDashboardCommentDialog:function(i){var u=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked"),r;u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-widget-withcomments-menuClicked");r=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}});r.length>t.DashboardConstants.Zero?r.removeClass("e-dbrd-banner-dashboardcomment-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-banner-dashboardcomment-menuClicked");this._trigger("onDashboardCommented",{event:i,tabId:this.dashboardName});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}})},_openWidgetCommentDialog:function(i){var u,r,f;n(this.currentTabContentElement).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.currentTabContentElement).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");u.length>t.DashboardConstants.Zero&&u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked");f=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");f.length>t.DashboardConstants.Zero?f.removeClass("e-dbrd-banner-widget-withcomments-menuClicked"):t.isNullOrUndefined(i)||n(i.target).addClass("e-dbrd-banner-widget-withcomments-menuClicked");t.isNullOrUndefined(i)||(r=n(i.target).attr("data-widget-id"),n(window).width()<t.DashboardConstants.MobileWidth&&!n(i.currentTarget).hasClass("e-dbrd-maxIcon")&&(r=n(i.currentTarget).attr("widgetid")));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}});this._trigger("onWidgetCommented",{event:i,reportGuid:r,tabId:this.dashboardName});this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogOpen,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:r}})},_closeCommentDialog:function(i){t.isNullOrUndefined(i)||n(i.target).hasClass("e-dbrd-banner-dashboardwithcomment")||n(i.target).hasClass("e-dbrd-banner-dashboardwithoutcomment")||n(i.target).hasClass("e-dbrd-banner-widget-withcomments")||n(i.target).hasClass("e-dbrd-banner-widget-withoutcomments")||n(i.target).hasClass("e-dbrd-filterPanel-widget-withcomments")||n(i.target).hasClass("e-dbrd-filterPanel-widget-withoutcomments")||this._destroyCommentDialog(i)},_destroyCommentDialog:function(i){var u=null,r=null;u=this.currentTabContentElement.find(".e-dbrd-banner-dashboardcomment-menuClicked");u.length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:u}}),u.removeClass("e-dbrd-banner-dashboardcomment-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:u}}),this._trigger("onCommentDialogClosing",{event:i}));r=this.currentTabContentElement.find(".e-dbrd-banner-widget-withcomments-menuClicked");r.length===t.DashboardConstants.Zero&&(r=n("#"+this.filterPanelId).find(".e-dbrd-filterPanel-widget-withcomments-menuClicked"));r.length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:r}}),r.removeClass("e-dbrd-banner-widget-withcomments-menuClicked"),r.removeClass("e-dbrd-filterPanel-widget-withcomments-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.commentDialogClose,source:{element:null,data:r}}),this._trigger("onCommentDialogClosing",{event:i}))},_setAsFavorite:function(i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.markFavorite,source:{element:n(i.target),data:this.dashboardName}});this._trigger("onFavoriteStateChange",{event:i,isFavorite:!0,tabId:this.dashboardName});this.model.favoriteSettings.isFavorite=!0;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.markFavorite,source:{element:n(i.target),data:this.dashboardName}})},_setAsUnFavorite:function(i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.removeFavorite,source:{element:n(i.target),data:this.dashboardName}});this._trigger("onFavoriteStateChange",{event:i,isFavorite:!1,tabId:this.dashboardName});this.model.favoriteSettings.isFavorite=!1;this._trigger("actionComplete",{eventType:t.dashboardViewer.event.removeFavorite,source:{element:n(i.target),data:this.dashboardName}})},_toggleFavoriteIcon:function(){if(this.model.favoriteSettings.enabled){var n=this.currentTabContentElement.find(".e-dbrd-dashboardfavIcon"),t=this.currentTabContentElement.find(".e-dbrd-dashboardunfavIcon");this.model.favoriteSettings.isFavorite?t.removeClass("e-dbrd-dashboardunfavIcon").addClass("e-dbrd-dashboardfavIcon").attr({"data-tooltip":this.locale.utils.RemoveFavorite}):n.removeClass("e-dbrd-dashboardfavIcon").addClass("e-dbrd-dashboardunfavIcon").attr({"data-tooltip":this.locale.utils.MarkFavorite})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.menu={_controlMenuSelected:function(i,r,u,f){var k=0,bt=-1,d=null,kt,h,c,dt,gt,l,a,ni,ft,et,ii,y,ht,ri,g,it,nt,rt,w,vt,yt,pt,ut,b;if(r.indexOf("Chart")!==bt&&(d=n("#"+this._id+t.DashboardConstants.Widget+r).data("ejDashboardChart"),!t.isNullOrUndefined(d)&&f.text==="Apply Filter"&&(kt=this.currentActionSettings.target,n("#"+kt).attr("data-controlId","filter"),h=n("#"+d._id).find('[class*="Selection"]'),h.length>k)))for(c=k;c<h.length;c++)dt=n(h[c]).attr("data-controlid"),gt=n(h[c]).attr("data-controlid"),(dt==="filter"||gt==="click-filter")&&n("#"+h[c].id).attr("class","");if(f.text==="Open Link"&&!t.isNullOrUndefined(d)&&(l=n("#"+d._id).find('[class*="Selection"]'),l.length>k))for(a=k;a<l.length;a++)ni=n(l[a]).attr("data-controlid"),ni==="contextMenu"&&t.isNullOrUndefined(n(l[a]).attr("isFilter"))&&n("#"+l[a].id).attr("class","");r.indexOf("Gauge")!==bt&&f.text==="Apply Filter"&&(ft=n(n(this.currentActionSettings.evt.currentTarget).find("svg")),ft.parents(".e-dbrd-control-container").find(".e-dbrd-control").find(".e-dbrd-selected-card").remove(),et=[],et.push(n(this.currentActionSettings.targetGauge).parents(".e-multiple-series").attr("id")),this._AddCardSelection(et,ft.parents(".e-dbrd-control-container").find(".e-dbrd-control").eq(k),this.currentActionSettings.GaugeCount,!0));this.imageContent=null;this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide();this.model._dashboardData.loadFromData===!1&&(t.isNullOrUndefined(f.event)||n.isFunction(f.event.stopImmediatePropagation)&&f.event.stopImmediatePropagation());var e=t.isNullOrUndefined(f.text)?f.menuText:f.text,o=i,s=r,v=o.attr("control-id"),ti=null,tt=null,ot="",st=t.isNullOrUndefined(f.element)?f.selectedItem[0]:f.element;if(this._destroyContextMenu(),ii=t.isNullOrUndefined(f.event)?null:n(f.event.currentTarget).attr("widgetId"),y=t.isNullOrUndefined(f.event)?null:n(f.event.currentTarget).attr("data-Widget-Id"),this._trigger("onMenuItemClick",{menuItem:i,headertext:r,args:f,widgetId:ii,dataWidgetId:y,reportPath:this.dashboardPath(),tabId:this.model._selectedTabGuid,tabName:this.dashboardName}),e===this.locale.utils.ViewData&&(y=t.isNullOrUndefined(y)?o.attr("data-widget-id"):y,this.showViewData(y)),f.text!==this.locale.utils.Filter&&f.text!==this.locale.utils.Linking&&f.text!==this.locale.utils.DrillDown||t.isNullOrUndefined(this.currentActionSettings)||t.isNullOrUndefined(this.currentActionSettings.id))this._destroyWidgetSelection();else{f.text===this.locale.utils.Filter?(ht=this._id+t.DashboardConstants.Widget+this.currentActionSettings.id,n("#"+ht+"_removeControlFilter").addClass("e-remove-control-filter-enable").removeClass("e-remove-control-filter-disable").attr("tabindex","0"),n("#"+ht).parents(".e-dbrd-control-container").data({IsFilterApplied:!0}),this._startSelectionMaintanenceForWidget(this.currentActionSettings,f)):this._clearSelectionForWidget(this.currentActionSettings,this.currentActionSettings.id,this.currentActionSettings.widgetInstance);f.text=f.text===this.locale.utils.Filter?t.dashboardViewer.Action.Filter:f.text===this.locale.utils.Linking?t.dashboardViewer.Action.Linking:f.text===this.locale.utils.DrillDown?t.dashboardViewer.Action.DrillDown:"";this._loadNavigation(this.currentActionSettings,f);this.currentActionSettings=null;return}if(t.isNullOrUndefined(u)?this.exportSettings.subtitleName="":u.length>=t.DashboardConstants.Zero&&(this.exportSettings.subtitleName=u),e==="Print"?(this._printControl(o.attr("type"),o.attr("control-id")),f.cancel=!0,n(st).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked")):e===this.locale.utils.ExportToImage||e===this.locale.utils.ExportToExcel||e===this.locale.utils.ExportToPdf||e===this.locale.utils.ExportToCSV||e===this.locale.utils.Image||e===this.locale.utils.Excel||e===this.locale.utils.Pdf?(f.cancel=!0,n(st).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this.isPrintTriggered=!1,this.currentTabContentElementData=o,ri=this.currentTabContentElementData.parents(".e-dbrd-layout-cell").attr("data-controltype"),this.currentTabContentElementData.attr({type:ri}),s.length===t.DashboardConstants.Zero&&(s=this.locale.utils.DefaultFileName),this.filename=s,this.filename=this.filename.replace(/[^\w\s]/gi,""),this.title=s,g=n(window).width()<t.DashboardConstants.MobileWidth,this.exportSettings.filename=this.filename,e!==this.locale.utils.ExportToImage&&e!==this.locale.utils.Image||g?e!==this.locale.utils.ExportToPdf&&e!==this.locale.utils.Pdf||g?e!==this.locale.utils.ExportToExcel&&e!==this.locale.utils.Excel||g?e!==this.locale.utils.ExportToCSV||g||(this.exportSettings.exportType="csv",this._exportDialogPage()):(this.exportSettings.exportType="excel",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1):(this.exportSettings.exportType="pdf",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1):(this.exportSettings.exportType="image",this._exportDialogPage(),i.hasClass("e-dbrd-tab-menu-popup")?this._createExportDbrdDrpdwn():this.multiDashboardExport=!1),this.model.enableCustomTheming&&this._customTheme(["popup"])):f.ID==="12"?this.refreshDashboard(null,!1):f.ID==="37"&&(it={element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:{url:this.getCurrentViewUrl(),handled:!1}},this._trigger("actionBegin",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:it}),it.data.handled||this._showGetLinkDialogForMobile(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.getLinkDialogOpen,source:{element:this.currentTabContentElement.find(".e-dbrd-banner-link"),data:it}})),e===this.locale.utils.ViewData)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:o.attr("control-id")}}),f.cancel=!0,n(st).parents(".e-dbrd-layout-cell").find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:o.attr("control-id")}});else if(e===this.locale.utils.UpdateDashboard)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),this.refreshDashboard(null,!1),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Maximize)v=t.isNullOrUndefined(v)?n(f.event.currentTarget).attr("control-id"):v,ti=this.currentTabContentElement.find("#"+v+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-maximize").length>t.DashboardConstants.Zero?this.currentTabContentElement.find("#"+v+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-maximize"):this.currentTabContentElement.find("#"+v+"").parents(".e-dbrd-control-container").find(".e-control-prop").find(".e-dbrd-hide-maximize"),tt=ti.attr("id"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:tt}}),this._maximizeControl(tt),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:tt}});else if(e===this.locale.utils.RemoveFavorite||e===this.locale.utils.MarkFavorite)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),nt=n(f.event.currentTarget).find(".e-dbrd-dashboardunfavIcon"),nt.length!==t.DashboardConstants.Zero?(f.event.currentTarget=nt[0],this._setAsFavorite(f.event),this._destroyDashboardMenu()):(nt=n(f.event.currentTarget).find(".e-dbrd-dashboardfavIcon"),f.event.currentTarget=nt[0],this._setAsUnFavorite(f.event),this._destroyDashboardMenu()),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Comment)this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}}),this._openWidgetCommentDialog(f.event),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:null}});else if(e===this.locale.utils.Export&&n(window).width()<t.DashboardConstants.MobileWidth)this.currentTabContentElementData=o,rt=this.currentTabContentElementData.parent().parent().parent().attr("data-controltype"),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:rt}}),this.currentTabContentElementData.attr({type:rt}),s.length===t.DashboardConstants.Zero&&(s=this.locale.utils.DefaultFileName),this.filename=s,this.filename=this.filename.replace(/[^\w\s]/gi,""),this.title=s,this.exportSettings.filename=this.filename,this._mobileExport(this.exportSettings.filename),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:rt}});else if(e===this.locale.utils.Information){if(n(window).width()<t.DashboardConstants.MobileWidth){var p=r,ct=u,ui=n(f.event.currentTarget).attr("id"),lt="",fi=this._id+"_controlMenuPopup";if(ui===fi){var ei=n(this.currentTabContentElement).find(".e-control-description"),at=ei.prev(),ci=at.length;for(w=0;w<ci;w++)at[w].innerText===r&&(vt=n(ei[w].innerHTML),vt.length!==t.DashboardConstants.Zero&&(lt=vt[0].innerHTML,p=at[w].innerHTML));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:p}})}else yt=n(this.currentTabContentElement).find(".e-dbrd-divHtml"),yt.length!==t.DashboardConstants.Zero&&(lt=yt[0].innerHTML,pt=n(this.currentTabContentElement).find(".e-dbrd-banner-title"),t.isNullOrUndefined(pt)||(p=pt[0].innerHTML)),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:p}});var oi=n("<div>").attr({id:this._id+"controlDescriptionDiv"}).addClass("e-dbrd-control-desc e-dbrd-fontfamily"),wt=n('<div class = "e-control-descDiv" style = "padding:0px 20px 0px 20px; width: 100%; word-wrap: break-word; font-size: 13px; font-weight: 400">'),si=n("<div>").addClass("e-control-desc-bar").css({height:"45px","box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),li=n("<div>").addClass("e-control-desc-back"),hi=n("<div>").addClass("e-control-desc-title");hi.html(this.locale.utils.Information);si.append(li,hi);ut=n("<div>").addClass("e-control-mobile-div").css({height:"calc(100% - 45px)","overflow-y":"auto"});b=n("<div>").addClass("e-dbrd-information-title").css({width:"calc(100%-20px)"});ct.length>t.DashboardConstants.Zero&&(ot=n("<div>").addClass("e-dbrd-information-subtitle").css({width:"calc(100%-20px"}),ot.html(ct));b.html(p);ct.length>t.DashboardConstants.Zero?ut.append(b,ot,wt):ut.append(b,wt);oi.append(si,ut);wt.html(lt);this.currentTabContentElement.append(oi);this.model.enableCustomTheming&&this._customTheme(["description"]);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.informationOpen,source:{element:n(f.event.currentTarget),data:p}});this._adjustParameterColumn(ui===fi?b:b.find("p"))}}else e===this.locale.utils.Save||e===this.locale.utils.SaveAs?this._saveFilterData(f):e===this.locale.utils.ClearFilter?(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:n("#"+o.attr("control-id"))}}),this._destroyContextMenu(),this._removeControlFilter(n("#"+o.attr("control-id")))):e===this.locale.utils.DashboardParameters&&(this._openDashboardParametersDialog(this.dashboardParameters.data,!1),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuItemClick,source:{element:e,data:n("#"+o.attr("control-id"))}}))},_showDashoardMenu:function(i){var e,o,f,s,u,r,h,c,l;if(!t.isNullOrUndefined(i)){if(n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide(),this.element.find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this.showFilterMenu=!1,this._closeFilterOverviewDialog(i)),this.element.find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(n(this.element).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(this.element).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control")),(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i),n.isFunction(i.stopPropogation)&&i.stopPropagation(),n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),e=this.currentTabContentElement.find(".e-dbrd-banner-title").text(),this._closeCommentDialog(i),n(window).width()<t.DashboardConstants.MobileWidth&&n(i.currentTarget).removeClass("menuClicked"),n(i.currentTarget).hasClass("menuClicked")){n(i.currentTarget).removeClass("menuClicked");n("#"+this._id+"_DashboardMenuPopup").ejDashboardMenu("destroy");this.exportDashboard=!1;n("#"+this._id+"_DashboardMenuPopup").remove();return}for(o=!1,f=0;f<this.dashboardControls.controls.length-t.DashboardConstants.One;f++)if(s=this.dashboardControls.controls[f],s.controlType!==""&&s.controlType!=="NoData"){o=!0;break}u=[];o&&(n(window).width()<t.DashboardConstants.MobileWidth?(this.element.find(".e-dbrd-banner-description").length>t.DashboardConstants.Zero&&u.push({id:33,parentId:null,text:this.locale.utils.Information,sprite:"e-dbrd-banner-description"}),(this.model._exportSettings.canExportImage&&this.currentDashboardExportType.HasExportImage||this.model._exportSettings.canExportPdf&&this.currentDashboardExportType.HasExportPdf||this.model._exportSettings.canExportExcel&&this.currentDashboardExportType.HasExportExcel)&&u.push({id:34,parentId:null,text:this.locale.utils.Export,sprite:"e-brd-showDashoardMenu-Exportoption e-brd-style-two"}),this.model.favoriteSettings.enabled&&(this.model.favoriteSettings.isFavorite?u.push({id:35,parentId:null,text:this.locale.utils.RemoveFavorite,sprite:"e-dbrd-dashboardfavIcon"}):u.push({id:35,parentId:null,text:this.locale.utils.MarkFavorite,sprite:"e-dbrd-dashboardunfavIcon"})),u.push({id:36,parentId:null,text:this.locale.utils.UpdateDashboard,sprite:"e-dbrd-banner-refresh"}),this.model.showGetLinkIcon&&u.push({id:37,parentId:null,text:this.locale.utils.GetLink,sprite:"e-dbrd-tab-link"}),!this.onDemandTabs&&this.dashboardParameters.showIcon&&this.HasDashboardParameter&&u.push({id:38,parentId:null,text:this.locale.utils.DashboardParameters,sprite:"e-dbrd-banner-params"})):(this.model._exportSettings.canExportImage&&this.currentDashboardExportType.HasExportImage&&u.push({id:11,parentId:null,text:this.locale.utils.ExportToImage,sprite:"e-brd-showDashoardMenu-Exportimage"}),this.model._exportSettings.canExportPdf&&this.currentDashboardExportType.HasExportPdf&&u.push({id:22,parentId:null,text:this.locale.utils.ExportToPdf,sprite:"e-brd-showDashoardMenu-ExportPdf"}),this.model._exportSettings.canExportExcel&&this.currentDashboardExportType.HasExportExcel&&u.push({id:13,parentId:null,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"})),t.isNullOrUndefined(this.model.beforeDashboardMenuOpen)||this.model.responsiveSettings.showMaximize||this._trigger("beforeDashboardMenuOpen",{menuData:u,headerText:e}));r=n("<div>").attr({id:this._id+"_DashboardMenuPopup"});n(window).width()>t.DashboardConstants.MobileWidth&&(h='<p class = "e-brd-showDashoardMenu-title">'+this.locale.utils.ExportDashboard+"<\/p>",r.html(h));n(i.currentTarget).addClass("menuClicked");n("#"+this.id+"_DashboardMenuPopup").data("ejDashboardMenu")&&r.ejDashboardMenu("show");this.exportDashboard=!0;c="";r.ejDashboardMenu({fields:{dataSource:u,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,r,e,c)});n(window).width()<t.DashboardConstants.MobileWidth?this.currentTabContentElement.append(r.parent()):this.element.append(r.parent());this._disableExcelOnImageAlone();this._destroyContextMenu();this._tabMenuPopupHide(i);l=this.model.showTab?this.element.find(".e-tab .e-header").height():0;!this.onDemandTabs&&!this.model.showTab||n(window).width()<t.DashboardConstants.MobileWidth?(r.css({position:"absolute",top:n(i.target).offset().top,width:"auto","z-index":3}),r.css({left:n(i.target).offset().left-r.width()+30+"px"})):(r.css({position:"absolute",top:n(i.target).offset().top-n(this.currentTabContentElement).offset().top+n(i.target).height()*this.scalingFactor+10*this.scalingFactor+l*this.scalingFactor,width:"auto","z-index":3}),r.css({left:t.isNullOrUndefined(i.pageX)?n(i.target).offset().left-r.width()*.9*this.scalingFactor:i.pageX-n(this.currentTabContentElement).offset().left-r.width()*this.scalingFactor}));this.isExtendedLayout&&r.css({"z-index":500});!this.onDemandTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&r.css({left:i.pageX-n(this.currentTabContentElement).offset().left-r.width()*this.scalingFactor+this.currentTabContentElement.scrollLeft()+"px"});u.length===t.DashboardConstants.Zero&&this.element.find(".e-menu-wrap").hide();this.model.enableCustomTheming&&this._customTheme(["menu"])}},_disableExcelOnImageAlone:function(){for(var r=0,o=1,f=2,u=null,e=null,s=null,s=t.isNullOrUndefined(this.layoutControls)?r:this.layoutControls.length,i=r;i<s;i++)if(u=n(".e-dbrd-tab-menu-popup").find("ul").children(),e=t.isNullOrUndefined(this.tabInformation)?r:this.tabInformation.length,this.layoutControls[i].Name!==t.dashboardViewer.Controls.IMAGE){i>r?(n(".e-brd-showControlMenu-ExportExcel").parents("li").removeClass("e-disable-item"),n(".e-dbrd-mobileExportExcel").show(),e>o&&n(u[f]).removeClass("e-disable-item")):i===r&&n(u[f]).hasClass("e-disable-item")&&e>o&&n(u[f]).removeClass("e-disable-item");break}else t.dashboardViewer.Controls.IMAGE===this.layoutControls[i].Name&&(n(".e-brd-showControlMenu-ExportExcel").parents("li").addClass("e-disable-item"),n(".e-dbrd-mobileExportExcel").hide(),e>o&&n(u[f]).addClass("e-disable-item"))},_destroyDashboardMenu:function(){var i=this.element.find("#"+this._id+"_DashboardMenuPopup");i.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onDashboardMenuPopupClose,source:{element:null,data:this._id}}),n("#"+this._id+"_DashboardMenuPopup").remove(),this.element.find(".e-menu-wrap").hide(),this.element.find(".e-dbrd-banner-icon-container").removeClass("menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onDashboardMenuPopupClose,source:{element:null,data:this._id}}))},_showContextMenu:function(i){if(!t.isNullOrUndefined(i)){if(n(i.currentTarget).find(".e-dbrd-control-nodatainfo.align-center").length===t.DashboardConstants.One)return!1;var r=this,u=t.DashboardConstants.Zero;if(this._onControlDescriptionMouseLeave(i),this.showContext||this.toolbarMethods)return this.showContext=!1,this.toolbarMethods=!1,!1;if(i.type==="touchend"&&!t.isNullOrUndefined(this.showContextMenu)){clearTimeout(this.showContextMenu);return}i.type==="touchstart"&&(u=1e3);this.showContextMenu=setTimeout(function(){var u,a,v,y,e,p,w;if(r.showContext=!0,!t.isNullOrUndefined(i)){if(r._trigger("actionBegin",{eventType:t.dashboardViewer.event.contextMenuOpen,source:{element:n(i.currentTarget),data:n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id")}}),i.type==="contextmenu"&&(r.showContextMenuTouchStart=!0),r.showContextMenuTouchStart===!0&&i.type==="touchstart")return r.showContextMenuTouchStart=!1,!1;if(r.model.enableWidgetMode||r.isWidget)return!1;r.element.find(".e-dbrd-descr-active").length!==t.DashboardConstants.Zero&&(n(r.element).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(r.element).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active"));r.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&r._closeFilterOverviewDialog(i);n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();r.exportDashboard=!1;r._destroyContextMenu();r._destroyDashboardMenu();r._tabMenuPopupHide(i);var s=n(i.currentTarget).parents(".e-dbrd-layout-cell"),h=n(i.currentTarget).data("IsFilterApplied"),f=n(i.currentTarget).parents(".e-dbrd-layout-cell").attr("data-controltype"),l=!0;if(t.isNullOrUndefined(f)||f===t.dashboardViewer.Controls.Label)return!1;var o=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control").attr("id"),b=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id"),k=n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("data-widget-id");n("#"+o).hasClass("e-Card-Single")&&(l=!1);o=r._widgetContextMenu(i,f,o);u=r.element.find("#"+r._id+"_contextMenuPopup");u.length===t.DashboardConstants.Zero&&(u=n("<div>").attr({id:r._id+"_contextMenuPopup"}));u.addClass("e-context-menu");u.attr({type:f,"control-id":o,widgetId:b,"data-Widget-Id":k,oncontextmenu:"return false"});n.isFunction(i.stopPropagation)&&i.stopPropagation();i.bubbbles=!1;var c=[],d=n(i.currentTarget).find(".e-dbrd-control-nodatainfo").length>t.DashboardConstants.Zero,g={hasNoData:l?d:!0,type:f};if(r._contextMenuManipulation(i,c,g),n(i.currentTarget).data("IsMaster")&&c.push({id:15,text:r.locale.utils.ClearFilter,sprite:h?"e-brd-showControlMenu-ClearFilter":"e-brd-showControlMenu-ClearFilterdisable"}),a=s.find(".e-dbrd-control-container").find(".e-control-heading").find(".e-control-title").text(),v=s.find(".e-dbrd-control-container").find(".e-control-subtitleHeading").find(".e-control-subtitle").text(),u.ejDashboardMenu({enableSeparator:!1,enableCenterAlign:!0,fields:{dataSource:c,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(r._controlMenuSelected,r,u,a,v)}),(t.isNullOrUndefined(h)||!h)&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.ClearFilter),!t.isNullOrUndefined(n(i.currentTarget).data("ExportImage"))&&n(i.currentTarget).data("ExportImage")&&r.model._exportSettings.canExportImage||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToImage),!t.isNullOrUndefined(n(i.currentTarget).data("ExportPdf"))&&n(i.currentTarget).data("ExportPdf")&&r.model._exportSettings.canExportPdf||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToPdf),!t.isNullOrUndefined(n(i.currentTarget).data("ExportCSV"))&&n(i.currentTarget).data("ExportCSV")&&f!==t.dashboardViewer.Controls.Image&&r.model._exportSettings.canExportCsv||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToCSV),!t.isNullOrUndefined(n(i.currentTarget).data("ExportExcel"))&&n(i.currentTarget).data("ExportExcel")&&f!==t.dashboardViewer.Controls.Image&&r.model._exportSettings.canExportExcel||u.ejDashboardMenu("instance").disableItem(r.locale.utils.ExportToExcel),(t.isNullOrUndefined(n(i.currentTarget).data("EnableMaximize"))||!n(i.currentTarget).data("EnableMaximize")||f===t.dashboardViewer.Controls.Image)&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.Maximize),r.model._exportSettings.canExportImage||r.model._exportSettings.canExportPdf||r.model._exportSettings.canExportExcel||r.model._exportSettings.canExportCsv||u.ejDashboardMenu("instance").disableItem(r.locale.utils.Export),s.find(".e-dbrd-control-error").length>t.DashboardConstants.Zero&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.ViewData),u.css({position:"fixed",top:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent)?n(i.target).offset().left:i.originalEvent.touches[0].clientY:i.clientY,left:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent)?n(i.target).offset().top:i.originalEvent.touches[0].clientX:i.clientX,"z-index":"20",width:"auto"}),n(window).width()<t.DashboardConstants.MobileWidth&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportImage"))||!n(i.currentTarget).data("ExportImage"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportPdf"))||!n(i.currentTarget).data("ExportPdf"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportCSV"))||!n(i.currentTarget).data("ExportCSV"))&&(t.isNullOrUndefined(n(i.currentTarget).data("ExportExcel"))||!n(i.currentTarget).data("ExportExcel"))&&u.ejDashboardMenu("instance").disableItem(r.locale.utils.Export),u[0].children.length>t.DashboardConstants.One)for(y=u[0].children.length,e=0;e<y;e++)if(u[0].children[e].innerText===r.locale.utils.ClearFilter){p=u[0].children[e];n(p).prepend("<div style = 'border-top : 1px solid lightgrey; margin:0px 5px 0px 5px'><\/div>");break}return n(window).width()<t.DashboardConstants.MobileWidth?r.currentTabContentElement.append(u):r.element.append(u),u.show(),r.model.enableCustomTheming&&r._customTheme(["menu"]),u.offset().left+u.width()*r.scalingFactor>r.currentTabContentElement.offset().left+r.currentTabContentElement.width()*r.scalingFactor&&u.css({left:i.type==="touchstart "?t.isNullOrUndefined(i.originalEvent.touches[0].clientX)?n(i.target).offset().left:i.originalEvent.touches[0].clientX:i.clientX-(u.offset().left+u.width()*r.scalingFactor-(r.currentTabContentElement.offset().left+r.currentTabContentElement.width()*r.scalingFactor)+20*r.scalingFactor)}),u.offset().top+u.height()*r.scalingFactor>r.currentTabContentElement.offset().top+r.currentTabContentElement.height()*r.scalingFactor&&u.css({top:i.type==="touchstart"?t.isNullOrUndefined(i.originalEvent.touches[0].clientY)?n(i.target).offset().left:i.originalEvent.touches[0].clientY:i.clientY-(u.offset().top+u.height()*r.scalingFactor-(r.currentTabContentElement.offset().top+r.currentTabContentElement.height()*r.scalingFactor)+20*r.scalingFactor)}),w=u.parent().find(".e-menu.e-vertical>.e-list>a").attr("style"),u.parent().find(".e-menu.e-vertical>.e-list>a").css("cssText",w+"padding: 0px 38px 0px 10px !important"),u.parent().find(".e-menu li.e-list>ul>li.e-list>a").css({padding:"0px 35px 0px 10px"}),n(i.currentTarget).find(".e-hightlight").length!==t.DashboardConstants.Zero&&n(r.element).find("#"+r._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&(n("#"+r.element.attr("id")+"_contextMenuPopup").focus(),n("#"+r.element.attr("id")+"_contextMenuPopup").addClass("e-hightlight")),r._trigger("actionComplete",{eventType:t.dashboardViewer.event.contextMenuOpen,source:{element:n(i.currentTarget),data:n(i.currentTarget).parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id")}}),!1}return!0},u)}},_destroyContextMenu:function(){var n=this.element.find("#"+this._id+"_contextMenuPopup");n.length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.contextMenuClose,source:{element:null,data:this._id}}),this.showContext=!1,n.hide(),n.remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.contextMenuClose,source:{element:null,data:this._id}}));n=this.element.find("#"+this._id+"_controlMenuPopup");n.length!==t.DashboardConstants.Zero&&(n.hide(),n.remove(),this.showContext=!1)},_controlMenuManipulation:function(i,r,u){var e,f;if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(r)){if(e=this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-header-Menu-button"),f=this.currentTabContentElement.find(".e-dbrd-viewdata-inactive").length>t.DashboardConstants.Zero,e.hasClass("e-dbrd-maxIcon")||f)f&&(u.push({id:13,parentId:null,text:this.locale.utils.ExportToCSV,sprite:"e-brd-showControlMenu-ExportCSV"}),u.push({id:14,parentId:null,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"})),i.hasClass("enable-image-export")&&!f&&u.push({id:12,parentId:null,text:this.locale.utils.ExportToImage,sprite:"e-brd-showDashoardMenu-Exportimage"}),i.hasClass("enable-pdf-export")&&!f&&u.push({id:146,parentId:null,text:this.locale.utils.ExportToPdf,sprite:"e-brd-showDashoardMenu-ExportPdf"}),i.hasClass("enable-csv-export")&&!f&&u.push({id:13,parentId:null,text:this.locale.utils.ExportToCSV,sprite:"e-brd-showControlMenu-ExportCSV"}),i.hasClass("enable-excel-export")&&!f&&u.push({id:14,parentId:null,text:this.locale.utils.ExportToExcel,sprite:"e-brd-showControlMenu-ExportExcel"});else{var h=n(i).parents(".e-dbrd-control-container"),c=n(h).find(".e-control-description"),o=n(i).parents(".e-dbrd-control-container");if(c.length>t.DashboardConstants.Zero&&n(window).width()<t.DashboardConstants.MobileWidth&&u.push({id:33,parentId:null,text:this.locale.utils.Information,sprite:"e-control-description"}),!i.hasClass("e-dbrd-widget-menu")&&(i.hasClass("enable-image-export")||i.hasClass("enable-pdf-export")||i.hasClass("enable-csv-export")||i.hasClass("enable-excel-export"))&&u.push({id:11,parentId:null,text:this.locale.utils.Export,sprite:"e-brd-showDashoardMenu-Exportoption"}),!i.hasClass("e-dbrd-widget-menu")&&o.width()<150&&o.find(".e-dbrd-hide-maximize").length!==t.DashboardConstants.Zero&&u.push({id:14,parentId:null,text:this.locale.utils.Maximize,sprite:"e-dbrd-maximize"}),this.model.enableViewData&&i.hasClass("enable-view-Data")&&u.push({id:20,parentId:null,text:this.locale.utils.ViewData}),n(window).width()>=t.DashboardConstants.MobileWidth&&(i.hasClass("enable-image-export")&&u.push({id:12,parentId:11,text:this.locale.utils.ExportToImage}),i.hasClass("enable-pdf-export")&&u.push({id:146,parentId:11,text:this.locale.utils.ExportToPdf}),i.hasClass("enable-csv-export")&&u.push({id:13,parentId:11,text:this.locale.utils.ExportToCSV}),i.hasClass("enable-excel-export")&&u.push({id:14,parentId:11,text:this.locale.utils.ExportToExcel})),n(window).width()<t.DashboardConstants.MobileWidth&&this.model.allowComment&&this._isCommentWidget){var s=i.parents(".e-dbrd-control-container"),l=s.find(".e-dbrd-banner-widget-withcomments"),a=s.find(".e-dbrd-banner-widget-withoutcomments");l.length!==t.DashboardConstants.Zero&&u.push({id:15,parentId:null,text:this.locale.utils.Comment,sprite:"e-dbrd-banner-widget-withcomments"});a.length!==t.DashboardConstants.Zero&&u.push({id:15,parentId:null,text:this.locale.utils.Comment,sprite:"e-dbrd-banner-widget-withoutcomments"})}}var v=i.parents(".e-dbrd-control-container").attr("type"),y=i.parents(".e-dbrd-control-container").attr("id"),p=i.parents(".e-dbrd-control-container").attr("data-widget-id");this._trigger("beforeControlMenuOpen",{menuData:u,WidgetType:v,widgetId:y,dataWidgetId:p,tabId:this.model._selectedTabGuid,tabName:this.dashboardName})}},_showControlMenu:function(i){var r=n(this.element).find("#"+i),h,s,a,v;this.exportDashboard=!1;this.tempViewDataDetails.viewDataSelectedInfo=[];this._destroyContextMenu();this._closeCommentDialog(r);this.lastFocusElement=r;var y='<p class = "e-brd-showDashoardMenu-title">'+this.locale.utils.ExportControl+"<\/p>",f=r.parents(".e-dbrd-layout-cell"),p=this.currentTabContentElement.find(".e-dbrd-viewdata-inactive").length>t.DashboardConstants.Zero;if(f.css({position:"relative"}),h=this.currentTabContentElement.find(".e-dbrd-inactive").find(".e-dbrd-inactive-header-Menu-button"),r.hasClass("e-dbrd-menuClicked")){r.removeClass("e-dbrd-menuClicked");this.element.find("#"+this._id+"_controlMenuPopup").ejDashboardMenu("destroy");this.element.find("#"+this._id+"_controlMenuPopup").remove();return}n(this.element).find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked");r.addClass("e-dbrd-menuClicked");this.element.find("#"+this._id+"_controlMenuPopup").data("ejDashboardMenu")&&this.element.find("#"+this._id+"_controlMenuPopup").ejDashboardMenu("destroy");this.element.find("#"+this._id+"_controlMenuPopup").remove();this.element.find("#"+this._dashboardId+"_tabMenuPopup").hide();this._destroyDashboardMenu();var o=r.parents(".e-dbrd-layout-cell").attr("data-controltype"),e=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control").attr("id"),w=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("id"),c=r.parents(".e-dbrd-layout-cell").find(".e-dbrd-control-container").attr("data-widget-id");o==="FilterComboBox"&&(e=r.parents(".e-dbrd-layout-cell").find(".e-dropdownlist").attr("id"));this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onMenuIconClick,source:{element:r,data:e}});var u=n("<div>").attr({id:this._id+"_controlMenuPopup",type:o,"control-id":e,widgetId:w,"data-Widget-Id":c,oncontextmenu:"return false"}),l=f.find(".e-dbrd-control-container").find(".e-control-heading").find(".e-control-title").text(),b=f.find(".e-dbrd-control-container").find(".e-control-subtitleHeading").find(".e-control-subtitle").text();(h.hasClass("e-dbrd-maxIcon")||p)&&(n(window).width()<t.DashboardConstants.MobileWidth?(this.currentTabContentElementData=n("<div><\/div>"),this.filename=l,this.exportSettings.filename=this.filename,this.currentTabContentElementData.attr({type:o,"control-id":e,"data-Widget-Id":c}),this._mobileExport()):u.append(n(y)));s=[];a=r.parents(".e-dbrd-control-container").find(".e-dbrd-control-nodatainfo").length>t.DashboardConstants.Zero;this._controlMenuManipulation(r,a,s);u.ejDashboardMenu({enableSeparator:!1,fields:{dataSource:s,id:"id",parentId:"parentId",text:"text",spriteCssClass:"sprite"},openOnClick:!1,orientation:t.Orientation.Vertical,click:n.proxy(this._controlMenuSelected,this,u,l,b)});f.length&&(v=f.find(".e-dbrd-control").offset().top,r.hasClass("e-control-prop-onHover")&&(v+=20),n(window).width()<t.DashboardConstants.MobileWidth?this.currentTabContentElement.append(u.parent()):this.element.append(u.parent()),this.onDemandTabs!==!0||this.model.showTab?n(window).width()<t.DashboardConstants.MobileWidth?(u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+3+"px",width:"auto","z-index":"20"}),u.css({left:r.offset().left-n("#"+this._id+"_controlMenuPopup").width()+r.width()+17+"px"})):u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+22*this.scalingFactor+this.element.find(".e-tab .e-header").height()*this.scalingFactor+"px",left:r.offset().left-n(this.currentTabContentElement).offset().left-98*this.scalingFactor+"px","z-index":"20",width:"auto"}):u.css({position:"absolute",top:r.offset().top-n(this.currentTabContentElement).offset().top+this.currentTabContentElement.scrollTop()+22*this.scalingFactor+"px",left:r.offset().left-n(this.currentTabContentElement).offset().left-104*this.scalingFactor+"px","z-index":"20",width:"auto"}),!this.onDemandTabs&&n(window).width()>t.DashboardConstants.MobileWidth&&u.css({left:r.offset().left-n(this.currentTabContentElement).offset().left-98*this.scalingFactor+this.element.scrollLeft()+"px"}),u.offset().left<0&&u.css({left:"5px"}),u.parent().find(".e-menu li.e-list>ul>li.e-list>a").css({padding:"0px 35px 0px 10px"}),f.find(".e-dbrd-control-error").length>t.DashboardConstants.Zero&&u.ejDashboardMenu("instance").disableItem(this.locale.utils.ViewData));this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onMenuIconClick,source:{element:r,data:e}});this.model.enableCustomTheming&&this._customTheme(["menu"])},_destroyControlMenu:function(){var i,r;n(this.element).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.onControlMenuPopupClose,source:{element:null,data:this._id}}),n(this.element).find("#"+this._id+"_controlMenuPopup").data("ejDashboardMenu")&&n(this.element).find("#"+this._id+"_controlMenuPopup").ejDashboardMenu("destroy"),n("#"+this._id+"_controlMenuPopup").remove(),n(this.element).find(".e-dbrd-menuClicked").removeClass("e-dbrd-menuClicked"),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.onControlMenuPopupClose,source:{element:null,data:this._id}}));n(window).width()<t.DashboardConstants.MobileWidth&&(i=n(this.currentTabContentElement).find(".e-dbrd-inactive"),i.length!==t.DashboardConstants.Zero&&(i.find(".e-dbrd-inactive-header").css({position:"fixed"}),r=i.find(".e-dbrd-upArrow"),r.css("display")==="block"&&i.css({"overflow-y":"auto"})))},_showMaximizedControlMenu:function(i){var e,o,h,u,c,s;for(n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation(),e=t.DashboardConstants.Zero,o=n("#"+n(i.currentTarget).attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-menu"),o.length!==t.DashboardConstants.Zero?o.click():n("#"+n(i.currentTarget).attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-small-menu").click(),h=this.element.find(".e-menu-wrap").find(".e-menu li a"),n(this.element).find(".e-menu.e-vertical .e-list").css({"line-height":"30px"}),n(this.element).find(".e-menu.e-vertical>.e-list>a").css({"font-size":"11px"}),u=0;u<=this.element.find(".e-menu-wrap").find(".e-menu li a").length;u++)c=n(h[u]).text(),s=this._measureText(c,100,{size:"13px",fontStyle:"Normal",fontFamily:"Segoe UI"}).width,e<s&&(e=s);var r=this.element.find(".e-menu-wrap"),l=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv"),f=n(this.currentTabContentElement).find(".e-dbrd-inactive");this.element.append(r);n(window).width()<t.DashboardConstants.MobileWidth?(l.append(r),n(r).find(".e-menu.e-vertical .e-list").css({"line-height":"52px"}),n(r).find(".e-menu").css({position:"fixed",top:n(".e-dbrd-inactive").height()/3.5+"px",left:n(".e-dbrd-inactive").width()/2.5+"px","z-index":"1000",width:"auto"}),f.find(".e-dbrd-inactive-header").css({position:"absolute"}),f.length!==t.DashboardConstants.Zero&&f.css("overflow-y")==="auto"&&f.css({"overflow-y":"hidden"})):n(r).find(".e-menu").css({position:"fixed",top:n(i.currentTarget).offset().top+21.7*this.scalingFactor-this.currentTabContentElement.find(".e-dbrd-max-wrapper").offset().top+"px",left:n(i.currentTarget).offset().left-84.3*this.scalingFactor+"px","z-index":"1000",width:"auto"})},_contextMenuManipulation:function(i,r,u){var o=u.type,v=u.hasNoData,h,s,f,c,e,l,a,y;if(!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(v)&&o!==t.dashboardViewer.Controls.FilterComboBox&&o!==t.dashboardViewer.Controls.DatePicker&&o!==t.dashboardViewer.Controls.CheckBox&&o!==t.dashboardViewer.Controls.ListBox&&o!==t.dashboardViewer.Controls.RangeSlider&&o!==t.dashboardViewer.Controls.RangeNavigator){if(h=n(i.target).parents(".e-dbrd-control-container").attr("data-widget-id"),s=this.dashboardControls.getControlByReport(h),!t.isNullOrUndefined(this.currentActionSettings)&&!t.isNullOrUndefined(this.currentActionSettings.id)&&this.isActionMenu&&h===this.currentActionSettings.id){if(f=this.currentActionSettings.actionData,!t.isNullOrUndefined(s)&&!t.isNullOrUndefined(s.configInfo)){for(c=[],e=0;e<f.length;e++)l=s.configInfo.IsMasterFilter&&f[e]===t.dashboardViewer.Action.Filter?f[e]:s.configInfo.IsLinked&&f[e]===t.dashboardViewer.Action.Linking?f[e]:(s.configInfo.isDrillDown||s.configInfo.EnableDrillDown)&&f[e]===t.dashboardViewer.Action.DrillDown?f[e]:null,t.isNullOrUndefined(l)||c.push(l);f=c}this.isActionMenu=!1;for(a in f)if(f.hasOwnProperty(a))switch(f[a]){case t.dashboardViewer.Action.Filter:this.currentActionSettings.slaves.length>t.DashboardConstants.Zero&&r.push({id:50,text:this.locale.utils.Filter});break;case t.dashboardViewer.Action.DrillDown:r.push({id:51,text:this.locale.utils.DrillDown});break;case t.dashboardViewer.Action.Linking:r.push({id:52,text:this.locale.utils.Linking})}}!n(i.currentTarget).hasClass("e-dbrd-control-container")||v||this.isWidget||r.push({id:14,text:this.locale.utils.Maximize});r.push({id:11,parentId:null,text:this.locale.utils.Export});n(window).width()>=t.DashboardConstants.MobileWidth&&(this.model._exportSettings.canExportImage&&r.push({id:12,parentId:11,text:this.locale.utils.ExportToImage}),this.model._exportSettings.canExportPdf&&r.push({id:146,parentId:11,text:this.locale.utils.ExportToPdf}),this.model._exportSettings.canExportCsv&&r.push({id:13,parentId:11,text:this.locale.utils.ExportToCSV}),this.model._exportSettings.canExportExcel&&r.push({id:14,parentId:11,text:this.locale.utils.ExportToExcel}));this.model.enableViewData&&n(i.currentTarget).data("EnableViewData")&&r.push({id:21,text:this.locale.utils.ViewData});y=n(i.target).parents(".e-dbrd-control-container").attr("id");this._trigger("beforeContextMenuOpen",{menuData:r,widgetType:o,widgetId:y,dataWidgetId:h,tabId:this.model._selectedTabGuid,tabName:this.dashboardName})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.customTheme={_customThemeforAPI:function(n,t,i){var r={},u=0,f,e,o;if(t.controlType===n.controlType&&t.reportName===n.reportName&&this.model.customThemeSettings.widgetThemeSettings!==null&&(f=this.model.customThemeSettings.widgetThemeSettings[n.controlType.toLowerCase()],f!==null&&f[i]!==null))for(e=f[i],o=Object.keys(r).length,r=this._generateAPIFromJson(n.controlType,e),u=0;u<o;u++)t.customTheme[Object.keys(r)[u]]=r[Object.keys(r)[u]]},_generateCSSFromJson:function(n,i,r,u,f){var e=t.DashboardConstants.Zero,h=null,s=null,o=Object.keys(u),l,c,v,a;for(i==="PivotGrid"&&(n=n+"_div"),e=t.DashboardConstants.Zero;e<o.length;e++)if(l=this._getControlClassName(r,o[e],i,f),!t.isNullOrUndefined(l))for(c=l.split(","),v=c.length,s=t.DashboardConstants.Zero;s<v;s++)a=i==="RangeSlider"&&r==="label"?c[s]:"#"+n+c[s],t.isNullOrUndefined(h)?h=a+" { "+this._getPropertyName(o[e])+" : "+u[o[e]]+" !important}":h+=a+" { "+this._getPropertyName(o[e])+" : "+u[o[e]]+" !important}";return h},_getPropertyName:function(n){switch(n){case"font-color":case"filter-icon-color":case"sort-icon-color":case"expand-icon-color":case"collapse-icon-color":case"symbol-color":case"tick-color":case"box-color":case"currentmonth-font-color":case"week-header-color":case"days-color":case"arrow-color":case"calendar-color":case"search-icon-color":case"applybutton-font-color":case"cancelbutton-font-color":return"color";case"othermonth-font-color":case"range-color":case"background-color":case"applybutton-color":case"cancelbutton-color":return"background";case"highlight-color":return"border-color"}return n},_customTheme:function(n){for(var i=0;i<=n.length-t.DashboardConstants.One;i++)switch(n[i]){case"dashboard":this._customThemefordashboard();break;case"banner":this._customThemeforbanner();break;case"font":this._customThemeforfont();break;case"container":this._customThemeforcontainer();break;case"popup":this._customThemeforpopup();break;case"description":this._customThemefordescription();break;case"menu":this._customThemeformenu();break;case"disableBtn":this._customThemefordisableBtn();break;case"enableBtn":this._customThemeforenableBtn();break;case"erroredContainer":this._customThemeforerroredContainer();break;case"export":this._customThemeforexport();break;case"filterOverview":this._customThemeforfilterOverview();break;case"maximize":this._customThemeformaximize();break;case"passiveError":this._customThemeforpassiveError();break;case"tooltip":this._customThemefortooltip();break;case"multitabSettings":this._customThemeforTabs()}},_customThemefordashboard:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard)&&(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["background-image"])&&this.model.customThemeSettings.dashboard["background-image"].length>t.DashboardConstants.Zero?this.currentTabContentElement.css({"background-image":this.model.customThemeSettings.dashboard["background-image"]}):!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["background-color"])&&this.model.customThemeSettings.dashboard["background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.css({"background-color":this.model.customThemeSettings.dashboard["background-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["icon-hover-color"])&&this.model.customThemeSettings.dashboard["icon-hover-color"].length>t.DashboardConstants.Zero)){var i=this.model.customThemeSettings.dashboard["icon-hover-color"],r=".e-dbrd-tab-res-icon:hover {color:"+i+"!important}.e-dbrd-tab-menu:hover {color:"+i+"!important}.e-dbrd-bannerIcon:hover {color:"+i+"!important}.e-dbrd-containerIcon:hover {color:"+i+"!important}.e-dbrd-popup-icon:hover {color:"+i+"!important}.e-dbrd-maxIcon:hover {color:"+i+"!important}.e-brd-clearFilters:hover {color:"+i+"!important}.e-close-notification:hover {color:"+i+"!important}";n("head").prepend('<style type= "text/css">'+r+"<\/style>")}},_customThemeforfont:function(){var i,r;t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)||(i=this.model.customThemeSettings.fontSettings,!t.isNullOrUndefined(i["font-family"])&&i["font-family"].length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.src)&&i.src.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(i.format)&&i.format.length>t.DashboardConstants.Zero&&(n("head").prepend('<style type= "text/css"> @font-face {\n font-family: "'+i["font-family"]+'" ;\n  src: url(  "'+i.src+'" )format( "'+i.format+'");\n } \n  <\/style>'),r=this.currentTabContentElement[0],r.style.setProperty("font-family",i["font-family"],"important"),this.element.find(".e-tab>.e-header .e-item").css({"font-family":i["font-family"]}),this.element.find(".e-dbrd-tab-res-popup .e-dbrd-tab-res-text").css({"font-family":i["font-family"]})))},_customThemeforbanner:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.banner)){var i=this.currentTabContentElement.find(".e-dbrd-banner"),n=this.model.customThemeSettings.banner;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({background:n["background-color"]}),this.currentTabContentElement.find(".e-dbrd-filterListMenu").css({background:n["background-color"]}),this.currentTabContentElement.find(".e-dbrd-filterListMenu").css({border:"none"}),this.currentTabContentElement.find(".e-dbrd-overview-banner").css({background:n["background-color"]}));!t.isNullOrUndefined(n["title-color"])&&n["title-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({color:n["title-color"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({color:n["title-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-banner-title").css({"font-size":n["font-size"]}),this.currentTabContentElement.find(".e-dynamic-title-display").css({"font-size":n["font-size"]}));!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-dbrd-bannerIcon").css({color:n["icons-color"]}),this.element.find(".e-dbrd-tab-menu").css({color:n["icons-color"]}),this.element.find(".e-dbrd-tab-menu-border").css({"background-color":n["icons-color"]}),this.element.find(".e-dbrd-tab-res-icon").css({color:n["icons-color"]}),this.currentTabContentElement.find(".e-dynamic-filterdroparrow").css({color:n["icons-color"]}));!t.isNullOrUndefined(n["banner-top-border-color"])&&n["banner-top-border-color"].length>t.DashboardConstants.Zero&&i.css({"border-top-color":n["banner-top-border-color"]})}},_customThemeforexport:function(){t.isNullOrUndefined(this.model.customThemeSettings.container)||this.currentTabContentElement.css({"background-color":this.model.customThemeSettings.container["background-color"]})},_customThemeforcontainer:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.container)){var n=this.model.customThemeSettings.container,i=this.currentTabContentElement.find(".e-dbrd-control-container");!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({"background-color":n["background-color"]}),this.model._dashboardData.isExportImage&&this.model._dashboardData.isControl&&this.currentTabContentElement.find(".e-dbrd-control").css({"background-color":n["background-color"]}));!t.isNullOrUndefined(n.border)&&n.border.length>t.DashboardConstants.Zero&&i.css({border:n.border});!t.isNullOrUndefined(n["border-radius"])&&n["border-radius"].length>t.DashboardConstants.Zero&&i.css({"border-radius":n["border-radius"]});!t.isNullOrUndefined(n["box-shadow"])&&n["box-shadow"].length>t.DashboardConstants.Zero&&i.css({"box-shadow":n["box-shadow"]});!t.isNullOrUndefined(n["header-background-color"])&&n["header-background-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-heading").css({"background-color":n["header-background-color"]});!t.isNullOrUndefined(n["title-color"])&&n["title-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({color:n["title-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]});!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-control-title").css({"font-size":n["font-size"]});!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-containerIcon").css({color:n["icons-color"]})}},_customThemeformenu:function(){var u,i,f,e,r;t.isNullOrUndefined(this.model.customThemeSettings.menuSettings)||(u=this.element.find("#"+this._id+"_DashboardMenuPopup"),i=this.model.customThemeSettings.menuSettings,!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(u.css({"background-color":i["background-color"]}),u.css({"border-color":i["background-color"]}),u.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(u.children().find("a").css({color:i["font-color"]}),u.children().find("span").css({color:i["font-color"]}),u.children(".e-brd-showDashoardMenu-title").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&u.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&u.css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(u.children().find("a").css({"font-size":i["font-size"]}),u.children().find("span").css({"font-size":i["font-size"]}),u.children(".e-brd-showDashoardMenu-title").css({"font-size":i["font-size"]})),f=this.element.find("#"+this._id+"_controlMenuPopup"),!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(f.css({"background-color":i["background-color"]}),f.css({"border-color":i["background-color"]}),f.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(f.children().find("a").css({color:i["font-color"]}),f.children().find("span").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&f.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&f.css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(f.children().find("a").css({"font-size":i["font-size"]}),f.children().find("span").css({"font-size":i["font-size"]})),e=this.element.find("#"+this._id+"_contextMenuPopup"),!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&(e.css({"background-color":i["background-color"]}),e.css({"border-color":i["background-color"]}),e.css({"box-shadow":"1px 1px 1px 3px "+i["background-color"]})),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(e.children().find("a").css({color:i["font-color"]}),e.children().find("span").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&e.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&e.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&e.children().find("a").css({"font-size":i["font-size"]}),this.onDemandTabs&&this.model.showTab&&(r=n(".e-dbrd-tab-menu-popup")[0],!t.isNullOrUndefined(i["background-color"])&&i["background-color"].length>t.DashboardConstants.Zero&&n(r).length>t.DashboardConstants.Zero&&(r.style.setProperty("background-color",i["background-color"]),r.style.setProperty("border-color",i["background-color"]),r.style.setProperty("box-shadow","1px 1px 1px 3px "+i["background-color"])),!t.isNullOrUndefined(i["font-color"])&&i["font-color"].length>t.DashboardConstants.Zero&&(n(r).children().find("a").css({color:i["font-color"]}),n(r).children().find("span").css({color:i["font-color"]}),n(r).children(".e-brd-showDashoardMenu-title").css({color:i["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&n(r).css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&n(r).css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(n(r).children().find("a").css({"font-size":i["font-size"]}),n(r).children().find("span").css({"font-size":i["font-size"]}),n(r).children(".e-brd-showDashoardMenu-title").css({"font-size":i["font-size"]}))))},_customThemefordescription:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.descriptionSettings)){var i=this.element.find(".e-dbrd-report-desc"),n=this.model.customThemeSettings.descriptionSettings;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i.css({"background-color":n["background-color"]}),this.element.find(".e-dbrd-desc-tooltip").css({"background-color":n["background-color"]}));!t.isNullOrUndefined(n["border-color"])&&n["border-color"].length>t.DashboardConstants.Zero&&(i.css({"border-color":n["border-color"]}),this.element.find(".e-dbrd-desc-tooltip").css({"border-color":n["border-color"]}));!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(i.css({color:n["font-color"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({color:n["font-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(i.css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(i.css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(i.css({"font-size":n["font-color"]}),this.element.find(".e-dbrd-scroll.e-dbrd-control").css({"font-size":n["font-size"]}))}},_customThemeforpopup:function(){var f=n(window).width()<t.DashboardConstants.MobileWidth,i,e,o,s,h,u,c,l,r;t.isNullOrUndefined(this.model.customThemeSettings.popupSettings)||(i=this.model.customThemeSettings.popupSettings,!t.isNullOrUndefined(i["popup-background-color"])&&i["popup-background-color"].length>t.DashboardConstants.Zero&&!f?(this.element.find(".e-dbrd-dialog-bgrnd-export").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-inactive-export").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-dialog-bgrnd").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-dialog-bgrnd-export-waiting").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-params-inactive-prompt").css({"background-color":i["popup-background-color"]})):!t.isNullOrUndefined(i["popup-background-color"])&&i["popup-background-color"].length>t.DashboardConstants.Zero&&f&&(this.element.find(".e-dbrd-mobileExport").css({"background-color":i["popup-background-color"]}),this.element.find(".e-dbrd-dialog-bgrnd-export-waiting").css({"background-color":i["popup-background-color"]})),!t.isNullOrUndefined(i["popup-buttons-bar-background-color"])&&i["popup-buttons-bar-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-exportButtons").css({"background-color":i["popup-buttons-bar-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"background-color":i["popup-buttons-bar-background-color"]})),!t.isNullOrUndefined(i["popup-buttons-bar-border-color"])&&i["popup-buttons-bar-border-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-exportButtons").css({"border-top-color":i["popup-buttons-bar-border-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"border-top-color":i["popup-buttons-bar-border-color"]})),!t.isNullOrUndefined(i["popup-container-background-color"])&&i["popup-container-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-inactive-export").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-waiting-inactive-export").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-alert").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-alert").css({border:"1px solid "+i["popup-container-background-color"]}),this.element.find(".e-dbrd-alert").css({"box-shadow":"0 0 5px 0 "+i["popup-container-background-color"]}),this.element.find(".e-dbrd-dialog").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-dialog").css({border:"1px solid "+i["popup-container-background-color"]}),this.element.find(".e-dbrd-dialog").css({"box-shadow":"0 0 5px 0 "+i["popup-container-background-color"]}),this.element.find(".e-dbrd-params-dialog").css({"background-color":i["popup-container-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer").css({"background-color":i["popup-container-background-color"]}),f&&this.element.find(".e-dbrd-mobileExport").css({"background-color":i["popup-container-background-color"]})),!t.isNullOrUndefined(i["popup-title-color"])&&i["popup-title-color"].length>t.DashboardConstants.Zero&&!f?(this.element.find(".e-brd-showDashoardMenu-ExportimageTitle").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-inactive-export").find("hr").css({"border-color":i["popup-title-color"]}),this.element.find(".e-dbrd-dialog-title").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-params-title").css({color:i["popup-title-color"]})):!t.isNullOrUndefined(i["popup-title-color"])&&i["popup-title-color"].length>t.DashboardConstants.Zero&&f&&(this.element.find(".e-dbrd-exportTitle").css({color:i["popup-title-color"]}),this.element.find(".e-dbrd-params-title").css({color:i["popup-title-color"]})),!t.isNullOrUndefined(i["hyperlink-color"])&&i["hyperlink-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-btn-support").css({color:i["hyperlink-color"]}),!t.isNullOrUndefined(i["error-msg-color"])&&i["error-msg-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-dialog-header-error").css({color:i["error-msg-color"]}),this.element.find(".e-error").css({color:i["error-msg-color"]}),this.element.find(".e-brd-filenameError").css({color:i["error-msg-color"]}),this.element.find(".e-brd-resolutionErrorLow").css({color:i["error-msg-color"]})),!t.isNullOrUndefined(i["popup-font-color"])&&i["popup-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-inactive-left").css({color:i["popup-font-color"]}),this.element.find(".e-dbrd-content").css({color:i["popup-font-color"]}),this.element.find(".e-dbrd-dialog-content").css({color:i["popup-font-color"]}),this.element.find(".e-dbrd-dialog-title").css({color:i["popup-font-color"]}),this.element.find(".e-share-default.e-content").css({color:i["popup-font-color"]}),this.element.find(".e-share-text").css({color:i["popup-font-color"]}),this.element.find(".e-dbrd-params-lable").css({color:i["popup-font-color"]}),f&&this.element.find(".e-dbrd-mobileExportFilename").css({color:i["popup-font-color"]})),!t.isNullOrUndefined(i["popup-icons-color"])&&i["popup-icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-popup-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-share-copy-btn").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-dialog-close-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-input-container .e-ddl .e-select .e-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker-wrapper .e-dashboarddatepicker-icon").css({color:i["popup-icons-color"]}),this.element.find(".e-dbrd-params-back-icon").css({color:i["popup-icons-color"]}),e=".e-dbrd-params-date .e-arrow-enabled i:before { color :"+i["popup-icons-color"]+"}",n("head").append('<style type= "text/css">'+e+"<\/style>"),n(".e-dbrd-params-date .e-arrow-enabled i").css({color:i["popup-icons-color"]})),!t.isNullOrUndefined(i["input-box-background-color"])&&i["input-box-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-exportImageField").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_imageType_hidden").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_pageSizeType_hidden").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_pageSizeType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_excelType_hidden").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_excelType_dropdown").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdownSelection").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_container").css({"background-color":i["input-box-background-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_widgetsName_hidden").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_widgetsName_dropdown").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_widgetDropdownSelection").css({"background-color":i["input-box-background-color"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-text-box").css({"background-color":i["input-box-background-color"]}),this.element.find("#"+this._id+"_widgetsName_container").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-share-text").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-textbox").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container .e-ddl .e-select").css({"background-color":i["input-box-background-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"background-color":i["input-box-background-color"]}),o=".e-dbrd-params-date .e-available-date, .e-dbrd-params-date .other-month, .e-dbrd-params-date .calendar-table table th { background-color :"+i["input-box-background-color"]+"}",n("head").append('<style type= "text/css">'+o+"<\/style>"),n(".e-dbrd-params-drpdwn").css({"background-color":i["input-box-background-color"]}),n(".e-dbrd-params-date").css({"background-color":i["input-box-background-color"]}),f&&this.element.find(".e-brd-mobileFilenameText").css({"background-color":i["input-box-background-color"]})),!t.isNullOrUndefined(i["input-box-border-color"])&&i["input-box-border-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-exportImageField").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_imageType_hidden").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_excelType_hidden").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_excelType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_imageType_hidden").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_pageSizeType_hidden").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_pageSizeType_dropdown").css({"border-color":i["input-box-border-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_widgetsName_hidden").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_widgetsName_dropdown").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_widgetDropdownSelection").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"border-color":i["input-box-border-color"]}),this.element.find("#"+this._id+"_dashboardDropdownSelection").css({"border-color":i["input-box-border-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-down-arrow").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-text-box").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-share-text").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-dbrd-params-textbox").css({"border-color":i["input-box-border-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"border-color":i["input-box-border-color"]}),n(".e-dbrd-params-drpdwn").css({"border-color":i["input-box-border-color"]}),n(".e-dbrd-params-date").css({"border-color":i["input-box-border-color"]}),f&&this.element.find(".e-brd-mobileFilenameText").css({"border-color":i["input-box-border-color"]})),!t.isNullOrUndefined(i["inputbox-font-color"])&&i["inputbox-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-exportImageField").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_imageType_hidden").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_excelType_hidden").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_excelType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_pageSizeType_hidden").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_pageSizeType_dropdown").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_dashboardDropdownSelection").css({color:i["inputbox-font-color"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_widgetsName_hidden").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_widgetsName_dropdown").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_widgetDropdownSelection").css({color:i["inputbox-font-color"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_dashboardRadio").css({color:i["inputbox-font-color"]}),this.element.find("#"+this._id+"_widgetRadio").css({color:i["inputbox-font-color"]}),this.element.find(".e-text-box").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-textbox").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({color:i["inputbox-font-color"]}),n(".e-dbrd-params-drpdwn").css({color:i["inputbox-font-color"]}),s=".e-dbrd-params-date .e-available-date, .e-dbrd-params-date .other-month, .e-dbrd-params-date .calendar-table table th { color :"+i["inputbox-font-color"]+"}",n("head").append('<style type= "text/css">'+s+"<\/style>"),f&&(this.element.find(".e-brd-mobileFilenameText").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-mobileExportImageText").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-mobileExportPdfText").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-mobileExportExcelText").css({color:i["inputbox-font-color"]}),this.element.find(".e-dbrd-mobileExportCsvText").css({color:i["inputbox-font-color"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-inactive-left").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-exportImageField").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_imageType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_pageSizeType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_pageSizeType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_excelType_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_excelType_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-ControlImageExport").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-ControlImageReset").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-ControlImageCancel").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-Pdfcancel").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-btn-ok").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-success").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-text-box").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-dialog-content").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-error").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-dialog-header-error").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-dialog-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-filenameError").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-resolutionErrorLow").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-btn-support").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_dashboardDropdownSelection").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_widgetsName_hidden").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_widgetsName_dropdown").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_widgetDropdownSelection").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_dashboardRadio").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("#"+this._id+"_widgetRadio").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-share-default.e-content").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-share-text").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-textbox").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),n(".e-dbrd-params-drpdwn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),h=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-family:"+this.model.customThemeSettings.fontSettings["font-family"]+"}",n("head").append('<style type= "text/css">'+h+"<\/style>"),f&&(this.element.find(".e-brd-mobileFilenameText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-exportTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-mobileExportFilename").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-mobileExportImageText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-mobileExportPdfText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-mobileExportExcelText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-mobileExportCsvText").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(u=this.model.customThemeSettings.fontSettings,this.element.find(".e-brd-exportImageField").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_imageType_hidden").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_excelType_hidden").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_excelType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_pageSizeType_hidden").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_pageSizeType_dropdown").css({"font-size":u["font-size"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-size":u["font-size"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-size":u["font-size"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_dashboardDropdownSelection").css({"font-size":u["font-size"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_widgetsName_hidden").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_widgetsName_dropdown").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_widgetDropdownSelection").css({"font-size":u["font-size"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_dashboardRadio").css({"font-size":u["font-size"]}),this.element.find("#"+this._id+"_widgetRadio").css({"font-size":u["font-size"]}),this.element.find(".e-text-box").css({"font-size":u["font-size"]}),f&&(this.element.find(".e-brd-mobileFilenameText").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-mobileExportImageText").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-mobileExportPdfText").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-mobileExportExcelText").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-mobileExportCsvText").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-mobileExportFilename").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-mobileExportBtn").css({"font-size":u["font-size"]})),this.element.find(".e-brd-inactive-left").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-content").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-dialog-content").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-dialog-title").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-dialog-header-error").css({"font-size":u["font-size"]}),this.element.find(".e-error").css({"font-size":u["font-size"]}),this.element.find(".e-brd-filenameError").css({"font-size":u["font-size"]}),this.element.find(".e-brd-resolutionErrorLow").css({"font-size":u["font-size"]}),this.element.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-dialog-title").css({"font-size":u["font-size"]}),this.element.find(".e-brd-ControlImageExport").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-btn-ok").css({"font-size":u["font-size"]}),this.element.find(".e-success").css({"font-size":u["font-size"]}),this.element.find(".e-brd-ControlImageReset").css({"font-size":u["font-size"]}),this.element.find(".e-brd-ControlImageCancel").css({"font-size":u["font-size"]}),this.element.find(".e-brd-Pdfcancel").css({"font-size":u["font-size"]}),this.element.find(".e-share-default.e-content").css({"font-size":u["font-size"]}),this.element.find(".e-share-text").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-textbox").css({"font-size":u["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-size":u["font-size"]}),c=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-size:"+u["font-size"]+"}",n("head").append('<style type= "text/css">'+c+"<\/style>")),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-exportImageField").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_imageType_hidden").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_imageType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_imageType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_excelType_hidden").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_excelType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_excelType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_pageSizeType_hidden").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_pageSizeType_dropdown").css({"font-size":i["font-size"]}),n("#"+this._id+"_pageSizeType_popup_list_wrapper").css({"font-size":i["font-size"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_hidden").css({"font-size":i["font-size"]}),this.element.find("#"+this._dashboardId+"_dashboardDropdown_dropdown").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_dashboardDropdownSelection").css({"font-size":i["font-size"]}),n("#"+this._dashboardId+"_dashboardDropdown_popup_list_wrapper").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_widgetsName_hidden").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_widgetsName_dropdown").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_widgetDropdownSelection").css({"font-size":i["font-size"]}),n("#"+this._id+"_widgetsName_popup_list_wrapper").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_dashboardRadio").css({"font-size":i["font-size"]}),this.element.find("#"+this._id+"_widgetRadio").css({"font-size":i["font-size"]}),this.element.find(".e-text-box").css({"font-size":i["font-size"]}),f&&(this.element.find(".e-brd-mobileFilenameText").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-mobileExportImageText").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-mobileExportPdfText").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-mobileExportExcelText").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-mobileExportCsvText").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-mobileExportFilename").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-mobileExportBtn").css({"font-size":i["font-size"]})),this.element.find(".e-brd-inactive-left").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-content").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-dialog-content").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-dialog-title").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-dialog-header-error").css({"font-size":i["font-size"]}),this.element.find(".e-error").css({"font-size":i["font-size"]}),this.element.find(".e-brd-filenameError").css({"font-size":i["font-size"]}),this.element.find(".e-brd-resolutionErrorLow").css({"font-size":i["font-size"]}),this.element.find(".e-brd-showDashoardMenu-ExportimageTitle").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-dialog-title").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-exportTitle").css({"font-size":i["font-size"]}),this.element.find(".e-brd-ControlImageExport").css({"font-size":i["success-font-color"]}),this.element.find(".e-dbrd-btn-ok").css({"font-size":i["font-size"]}),this.element.find(".e-success").css({"font-size":i["font-size"]}),this.element.find(".e-brd-ControlImageReset").css({"font-size":i["font-size"]}),this.element.find(".e-brd-ControlImageCancel").css({"font-size":i["font-size"]}),this.element.find(".e-brd-Pdfcancel").css({"font-size":i["font-size"]}),this.element.find(".e-share-default.e-content").css({"font-size":i["font-size"]}),this.element.find(".e-share-text").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-input-container  .e-ddl .e-input, .e-dbrd-params-input-container .e-ddl .e-input[readonly], .e-dbrd-params-input-container .e-ddl-popup, .e-dbrd-params-input-container .e-ddl .e-options").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-input-container .e-dashboarddatepicker").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-textbox").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"font-size":i["font-size"]}),l=".e-dbrd-params-date .calendar-table table td, .e-dbrd-params-date .calendar-table table th { font-size:"+i["font-size"]+"}",n("head").append('<style type= "text/css">'+l+"<\/style>")));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(r=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(r["success-background-color"])&&r["success-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageExport").css({"background-color":r["success-background-color"]}),this.element.find(".e-brd-ControlImageExport").css({"border-color":r["success-background-color"]}),this.element.find(".e-dbrd-btn-ok").css({"background-color":r["success-background-color"]}),this.element.find(".e-dbrd-btn-ok").css({"border-color":r["success-background-color"]}),this.element.find(".e-success").css({"background-color":r["success-background-color"]}),this.element.find(".e-success").css({"border-color":r["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":r["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":r["success-background-color"]}),f&&this.element.find(".e-dbrd-mobileExportBtn").css({"background-color":r["success-background-color"]})),!t.isNullOrUndefined(r["success-font-color"])&&r["success-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageExport").css({color:r["success-font-color"]}),this.element.find(".e-dbrd-btn-ok").css({color:r["success-font-color"]}),this.element.find(".e-success").css({color:r["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:r["success-font-color"]}),f&&this.element.find(".e-dbrd-mobileExportBtn").css({color:r["success-font-color"]})),!t.isNullOrUndefined(r["reset-background-color"])&&r["reset-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageReset").css({"background-color":r["reset-background-color"]}),this.element.find(".e-brd-ControlImageReset").css({"border-color":r["reset-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":r["reset-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":r["reset-background-color"]})),!t.isNullOrUndefined(r["reset-font-color"])&&r["reset-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageReset").css({color:r["reset-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button, .e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span").css({color:r["reset-font-color"]}),f&&this.element.find(".e-dbrd-exportResetIcon").css({color:r["reset-font-color"]})),!t.isNullOrUndefined(r["cancel-background-color"])&&r["cancel-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageCancel").css({"background-color":r["cancel-background-color"]}),this.element.find(".e-brd-ControlImageCancel").css({"border-color":r["cancel-background-color"]}),this.element.find(".e-brd-Pdfcancel").css({"background-color":r["cancel-background-color"]}),this.element.find(".e-brd-Pdfcancel").css({"border-color":r["cancel-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"background-color":r["cancel-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({"border-color":r["cancel-background-color"]})),!t.isNullOrUndefined(r["cancel-font-color"])&&r["cancel-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageCancel").css({color:r["cancel-font-color"]}),this.element.find(".e-brd-Pdfcancel").css({color:r["cancel-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button").css({color:r["cancel-font-color"]}),f&&this.element.find(".e-dbrd-titleBackIcon").css({color:r["reset-font-color"]})),!t.isNullOrUndefined(r["font-size"])&&r["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-ControlImageExport").css({"font-size":r["font-size"]}),this.element.find(".e-dbrd-btn-ok").css({"font-size":r["success-font-color"]}),this.element.find(".e-success").css({"font-size":r["font-size"]}),f&&this.element.find(".e-dbrd-mobileExportBtn").css({"font-size":r["font-size"]}),this.element.find(".e-brd-ControlImageReset").css({"font-size":r["font-size"]}),this.element.find(".e-brd-ControlImageCancel").css({"font-size":r["font-size"]}),this.element.find(".e-brd-Pdfcancel").css({"font-size":r["font-size"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-cancel-button, .e-dbrd-params-dialog-footer .e-dbrd-apply-button, .e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button span").css({"font-size":r["font-size"]})))},_customThemeformaximize:function(){var i,f,u,e,o,r;t.isNullOrUndefined(this.model.customThemeSettings.maximizationSettings)||(i=this.model.customThemeSettings.maximizationSettings,!t.isNullOrUndefined(i["max-background-color"])&&i["max-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive").css({"background-color":i["max-background-color"]}),!t.isNullOrUndefined(i["max-header-background-color"])&&i["max-header-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive-header").css({"background-color":i["max-header-background-color"]}),!t.isNullOrUndefined(i["max-container-background-color"])&&i["max-container-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive").find(".e-dbrd-control-container-avoid").css({"background-color":i["max-container-background-color"]}),!t.isNullOrUndefined(i["max-footer-background-color"])&&i["max-footer-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive").find(".e-dbrd-inactive-footer").css({"background-color":i["max-footer-background-color"]}),!t.isNullOrUndefined(i["max-icons-color"])&&i["max-icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-inactive").find(".e-dbrd-maxIcon").css({color:i["max-icons-color"]}),f=i["max-icons-color"],u=".e-dbrd-inactive-header-close:hover {color:"+f+"!important}",n("head").append('<style type= "text/css">'+u+"<\/style>"),u=".e-dbrd-maxIcon:hover:before {color:"+f+"!important}",n("head").append('<style type= "text/css">'+u+"<\/style>")),!t.isNullOrUndefined(i["max-title-color"])&&i["max-title-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({color:i["max-title-color"]}),!t.isNullOrUndefined(i["description-font-color"])&&i["description-font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description").css({color:i["description-font-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-inactive-footer").length>t.DashboardConstants.Zero&&(e=this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description")[0],e.style.setProperty("font-family",this.model.customThemeSettings.fontSettings["font-family"],"important"))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-inactive-footer").length>t.DashboardConstants.Zero&&(o=this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description")[0],o.style.setProperty("font-size",this.model.customThemeSettings.fontSettings["font-size"],"important"))),!t.isNullOrUndefined(i["font-size"])&&i["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-inactive").find(".e-dbrd-maxControl-title").css({"font-size":i["font-size"]}),this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-footer-description").css({"font-size":i["font-size"]})));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(r=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(r["cancel-background-color"])&&r["cancel-background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"border-color":r["cancel-background-color"]}),!t.isNullOrUndefined(r["cancel-font-color"])&&r["cancel-font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({color:r["cancel-font-color"]}),!t.isNullOrUndefined(r["font-size"])&&r["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-inactive-footer").find(".e-dbrd-inactive-header-close").css({"font-size":r["font-size"]}))},_customThemeforfilterOverview:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.filterOverviewSettings)||(n=this.model.customThemeSettings.filterOverviewSettings,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(i=this.element.find(".e-dbrd-filterListMenuPopUp")[0],i.style.setProperty("background-color",n["background-color"],"important"),i.style.setProperty("border-color",n["background-color"],"important"),this.element.find(".e-dbrd-filterList").css({"background-color":n["background-color"]})),!t.isNullOrUndefined(n["footer-background-color"])&&n["footer-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-clearFilterdiv").css({"background-color":n["footer-background-color"]}),this.element.find(".e-brd-style-two").css({"border-color":n["footer-background-color"]})),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-lists").css({color:n["font-color"]}),this.element.find(".e-brd-list").css({color:n["font-color"]}),this.element.find(".e-brd-clearfilterclosetext").css({color:n["font-color"]}),this.element.find(".e-dbrd-filter-title").css({color:n["font-color"]}),this.element.find(".e-brd-overview-widgetTitle").css({color:n["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-lists").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-list").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-clearfilterclosetext").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-filter-title").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-overview-widgetTitle").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-lists").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-brd-list").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-brd-clearfilterclosetext").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-dbrd-filter-title").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-brd-overview-widgetTitle").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]})),!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-brd-clearFilters").css({color:n["icons-color"]}),!t.isNullOrUndefined(n["back-icon-color"])&&n["back-icon-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-overview-back").css({color:n["back-icon-color"]}),!t.isNullOrUndefined(n["clear-all-font-color"])&&n["clear-all-font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-clearAllFilters").css({color:n["clear-all-font-color"]}),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-lists").css({"font-size":n["font-size"]}),this.element.find(".e-brd-list").css({"font-size":n["font-size"]}),this.element.find(".e-brd-clearfilterclosetext").css({"font-size":n["font-size"]}),this.element.find(".e-dbrd-filter-title").css({"font-size":n["font-size"]}),this.element.find(".e-dbrd-clearAllFilters").css({"font-size":n["font-size"]}),this.element.find(".e-brd-overview-widgetTitle").css({"font-size":n["font-size"]})))},_customThemeforpassiveError:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.passiveErrorSettings)){var n=this.model.customThemeSettings.passiveErrorSettings;!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-error-notification").css({"background-color":n["background-color"]});!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-error-msg").css({color:n["font-color"]}),this.element.find(".e-error-msg-mobile").css({color:n["font-color"]}));!t.isNullOrUndefined(n["icons-color"])&&n["icons-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-close-notification").css({color:n["icons-color"]});!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-error-msg-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-errorDiv-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find("reload-button-mobile").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}));!t.isNullOrUndefined(n["link-color"])&&n["link-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-learnMore").css({color:n["link-color"]}),this.element.find(".e-dbrd-learnMore-text-mobile").css({color:n["link-color"]}));!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-error-msg-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-errorDiv-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find("reload-button-mobile").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}));!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-error-msg").css({"font-size":n["font-size"]}),this.element.find(".e-error-msg-mobile").css({"font-size":n["font-size"]}))}},_customThemeforerroredContainer:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.erroredContainer)||(n=this.model.customThemeSettings.erroredContainer,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&this.element.find(".align-center").css({"background-color":n["background-color"]}),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".align-center").css({color:n["font-color"]}),this.element.find(".e-nodata").css({color:n["font-color"]}),this.element.find(".e-higher-error-message").css({color:n["font-color"]})),!t.isNullOrUndefined(n["link-color"])&&n["link-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-link-btn").css({color:n["link-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".align-center").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-link-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-dbrd-refresh-link-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".align-center").css({"font-size":n["font-size"]}),this.element.find(".e-nodata").css({"font-size":n["font-size"]}),this.element.find(".e-dbrd-refresh-link-btn").css({"font-size":n["font-size"]})),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".align-center").css({"font-size":n["font-size"]}),this.element.find(".e-nodata").css({"font-size":n["font-size"]}),this.element.find(".e-dbrd-refresh-link-btn").css({"font-size":n["font-size"]})));t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)||(i=this.model.customThemeSettings.buttonSettings,!t.isNullOrUndefined(i["success-background-color"])&&i["success-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-refresh-link-btn").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-refresh-link-btn").css({"border-color":i["success-background-color"]})),!t.isNullOrUndefined(i["success-font-color"])&&i["success-font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-refresh-link-btn").css({color:i["success-font-color"]}))},_customThemefortooltip:function(){var n,i;t.isNullOrUndefined(this.model.customThemeSettings.tooltipSettings)||(n=this.model.customThemeSettings.tooltipSettings,!t.isNullOrUndefined(n["background-color"])&&n["background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tooltip").css({"background-color":n["background-color"]}),this.element.find(".e-dbrd-tooltip").css({"border-color":n["background-color"]}),this.element.find(".e-dbrd-tooltip").css({"box-shadow":"0 1px 4px"+n["background-color"]})),!t.isNullOrUndefined(n["font-color"])&&n["font-color"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({color:n["font-color"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(i=this.element.find(".e-dbrd-tooltip")[0],i.style.setProperty("font-family",this.model.customThemeSettings.fontSettings["font-family"],"important")),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({"fonts-size":n["font-size"]}),!t.isNullOrUndefined(n["font-size"])&&n["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-tooltip").css({"font-size":n["font-size"]}))},_customThemeforenableBtn:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)){var i=this.model.customThemeSettings.buttonSettings;!t.isNullOrUndefined(i["success-background-color"])&&i["success-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":i["success-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":i["success-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":i["success-background-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":i["success-background-color"]}));!t.isNullOrUndefined(i["success-font-color"])&&i["success-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:i["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({color:i["success-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:i["success-font-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:i["success-font-color"]}))}},_customThemefordisableBtn:function(){if(!t.isNullOrUndefined(this.model.customThemeSettings.buttonSettings)){var i=this.model.customThemeSettings.buttonSettings;!t.isNullOrUndefined(i["disabled-btn-background-color"])&&i["disabled-btn-background-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"background-color":i["disabled-btn-background-color"]}),this.currentTabContentElement.find(".e-brd-ControlImageExport").css({"border-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"background-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({"border-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"background-color":i["disabled-btn-background-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({"border-color":i["disabled-btn-background-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({"background-color":i["disabled-btn-background-color"]}));!t.isNullOrUndefined(i["disabled-btn-font-color"])&&i["disabled-btn-font-color"].length>t.DashboardConstants.Zero&&(this.currentTabContentElement.find(".e-brd-ControlImageExport").css({color:i["disabled-btn-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-params-reset-all-button").css({color:i["disabled-btn-font-color"]}),this.element.find(".e-dbrd-params-dialog-footer .e-dbrd-apply-button").css({color:i["disabled-btn-font-color"]}),n(window).width()<t.DashboardConstants.MobileWidth&&this.currentTabContentElement.find(".e-dbrd-mobileExportBtn").css({color:i["disabled-btn-font-color"]}))}},_mouseHoverOnMenu:function(i){var f,r,u,e;this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&(t.isNullOrUndefined(this.model.customThemeSettings.dashboard)||!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["menu-hover-color"])&&this.model.customThemeSettings.dashboard["menu-hover-color"].length>t.DashboardConstants.Zero&&(f=this.element.find(".e-menu .e-list"),f.css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]}),i.currentTarget.style.setProperty("background-color",this.model.customThemeSettings.dashboard["menu-hover-color"],"important"),r=this.element.find(".e-menu .e-list.e-haschild>a"),u="",n(i.currentTarget).parents().hasClass("e-haschild")||n(i.currentTarget).hasClass("e-haschild")?(u="",u=r.attr("style"),r.css("cssText",u+"background-color:"+this.model.customThemeSettings.dashboard["menu-hover-color"]+"!important"),r.css({color:this.model.customThemeSettings.menuSettings["font-color"]})):(u="",u=r.attr("style"),r.css("cssText",u+"background-color:"+this.model.customThemeSettings.menuSettings["background-color"]+"!important"),r.css({color:this.model.customThemeSettings.menuSettings["font-color"]}))));this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings)&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(e=this.element.find(".e-menu .e-list.e-haschild>a"),e.css("font-size",this.model.customThemeSettings.menuSettings["font-size"]))},_mouseLeaveOnMenu:function(){if(this.model.enableCustomTheming&&!t.isNullOrUndefined(this.model.customThemeSettings)&&!t.isNullOrUndefined(this.model.customThemeSettings.dashboard)&&(!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["hover-color"])&&this.model.customThemeSettings.dashboard["hover-color"].length>t.DashboardConstants.Zero||!t.isNullOrUndefined(this.model.customThemeSettings.dashboard["icon-hover-color"])&&this.model.customThemeSettings.dashboard["icon-hover-color"].length>t.DashboardConstants.Zero)){var n=this.element.find(".e-menu");n.css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]});this.element.find(".e-menu").children().find("a").css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]});n.children(".e-haschild").css({"background-color":this.model.customThemeSettings.menuSettings["background-color"]+"!important"})}},_customThemeforTabs:function(){var i,r,u,f;t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings)||(i=null,r=null,!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["background-color"])&&this.model.customThemeSettings.multitabSettings["background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-tab>.e-header .e-item").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-menu-container").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-res-popup").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]}),this.element.find(".e-dbrd-tab-res-element").css({"background-color":this.model.customThemeSettings.multitabSettings["background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-color"])&&this.model.customThemeSettings.multitabSettings["font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header .e-item>a").css({color:this.model.customThemeSettings.multitabSettings["font-color"]}),this.element.find(".e-dbrd-tab-res-text").css({color:this.model.customThemeSettings.multitabSettings["font-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["tab-hover-color"])&&this.model.customThemeSettings.multitabSettings["tab-hover-color"].length>t.DashboardConstants.Zero&&(i=this.model.customThemeSettings.multitabSettings["tab-hover-color"],r=".e-tab>.e-header .e-item:hover {border-bottom-color:"+i+"!important}.e-dbrd-tab-res-element:hover {background-color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["tab-hover-font-color"])&&this.model.customThemeSettings.multitabSettings["tab-hover-font-color"].length>t.DashboardConstants.Zero&&(i=this.model.customThemeSettings.multitabSettings["tab-hover-font-color"],r=".e-tab>.e-header .e-item>a:hover {color:"+i+"!important}.e-dbrd-tab-res-text:hover {color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["selected-font-color"])&&this.model.customThemeSettings.multitabSettings["selected-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-res-selected-font").css({color:this.model.customThemeSettings.multitabSettings["selected-font-color"]}),this.element.find(".e-tab>.e-header .e-active>a").css({color:this.model.customThemeSettings.multitabSettings["selected-font-color"]}),i=this.model.customThemeSettings.multitabSettings["selected-font-color"],r=".e-tab>.e-header .e-active:hover {color:"+i+"!important}.e-res-selected-font:hover {color:"+i+"!important}",n("head").prepend('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["selected-tab-color"])&&this.model.customThemeSettings.multitabSettings["selected-tab-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-tab>.e-header>.e-active").css({"border-bottom-color":this.model.customThemeSettings.multitabSettings["selected-tab-color"]}),this.element.find(".e-res-selected-element").css({"background-color":this.model.customThemeSettings.multitabSettings["selected-tab-color"]}),i=this.model.customThemeSettings.multitabSettings["selected-tab-color"],r=".e-tab>.e-header .e-active:hover {border-bottom-color:"+i+"!important}.e-res-selected-element:hover {background-color:"+i+"!important}",n("head").append('<style type= "text/css">'+r+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"])&&this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-ryt-icon-scroll-wrap").css({"background-color":this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"]}),this.element.find(".e-dbrd-left-icon-scroll-wrap").css({"background-color":this.model.customThemeSettings.multitabSettings["arrow-icons-background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["arrow-icons-color"])&&this.model.customThemeSettings.multitabSettings["arrow-icons-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-scroll-right").css({color:this.model.customThemeSettings.multitabSettings["arrow-icons-color"]}),this.element.find(".e-dbrd-scroll-left").css({color:this.model.customThemeSettings.multitabSettings["arrow-icons-color"]})),n(window).width()<t.DashboardConstants.MobileWidth&&(!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"])&&this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-multitab-mob-export-btn").css({"background-color":this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({"background-color":this.model.customThemeSettings.multitabSettings["multitab-export-button-background-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"])&&this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-brd-multitab-mob-export-btn").css({color:this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({color:this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"]}),u=this.model.customThemeSettings.multitabSettings["multitab-export-button-font-color"],f=".e-brd-multitab-mob-export-btn:before, .e-brd-multitab-mob-params-btn:before {color:"+u+"!important}",n("head").prepend('<style type= "text/css">'+f+"<\/style>")),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"])&&this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-element").css({"border-bottom-color":this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"]}),this.element.find(".e-brd-multitab-mob-params-btn").css({border:"1px solid "+this.model.customThemeSettings.multitabSettings["multitab-mobile-popup-border-color"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-family":this.model.customThemeSettings.fontSettings["font-family"]})),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]})),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-size"])&&this.model.customThemeSettings.multitabSettings["font-size"].length>t.DashboardConstants.Zero&&(this.element.find(".e-dbrd-tab-res-popup>.e-dbrd-res-ulist>.e-dbrd-tab-res-element").css({"font-size":this.model.customThemeSettings.multitabSettings["font-size"]}),this.element.find(".e-brd-multitab-mob-export-btn, .e-brd-multitab-mob-params-btn").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}))),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-family"])&&this.model.customThemeSettings.fontSettings["font-family"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header").css({"font-family":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(this.model.customThemeSettings.fontSettings["font-size"])&&this.model.customThemeSettings.fontSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header .e-item>a").css({"font-size":this.model.customThemeSettings.fontSettings["font-size"]}),!t.isNullOrUndefined(this.model.customThemeSettings.multitabSettings["font-size"])&&this.model.customThemeSettings.multitabSettings["font-size"].length>t.DashboardConstants.Zero&&this.element.find(".e-tab .e-header .e-item>a").css({"font-size":this.model.customThemeSettings.multitabSettings["font-size"]}))},_filterPanelCustomValues:function(i,r){var u,o,f,e;if(i.controlType!==null&&r!==null&&(u=i.controlType.toLocaleLowerCase(),u==="listbox"||u==="rangeslider"||u==="radiobutton"||u==="checkbox"||u==="filtercombobox"||u==="datepicker"))if(n(this.filterPanelCustomThemeCol).length===t.DashboardConstants.Zero)this.filterPanelCustomThemeCol.push({control:u,customThemeValue:r});else if(this.filterPanelCustomThemeCol.length>t.DashboardConstants.Zero)for(o=this.filterPanelCustomThemeCol.length,f=0;f<o;f++){if(e=this.filterPanelCustomThemeCol[f].control,e===u)return;e!==u&&this.filterPanelCustomThemeCol.push({control:u,customThemeValue:r})}}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.keyboardNavigation={_keyboardNavigation:function(i){var u,r,f,e,o;if(!t.isNullOrUndefined(i))if(this._off(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),this._off(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),u=40,i.type==="keydown"){this._on(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this._on(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this.isMouseClick=!1;r=null;switch(i.keyCode){case 17:n(this.element).find(".e-hightlight").removeClass("e-hightlight");break;case 9:n(i.currentTarget).hasClass("e-multiple-series")&&n(i.currentTarget).closest(".e-multiple-parent").find(".e-multiple-series").removeAttr("tabindex");n(i.currentTarget).hasClass("menuClicked")&&n(i.currentTarget).removeClass("menuClicked");n(this.element).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.element).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();n(this.element).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();n(this.element).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active");n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"&&this._tabMenuPopupHide(i);this._destroyCommentDialog(i);i.stopImmediatePropagation();break;case 27:n(i.currentTarget).hasClass("menuClicked")&&n(i.currentTarget).removeClass("menuClicked");n(this.element).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.element).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&n(window).width()>t.DashboardConstants.MobileWidth&&this._destroyControlMenu();n(this.element).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyContextMenu();this.element.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&this._closeFilterOverviewDialog(i);n(this.element).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active");n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").length>t.DashboardConstants.Zero&&n(".e-dashboarddatepicker.e-dashboarddatepicker-popup-wrapper.e-dbrd-control").hide();this.element.find("#"+this._dashboardId+"_tabMenuPopup").length>t.DashboardConstants.Zero&&this.element.find("#"+this._dashboardId+"_tabMenuPopup").css("display")==="block"&&this._tabMenuPopupHide(i);break;case 32:case 13:n(i.currentTarget).hasClass("e-remove-control-filter-enable")?(n(i.currentTarget).hasClass("e-hightlight")&&n(i.currentTarget).removeClass("e-hightlight"),n(i.currentTarget).click()):n(i.currentTarget).hasClass("e-dbrd-control-menu")?(n(i.currentTarget).click(),n("#"+this._id+"_controlMenuPopup").focus()):n(i.currentTarget).hasClass("e-dbrd-banner-menu")?(n(i.currentTarget).click(),n("#"+this._id+"_DashboardMenuPopup").focus()):n(i.currentTarget).hasClass("e-dbrd-filterListMenu")?(n(i.currentTarget).click(),n("#"+this._id+"_Commonmenupopupfilter").focus(),f=this.element.find(".e-dbrd-filterListMenuPopUp"),this._on(this.currentTabContentElement,"keydown",f.find("div[tabindex=0]"),f.find("span[tabindex=0]"),this._keyboardNavigationOnFilterOverview)):n(i.currentTarget.parentElement).hasClass("e-dbrd-banner-icon-container")?n(i.currentTarget).hasClass("e-dbrd-filterListMenu")?this._showMoreFiltersMenu(i):this._toolbarsInBanner(i):n(i.currentTarget).hasClass("e-dbrd-clearDiv")?this._clearAllFilters(i):n(i.currentTarget).hasClass("e-brd-clearFilters")?this._removeMoreFilterMenu(i):n(i.currentTarget).hasClass("e-dbrd-tab-menu-container")?(this._showTabMenu(i),n("#"+this.element.attr("id")+"_tabMenuPopup").focus()):n(i.currentTarget).hasClass("e-grid")&&!n(i.currentTarget).children().hasClass("e-addfilter-separator")||n(i.currentTarget).hasClass("e-dbrd-drill")||n(i.currentTarget).hasClass("e-brd-clearfilterclosetext")||n(i.currentTarget).hasClass("e-dbrd-maximize")||n(i.currentTarget).hasClass("e-dbrd-banner-description")||n(i.currentTarget).hasClass("e-dbrd-inactive-header-close")||n(i.currentTarget).hasClass("e-chkbox-wrap")||n(i.currentTarget).hasClass("e-radiobtn-wrap")||n(i.currentTarget).find(".e-multiple-series").length>t.DashboardConstants.Zero?n(i.currentTarget).click().focus():n(i.target).hasClass("e-datepicker")?(r=n.Event("keydown"),r.keyCode=u,r.altKey=!0,n(i.target).trigger(r)):n(i.currentTarget).find(".e-dropdownlist").length>t.DashboardConstants.Zero?n(i.currentTarget).find(".e-dropdownlist").attr("aria-expanded")==="true"?(e=n("#"+n(i.currentTarget).find(".e-dropdownlist").attr("id")+"_popup").find(".e-globalfilter-selection").find(".e-focus"),e.length>t.DashboardConstants.Zero&&e.click()):setTimeout(function(){r=n.Event("keydown");r.keyCode=u;r.altKey=!0;n(i.target).closest(".e-dbrd-control").focus().trigger(r);n(i.target).find(".e-dropdownlist").trigger(r).addClass("e-set-focus")},700):n(i.target).hasClass("e-dbrd-banner-widget-withoutcomments")||n(i.target).hasClass("e-dbrd-banner-widget-withcomments")?n(i.currentTarget).click():n(i.target).hasClass("e-dbrd-viewdata-dialog-close-icon")?n(i.currentTarget).click():n(i.target).hasClass("e-dbrd-viewdata-back-icon")?n(i.currentTarget).click():n(i.currentTarget).hasClass("e-dbrd-viewdata-export")&&(n(i.currentTarget).click(),n("#"+this.currentTabContentElement.attr("id")+"_controlMenuPopup").focus());i.stopImmediatePropagation();break;case 38:case 40:if(n(i.currentTarget.parentElement).hasClass("e-grid")&&n(i.currentTarget.parentElement).hasClass("e-dbrd-control"))o=n(i.currentTarget.parentElement).data("ejDashboardGrid"),t.isNullOrUndefined(o)||o.model.selectedRecords.length===t.DashboardConstants.Zero&&(n(i.currentTarget).focus(),n(i.currentTarget).ejDashboardGrid("selectRows",t.DashboardConstants.Zero,t.DashboardConstants.One));else if(n(i.currentTarget).find(".e-multiple-series").length>t.DashboardConstants.Zero){if(n(i.currentTarget).hasClass("e-last-child")&&i.keyCode===u||n(i.currentTarget).hasClass("e-first-child")&&i.keyCode===38)return;n(this.element).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.element).find(".e-hightlight").removeClass("e-hightlight");i.keyCode===38?n.tabPrev():n.tabNext();n(document.activeElement).hasClass("e-radiobtn-wrap")?n(document.activeElement).addClass("e-hightlight").click():n(i.currentTarget).find(".e-dbrd-tab-menu").length>t.DashboardConstants.Zero?i.keyCode===38?n(document.previousSibling).addClass("e-hightlight"):n(document.nextSibling).addClass("e-hightlight"):n(document.activeElement).addClass("e-hightlight");n.isFunction(i.preventDefault)&&i.preventDefault()}else n(i.currentTarget).find(".e-dropdownlist").length>t.DashboardConstants.Zero&&n(i.target).find(".e-dropdownlist").hasClass("e-set-focus")&&(n(i.target).find(".e-dropdownlist").removeClass("e-set-focus"),n(i.target).find(".e-ddl").focus());i.stopImmediatePropagation()}}else i.type==="focusin"&&(this.isMouseClick?this.isMouseClick=!1:this._on(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle),n(i.target).hasClass("e-multiple-parent")&&n(i.target).hasClass("e-focus-in")?n.tabPrev():n(i.target).hasClass("e-multiple-parent")&&!n(i.target).hasClass("e-focus-in")&&this._handleTabIndexForMultipleSeries(i.currentTarget,!0))},_keyboardNavigationOnFilterOverview:function(t){n(t.currentTarget).hasClass("e-dbrd-clearDiv")?this._clearAllFilters(t):n(t.currentTarget).hasClass("e-brd-clearFilters")&&this._removeMoreFilterMenu(t)},_keyboardNavigationKeyUp:function(){this._off(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle);this._off(this.currentTabContentElement,"focus","div[tabindex='0'],span[tabindex='0']",this.setFocusStyle)},setFocusStyle:function(i){n(this.element).find(".e-hightlight").length>t.DashboardConstants.Zero&&n(this.element).find(".e-hightlight").removeClass("e-hightlight");t.isNullOrUndefined(i)||n(i.currentTarget).hasClass("e-remove-control-filter-disable")||(n(i.currentTarget.parentElement).parent().attr("type")===t.dashboardViewer.Controls.ListBox?n(i.currentTarget).children().addClass("e-hightlight"):n(i.currentTarget).hasClass("e-dbrd-tab-container")?n(i.target).hasClass("e-dbrd-tab-container")?n(i.target).find(".e-dbrd-tab-menu-container").addClass("e-hightlight"):n(i.currentTarget).find(".e-active").addClass("e-hightlight"):n(i.currentTarget).addClass("e-hightlight"),this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length!==t.DashboardConstants.Zero&&(n(i.currentTarget).hasClass("e-dbrd-filterListMenuPopUp")||n(i.currentTarget).hasClass("e-brd-clearFilters")||n(i.currentTarget).hasClass("e-dbrd-clearDiv")||this._closeFilterOverviewDialog(i)),i.stopPropagation())}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.dashboardParameters={_textBoxkeyPress:function(n){var t;return n.target.type==="number"&&(t=n.which?n.which:n.keyCode,t>31&&t!==46&&(t<48||t>57))?!1:!0},_textBoxkeyUpEvent:function(n){this._compareChangedValuesforTextBox(n)},_radioButtonSelected:function(n,t){this._enableanddisableFilterIcon(t.model.value,this._getCurrentDefaultValue(n),n);t.type==="change"&&this._resetIconforValueChange(t.model.value,n)},_compareChangedValuesforTextBox:function(n){this._enableanddisableFilterIcon(n.target.value,this._getCurrentDefaultValue(n.target.getAttribute("name")),n.target.name);this._resetIconforValueChange(n.target.value,n.target.name)},_getCurrentDefaultValue:function(n){for(var r=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,i=0;i<r;i++)if(this.dashboardParameters.data[i].id===n){if(this.dashboardParameters.data[i].isDateRange)return[this.dashboardParameters.data[i].startDate,this.dashboardParameters.data[i].endDate,this.dashboardParameters.data[i].selectedRelativeDate];if(this.dashboardParameters.data[i].isDateRange||this.dashboardParameters.data[i].isMultiSelectionListMode){if(this.dashboardParameters.data[i].isMultiSelectionListMode)return this.dashboardParameters.data[i].valueCollection}else return this.dashboardParameters.data[i].value}return null},_resetIconforValueChange:function(i,r){var f=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button"),e=!1,u=0,o=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length;for(n(window).width()<t.DashboardConstants.MobileWidth&&(f="",f=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile")),u=0;u<o;u++)this.dashboardParameters.data[u].isDateRange?this.dashboardParameters.data[u].id===r&&i.start!==this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.Zero]&&i.end!==this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.One]||i.range!==this.dashboardParameters.data[u].defaultSelectedRelativeDate?this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i.start===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.Zero]&&i.end===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.One]&&i.range===this.dashboardParameters.data[u].defaultSelectedRelativeDate?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this.dashboardParameters.data[u].startDate===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.Zero]&&this.dashboardParameters.data[u].endDate===this.dashboardParameters.data[u].defaultRange[t.DashboardConstants.One]?!0:!1):this.dashboardParameters.data[u].isMultiSelectionListMode?this.dashboardParameters.data[u].id!==r||this._isSameForMultiSelection(i,this.dashboardParameters.data[u].defaultValueCollection)?this.dashboardParameters.data[u].id===r&&this._isSameForMultiSelection(i,this.dashboardParameters.data[u].defaultValueCollection)?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this._isSameForMultiSelection(this.dashboardParameters.data[u].valueCollection,this.dashboardParameters.data[u].defaultValueCollection)?!0:!1):this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i!==this.dashboardParameters.data[u].defaultValue?this.reset[r]=!1:this.dashboardParameters.data[u].id===r&&i===this.dashboardParameters.data[u].defaultValue?this.reset[r]=!0:Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id)||(this.reset[this.dashboardParameters.data[u].id]=this.dashboardParameters.data[u].value===this.dashboardParameters.data[u].defaultValue?!0:!1);for(u=0;u<o;u++)if(Object.prototype.hasOwnProperty.call(this.reset,this.dashboardParameters.data[u].id))if(this.reset[this.dashboardParameters.data[u].id]===!0)e=!0;else{e=!1;break}else{e=!1;break}e?f.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"}):f.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"})},_enableanddisableFilterIcon:function(n,i,r,u,f){if(!this.isPrompt){if(u&&!t.isNullOrUndefined(n))n.start!==i[t.DashboardConstants.Zero]||n.end!==i[t.DashboardConstants.One]||n.range!==i[2]?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable"));else f&&!t.isNullOrUndefined(n)?this._isSameForMultiSelection(n,i)?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):n!==i?(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-disable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-enable")):(this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").removeClass("e-enable"),this.element.find("#"+this._dashboardId+"_"+r+"_wrapper").find(".e-dbrd-params-reset").addClass("e-disable"));t.isNullOrUndefined(n)&&t.isNullOrUndefined(i)||this._enableorDisableOverallFilterIcon()}},_enableorDisableOverallFilterIcon:function(){var n=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply"),i=this.element.find(".e-dbrd-params-wrapper").find(".e-dbrd-params-reset.e-enable");i&&i.length!==t.DashboardConstants.Zero?(n.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}),this.applyParametersEnabled=!0):this.applyParametersEnabled||n.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})},_disableResetIcons:function(){var i="",u=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r;for(n(window).width()<t.DashboardConstants.MobileWidth?(i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile"),i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})):(i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button"),i.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})),r=0;r<u;r++)this.reset[this.dashboardParameters.data[r].id]=!0},_dropDownSelectionChanged:function(n,t){var i=t.model.showCheckbox?t.text.split(","):t.selectedValue;t.model.showCheckbox&&!t.isInteraction?this._isSameSelectionCountForMultiSelection(n,i)&&this._enableanddisableFilterIcon(i,this._getCurrentDefaultValue(n),n,!1,t.model.showCheckbox):this._enableanddisableFilterIcon(i,this._getCurrentDefaultValue(n),n,!1,t.model.showCheckbox);t.isInteraction&&this._resetIconforValueChange(i,n)},_checkDefaultValue:function(){for(var u,r=0,f=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,i=0;i<f;i++)this.dashboardParameters.data[i].isDateRange?this.dashboardParameters.data[i].startDate===this.dashboardParameters.data[i].defaultRange[0]&&this.dashboardParameters.data[i].endDate===this.dashboardParameters.data[i].defaultRange[1]&&(r+=t.DashboardConstants.One):this.dashboardParameters.data[i].isMultiSelectionListMode?this._isSameForMultiSelection(this.dashboardParameters.data[i].valueCollection,this.dashboardParameters.data[i].defaultValueCollection)&&(r+=t.DashboardConstants.One):this.dashboardParameters.data[i].value===this.dashboardParameters.data[i].defaultValue&&(r+=t.DashboardConstants.One);u=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-button");n(window).width()<t.DashboardConstants.MobileWidth&&(u="",u=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dbrd-params-reset-all-mobile"));this.dashboardParameters.data.length!==r&&u.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"})},_drawDashboardParametersDialog:function(i,r){var b=n(window).width()<t.DashboardConstants.MobileWidth?"e-mobile":"e-desktop",k='<div class="e-dbrd-params-dialog '+b+'" id="'+this._dashboardId+'_dashboardparametersdialog"><div class="e-dbrd-params-dialog-heading"><span class="e-dbrd-params-back-icon"><\/span><div class= "e-dbrd-params-dialog-close-icon"><\/div><div class="e-dbrd-params-reset-all-mobile e-disable" disabled="true">'+this.locale.utils.ResetAll+'<\/div><div class="e-dbrd-params-title">'+this.locale.utils.DashboardParameters+'<\/div><\/div><div class="e-dbrd-params-dialog-content-wrapper e-dbrd-control" id="'+this._dashboardId+'_dashboardparametersWrapper"><div><\/div><\/div><div class="e-dbrd-params-dialog-footer"><div class= "e-dbrd-params-reset-all-button e-disable" dbrd-params-id="all" disabled="true"><span>'+this.locale.utils.ResetParameters+'<\/span><\/div><input type="button" class="e-dbrd-apply-button e-dashboardparameters-apply e-disable" disabled="true" value="'+this.locale.utils.Apply+'" class="e-dbrd-btn" /><input type="button" class="e-dbrd-cancel-button e-dashboardparameters-cancel" value="'+this.locale.utils.Cancel+'" class="e-dbrd-btn" /><\/div><\/div>',f="",s="",h="",e=[],c,u,l,y,p,w;for(this.isPrompt=r,c=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<c;u++)if(l=r&&i[u].showInPromptDialog,i[u].showInParameterDialog||l){if(f=f+'<div class="e-dbrd-params-wrapper" id="'+this._dashboardId+"_"+i[u].id+'_wrapper"><div class="e-dbrd-params-lable">'+i[u].parameterName+'<\/div><div class= "e-dbrd-params-reset e-mobile e-disable" style ="display: none";><\/div>',i[u].dataType===3)f=f+'<div class = "e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" > <div class="e-dbrd-params-radio-wrapper"> <input type="radio" name="paramsradio" id="'+this._dashboardId+"_"+i[u].id+'_widget_true" class="e-dbrd-params-radio" style="height:25px; float:left; margin-left: 10px;"/> <label class="e-dbrd-params-radio-label">True<\/label><\/div> <div class="e-dbrd-params-radio-wrapper"><input type="radio" name="paramsradio" id="'+this._dashboardId+"_"+i[u].id+'_widget_false" class="e-dbrd-params-radio" style="height:25px; float:right;margin-left: 10px;"/><label class="e-dbrd-params-radio-label e-dbrd-false">False<\/label><\/div> <\/div>',e.push(i[u]);else switch(i[u].mode){case 0:i[u].dataType!==2&&i[u].dataType!==4?(s=i[u].dataType===1?"number":"text",h=r&&i[u].showInPromptDialog?"":i[u].value,f=f+'<div class="e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" ><span><input type="'+s+'" name="'+i[u].id+'" class="e-dbrd-params-textbox" value="'+h+'" /><\/span><\/div>'):(f=f+'<div class = "e-dbrd-params-input-container" id="'+this._dashboardId+"_"+i[u].id+'_container" > <input type="text" id="'+this._dashboardId+"_"+i[u].id+'_widget"/> <\/div>',e.push(i[u]));break;case 1:case 2:f=f+'<div class = "e-dbrd-params-input-container"id="'+this._dashboardId+"_"+i[u].id+'_container" ><input type="text" id="'+this._dashboardId+"_"+i[u].id+'_widget"/> <\/div>';e.push(i[u])}f=f+'<div class="e-dbrd-params-reset e-desktop e-disable" style ="display: none"; dbrd-params-id="'+i[u].id+'" data-tooltip="'+this.locale.clearFilterText+'"><\/div><\/div>'}var o=n(k),a=n(f),v=90,d=n(window).width()<t.DashboardConstants.MobileWidth?n(window).height()-v:236;o.find(".e-dbrd-params-dialog-content-wrapper>div").append(a);this.element.append(o);i.length>t.DashboardConstants.Zero&&o.find("#"+this._dashboardId+"_dashboardparametersWrapper").ejDashboardScroller({height:d,orientation:"vertical"});r&&(y=this.element.find(".e-dbrd-apply-button"),y.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}));this._checkDefaultValue();this.element.find(".e-dbrd-params-dialog").wrapAll('<div class="e-dbrd-params-inactive-prompt" id="'+this._dashboardId+'_inactive-prompt" style="width:'+this.element.width()/this.scalingFactor+"px;height: "+this.element.height()/this.scalingFactor+'px;"><\/div>');r&&!t.isNullOrUndefined(r)&&this._addClassforPromptDialog();this._renderDashboardParameterwidgets(a,e);this.model.enableWidgetMode&&n(window).width()>this._mobileWidth&&(this.element.find(".e-dbrd-params-dialog").addClass("e-dbrd-params-widgets"),this.element.find(".e-dbrd-params-input-container").css({"margin-left":"0px !important"}),this.element.find(".e-dbrd-params-lable").css({"margin-top":"10px !important"}),this.element.find(".e-dbrd-params-wrapper").css({"padding-top":"0px !important"}),p=this.element.find(".e-dbrd-params-inactive-prompt").height(),this.model.enableWidgetMode&&n(window).width()<this._mobileWidth&&i.length>t.DashboardConstants.Zero&&o.find("#"+this._dashboardId+"_dashboardparametersWrapper").ejDashboardScroller({height:p-v}),w=this.element.find("#"+this._dashboardId+"_dashboardparametersWrapper"),w.data("ejDashboardScroller").refresh());this.model.enableCustomTheming&&this._customTheme(["popup"])},_addClassforPromptDialog:function(){this.element.find(".e-dbrd-apply-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-apply-button").addClass("e-dbrd-ok-button");this.element.find(".e-dbrd-cancel-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-cancel-button").addClass("e-dbrd-prompt-cancel-button");this.element.find(".e-dbrd-params-dialog-close-icon").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-dialog-close-icon").addClass("e-dbrd-back-button");this.element.find(".e-dbrd-params-back-icon").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-back-icon").addClass("e-dbrd-close-button");this.element.find(".e-dbrd-params-reset-all-button").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-reset-all-button").addClass("e-dbrd-disable-params-reset-all-button");this.element.find(".e-dbrd-params-reset-all-mobile").length>t.DashboardConstants.Zero&&this.element.find(".e-dbrd-params-reset-all-mobile").addClass("e-dbrd-disable-params-reset-all-button")},_wireEventsforDashboardParametersDialog:function(){this._on(this.element,"click",".e-dbrd-apply-button.e-dashboardparameters-apply",this._applyDashboardParameters);this._on(this.element,"click",".e-dbrd-params-dialog-close-icon .e-dbrd-back-button,.e-dbrd-params-back-icon .e-dbrd-close-button,.e-dbrd-cancel-button .e-dashboardparameters-cancel ,e-dbrd-prompt-cancel-button,.e-dbrd-params-inactive-prompt",this._cancelDashboardParameters);this._on(this.element,"click",".e-dbrd-params-reset-all-button,.e-dbrd-params-reset-all-mobile",this._resetParameterSelection);this._on(this.element,"keypress change",".e-dbrd-params-textbox",this._textBoxkeyPress);this._on(this.element,"keyup change",".e-dbrd-params-textbox",this._textBoxkeyUpEvent);this._on(n(document),"keyup",this._handleParameterDialogKeyPress)},_unwireEventsforDashboardParametersDialog:function(){this._off(this.element,"click",".e-dbrd-apply-button.e-dashboardparameters-apply",this._applyDashboardParameters);this._off(this.element,"click",".e-dbrd-params-reset-all-button,.e-dbrd-params-reset-all-mobile",this._resetParameterSelection);this._off(this.element,"keypress change",".e-dbrd-params-textbox",this._textBoxkeyPress);this._off(this.element,"keyup change",".e-dbrd-params-textbox",this._textBoxkeyUpEvent);this._off(this.element,"click",".e-dbrd-params-dialog-close-icon .e-dbrd-back-button,.e-dbrd-params-back-icon .e-dbrd-close-button,.e-dbrd-cancel-button .e-dashboardparameters-cancel .e-dbrd-prompt-cancel-button,.e-dbrd-params-inactive-prompt",this._cancelDashboardParameters);this._off(n(document),"keyup",this._handleParameterDialogKeyPress);this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").hide()},_handleParameterDialogKeyPress:function(n){n.keyCode===27&&this.element.find(".e-dbrd-params-inactive-prompt").length===t.DashboardConstants.One&&this.element.find(".e-dbrd-params-inactive-prompt").click()},_resizeDashboardParametersDialog:function(){var i=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog"),h=this.element.find(".e-dbrd-params-inactive-prompt").height(),u,s,f;if(i.length!==t.DashboardConstants.Zero){n(window).width()<t.DashboardConstants.MobileWidth?i.removeClass("e-desktop").addClass("e-mobile"):i.removeClass("e-mobile").addClass("e-desktop");this.model.enableWidgetMode&&i.hasClass("e-desktop")?(this.element.find(".e-dbrd-params-dialog").addClass("e-dbrd-params-widgets"),this.element.find(".e-dbrd-params-input-container").css({"margin-left":"0px !important"}),this.element.find(".e-dbrd-params-lable").css({"margin-top":"10px !important"}),this.element.find(".e-dbrd-params-wrapper").css({"padding-top":"0px !important"})):this.model.enableWidgetMode&&i.hasClass("e-mobile")&&this.element.find(".e-dbrd-params-dialog").removeClass("e-dbrd-params-widgets");var c=this.element.find("#"+this._dashboardId+"_dashboardparametersWrapper"),r=c.data("ejDashboardScroller"),e=90,o=n(window).width()<t.DashboardConstants.MobileWidth?n(window).height()-e:236;for(this.model.enableWidgetMode&&i.hasClass("e-mobile")?r.option("height",h-e):r.option("height",o),r.option("height",o),r.refresh(),u=this.element.find(".e-dbrd-params-input-container .e-dropdownlist"),s=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,f=0;f<s;f++)this._parameterDropDownResize(u[f])}},_parameterDropDownResize:function(i){var f=i.id,r="",o,e,u,s;this.model.enableWidgetMode?(o=f.split("_")[t.DashboardConstants.Zero],r="dashboard"===o?f.split("_")[t.DashboardConstants.Zero]:f.split("_")[3]):r=f.split("_")[t.DashboardConstants.One];e=n("#"+this._dashboardId+"_"+r+"_widget").ejDashboardDropDownList("instance");u=this._mobileParameterDropDownWidthCalc();t.isNullOrUndefined(u)&&(u="240px");e.option("width",u);e.option("popupWidth",u);s=parseInt(n("#"+this._dashboardId+"_"+r+"_widget_popup_list_wrapper").width());n("#"+this._dashboardId+"_"+r+"_widget_popup").ejDashboardScroller({width:s+"px"});this._addParamHorizontalScrollbar(r)},_resetParameterSelection:function(i){var r,e,u,f;if(this.resetParameterApplied=!0,this.applyParametersEnabled=!1,n(i.currentTarget).hasClass("e-dbrd-params-reset-all-button e-enable")||n(i.currentTarget).hasClass("e-dbrd-params-reset-all-mobile e-enable")){for(r=this.dashboardParameters.data,e=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<e;u++)f=this.element.find("#"+this._dashboardId+"_"+r[u].id+"_container"),f.length>t.DashboardConstants.Zero&&this._replaceCurrentDefaultValue(f,r[u]);this._disableResetIcons();this.applyParametersEnabled=!1;this.resetParameterApplied=!1}},_replaceCurrentDefaultValue:function(n,i){var o=null,f=!1,e=[],s,h,l,a,u;if(i.dataType===3)s=n.find("#"+this._dashboardId+"_"+i.id+"_widget_true").data("ejDashboardRadioButton"),i.defaultValue==="True"?(s.option("checked",!0),this._resetIconforValueChange("True",i.id)):(s.option("checked",!1),this._resetIconforValueChange("False",i.id));else switch(i.mode){case 0:if(i.dataType!==2&&i.dataType!==4)h=n.find("input")[0],o=h.value,h.value=i.defaultValue,this._enableanddisableFilterIcon(null,null,i.id),f=o!==i.defaultValue||i.value!==i.defaultValue,f&&this._enableOrDisableApplyButton(i.value,i.defaultValue);else{var r=n.find(".e-dashboarddatepicker").data("ejDashboardDashboardDatePicker"),v=t.format(i.defaultValue,"yyyy/MM/dd"),c=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply");o=t.isNullOrUndefined(r.model.value.start)?r.model.value:r.model.value.start;r.model.value={range:null,start:v,end:null};i.isDateRange&&(e.push(i.startDate),e.push(i.endDate),r.model.value=i.isCustomDateRangeDefaultValue?{range:null,start:i.defaultRange[0],end:i.defaultRange[1]}:{range:i.defaultSelectedRelativeDate,start:null,end:null});r.redraw();r.model.value=i.defaultValue;i.isDateRange&&(r.model.value={start:i.startDate,end:i.endDate});this._enableanddisableFilterIcon(null,null,i.id);f=o!==i.defaultValue||i.value!==i.defaultValue||c.hasClass("e-enable");f=i.isDateRange?e[0]!==i.defaultRange[0]||e[1]!==i.defaultRange[1]||i.startDate!==i.defaultRange[0]||i.endDate!==i.defaultRange[1]||c.hasClass("e-enable"):f;f&&(l=i.isDateRange?e:i.value,a=i.isDateRange?i.defaultRange:i.defaultValue,this._enableOrDisableApplyButton(l,a,i.isDateRange))}break;case 1:case 2:u=n.find(".e-dropdownlist").data("ejDashboardDropDownList");!t.isNullOrUndefined(u)&&u.model.showCheckbox?(u.unCheckAll(),u.selectItemByValue(i.defaultValueCollection.join())):t.isNullOrUndefined(i.defaultValueCollection)?u.selectItemByValue(i.defaultValue):t.isNullOrUndefined(i.defaultValueCollection)||u.selectItemByValue(i.defaultValueCollection.join())}},_enableOrDisableApplyButton:function(n,i,r){var u=this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").find(".e-dashboardparameters-apply");!t.isNullOrUndefined(r)&&r?n[0]!==i[0]||n[1]!==i[1]?(u.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}),this.applyParametersEnabled=!0):u.hasClass("e-enable")&&!this.applyParametersEnabled&&u.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"}):n!==i?(u.removeClass("e-disable").addClass("e-enable").attr({disabled:!1}).css({cursor:"pointer"}),this.applyParametersEnabled=!0):u.hasClass("e-enable")&&!this.applyParametersEnabled&&u.removeClass("e-enable").addClass("e-disable").attr({disabled:!0}).css({cursor:"default"})},_openDashboardParametersDialog:function(n,i){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.openDashboardParameterPopUp,source:{element:null,data:n}});this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").length===t.DashboardConstants.Zero?(this._drawDashboardParametersDialog(n,i),this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").show()):this.element.find("#"+this._dashboardId+"_dashboardparametersdialog").show();this._wireEventsforDashboardParametersDialog();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.openDashboardParameterPopUp,source:{element:null,data:n}})},_applyDashboardParameters:function(n){var o,f,i,u,s,h,r,e;for(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.applyDashboardParameterValue,source:{element:null,data:this.dashboardParameters.data}}),this.multiTabDashboardParameter=JSON.parse(JSON.stringify(this.dashboardParameters)),o=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,f=0;f<o;f++)if(i=this.dashboardParameters.data[f],u=this.element.find("#"+this._dashboardId+"_"+i.id+"_container"),u.length>t.DashboardConstants.Zero)if(i.dataType===3)s=u.find("#"+this._dashboardId+"_"+i.id+"_widget_true").data("ejDashboardRadioButton"),i.value=s.model.checked?"True":"False";else switch(i.mode){case 0:i.dataType!==2&&i.dataType!==4?(h=u.find("input")[0],i.value=h.value):(r=u.find(".e-dashboarddatepicker").data("ejDashboardDashboardDatePicker"),i.isDateRange?(i.startDate=t.format(r.selectedStartDate.date,"yyyy/MM/dd"),i.endDate=t.format(r.selectedEndDate.date,"yyyy/MM/dd"),i.isCustomDateRange=t.isNullOrUndefined(r.selectedRange),i.selectedRelativeDate=!t.isNullOrUndefined(r.selectedRange)&&r.selectedRange.length>t.DashboardConstants.Zero?r.selectedRange[t.DashboardConstants.Zero].innerHTML:i.selectedRelativeDate):i.value=t.format(r.selectedDate.date,"yyyy/MM/dd"));break;case 1:case 2:e=u.find(".e-dropdownlist").data("ejDashboardDropDownList");t.isNullOrUndefined(e.model.value)||(i.valueCollection=e.model.value.split(","));i.value=e.model.value}this._unwireEventsforDashboardParametersDialog();this.element.find("#"+this._dashboardId+"_inactive-prompt").remove();this._applyPromptDashboardParameters(n);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.applyDashboardParameterValue,source:{element:null,data:this.dashboardParameters.data}})},_applyPromptDashboardParameters:function(i){var u,r;if(n(i.target).hasClass("e-dbrd-ok-button")){for(u=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r=0;r<u;r++)this.dashboardParameters.data[r].defaultValue=this.dashboardParameters.data[r].value;this._dashboardData().loadFromData||this.loadDashboard()}else this.refreshDashboard(null,!1)},_setAjaxDashboardParameterValue:function(n){var r=null,i;if(!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero){for(i=0;i<n.data.length;i++)n.data[i].data=null;r=JSON.parse(JSON.stringify(n))}else r=JSON.parse(JSON.stringify(n));return r},_cancelDashboardParameters:function(i){if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.cancelDashboardParameterDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:this.dashboardParameters.data}}),t.isNullOrUndefined(i))this._unwireEventsforDashboardParametersDialog(),this.element.find("#"+this._dashboardId+"_inactive-prompt").remove();else{var r=n(i.target).hasClass("e-dbrd-params-dialog-close-icon"),u=n(i.target).hasClass("e-dbrd-params-back-icon"),f=n(i.target).hasClass("e-dbrd-cancel-button"),e=n(i.target).hasClass("e-dbrd-params-inactive-prompt"),o=this.element.find(".e-dbrd-prompt-cancel-button").length>t.DashboardConstants.Zero;(r||u||f||e)&&(o||this.element.find("#"+this._dashboardId+"_inactive-prompt").remove())}this._cancelPromptDashboardParameters(i);this._trigger("actionComplete",{eventType:t.dashboardViewer.event.cancelDashboardParameterDialog,source:{element:t.isNullOrUndefined(i)?null:n(i.target),data:this.dashboardParameters.data}})},_cancelPromptDashboardParameters:function(i){var u,r;if(!t.isNullOrUndefined(i)&&(n(i.target).hasClass("e-dbrd-prompt-cancel-button")||n(i.target).hasClass("e-dbrd-back-button")||n(i.target).hasClass("e-dbrd-close-button"))){for(this.element.find("#"+this._dashboardId+"_inactive-prompt").remove(),u=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r=0;r<u;r++)this.dashboardParameters.data[r].data===null&&this.dashboardParameters.data[r].mode===t.DashboardConstants.Zero&&this.dashboardParameters.data[r].dataType!==2&&this.dashboardParameters.data[r].dataType!==4&&this.dashboardParameters.data[r].showInPromptDialog&&(this.dashboardParameters.data[r].defaultValue="",this.dashboardParameters.data[r].value="");this._dashboardData().loadFromData||this.loadDashboard()}},_renderDropDownWidget:function(i,r){var u=this._mobileParameterDropDownWidthCalc(),f;t.isNullOrUndefined(u)&&(u="240px");i.ejDashboardDropDownList({dataSource:r.data,width:"100%",popupWidth:u,popupHeight:"140px",showCheckbox:r.isMultiSelectionListMode,cssClass:"e-dbrd-canvas",fields:{text:r.mode===1?"valueMember":"displayMember",value:"valueMember"},change:n.proxy(this._dropDownSelectionChanged,this,r.id),popupShown:n.proxy(this._addScrollbar,this,r.id)});t.isNullOrUndefined(r.valueCollection)||!t.isNullOrUndefined(r.valueCollection)&&r.valueCollection.length===t.DashboardConstants.Zero?(i.data("ejDashboardDropDownList").selectItemByValue(r.value),r.defaultValueCollection=[],r.defaultValueCollection.push(r.defaultValue)):!t.isNullOrUndefined(r.valueCollection)&&r.valueCollection.length>t.DashboardConstants.Zero&&(r.isMultiSelectionListMode||t.isNullOrUndefined(r.value)||(r.valueCollection=[],r.valueCollection.push(r.value)),i.data("ejDashboardDropDownList").selectItemByValue(r.valueCollection));f=n(i).attr("id");n("#"+f+"_popup_list_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control")},_datePickerPopupOpened:function(n){n.model.scalingFactor=this.scalingFactor},_mobileParameterDropDownWidthCalc:function(){var i=null,r;return n(window).width()<t.DashboardConstants.MobileWidth&&(r=this.element.find(".e-dbrd-params-dialog-content-wrapper"),i=r.width()+"px"),i},_addParamHorizontalScrollbar:function(i){var r=n("#"+this._dashboardId+"_"+i+"_widget").data("ejDashboardDropDownList"),e=t.DashboardConstants.Zero,o=50,f;r.ultag.children("li").css({"white-space":"nowrap"});var s=n("#"+this._dashboardId+"_"+i+"_widget_popup"),u=r.ultag.children("li"),h=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length<o?u.length:o;for(f=0;f<h;f++)e=u.eq(f).find(".e-ddltxt").innerWidth(),e>s.width()?r.ultag.children("li").css({width:e+13+"px"}):r.ultag.children("li").css({width:"auto"});r.scrollerObj.model.width=s.width();r.scrollerObj.refresh()},_addScrollbar:function(t){var o=n("#"+this._dashboardId+"_"+t+"_widget_wrapper"),r=parseInt(n("#"+this._dashboardId+"_"+t+"_widget_popup_list_wrapper").css("max-height")),u;o.height(r);n("#"+this._dashboardId+"_"+t+"_widget_popup").height(r);n("#"+this._dashboardId+"_"+t+"_widget_popup_wrapper").addClass("e-drbd-cntrl-combobox e-dbrd-control");u=n("#"+this._dashboardId+"_"+t+"_widget").data("ejDashboardDropDownList");u.scrollerObj.model.height=r;u.scrollerObj.refresh();this._addParamHorizontalScrollbar(t);var f=n("#"+this._dashboardId+"_"+t+"_widget_wrapper"),i=n("#"+this._dashboardId+"_"+t+"_widget_popup_list_wrapper"),e=3;i.css("top",parseInt(i.css("top"))-(f.outerHeight()+e)+"px");i.css("top",parseInt(i.css("top"))+f.outerHeight()*this.scalingFactor+e*this.scalingFactor+"px")},_renderDatePickerWidget:function(i,r){var f=null,e=null,o=null,s=null,u="yyyy/MM/dd",h;t.isNullOrUndefined(t.globalize.parseDate(r.value,u))?(f=t.globalize.parseDate(r.value,"yyyy-MM-dd"),e=t.globalize.parseDate(r.defaultValue,"yyyy-MM-dd")):(f=t.globalize.parseDate(r.value,u),e=t.globalize.parseDate(r.defaultValue,u));r.defaultValue=t.format(e,u);r.value=t.format(f,u);o=t.globalize.parseDate(r.startDate,u);s=t.globalize.parseDate(r.endDate,u);r.startDate=t.format(o,u);r.endDate=t.format(s,u);i.ejDashboardDashboardDatePicker({cssClass:"e-dbrd-control",datePickerType:r.isDateRange?"range":"single",ranges:t.isNullOrUndefined(r.relativeDateItems)?null:n.parseJSON(r.relativeDateItems),highlightAvailableDates:!1,limitDate:!1,showCustomDatePicker:!0,showWeekNumbers:!1,startDate:r.isCustomDateRange?r.startDate:"1900/01/01",endDate:r.isCustomDateRange?r.endDate:"2050/12/31",dataSource:null,showDropDowns:!0,locale:{format:u},selected:n.proxy(this._datePickerSelectionChanged,this,r.id),value:{range:r.isCustomDateRange?null:r.selectedRelativeDate,start:r.isDateRange?r.isCustomDateRange?t.format(o,u):null:t.format(f,u),end:r.isCustomDateRange?t.format(s,u):null},popupShow:n.proxy(this._datePickerPopupOpened,this)});h=n(i).attr("id");n("#"+h+"_popup_wrapper").addClass("e-dbrd-params-date")},_datePickerSelectionChanged:function(n,t){var i=t.datePickerType==="single"?t.value:t.selectedValues;t.datePickerType==="range"&&(i.range=t.selectedRange,this.applyParametersEnabled=!1);this._enableanddisableFilterIcon(i,this._getCurrentDefaultValue(n),n,t.datePickerType==="range");t.type==="selected"&&this._resetIconforValueChange(i,n)},_renderDashboardParameterwidgets:function(i,r){for(var f,e,o,s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)f=i.find("#"+this._dashboardId+"_"+r[u].id+"_widget"),r[u].dataType===3?(e=i.find("#"+this._dashboardId+"_"+r[u].id+"_widget_true"),o=i.find("#"+this._dashboardId+"_"+r[u].id+"_widget_false"),e.ejDashboardRadioButton({checked:r[u].value==="True",size:"medium",value:"True",change:n.proxy(this._radioButtonSelected,this,r[u].id)}),o.ejDashboardRadioButton({checked:r[u].value==="False",size:"medium",value:"False",change:n.proxy(this._radioButtonSelected,this,r[u].id)})):r[u].mode===0&&(r[u].dataType===2||r[u].dataType===4)?this._renderDatePickerWidget(f,r[u]):this._renderDropDownWidget(f,r[u])},_fillDashboardParametersfromIntialFiltersifAny:function(n){var t,i;if(n!==null)for(t=0;t<n.length;t++)for(i=0;i<this.dashboardParameters.data.length;i++)if(n[t].Column.indexOf("@")!==-1&&n[t].Column.replace("@","")===this.dashboardParameters.data[i].parameterName){this.dashboardParameters.data[i].value=n[t].Values[0];break}},_dashboardparameterbuttonClick:function(i){t.isNullOrUndefined(i)||n(i.currentTarget).hasClass("e-brd-multitab-mob-params-btn")&&(this.element.find(".e-dbrd-tab-res-popup").css({display:"none"}),this.element.find(".e-dbrd-tab-res-inactive").css({display:"none"}));this._openDashboardParametersDialog(this.dashboardParameters.data,!1)},_stringifyParameterValue:function(i){for(var o,f,e=null,r=i.data,s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,u=0;u<s;u++)if(!t.isNullOrUndefined(r[u].value)&&t.isNullOrUndefined(r[u].value.start)&&t.isNullOrUndefined(r[u].value.end)){if(!n.isArray(r[u].value)&&this._hasRelativeDate(r[u].value))e={relativeDate:r[u].value};else if(n.isArray(r[u].value)){for(o=[],f=0;f<r[u].value.length;f++)t.isNullOrUndefined(r[u].value[f].value)?o=r[u].value:o.push(r[u].value[f].value);e={values:o}}else e={value:r[u].value};r[u].value=JSON.stringify(e)}else t.isNullOrUndefined(r[u].value.start)||t.isNullOrUndefined(r[u].value.end)||(r[u].value=JSON.stringify(r[u].value));return i.data=r,i},_hasRelativeDate:function(n){var t=n.split(" ");return t[0].toUpperCase()==="TOMORROW"||t[0].toUpperCase()==="TODAY"||t[0].toUpperCase()==="YESTERDAY"||t[0].toUpperCase()==="WEEK"||t[0].toUpperCase()==="YEAR"||t[0].toUpperCase()==="QUARTER"||t[0].toUpperCase()==="MONTH"||t[0].toUpperCase()==="SUCCEEDING"||t[0].toUpperCase()==="CURRENT"||t[0].toUpperCase()==="PREVIOUS"||t[0].toUpperCase()==="LAST"||t[0].toUpperCase()==="NEXT"||t[0].toUpperCase()==="UPCOMING"},_isSameForMultiSelection:function(n,i){var r=!1,u;if(n.length===i.length)for(u=0;u<n.length;u++)if(i.indexOf(n[u])!==t.DashboardConstants.IndexLowerBound)r=!0;else{r=!1;break}else r=!1;return r},_isSameSelectionCountForMultiSelection:function(n,i){for(var u=!1,f=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,r=0;r<f;r++)if(this.dashboardParameters.data[r].id!==n||this.resetParameterApplied){if(this.dashboardParameters.data[r].id===n&&this.resetParameterApplied&&this.dashboardParameters.data[r].defaultValueCollection.length===i.length){u=!0;break}}else if(this.dashboardParameters.data[r].valueCollection.length===i.length){u=!0;break}return u}}}(jQuery,SyncfusionDashboard),function(n,t){t.dashboardViewer=t.dashboardViewer||{};t.dashboardViewer.viewdata={_drawViewDataDialog:function(i,r,u,f){t.isNullOrUndefined(this.model.cdnFilePath)||n.ajax({url:this.model.cdnFilePath+"/"+t.dashboarDownLoadFileName.ejDashboardGrid+".all.min.js",dataType:"script",cache:!0,success:function(){}});var e=f?"none":"block",o=n(window).width()<t.DashboardConstants.MobileWidth?"e-mobile":"e-desktop",s='<div class="e-dbrd-viewdata-dialog '+o+'" id="'+this._id+'_viewDataDialog"><div class="e-dbrd-viewdata-wrapper" id="'+this._id+'_viewDataWrapper"><div class="e-dbrd-viewdata-tab-container" id="'+this._id+'_viewdata_tabContainer"><div class="e-dbrd-viewdata-headers"><span class="e-dbrd-viewdata-back-icon" tabIndex="0"><\/span><div class="e-dbrd-viewdata-dialog-close-icon" tabIndex="0"><\/div><div class="e-dbrd-viewdata-border"><\/div><div class="e-dbrd-viewdata-export" tabIndex="0"><\/div><div class="e-dbrd-viewdata-retrived-rows e-viewdata-header"><\/div><div class="e-dbrd-viewdata-title e-viewdata-header" style="color:'+u+'">'+r+'<\/div><\/div><div class="e-dbrd-viewdata-checkbox-container e-viewdata-check-box-block"><input class="e-dbrd-viewdata-checkbox" tabIndex="0" text=checkbox id="'+this._id+'_viewdata_showallcolumns">'+this.locale.utils.ShowAllColumns+'<\/input><\/div><ul class="e-dbrd-viewdata-tab-list"><li class="e-dbrd-viewdata-summary-raw" data-tabId="'+this._id+'_summaryData" data-tabName= '+t.DashboardConstants.SummaryData+'><a href="#'+this._id+'_SummaryData"><span>'+this.locale.utils.SummaryData+'<\/span><\/a><\/li><li class="e-dbrd-viewdata-summary-raw" style="display:'+e+'" data-tabId="'+this._id+'_rawData" data-tabName='+t.DashboardConstants.RawData+'><a href="#'+this._id+'_RawData"><span>'+this.locale.utils.RawData+"<\/span><\/a><\/li><\/ul><\/div><\/div><\/div>",h=n(s);this.currentTabContentElement.append(h);this.currentTabContentElement.find(".e-dbrd-viewdata-dialog").wrapAll('<div class="e-dbrd-viewdata-inactive" id="'+this._id+'_inactive-viewdata"><\/div>');this._createTabAndCheckBoxContainer();n("#"+i).parents(".e-dbrd-layout-cell").addClass("e-dbrd-view");n(window).width()>t.DashboardConstants.MobileWidth?this._setTabStyleForDesktop():this._setTabStyleForMobile();this._viewDataAjaxCall()},_createTabAndCheckBoxContainer:function(){var i=this.currentTabContentElement.find(".e-dbrd-viewdata-tab-container"),r;i.ejDashboardTab({selectedItemIndex:t.DashboardConstants.Zero,beforeActive:n.proxy(this._beforeViewDataTabActive,this),itemActive:n.proxy(this._afterViewDataTabActive,this)});i.removeClass("e-widget");this.currentTabContentElement.find(".e-active-content").addClass("e-dbrd-MaximizedControl");r=this.currentTabContentElement.find("#"+this._id+"_viewdata_showallcolumns");r.ejDashboardCheckBox({checked:!1,cssClass:"e-dbrd-canvas",change:n.proxy(this._enalbeViewDataCheckBox,this)});this.currentTabContentElement.find(".e-dbrd-viewdata-checkbox-container").addClass("e-viewdata-check-box-none")},_beforeViewDataTabActive:function(i){var u=n(i.activeHeader),f=n(i.prevActiveHeader).attr("data-tabname"),e=this.currentTabContentElement.find("#"+this._id+"_"+f),r;e.removeClass("e-dbrd-MaximizedControl");r=u.attr("data-tabname");this.tempViewDataDetails.isRawData=r===t.DashboardConstants.RawData},_afterViewDataTabActive:function(i){var r,u,f;if(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.viewDataTabActive,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}}),!t.isNullOrUndefined(i)){if(r=this.currentTabContentElement.find(".e-active-content"),r.addClass("e-dbrd-MaximizedControl"),u=this.currentTabContentElement.find(".e-dbrd-viewdata-checkbox-container"),this.tempViewDataDetails.isRawData?u.removeClass("e-viewdata-check-box-none"):u.addClass("e-viewdata-check-box-none"),r.find(".e-dbrd-reload-view-data").length>t.DashboardConstants.Zero){this.currentTabContentElement.find(".e-dbrd-viewdata-retrived-rows").text(t.DashboardConstants.Zero+t.DashboardConstants.RowRetrieved);r.css({display:"table"});return}f=this._checkRenderedField(i.activeHeader);f||this._viewDataAjaxCall()}this._trigger("actionComplete",{eventType:t.dashboardViewer.event.viewDataTabActive,source:{element:n(i.activeHeader),data:n(i.activeHeader).data("tabid")}})},_enalbeViewDataCheckBox:function(n){if(!t.isNullOrUndefined(n)){this._trigger("actionBegin",{eventType:t.dashboardViewer.event.viewDataCheckBoxClick,source:{element:n,data:n.isChecked}});this.tempViewDataDetails.isShowAllColumns=n.isChecked;var i=this.tempViewDataDetails.isShowAllColumns&&!t.isNullOrUndefined(this.tempViewDataDetails.showAllColumnsData),r=this.tempViewDataDetails.isRawData&&!t.isNullOrUndefined(this.tempViewDataDetails.rawData)&&!this.tempViewDataDetails.isShowAllColumns,e=i||r,u=i?this.tempViewDataDetails.showAllColumnsData:r?this.tempViewDataDetails.rawData:null,o=e&&!t.isNullOrUndefined(u),s=this.currentTabContentElement.find(".e-active-content"),f=s.data("ejDashboardGrid");t.isNullOrUndefined(f)||(f.destroy(),o?this._renderViewData(null,u):this._viewDataAjaxCall());this._trigger("actionComplete",{eventType:t.dashboardViewer.event.viewDataCheckBoxClick,source:{element:n,data:n.isChecked}})}},_viewDataAjaxCall:function(){var r=this.currentTabContentElement.find(".e-dbrd-view"),i=t.isNullOrUndefined(this.tempViewDataDetails.viewDataSelectedInfo)?[]:this.tempViewDataDetails.viewDataSelectedInfo,n={},u;n.controlId=r.find(".e-dbrd-control").attr("data-controlId");n.controlType=r.attr("data-controlType");i.length===t.DashboardConstants.Zero&&(i=this._removeCurrentWidgetMasterData(n.controlId));this.tempViewDataDetails.exportViewDataFilter=i;u=this.currentTabContentElement.find(".e-active-content");this._createControlWaitingIndicator(u,!1);var f=this._getGridSettings(),e=JSON.parse(JSON.stringify(this.dashboardParameters)),o={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({controlId:n.controlId,controlType:n.controlType,dashboardPath:this.dashboardPath(),dashboardName:this.dashboardName,isRawData:this.tempViewDataDetails.isRawData,showAllColumns:this.tempViewDataDetails.isShowAllColumns,rangeData:t.isNullOrUndefined(this.rangeData)?null:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,itemId:this.itemId,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,data:JSON.stringify(i),customCulture:this.model.localeSettings.culture,CustomLanguagePath:this.model.localeSettings.resourcePath,timeFormat:this.model.localeSettings.timeFormat,dateFormat:this.model.localeSettings.dateFormat,gridSettings:JSON.stringify(f),dashboardParameterSettings:this._setAjaxDashboardParameterValue(e),methodName:this.model.serviceMethods.viewData,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._renderViewData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(o)},_removeCurrentWidgetMasterData:function(n){var u=[],r,i;if(!t.isNullOrUndefined(n))for(r=this.dashboardControls.getAllControlsMasterData(),i=0;i<r.length;i++)r[i].ReportName!==n&&u.push(r[i]);return u},_checkRenderedField:function(i,r){var u=!1,e,f;if(!t.isNullOrUndefined(i)){if(u=this.tempViewDataDetails.isRawData&&!t.isNullOrUndefined(this.tempViewDataDetails.rawData),e=n(i).attr("data-tabname"),f=this.currentTabContentElement.find(".e-dbrd-viewdata-retrived-rows"),e===t.DashboardConstants.SummaryData)return this.tempViewDataDetails.summaryRowCount=t.isNullOrUndefined(r)?t.isNullOrUndefined(this.tempViewDataDetails.summaryRowCount)?t.DashboardConstants.Zero:this.tempViewDataDetails.summaryRowCount:r,f.text(this.tempViewDataDetails.summaryRowCount+t.DashboardConstants.RowRetrieved),t.isNullOrUndefined(r)&&this._resizeViewDataDialog(),!0;u&&(this.tempViewDataDetails.rawDataCount=t.isNullOrUndefined(r)?t.isNullOrUndefined(this.tempViewDataDetails.rawDataCount)?t.DashboardConstants.Zero:this.tempViewDataDetails.rawDataCount:r,f.text(this.tempViewDataDetails.rawDataCount+t.DashboardConstants.RowRetrieved))}return u},_renderViewData:function(i,r){var h,o;if(!t.isNullOrUndefined(r)){r=this._processResponseMessage(r);var e={},c=n(window).width()<t.DashboardConstants.MobileWidth?60:37,s=this.currentTabContentElement.find(".e-dbrd-viewdata-dialog"),l=s.find(".e-dbrd-viewdata-wrapper").height(),a=l+c,v=JSON.parse(JSON.stringify(this.dashboardParameters)),u=this._getViewDataMessageInfo(r),f=s.find(".e-active-content"),y=s.find(".e-active");if(u.rows=u.isError?t.DashboardConstants.Zero:u.rows,s.find(".e-dbrd-viewdata-retrived-rows").text(u.rows+t.DashboardConstants.RowRetrieved),!t.isNullOrUndefined(u.isError)&&u.isError&&!t.isNullOrUndefined(u.configInfo)){this._showControlError("",f,u.configInfo,!0);return}this._hideControlError(f);this._checkRenderedField(y,u.rows);h=new t.DataManager({json:t.parseJSON(r.d[t.DashboardConstants.Zero].Value)});o=this.currentTabContentElement.find(".e-dbrd-view");!t.isNullOrUndefined(o)&&o.length>t.DashboardConstants.Zero&&(e.controlId=o.find(".e-dbrd-control").attr("data-controlId"),e.controlType=o.attr("data-controlType"));e.pageSize=50;u.dataTable.length===t.DashboardConstants.Zero?f.append("<p>"+this.locale.utils.NoData+"<\/p>"):f.ejDashboardGrid({dataSource:h,allowSorting:!0,allowFiltering:!0,allowScrolling:!0,showColumnChooser:!1,allowResizeToFit:!0,query:(new t.Query).addParams("dashboardPath",this.dashboardPath()).addParams("controlId",e.controlId).addParams("controlType",e.controlType).addParams("masterData",JSON.stringify(this.dashboardControls.getAllControlsMasterData())).addParams("action","Initialize").addParams("GridRowCount",JSON.stringify(u.totalRowCount)).addParams("maxmindata",JSON.stringify([])).addParams("token",this.token).addParams("currentUser",JSON.stringify(this.currentUser)).addParams("controlRowCount",u.totalRowCount).addParams("rangeData",JSON.stringify(this.rangeData)).addParams("serverUrl",this.serverUrl()).addParams("dashboardParameterSettings",JSON.stringify(this._setAjaxDashboardParameterValue(v))),scrollSettings:{width:f.width(),height:f.height()-a,autoHide:!0,scrollerSize:10,enableTouchScroll:!0,allowVirtualScrolling:u.totalRowCount>50},load:function(){this.element.ejDashboardWaitingPopup({showOnInit:!1,template:n("#"+this._id+"_indicator")})},allowResizing:!0,columns:this._createViewDataColumn(u.columnList),pageSettings:{pageSize:e.pageSize,totalRecordsCount:u.totalRowCount},actionComplete:n.proxy(this._viewdataVirtualScrolling,this,u.totalRowCount,[],f)});this._destroyAllControlWaitingIndicator()}},_getViewDataMessageInfo:function(n){var i={},f,r,u;if(!t.isNullOrUndefined(n)){for(f=null,r=null,u=0;u<n.d.length;u++){f=n.d[u].Key;r=n.d[u].Value;switch(f){case t.DashboardConstants.Data:i.dataTable=JSON.parse(r);break;case t.DashboardConstants.TotalRowCount:i.totalRowCount=parseInt(r);break;case t.DashboardConstants.Rows:i.rows=parseInt(r);break;case t.DashboardConstants.ControlSchema:i.columnList=JSON.parse(r);break;case t.DashboardConstants.Error:i.isError=!0;break;case t.DashboardConstants.ConfigInfo:i.configInfo=JSON.parse(r)}}t.isNullOrUndefined(i.isError)&&!i.isError&&(t.isNullOrUndefined(this.tempViewDataDetails.rawData)&&!this.tempViewDataDetails.isShowAllColumns&&this.tempViewDataDetails.isRawData?this.tempViewDataDetails.rawData=n:this.tempViewDataDetails.isShowAllColumns&&t.isNullOrUndefined(this.tempViewDataDetails.showAllColumnsData)&&(this.tempViewDataDetails.showAllColumnsData=n))}return i},_viewdataVirtualScrolling:function(n,t,i,r){var u=i.data("ejDashboardGrid"),f,e,o;if(n<=50){f=this.currentTabContentElement.find(".e-active");e=u.model.currentViewData.length;this._checkRenderedField(f,e);return}u.initialRender&&r.requestType==="refresh"&&(o={instance:u,count:n,isLocal:!1,offline:!1,dataSource:!0,sortedColumns:t},this._updateDataSource(o,!0));u.model.pageSettings.totalPages===2&&(r.requestType==="virtualscroll"||r.requestType==="sorting")&&u.getScrollObject().refresh()},_createViewDataColumn:function(n){var r=[],i,u;if(!t.isNullOrUndefined(n))for(i=0;i<n.length;i++)n[i].DataType==="DateTime"?r.push({field:n[i].UniqueColumnName.toUpperCase().replace(/[\W]/g,""),headerText:n[i].Caption,width:100,format:"{0:"+n[i].DefaultDataType+"}",type:n[i].DataType,tooltip:"#colTip",clipMode:t.Grid.ClipMode.EllipsisWithTooltip}):r.push({field:n[i].UniqueColumnName.toUpperCase().replace(/[\W]/g,""),headerText:n[i].Caption,width:100,allowSorting:!0,tooltip:"#colTip",clipMode:t.Grid.ClipMode.EllipsisWithTooltip});return u="<script type=\"text/x-jsrender\" id='colTip'>{{:value}}<\/script>",this.currentTabContentElement.append(u),r},_exportExcelAndCSV:function(i){var o,u,f,s;if(!t.isNullOrUndefined(i)){n.isFunction(i.stopImmediatePropagation)&&i.stopImmediatePropagation();var r=n(i.currentTarget),e=n(this.currentTabContentElement).find(".e-dbrd-view"),h=n(e).find(".e-dbrd-control").attr("id"),c=e.find(".e-dbrd-control-container").attr("data-widget-id");r.attr("control-id",h);r.attr("data-widget-id",c);o=n("#"+r.attr("control-id")).parents(".e-dbrd-layout-cell").find(".e-control-prop").find(".e-dbrd-control-menu");this.tempViewDataDetails.isViewDataExport=!0;o.click();u=this.element.find(".e-menu-wrap");f=this.currentTabContentElement.find(".e-dbrd-viewdata-inactive");f.append(u);s=f.find(".e-dbrd-viewdata-dialog-close-icon").offset().left-n(i.currentTarget).offset().left;n(u).find(".e-menu").css({position:"fixed",top:n(i.currentTarget).offset().top+n(i.currentTarget).outerHeight()+"px",left:n(i.currentTarget).offset().left-s-n(i.currentTarget).outerWidth()+"px","z-index":"1000",width:"auto"})}},_setTabStyleForDesktop:function(){var n=this.currentTabContentElement.find(".e-dbrd-viewdata-dialog"),f=n.find(".e-dbrd-viewdata-tab-container"),e=this.element.height()-20-f.offset().top*2-n.find(".e-dbrd-viewdata-wrapper").height(),o=n.find(".e-dbrd-viewdata-title"),s=n.find("#"+this._id+"_SummaryData"),h=n.find("#"+this._id+"_RawData"),t=n.find(".e-dbrd-viewdata-retrived-rows"),i=n.find(".e-dbrd-viewdata-wrapper").width()-n.find(".e-dbrd-viewdata-dialog-close-icon").width()-n.find(".e-dbrd-viewdata-export").width()-550,r,u;o.css({"max-width":i+"px"});i<225?t.addClass("e-viewdata-check-box-none"):t.removeClass("e-viewdata-check-box-none");this.currentTabContentElement.height()<=190?n.find(".e-gridheader").addClass("e-viewdata-grid-header"):n.find(".e-gridheader").removeClass("e-viewdata-grid-header");r=n.find(".e-dbrd-viewdata-checkbox-container");n.find(".e-dbrd-viewdata-headers").append(r);s.addClass("e-dbrd-viewdata e-viewdata-summary-raw e-dbrd-control");h.addClass("e-dbrd-viewdata e-viewdata-summary-raw e-dbrd-control");u=this.currentTabContentElement.find(".e-dbrd-viewdata");u.css({height:e+"px"})},_setTabStyleForMobile:function(){var i=this.currentTabContentElement.height(),n=this.currentTabContentElement.find(".e-dbrd-viewdata-dialog"),r=n.find("#"+this._id+"_SummaryData"),u=n.find("#"+this._id+"_RawData"),f=n.find(".e-dbrd-viewdata-checkbox-container"),t;n.find(".e-dbrd-viewdata-tab-list").append(f);r.addClass("e-dbrd-viewdata e-dbrd-control").removeClass("e-viewdata-summary-raw");u.addClass("e-dbrd-viewdata e-dbrd-control").removeClass("e-viewdata-summary-raw");n.find(".e-active-content").css({width:n.find(".e-dbrd-viewdata-wrapper").width()});t=n.find(".e-dbrd-viewdata");t.css({height:i+"px"})},_resizeViewDataDialog:function(){var i=this.currentTabContentElement.find(".e-dbrd-viewdata-dialog");if(i.length>t.DashboardConstants.Zero){var f=n(window).width()<t.DashboardConstants.MobileWidth?60:37;n(window).width()<t.DashboardConstants.MobileWidth?(i.removeClass("e-desktop").addClass("e-mobile"),this._setTabStyleForMobile()):(i.removeClass("e-mobile").addClass("e-desktop"),this._setTabStyleForDesktop());var e=i.find(".e-dbrd-viewdata-wrapper").height(),o=e+f,r=i.find(".e-active-content"),u=r.data("ejDashboardGrid");t.isNullOrUndefined(u)||(u.setModel({scrollSettings:{height:r.height()-o,width:r.width()}}),u.element.find(".e-table").addClass("e-dbrd-viewdata-table"))}},_reloadViewDataDialog:function(){var i=this.currentTabContentElement.find(".e-dbrd-viewdata-dialog"),r=n(i.find(".e-active")).attr("data-tabname");this.tempViewDataDetails.isShowAllColumns=r!==t.DashboardConstants.SummaryData;this._viewDataAjaxCall()}}}(jQuery,SyncfusionDashboard),function(n,t){if(t.dashboardViewer=t.dashboardViewer||{},t.widget("ejDashboardViewer","ej.DashboardViewer",{_rootCSS:"e-dashboardviewer",element:null,dashboardWrapper:null,model:null,validTags:["div"],defaults:{serviceUrl:"",serverUrl:"",cssClass:"",dashboardPath:"",size:{height:"",width:""},_dashboardData:{loadFromData:!1,isControl:!1,layout:[],widgetData:[],isExportImage:!1,controlHeader:"",isScreenshot:!1,isExportPdf:!1,isWidgetSpecific:!1,isUnitTesting:!0,isTestCase:!1,isPinned:!1,isWidget:!1},enableServerSideCache:!1,enableClientSideCache:!0,cacheSettings:{capacity:null,enableAutoCleanup:!1,cleanupInterval:null},accessToken:null,enableFilterOverview:!0,onFilterOverviewUpdated:null,beforeFilterPanelOpen:null,filterPanelOpen:null,beforeFilterPanelClose:null,filterPanelClose:null,updatePageTitle:!1,showFilterPanelHeader:!0,showFilterPanelClose:!0,enableVirtualLoading:!0,cdnFilePath:null,enableAutoRefresh:!1,customWidgetStatus:[],autoRefreshSettings:[{tabName:null,tabIndex:0,showWaitingIndicator:!1,isWidgetSpecific:!1,widgets:[],intervalSettings:{mode:"Hourly",monthlySchedule:{day:1,months:1},weeklySchedule:{weeks:1,weekDay:[1]},dailySchedule:{days:1},hourlySchedule:{hours:0,minutes:0,seconds:30},yearlySchedule:{years:1,day:1,month:1}},trackData:!1,rowCount:""}],favoriteSettings:{enabled:!1,isFavorite:!1},allowComment:!1,commentSettings:{isDashboardCommented:!1,isWidgetCommented:!1,widgets:[]},enableDashboardScaling:!1,scaleSettings:{scalingFactor:null},responsiveSettings:{showMaximize:!1,showExport:!1},enableCustomTheming:!1,filterPanelSettings:{showIcon:!0,filterPanelId:null,showHeader:!0,showCloseIcon:!0,state:"collapsed"},customThemeSettings:"",enableWidgetMode:!1,widgetModeSettings:{name:null,id:null,title:null},filterOverviewSettings:{viewName:null,viewId:null,showSaveIcon:!1,showSaveAsIcon:!1,showViewSavedFilterIcon:!1},dashboardParameterSettings:{showIcon:!0,data:[]},_exportSettings:{canExportImage:!0,canExportPdf:!0,canExportExcel:!0,canExportCsv:!0},_baseUrl:null,_enableHyperLinkOnErrorMessage:!0,_isLiveData:!1,_isWebDesigner:!1,actionBegin:null,actionComplete:null,onSaveFilter:null,onSaveAsFilter:null,onViewSavedFilters:null,onWidgetCommented:null,onDashboardCommented:null,beforeWidgetRender:null,afterWidgetRender:null,beforeLayoutRender:null,afterLayoutRender:null,beforeMasterFilterApplied:null,dashboardCreated:null,onApplyConnection:null,destroy:null,beforePassiveErrorRender:null,onWidgetPin:null,currentMasterReport:null,filterParameters:null,beforeWidgetIconRendered:null,beforeDashboardIconRendered:null,beforeControlMenuOpen:null,beforeContextMenuOpen:null,onMenuItemClick:null,onMenuIconClick:null,onDashboardClick:null,onBannerIconClick:null,onFavoriteStateChange:null,onCommentDialogClosing:null,beforeNavigate:null,afterNavigate:null,showTab:!0,tabSelect:null,tabActive:null,selectedTabIndex:0,beforeDashboardFetch:null,selectedTabName:null,_selectedTabGuid:null,localeSettings:{resourcePath:"",culture:"",dateFormat:"",timeFormat:""},serviceMethods:{processRequestForPost:"ProcessRequestForPost",processRequestForGet:"ProcessRequestForGet",initializeControl:"InitializeControls",getDrilledChart:"GetChartDrilledData",savePdfFile:"SavePdfFile",saveCsvFile:"SaveCsvFile",saveExcelfile:"SaveExcelFile",saveImagefile:"SaveImageFile",exportAsExcel:"ExportAsExcel",navigateTo:"NavigateLinkedReport",viewData:"ViewData",downloadedexportedfiles:"DownloadedExportedFiles",saveImage:"SaveImage",multipleDashboardsExport:"MultipleDashboardsExport",getControlDataOnDemand:"GetControlDataOnDemand",getDrillControlData:"GetDrillControlData",authenticate:"Authenticate",getRefreshControlData:"GetRefreshControlData",getCultureScript:"GetCultureScript",getCultureScriptForCustomWidget:"GetCultureScriptForCustomWidget",getWidgetTitleInfo:"GetWidgetTitleInfo",savePdf:"SavePdf",exportAsCsv:"ExportAsCsv",getScriptsForCustomWidget:"GetScriptsForCustomWidget",getCustomWidgetCoreFiles:"GetCustomWidgetCoreFiles"},enableErrorCode:!1,onErrorCodeLink:"",interactionSettings:{allowHistoryMaintenance:!0,handleHistoryEvent:!0,multiSelectionInterval:500},onHistoryPopStateChange:null,showGetLinkIcon:!0,enableViewData:!0,widgetActionSettings:[{widgetId:"",actionSettings:[{type:"",actions:[]}]}],_isPublic:!1,_isUnlisted:!1,_unlistedCode:"",tabDetails:[],canLoadDataOffline:!1,dashboardData:null},observables:["dashboardPath","serviceUrl","updatePageTitle","enableFilterOverview"],dashboardPath:t.util.valueFunction("dashboardPath"),serviceUrl:t.util.valueFunction("serviceUrl"),serverUrl:t.util.valueFunction("serverUrl"),_dashboardData:t.util.valueFunction("_dashboardData"),enableFilterOverview:t.util.valueFunction("enableFilterOverview"),updatePageTitle:t.util.valueFunction("updatePageTitle"),dataTypes:{serviceMethods:"data",cacheSettings:"data",enableServerSideCache:"boolean",data:"array",currentMasterReport:"data",_isPublic:"boolean",_isUnlisted:"boolean",resourcePath:"data",culture:"data",_isLiveData:"boolean",enableComment:"boolean",isDashboardCommented:"boolean",isWidgetCommented:"boolean",enablePin:"boolean",isWidgetPinned:"boolean",widgetList:"array",time:"data",showIndicator:"boolean",isWidgetSpecific:"boolean",widgets:"array",isConsiderRowCount:"boolean",rowCount:"data"},_init:function(){if(t.isNullOrUndefined(this.model.filterParameters)&&(this.model.filterParameters=location.search.substr(t.DashboardConstants.One)),typeof String.prototype.trimRight!="function"&&(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}),this._setSessionTabAndMaster(),this.element.html(""),this._unWireEvents(),this._initialGlobalValues(),this._initPrivateProperties(),this.widgetDownLoadCount=0,this.currentWidgetDownloadCount=0,this._reassignDeprecatedApi(),this._initializeFilterParameters(),this._overrideTreemapDrillHeader(),this._clearCacheOnRefresh(),this.isPublicDashboard=this.model._isPublic||!1,this.isUnlistedDashboard=this.model._isUnlisted||!1,this.unlistedCode=this.model._unlistedCode||"",this.itemId=this.model._itemId||"",this._dashboardId=this._id,this._globalFilterId=this._dashboardId+t.DashboardConstants.GlobalFilter,this.onDemandTabs=!1,this.showFilterMenu=!1,this.element.empty().addClass("e-dashboardviewer"+this.model.cssClass),this.element.append(n("<div>").attr({id:this._id+"_Wrapper"}).addClass("e-dashboardWrapper")),this.dashboardWrapper=this.element.find("#"+this._id+"_Wrapper"),this.currentTabContentElement=this.dashboardWrapper,this._dashboardData().loadFromData)this._loadDashboardFromData();else{if(this.dashboardPath()===null||this.dashboardPath()===""){this._dashboardData().isWidget&&(this.isWidget=!0);this.isWidget?this._errorMsgPopup(this.locale.utils.DashboardNotConfiguredForWidget,!0):this._errorMsgPopup(this.locale.utils.DashboardNotConfigured,!0);return}if(this.serviceUrl()===null||this.serviceUrl()===""){this._dashboardData().isWidget&&(this.isWidget=!0);this.isWidget?this._errorMsgPopup(this.locale.utils.ServiceNotConfiguredForWidget,!0):this._errorMsgPopup(this.locale.utils.ServiceNotConfigured,!0);return}this._trigger("beforeDashboardFetch",this.requestHeaders);this.loadLayout(null,!0)}this._wireEvents()},_reassignDeprecatedApi:function(){var i,u,r,f,n;if(t.isNullOrUndefined(this.model.url)||(this.model.serviceUrl=this.model.url),t.isNullOrUndefined(this.model.report)||(this.model.dashboardPath=this.model.report),t.isNullOrUndefined(this.model.showTitleInHtmlTitle)||(this.model.updatePageTitle=this.model.showTitleInHtmlTitle),t.isNullOrUndefined(this.model.ondemandChangeConnectionString)||(this.model.onApplyConnection=this.model.ondemandChangeConnectionString),t.isNullOrUndefined(this.model.autorefreshSettings)||(this.model.enableAutoRefresh=this.model.autorefreshSettings.enableAutoRefresh,this.model.autoRefreshSettings.interval=this.model.autorefreshSettings.time,this.model.autoRefreshSettings.showWaitingIndicator=this.model.autorefreshSettings.showIndicator,this.model.autoRefreshSettings.isWidgetSpecific=this.model.autorefreshSettings.isWidgetSpecific,this.model.autoRefreshSettings.widgets=this.model.autorefreshSettings.widgets,this.model.autoRefreshSettings.isConsiderRowCount=this.model.autorefreshSettings.trackData,this.model.autoRefreshSettings.RowCountOfDatasource=this.model.autorefreshSettings.rowCount),t.isNullOrUndefined(this.model.cacheAjax)||(this.model.enableClientSideCache=this.model.cacheAjax.enableAjaxCache,this.model.cacheSettings.capacity=this.model.cacheAjax.capacity,this.model.cacheSettings.enableAutoCleanup=this.model.cacheAjax.enableExpiration,this.model.cacheSettings.cleanupInterval=this.model.cacheAjax.expirationMinutes),t.isNullOrUndefined(this.model.favoriteSettings.showFavoriteIcon)||(this.model.favoriteSettings.enabled=this.model.favoriteSettings.showFavoriteIcon),t.isNullOrUndefined(this.model.favoriteSettings.isFavoriteDashboard)||(this.model.favoriteSettings.isFavorite=this.model.favoriteSettings.isFavoriteDashboard),t.isNullOrUndefined(this.model.commentSettings.enableComment)||(this.model.allowComment=this.model.commentSettings.enableComment),t.isNullOrUndefined(this.model.commentSettings.isDashboardCommented)||(this.model.commentSettings.isDashboardCommented=this.model.commentSettings.isDashboardCommented),t.isNullOrUndefined(this.model.commentSettings.isWidgetCommented)||(this.model.commentSettings.isWidgetCommented=this.model.commentSettings.isWidgetCommented),t.isNullOrUndefined(this.model.commentSettings.commentedWidgetList)||(this.model.commentSettings.widgets=this.model.commentSettings.commentedWidgetList),!t.isNullOrUndefined(this.model.autoRefreshSettings.interval)||!t.isNullOrUndefined(this.model.autoRefreshSettings.intervalSettings)){if(i=[],this.model.autoRefreshSettings[t.DashboardConstants.Zero].isWidgetSpecific=this.model.autoRefreshSettings.isWidgetSpecific,this.model.autoRefreshSettings[t.DashboardConstants.Zero].trackData=this.model.autoRefreshSettings.trackData,this.model.autoRefreshSettings[t.DashboardConstants.Zero].showWaitingIndicator=this.model.autoRefreshSettings.showWaitingIndicator,t.isNullOrUndefined(this.model.autoRefreshSettings.intervalSettings)){if(this.model.autoRefreshSettings[t.DashboardConstants.Zero].intervalSettings={mode:"Hourly",hourlySchedule:{hours:t.DashboardConstants.Zero,minutes:t.DashboardConstants.Zero,seconds:this.model.autoRefreshSettings.interval}},this.model.autoRefreshSettings.isWidgetSpecific)for(u=this.model.autoRefreshSettings.widgets.length,r=t.DashboardConstants.Zero;r<u;r++)i.push({id:this.model.autoRefreshSettings.widgets[r],intervalSettings:{mode:"Hourly",hourlySchedule:{hours:t.DashboardConstants.Zero,minutes:t.DashboardConstants.Zero,seconds:this.model.autoRefreshSettings.interval}}});else i=this.model.autoRefreshSettings.widgets;this.model.autoRefreshSettings[t.DashboardConstants.Zero].widgets=i}else this.model.autoRefreshSettings[t.DashboardConstants.Zero].intervalSettings=this.model.autoRefreshSettings.intervalSettings,this.model.autoRefreshSettings[t.DashboardConstants.Zero].widgets=this.model.autoRefreshSettings.widgets;f=this.model.autoRefreshSettings[t.DashboardConstants.Zero];this.model.autoRefreshSettings=[];this.model.autoRefreshSettings[t.DashboardConstants.Zero]=f}this.model.canLoadDataOffline&&!t.isNullOrUndefined(this.model.dashboardData)&&(n=this._getDashboardInfoFromOfflineData(),this.model._dashboardData={loadFromData:!0,isControl:n.isWidget,layout:JSON.parse(n.layout),widgetData:JSON.parse(n.widgetData),isExportImage:!1,controlHeader:"",isScreenshot:!1,isTestCase:!0},this.includeGlobalFilter=n.includeGlobalFilter,this.model.currentMasterReport=t.isNullOrUndefined(n.masterData)?null:JSON.parse(n.masterData),this.tempDataForFilter=t.isNullOrUndefined(n.filterPanelData)?this.tempDataForFilter:JSON.parse(n.filterPanelData))},_setModel:function(n){var i,k,s,a,h,o,c,v,l,f,y,r,w,d,g,u,e,nt,tt,p,b;for(i in n)if(n.hasOwnProperty(i))switch(i){case"showTab":this.model.showTab=n[i];this.model.showTab?this._showTab():this._hideTab();break;case"dashboardPath":this._init();break;case"report":this.model.dashboardPath=n[i];this._init();break;case"enableAutoRefresh":this._clearAutoRefreshTimerAndCollection();this.model.enableAutoRefresh=n[i];this._resetAutoRefreshSettings();break;case"accessToken":this.model.accessToken=n[i];this._init();break;case"autoRefreshSettings":k=n[i];this._setModelAutoRefreshSettingsAPI(k);this.model.enableAutoRefresh&&this._resetAutoRefreshSettings();break;case"filterPanelSettings":s=n[i];this.model.filterPanelSettings.showIcon=t.isNullOrUndefined(s.showIcon)?this.model.filterPanelSettings.showIcon:s.showIcon;this._setFilterIcon();t.isNullOrUndefined(this.filterPanelObj)||this.filterPanelObj.getState()!==t.dashboardFilterPanel.state.Open||(this.model.filterPanelSettings.showHeader=this.filterPanelObj.model.showHeader=t.isNullOrUndefined(s.showHeader)?this.model.filterPanelSettings.showHeader:s.showHeader,this.model.filterPanelSettings.showCloseIcon=this.filterPanelObj.model.showCloseIcon=t.isNullOrUndefined(s.showCloseIcon)?this.model.filterPanelSettings.showCloseIcon:s.showCloseIcon,this.filterPanelObj._setFilterHeader(),this.filterPanelObj._setFilterCloseIcon());break;case"serviceUrl":this._init();break;case"url":this.model.serviceUrl=n[i];this._init();break;case"_dashboardData":this._init();break;case"updatePageTitle":this._updateDashboardTitleInBrowserPage();break;case"enableFilterOverview":this.model.enableFilterOverview=n[i];this._showFilterOverview();break;case"cssClass":this.model.cssClass=n[i];this._init();break;case"_isPublic":this._init();break;case"_isUnlisted":this._init();break;case"favoriteSettings":a=n[i];t.isNullOrUndefined(a.isFavorite)||(this.model.favoriteSettings.isFavorite=a.isFavorite);t.isNullOrUndefined(a.enabled)||(this.model.favoriteSettings.enabled=a.enabled);this._toggleFavoriteIcon();break;case"enableCustomTheming":this._customTheme(["banner","dashboard","container"]);break;case"filterParameters":this.clearAllFilters();!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters.trim().length>t.DashboardConstants.Zero?this._initializeFilterParameters():this.initialFilters=[];this._refreshMasterControl();this.refreshDashboard(null,!0,!0);this._showFilterOverview();break;case"enableWidgetMode":this.model.enableWidgetMode=n[i];break;case"widgetModeSettings":h=n[i];this.model.widgetModeSettings.name=t.isNullOrUndefined(h.name)?this.model.widgetModeSettings.name:h.name;this.model.widgetModeSettings.id=t.isNullOrUndefined(h.id)?this.model.widgetModeSettings.id:h.id;this.model.widgetModeSettings.title=t.isNullOrUndefined(h.title)?this.model.widgetModeSettings.title:h.title;this._init();break;case"localeSettings":o=n[i];this.model.localeSettings.resourcePath=t.isNullOrUndefined(o.resourcePath)?this.model.localeSettings.resourcePath:o.resourcePath;this.model.localeSettings.culture=t.isNullOrUndefined(o.culture)?this.model.localeSettings.culture:o.culture;this.model.localeSettings.dateFormat=t.isNullOrUndefined(o.dateFormat)?this.model.localeSettings.dateFormat:o.dateFormat;this.model.localeSettings.timeFormat=t.isNullOrUndefined(o.timeFormat)?this.model.localeSettings.timeFormat:o.timeFormat;this._init();break;case"selectedTabIndex":this.model.selectedTabIndex=n[i];this.selectTabByIndex(this.model.selectedTabIndex);break;case"selectedTabName":this.model.selectedTabName=n[i];this.selectTabByName(this.model.selectedTabName);break;case"_selectedTabGuid":this.model._selectedTabGuid=n[i];this._selectTabById(this.model._selectedTabGuid);break;case"allowComment":this.model.allowComment=n[i];this._isCommentWidget=n[i];this._enableOrDisableComment();break;case"commentSettings":c=n[i];this.model.commentSettings.isDashboardCommented=t.isNullOrUndefined(c.isDashboardCommented)?this.model.commentSettings.isDashboardCommented:c.isDashboardCommented;this.model.commentSettings.isWidgetCommented=t.isNullOrUndefined(c.isWidgetCommented)?this.model.commentSettings.isWidgetCommented:c.isWidgetCommented;this.model.commentSettings.widgets=t.isNullOrUndefined(c.widgets)?this.model.commentSettings.widgets:c.widgets;this.applyComments(this.model.commentSettings);break;case"size":v=n[i];this.model.size.height=t.isNullOrUndefined(v.height)?this.model.size.height:v.height;this.model.size.width=t.isNullOrUndefined(v.width)?this.model.size.width:v.width;this._init();break;case"enableServerSideCache":this.model.enableServerSideCache=n[i];this._init();break;case"enableClientSideCache":this.model.enableClientSideCache=n[i];this._init();break;case"cacheSettings":l=n[i];this.model.cacheSettings.capacity=t.isNullOrUndefined(l.capacity)?this.model.cacheSettings.capacity:l.capacity;this.model.cacheSettings.enableAutoCleanup=t.isNullOrUndefined(l.enableAutoCleanup)?this.model.cacheSettings.enableAutoCleanup:l.enableAutoCleanup;this.model.cacheSettings.cleanupInterval=t.isNullOrUndefined(l.cleanupInterval)?this.model.cacheSettings.cleanupInterval:l.cleanupInterval;this._init();break;case"filterOverviewSettings":f=n[i];this.model.filterOverviewSettings.viewName=t.isNullOrUndefined(f.viewName)?this.model.filterOverviewSettings.viewName:f.viewName;this.model.filterOverviewSettings.viewId=t.isNullOrUndefined(f.viewId)?this.model.filterOverviewSettings.viewId:f.viewId;this.model.filterOverviewSettings.showSaveIcon=t.isNullOrUndefined(f.showSaveIcon)?this.model.filterOverviewSettings.showSaveIcon:f.showSaveIcon;this.model.filterOverviewSettings.showSaveAsIcon=t.isNullOrUndefined(f.showSaveAsIcon)?this.model.filterOverviewSettings.showSaveAsIcon:f.showSaveAsIcon;this.model.filterOverviewSettings.showViewSavedFilterIcon=t.isNullOrUndefined(f.showViewSavedFilterIcon)?this.model.filterOverviewSettings.showViewSavedFilterIcon:f.showViewSavedFilterIcon;this._updateSavedViewFilters();break;case"showGetLinkIcon":this.model.showGetLinkIcon=n[i];this._showGetLinkIcon();break;case"interactionSettings":y=n[i];this.model.interactionSettings.allowHistoryMaintenance=t.isNullOrUndefined(y.allowHistoryMaintenance)?this.model.interactionSettings.allowHistoryMaintenance:y.allowHistoryMaintenance;this.model.interactionSettings.handleHistoryEvent=t.isNullOrUndefined(y.handleHistoryEvent)?this.model.interactionSettings.handleHistoryEvent:y.handleHistoryEvent;break;case"dashboardParameterSettings":if(r=n[i],w=!1,this.model.dashboardParameterSettings.showIcon=t.isNullOrUndefined(r.showIcon)?this.model.dashboardParameterSettings.showIcon:r.showIcon,t.isNullOrUndefined(r.data))t.isNullOrUndefined(r.showInPromptDialog)&&t.isNullOrUndefined(r.showInParameterDialog)||(this.dashboardParameters.data[0].showInPromptDialog=t.isNullOrUndefined(r.showInPromptDialog)?this.dashboardParameters.data[0].showInPromptDialog:r.showInPromptDialog,this.dashboardParameters.data[0].showInParameterDialog=t.isNullOrUndefined(r.showInParameterDialog)?this.dashboardParameters.data[0].showInParameterDialog:r.showInParameterDialog);else{for(d=t.isNullOrUndefined(r.data)?t.DashboardConstants.Zero:r.data.length,g=t.isNullOrUndefined(this.dashboardParameters.data)?t.DashboardConstants.Zero:this.dashboardParameters.data.length,u=0;u<d;u++)for(e=0;e<g;e++)r.data[u].parameterName===this.dashboardParameters.data[e].parameterName&&(t.isNullOrUndefined(r.data[u].isDateRange)||!r.data[u].isDateRange||t.isNullOrUndefined(r.data[u].isCustomDateRange)||r.data[u].isCustomDateRange?!t.isNullOrUndefined(r.data[u].isDateRange)&&r.data[u].isDateRange&&!t.isNullOrUndefined(r.data[u].isCustomDateRange)&&r.data[u].isCustomDateRange?this.dashboardParameters.data[e].selectedRelativeDate=r.data[u].selectedRelativeDate:!t.isNullOrUndefined(r.data[u].isMultiSelectionListMode)&&r.data[u].isMultiSelectionListMode?this.dashboardParameters.data[e].valueCollection=r.data[u].valueCollection:this.dashboardParameters.data[e].value=r.data[u].value:(this.dashboardParameters.data[e].startDate=r.data[u].startDate,this.dashboardParameters.data[e].endDate=r.data[u].endDate),this.dashboardParameters.data[e].showInPromptDialog&&(w=this.dashboardParameters.data[e].showInPromptDialog));w?this.loadLayout():this.refreshDashboard(null,!1)}break;case"widgetActionSettings":nt=n[i];this.model.widgetActionSettings=[];tt=nt[0].widgetActionSettings;this.model.widgetActionSettings=tt;break;case"tabDetails":this.model.tabDetails=n[i];this.updateTabName(this.model.tabDetails);break;case"dashboardData":p=n[i];!t.isNullOrUndefined(p)&&p!==""&&this.model.canLoadDataOffline&&(this.model.dashboardData=p,this._init());break;case"canLoadDataOffline":t.isNullOrUndefined(n[i])||(this.model.canLoadDataOffline=n[i],this.model._dashboardData.loadFromData=this.model.canLoadDataOffline);break;case"enableDashboardScaling":this.model.enableDashboardScaling=n[i];break;case"scaleSettings":b=n[i];this.model.scaleSettings.scalingFactor=t.isNullOrUndefined(b.scalingFactor)?this.model.scaleSettings.scalingFactor:b.scalingFactor}},_initializeFilterParameters:function(){var y,r,d,h,o,c,g,f,nt,w,e,b,k;if(!t.isNullOrUndefined(this.model.filterParameters)&&this.model.filterParameters!==""&&this.model.filterParameters.length!==t.DashboardConstants.Zero){y=[];try{for(this.model.filterParameters.indexOf("%25")!==t.DashboardConstants.IndexLowerBound&&(this.model.filterParameters=decodeURI(this.model.filterParameters)),y=decodeURI(this.model.filterParameters).replace(/~&~/g,String.fromCharCode(251)+String.fromCharCode(251)).replace(/~=~/g,String.fromCharCode(250)+String.fromCharCode(250)).replace(/~[?]~/g,String.fromCharCode(253)+String.fromCharCode(253)).replace(/~[/]~/g,String.fromCharCode(254)+String.fromCharCode(254)).replace(/&&/g,"&").replace(/&/g,"|,|").replace(/=/g,"|:|").replace(/~,~/g,String.fromCharCode(252)+String.fromCharCode(252)),r=y.split("|,|"),r=this._validateFilterCombinations(r),d=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,h=[],o=0;o<d;o++){if(r[o].indexOf(String.fromCharCode(254)+String.fromCharCode(253))>-1)var p=r[o].split(String.fromCharCode(254)+String.fromCharCode(253)),ut=p[1],ft=p[2],et=p[3];if(c=r[o].split("|:|"),c.length>=2){var u=c[0],i=c[1],s=null;if(u===String.fromCharCode(254)+"filterQuery"+String.fromCharCode(254)){g=CryptoJS.AES.decrypt(i,"RGFzaGJvYXJkIFVybCBLZXk=").toString(CryptoJS.enc.Utf8).replaceAll(String.fromCharCode(254),":");try{if(s=n.parseJSON(g),s.length!==t.DashboardConstants.Zero){this.model.currentMasterReport=s;continue}}catch(ot){}}else if(u.trim().toUpperCase()==="FILTERQUERY"){if(this.isGetLinkDashboard=!0,f=i.split("::"),nt=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,!t.isNullOrUndefined(i)&&f.length>t.DashboardConstants.One){for(w={},e=t.DashboardConstants.Zero;e<nt;e++){var l=f[e].indexOf(":"),it=l!==t.DashboardConstants.IndexLowerBound?f[e].substring(t.DashboardConstants.Zero,l):f[e],rt=l!==t.DashboardConstants.IndexLowerBound?f[e].substring(l+t.DashboardConstants.One):null;w[it]={masterData:rt}}this._privateFilterData=w;this._hasPrivateFilterData=!0}else s=i==="''"?[]:n.parseJSON(i),s.length!==t.DashboardConstants.Zero&&(b=this.dashboardControls.unMinifySelectedFilterInfo(s),this.model.currentMasterReport=b.masterData,this.dashboardControls.initialDashboardParameters=b.dashboardParams);continue}if(u.toUpperCase().trim()==="~TABINDEX~"){k=parseInt(i);t.isNullOrUndefined(i)||isNaN(k)||(this.model.selectedTabIndex=k);continue}if(u.toUpperCase().trim()==="~TABNAME~"){t.isNullOrUndefined(i)||i===""||(this.model.selectedTabName=i);continue}if(u.toUpperCase().trim()==="~TABID~"){t.isNullOrUndefined(i)||i===""||(this.model._selectedTabGuid=i);continue}if(u.toUpperCase().trim()==="~ISGETLINKDASHBOARD~"){!t.isNullOrUndefined(i)&&i&&(this.isGetLinkDashboard=i.toLowerCase()==="true"?!0:!1);continue}var a=this._processFilterData(i),v=a.Value,tt=this._hasKey(h,u.trim(),a.isExclude);tt.present?this._addIfNotPresent(tt.obj.Values,v):h.push({Column:u.trim(),Values:v.constructor===Array?v:[v],IsExclude:a.isExclude,FilterType:a.filterType})}}this.initialFilters=h}catch(st){}}},_processFilterData:function(n){var y,p;if(!t.isNullOrUndefined(n)){var e=!1,i=[],u=null,f="",o=n.match(/in *?\(/gi),s=n.match(/notin *?\(/gi),h=n.match(/between *?\(/gi),c=n.match(/inbetween *?\(/gi),l=n.match(/startswith *?\(/gi),a=n.match(/contains *?\(/gi),v=n.match(/endswith *?\(/gi),r=0;if(s!==null&&s.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(s[0],"").replace(")",""),e=!0,u="notin";else if(o!==null&&o.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(o[0],"").replace(")",""),u="in";else if(h!==null&&h.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(h[0],"").replace(")",""),u="between";else if(c!==null&&c.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(c[0],"").replace(")",""),u="inbetween";else if(l!==null&&l.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(l[0],"").replace(")",""),u="startswith";else if(a!==null&&a.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(a[0],"").replace(")",""),u="contains";else if(v!==null&&v.length!==t.DashboardConstants.Zero&&n.indexOf(")")!==t.DashboardConstants.IndexLowerBound)f=n.replace(v[0],"").replace(")",""),u="endswith";else{for(i=n.split(","),y=t.isNullOrUndefined(i)?i.length:t.DashboardConstants.Zero,r=0;r<y;r++)i[r]=i[r].trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,"");return{Value:i.length<=t.DashboardConstants.One?n.trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,""):i,isExclude:e,filterType:u}}if(f!==""){for(i=f.split(","),p=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<p;r++)i[r]=i[r].trim().replaceAll(String.fromCharCode(252)+String.fromCharCode(252),",").replaceAll(String.fromCharCode(251)+String.fromCharCode(251),"&").replaceAll(String.fromCharCode(250)+String.fromCharCode(250),"=").replaceAll(String.fromCharCode(253)+String.fromCharCode(253),"?").replaceAll(String.fromCharCode(254)+String.fromCharCode(254),"/").replace(/[""]/g,"");return{Value:i,isExclude:e,filterType:u}}}return""},_addIfNotPresent:function(n,i){if(!t.isNullOrUndefined(n&&i))if(i.constructor===Array)for(var r=0;r<i.length;r++)n.indexOf(i[r])===t.DashboardConstants.IndexLowerBound&&n.push(i[r]);else n.indexOf(i)===t.DashboardConstants.IndexLowerBound&&n.push(i)},_hasKey:function(n,i,r){for(var f=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,u=0;u<f;u++)if(n[u].Column===i&&n[u].IsExclude===r)return{present:!0,obj:n[u]};return{present:!1}},_initialGlobalValues:function(){this.stopRendering=!1;this.preventFilterPanelEvents=!1;this.isFilterPanelOpen=!1;this.timers=[];this.hiddenTabData={};this.isPublicDashboard=this.model._isPublic||!1;this.isUnlistedDashboard=this.model._isUnlisted||!1;this.unlistedCode=this.model._unlistedCode||"";this.itemId=this.model._itemId||"";this.isLinking=!1;this._id!==""?this._dashboardId=this._id:(n(this.element).attr("id","dashboard"),this._dashboardId=this.element.attr("id"));this.onDemandTabs=!1;this._privateFilterData=null;this._hasPrivateFilterData=!1;this.showFilterMenu=!0;this.multiDashboardExport=!1;this._base64Key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+";this.ajaxCacheStore=[];this.token=null;this.html5Supported=typeof sessionStorage!="undefined"&&t.browserInfo().name!=="webkit";this.html5Supported&&(this.token=window.sessionStorage.getItem("token"),window.sessionStorage.setItem("token",this.token));this.initialFilters=null;this.currentUser=null;this.multiSelectCollection=[];this.currentSlaveInfo=[];this.tabSwitchFromHistory=!1;this.isFromHistory=!1;this.dashboardParameters=[];this.multiTabDashboardParameter=[];this.summaryData=[];this.resize=!1;this.reset={};this.isPrompt=!1;this.requestHeaders=new RequestHeaders;this.updatedTime={};this.autoRefreshCollection=[];this.autoRefreshTimerCollection=[];this.hiddenTabRefreshKey=[];this.autoRefreshUserCollection=[];this.scheduleCollection=[];this.schedulerHiddenTabKeys=[];this.hiddenTabUpdateTime={};this.previousCacheKey=null;this.applyParametersEnabled=!1;this.resetParameterApplied=!1;this.HasDashboardParameter=!1;this.isGetLinkDashboard=!1;this.isLink=!1;this.dataSourceInfoCollection=[];this.dashboardExportSettings=[];this.scalingFactor=1;this.deScalingFactor=1},_initPrivateProperties:function(){this.updateTimer=null;this.isInitialFilterApplied=null;this.reportCultures=null;this._isCommentWidget=!0;this.hasFilterPanel=!1;this.includeGlobalFilter=!1;this.isDashboardResize=!1;this.filterPanelId=null;this.filterPanelDiv=null;this.filterPanelObj=null;this.globalFilterWrapper=null;this.isTabSwitch=!1;this.toolbarMethods=!1;this.showContext=!1;this.levels=[];this.slaveDataRequest=null;this.isFromAutoRefresh=!1;this.rendered=!1;this.filterDataLength=[];this.locale=jQuery.extend(!0,{},t.dashboardViewer.localization["en-US"]);this.isReloaded=!1;this.isFilterWidget=!1;this._isUnLoad=!1;this.widgetModeSettings=this.model.widgetModeSettings||this.defaults.widgetModeSettings;this.filterOverviewHeight=null;this.theme={};this.controlRelations=[];this.Context="";this.requestTimer=null;this.autorefreshTimer=null;this._id=this.element.attr("id");this.flag=!1;this.isWidget=!1;this.rangeData=[];this.masterData=[];this.mapControlsData=[];this.filterDataList=[];this.isMouseClick=!1;this.target=[];this.lastFocusElement="";this.currentScrollTop="";this.currentReport=[];this.CurrentMaster="";this.MapType=[];this.customRange=[];this.defaultRange=[];this.modifiedConnectionStrings=null;this.customRangeApplied=!1;this.DrillableMapEntries=[];this.rtl=!1;this.stackChartConfig=[];this.TitleLabels=[];this.scrollTop=0;this.previousDashboardSize=[];this.isPrintTriggered=!1;this.reportName="";this.reportDescription="";this.dashboardControls=new dbrddashboardControls;this.filterControls=new dbrddashboardControls;this.maximizedashboardControls=new dbrddashboardControls;this.appliedFilterData=[];this._gaugeTooltipTarget=null;this._gaugetoolTipTimer=null;this._ExportedImageFileName=null;this.fileName="";this.title="";this.exportDashboard=!1;this.imageValidation=!0;this.dashboardHeight=0;this.dashboardWidth=0;this.containerWidth=0;this.containerHeight=0;this.month=[];this.weekDays=[];this.clearFilter=!1;this.removeFilter=!1;this.orientation=this.locale.utils.DefaultOrientation;this.exportSettings={exportType:"",exportFormat:"",exportDpi:"",filename:"",pagesize:"",orientation:"",widgetSelection:"",dashboardSelection:"",widgetDrpDwnDisplay:!1,excelFileType:"",exportDashboard:!1,isMobile:!1,isExportTriggered:!1,subtitleName:""};this.filterPanelCustomThemeCol=[];this.errorHyperLink="https://help.syncfusion.com/dashboard-platform/dashboard-sdk/troubleshooting-errors#errorCode";this.loadAction=!1;this.isDialogNotCreated=!1;this.isExtendedLayout=!1;this.availableRowCount=0;this.layoutControls=null;this.pageInfo=[t.DashboardConstants.One];this.pageInformations=[t.DashboardConstants.One];this.heightOfCell=0;this.isDashboardScrolled=!1;this.isWidgetExceedCurrentPage=!1;this.layoutWrapperHeight=0;this.isRowsAvailable=!0;this.actualPages=[];this.pageHeight=0;this.currentScrollTop=0;this.currentScrollHeight=0;this.hiddenPageWidgetsForRefresh=[];this.exportImageHeightForExtendedLayout=0;this.currentActionSettings=null;this.isFromCache=!1;this.noNeedtoUpdateTimeSpan=!1;this.isVirtualScroll=!1;this.contextMenu=!1;this.isRefreshClicked=!1;this.pagesToRefresh=[];this.refreshedPages=[];this.isInitialFilterCleared=!1;this.initialFilterClearedList=[];this.isActionMenu=!1;this.showContextMenuTouchStart=!1;this.layout={};this.isParameterApplied=!1;this.filterPanelWidgetscollection=null;this.filterHeight=0;this.filteredInfo=null;this.dashboardDisplayName=null;this.tempViewDataDetails={};this.lastUpdatedGlobalFilter=[];this.currentDashboardExportType={DashboardName:null,HasExportPdf:!0,HasExportImage:!0,HasExportExcel:!0};this.hasGaugeCustomLabel=!1;this.gaugeTitleFontSize=0},_validateCredentials:function(){var r=this.element.find(".e-dbrd-dialog"),u=r.find(".e-dbrd-dialog-content"),c=t.isNullOrUndefined(u)?t.DashboardConstants.Zero:u.length,o=[],s=!1,i,h;for(r.find(".e-dbrd-dialog-heading .e-dbrd-dialog-header-error").hide(),i=0;i<c;i++){var n=u.eq(i),f=n.find(".e-input-container input[name=username]").val(),e=n.find(".e-input-container input[name=password]").val();if(t.isNullOrUndefined(f)||t.isNullOrUndefined(e)||f.trim()===""||e.trim()===""){s=!0;n.addClass("e-invalid");n.find(".e-error").html(this.locale.utils.UserNamePasswordEmpty);continue}else n.hasClass("e-invalid")&&n.removeClass("e-invalid");o.push({DataSourceName:n.find(".e-datasource-name").attr("data-name"),Username:f,Password:e})}s||(h={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardName:this.dashboardName,dashboardPath:this.dashboardPath(),authenticationData:JSON.stringify(o),methodName:this.model.serviceMethods.authenticate}),onSuccess:this._postAuthenticate,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(h),this._createControlWaitingIndicator(r,!0))},_postAuthenticate:function(i,r){var h=this,u,c,e,f,o,s;if(this._destroyAllControlWaitingIndicator(),!t.isNullOrUndefined(r)&&(u=t.isNullOrUndefined(r.d)?n.parseJSON(r.ResponseString):n.parseJSON(r.d.ResponseString),!t.isNullOrUndefined(u)))if(t.isNullOrUndefined(u.Token)){if(Object.prototype.toString.call(u)==="[object Array]"){for(c=this.element.find(".e-dbrd-dialog .e-dbrd-dialog-content"),e=0,f=0;f<u.length;f++)o=c.find(".e-datasource-name[data-name='"+u[f].DatasourceName+"']").parent(),u[f].IsInvalid?(o.addClass("e-invalid"),o.find(".e-error").html(this.locale.utils.InvalidCredentials),e+=t.DashboardConstants.One):o.hide();s=this.element.find(".e-dbrd-dialog #"+this._id+"_authWindowWrapper").data("ejDashboardScroller");s&&(s.model.height=e>t.DashboardConstants.One?"135":"75",s.refresh());e>t.DashboardConstants.One?this.element.find(".e-dbrd-dialog .e-dbrd-dialog-heading .e-dbrd-dialog-header-error").show():this.element.find(".e-dbrd-dialog .e-dbrd-dialog-heading .e-dbrd-dialog-header-error").hide();n(this.element).find(".e-dbrd-dialog .e-dbrd-control .e-dbrd-dialog-content:visible input:first").focus()}}else this.token=u.Token,this.html5Supported&&window.sessionStorage.setItem("token",this.token),this.element.find(".e-dbrd-dialog").remove(),this.loadLayout(null,!0),this._off(this.element,"keypress",function(i){i.keyCode===13&&n(h.element).find(".e-dbrd-dialog").find(".e-dbrd-controlWaiting").length===t.DashboardConstants.Zero&&h._validateCredentials()});return null},_wireEvents:function(){window.ontouchstart=function(){window.ontouchmove=null};var i=this;t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(this._on(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog),this._on(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-refresh-link-btn",this._refreshControl));window.addEventListener?window.addEventListener("message",this._receiveIFramePostMessage,!1):window.attachEvent("onmessage",this._receiveIFramePostMessage);this._on(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-support, .e-share-copy-btn, .e-dbrd-mobileCopyBtn",this._copyToClipboard);this._on(this.element,"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog);this._on(this.element,"click",".e-dbrd-refresh-link-btn",this._refreshControl);this._on(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-ok.e-success , .e-dbrd-alert .e-dbrd-dialog-heading .e-dbrd-dialog-close-icon,.e-dbrd-dialog-bgrnd, .e-dbrd-error-text-close",this._hideErrorDialog);this._on(this.element,"click",".e-dbrd-dialog .e-dbrd-dialog-footer .e-dbrd-btn.e-success",this._validateCredentials);this._on(n(window),"unload",n.proxy(function(){i._isUnLoad=!0},this));this._on(this.element,"click",".e-datavisualization-chart svg",function(){i._destroyContextMenu()});this._on(this.element,"click",".e-dbrd-clearDiv",this._clearAllFilters);this._on(this.element,"click",".e-dbrd-save-filterData, .e-dbrd-saveAs-filterData",this._saveFilterData);this._on(this.element,"click",".e-dbrd-view-saved",this._viewSavedFilter);this._on(this.element,"click",".e-brd-clearFilters",this._removeMoreFilterMenu);this._on(this.currentTabContentElement,"click",".e-multiple-series",this._focusMultipleSeriesOnClick);this._on(this.currentTabContentElement,"click",".e-dbrd-inactive-header-Menu-button",this._showMaximizedControlMenu);this._on(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withoutcomments",this._openWidgetCommentDialog);this._on(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withcomments",this._openWidgetCommentDialog);this._on(this.element,"click",".e-close-notification,.e-close-icon",this._closeNotification);this._on(this.element,"click",".e-brd-ControlImageCancel,.e-brd-exportPopupWindowClose, .e-dbrd-dialog-bgrnd-export, .e-dbrd-exportBack",this._hideExport);this._on(this.element,"keypress",".e-brd-imageResolution",this._validatingImageResolution);this._on(this.element,"keyup change",".e-brd-imageResolution",this._validatingResolutionLimit);this._on(this.element,"keyup",".e-brd-exportFilename, .e-brd-mobileFilenameText",this._validatingImageFilename);this._on(this.element,"keyup",".e-brd-exportWidgetTitle",this._validatingImageWidgetTitle);this._on(this.element,"click",".e-brd-PdfOrientationforportrait",this._selectPdfOrientationforportrait);this._on(this.element,"click",".e-brd-PdfOrientationforlandscape",this._selectPdfOrientationforlandscape);this.isWidget||this._on(this.element,"contextmenu touchstart touchend",".e-dbrd-control-container",this._showContextMenu);this._on(this.element,"click",".e-dbrd-banner-icon-container",this._toolbarsInBanner);this._on(this.element,"click",".e-dbrd-filterOverView-menu",this._showFilterOverviewMenu);this._on(this.element,"click",this._closeCommentDialog);this._on(this.element,"click",".e-dbrd-filterListMenu",this._showMoreFiltersMenu);this._on(n("body"),"mouseleave",".e-dbrd-MaximizedControl",this._onMaximizeLeave);this._on(n("body"),"mousemove",".e-dbrd-inactive",this._onMaximizeMove);this._on(this.currentTabContentElement,"click",".e-dbrd-desc-moreDiv",this._descShowOrLess);this._on(this.element,"click",".e-brd-Pdfcancel",this._cancelWaitingIndicator);this._on(n("body"),"mouseenter",".e-dbrd-layout-cell",this._onControlMouseOver);this._on(n("body"),"mouseenter",".e-dbrd-control",this._onControlMouseOver);this._on(n("body"),"touchstart",".e-dbrd-control",this._onControlMouseOver);this._on(n("body"),"mouseleave",".e-dbrd-control",this._onControlMouseLeave);this._on(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseMove);this._on(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseLeave);this._on(this.currentTabContentElement,"touchstart click",".e-control-prop ,.e-control-singleCard",this._toolbarMethods);this._on(this.element,"click",this._destroyPopups);this._on(this.currentTabContentElement,"mouseover","td .e-progressbar",this._showGridBarToolTip);this._on(this.currentTabContentElement,"mouseout","td .e-progressbar",this._hideGridBarToolTip);this._on(this.currentTabContentElement,"mouseover",".e-dbrd-interaction-filter",this._showTitleFilterToolTip);this._on(this.currentTabContentElement,"mouseout",".e-dbrd-interaction-filter,.e-dbrd-title-filter-wrapper",this._hideTitleFilterToolTip);this._on(this.element,"touchstart touchend mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._on(this.element,"mouseout",".e-dbrd-hoverable",this._hideDashboardToolTip);this._on(this.currentTabContentElement,"click",".e-control-desc-back",this._hideDescription);this._on(this.element,"mousemove",".e-dbrd-gaugeControl",this._showGaugeToolTip);this._on(this.element,"mouseout",".e-dbrd-gaugeControl",this._hideGaugeToolTip);this._on(this.element,"mousemove",".e-brd-list,.e-brd-lists",this._showFilterToolTip);this._on(this.element,"mouseout",".e-brd-list,e-brd-lists",this._hideFilterToolTip);this._on(this.element,"click",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._on(this.element,"contextmenu",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._on(this.element,"click",".e-dbrd-imageControl",this._loadimageSlaves);this._on(this.element,"keydown","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigation);this._on(this.element,"keyup","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigationKeyUp);this._on(n("body"),"keypress",this._exportEnter);this._on(n(document),"keyup",this._handleKeyPress);this._on(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this._tabIndexFocus);this._on(this.element,"focusin",".e-multiple-parent",this._keyboardNavigation);this._on(this.element,"click",".e-dbrd-export",this._exportControlData);this._dashboardData().isUnitTesting&&this._on(n(window),"resize",this._resizeDashboard);this._on(this.element,"click",".e-brd-ControlImageExport, .e-dbrd-mobileExportBtn",this._exportImagePopup);this._on(this.element,"touchstart click",".e-brd-ControlImageReset, .e-dbrd-exportResetIcon",this._ControlImageReset);this._on(this.element,"click",".e-reset-dbrd-btn",this.refreshDashboard);this._on(this.element,"click",".e-dbrd-banner-description",this._showReportDescription);this._on(this.element,"click",".e-dbrd-banner-export",this._exportDashboardImage);this._on(this.element,"click",".e-dbrd-banner-export",this._exportDashboardPdf);this._on(this.element,"click",".e-control-description",this._onControlDescriptionMouseOver);this._on(this.element,"click",".e-dbrd-dashboardfavIcon",this._setAsUnFavorite);this._on(this.element,"click",".e-dbrd-dashboardunfavIcon",this._setAsFavorite);this._on(this.element,"click",".e-dbrd-customIcon",this._triggerCustomEvent);this._on(this.element,"scroll",this._bodyScroll);this._on(this.element,"mousemove",".e-mhover",this._mouseHoverOnMenu);this._on(this.element,"mouseleave",".e-menu-wrap, .e-list, .e-memu-wrap,.e-menu",this._mouseLeaveOnMenu);this._on(this.element,"touchstart touchend mouseover","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label,.e-tab .e-header .e-link, .e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle, .e-dbrd-maxSubTitleText",this._onControlTitleMouseOver);this._on(this.element,"mouseleave","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label, .e-tab .e-header .e-link,.e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle",this._onControlTitleMouseLeave);this._on(this.element,"click",".e-dbrd-tab-menu-container",this._showTabMenu);this._on(this.element,"click",".e-dbrd-tab-res-icon-container",this._createNavigationDrawers);this._on(this.element,"click",".e-dbrd-tab-res-text",this._navigationItemClick);this._on(this.element,"click",".e-dbrd-scroll-right",this._scrollForward);this._on(this.element,"click",".e-dbrd-scroll-left",this._scrollBackward);this._on(this.element,"click",".e-dbrd-overview-back",this._hideFilterOverviewDialog);this._on(this.element,"click",".reload-button-mobile",this._reloadDashboard);this._on(this.element,"click",".e-dbrd-exportype , .e-brd-multitab-mob-export-btn",this._mobileExportContentCreate);this._on(this.element,"click",".e-dbrd-banner-link",this.openGetLinkDialog);this._on(this.element,"click",".e-brd-multitab-mob-params-btn",this._dashboardparameterbuttonClick);this._on(this.element,"click",".e-templatecell .e-gridhyperlink",this._gridLinking);this._on(this.element,"click",".e-dbrd-viewdata-dialog-close-icon, .e-dbrd-viewdata-back-icon, .e-dbrd-viewdata-dialog",this.closeViewDataDialog);this._on(this.element,"click",".e-dbrd-viewdata-export",this._exportExcelAndCSV);this._on(this.element,"click",".e-dbrd-reload-view-data",this._reloadViewDataDialog);this.model.interactionSettings.handleHistoryEvent&&this._on(n(window),"popstate",this._popBrowserHistory)},_layoutScroll:function(i){var r,e;if(n(window).width()<t.DashboardConstants.MobileWidth){this.isExtendedLayout&&(r=this,Math.floor(n(i.currentTarget).height()+n(i.currentTarget).scrollTop())>=n(i.currentTarget)[t.DashboardConstants.Zero].scrollHeight-100?(e=Math.max.apply(Math,r.pageInfo)+t.DashboardConstants.One,r._hasControl(r.layoutControls,e)&&r.pageInformations.indexOf(e)===t.DashboardConstants.IndexLowerBound&&r._scrollDashboardAction(e,n(i.currentTarget).scrollTop(),!0)):r.model.enableAutoRefresh&&r._refreshControlForUpdatedPages());var u=n("#"+n(i.currentTarget).attr("id")).scrollTop(),f=n("#"+this._id).find(".e-dbrd-overview-banner"),h=f.find(".e-dbrd-filterListMenu"),o=this.currentTabContentElement.find(".e-dbrd-banner"),s=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").height();h.css("display")==="none"?(n(".e-dbrd-overview-banner").css({display:"none"}),o.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"})):u>this.currentScrollTop&&u>t.DashboardConstants.Zero&&u<s?(n(".e-dbrd-overview-banner").stop(!0,!1).slideUp("fast"),f.css({height:"35px",position:"absolute",display:"none"}),o.css({"box-shadow":"0px 3px 4px 0px rgba(0,0,0,0.15)"}),n(".e-dbrd-layout-wrapper").css({height:n("#"+this.element.attr("id")).height()-n("#"+this.element.attr("id")).find(".e-dbrd-banner").height()})):u<t.DashboardConstants.One?(n(".e-dbrd-overview-banner").stop(!0,!1).slideDown("fast"),f.css({height:"35px",position:"initial",display:"block"}),o.css({"box-shadow":"0px 0px 0px 0px"}),n(".e-dbrd-layout-wrapper").css({height:n("#"+this.element.attr("id")).height()-f.height()-n("#"+this.element.attr("id")).find(".e-dbrd-banner").height()})):u>t.DashboardConstants.Zero&&u<s&&(n(".e-dbrd-overview-banner").stop(!0,!1).slideDown("fast"),o.css({"box-shadow":"0px 0px 0px 0px"}),f.css({height:"35px",position:"absolute",display:"block"}));this._destroyContextMenu();this.currentScrollTop=u}},_dashboardScroll:function(n,t){var i=this.currentScrollTop;this._scrollDashboardAction(n,i,t)},_scrollDashboardAction:function(i,r,u){var o,s,c,l,h,e;this.isRefreshClicked&&this.refreshedPages.indexOf(i)===t.DashboardConstants.IndexLowerBound&&this.refreshedPages.push(i);this.isDashboardScrolled=!0;var f=0,a=this.pageInfo[0];for(this.pageInfo=[],this.pageInfo.push(i),o=this._getCurrentTabOfflineData(this.model.selectedTabName),i!==a&&i!==2&&n(window).width()>t.DashboardConstants.MobileWidth?(s=this.currentTabContentElement.find(".e-dbrd-layout-wrapper").data("ejDashboardScroller"),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css("transform","scale("+this.deScalingFactor+")"),s.option("scrollTop",r),s.refresh(),this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css("transform","scale("+t.DashboardConstants.One+")")):this.model.canLoadDataOffline&&o.renderedPages.length===t.DashboardConstants.One||(this.currentTabContentElement.find(".e-dbrd-layout-wrapper").scrollTop(r),c=i-t.DashboardConstants.One,this._hideShowPageForMobile(c,!1)),l=this.layoutControls.length,f=0;f<l;f++)h=this.currentTabContentElement.find(".e-dbrd-control-container[id="+this.layoutControls[f].Guid+"]"),h.find(".e-dbrd-controlWaiting").length!==t.DashboardConstants.One&&i===this.layoutControls[f].Page&&this._createControlWaitingIndicator(h,!1);this.model.canLoadDataOffline&&!t.isNullOrUndefined(o)?this._loadOfflineDashboardOnDemand(JSON.parse(o.widgetData)):this.loadDashboardOnDemand();this._renderNextPageLayout(i,u);n(window).width()<t.DashboardConstants.MobileWidth&&(e=this,e.pageInformations=e.pageInformations.concat(e.pageInfo.filter(function(n){return e.pageInformations.indexOf(n)<t.DashboardConstants.Zero})))},_renderNextPageLayout:function(i,r){if(r){var u=this._calculateRowCount(this.availableRowCount);this.availableRowCount>t.DashboardConstants.Zero&&this.isRowsAvailable&&(this._addLayoutCell(u,24,this.heightOfCell,this.currentTabContentElement.find("#"+this._id+"_layout")),this._createLayout(this.layoutControls),n(window).width()<=t.DashboardConstants.MobileWidth&&(this._controlSizeCalculationForMobile(this.layoutControls,null),this._hideShowPageForMobile(i,!0)));this.availableRowCount=this._getAvailabelRowCount(this.availableRowCount)}},_loadOfflineDashboard:function(n){var i=0,r=this,u=[],f;for(this._setSelectedFilterValue(),this._hideDashboardPageOnInitForOfflineDashboard(),n=n.d,i=0;i<n.length;i++)n[i].controlType===t.DashboardConstants.TitleElement||n[i].controlType===t.DashboardConstants.ParameterColumnData||n[i].isFilterPanelControl||(u=this._getControlPageInfo(u,n[i]));f=this._getCurrentDashboardPageForWidgetRendering(u);this._startRenderingControls(null,f);this._dashboardData().isControl||this._callFunction(this._addFilterDataToTitle,{InteractionData:this.appliedFilterData});this._initializeFilterPanel();this._callFunction(function(){setTimeout(function(){r._trigger("dashboardCreated",{model:r.model,data:n,tabId:r.dashboardName,hasFilterPanel:r.hasFilterPanel})},300)})},_loadOfflineDashboardOnDemand:function(n){for(var i=0,r=this,u=[],f,i=0;i<n.length;i++)n[i].controlType===t.DashboardConstants.TitleElement||n[i].controlType===t.DashboardConstants.ParameterColumnData||n[i].isFilterPanelControl||(u=this._getControlPageInfo(u,n[i]));f=this._getCurrentDashboardPageForWidgetRendering(u);this._startRenderingControls(null,f);this._callFunction(function(){setTimeout(function(){r._trigger("dashboardCreated",{model:r.model,data:n,tabId:r.dashboardName,hasFilterPanel:r.hasFilterPanel})},300)})},_hasControl:function(n,i){for(var u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r=0;r<u;r++)if(n[r].Page===i)return!0;return!1},_bodyScroll:function(){var i=this,r=i.currentTabContentElement.scrollTop();i.currentTabContentElement.find("#"+i._id+"_InActiveDiv")&&n("#"+i._id+"_InActiveDiv").css({top:r+"px"});i.element.find(".e-dbrd-dialog-bgrnd").length>t.DashboardConstants.Zero&&n(".e-dbrd-dialog-bgrnd").css({top:r+"px"});i.element.find(".e-dbrd-dialog-bgrnd-export")&&n(".e-dbrd-dialog-bgrnd-export").css({top:r+"px"});i.element.find(".e-dbrd-dialog-bgrnd-export-waiting")&&n(".e-dbrd-dialog-bgrnd-export-waiting").css({top:r+"px"})},_unWireEvents:function(){window.removeEventListener?window.removeEventListener("message",this._receiveIFramePostMessage,!1):window.detachEvent("onmessage",this._receiveIFramePostMessage);var i=this;t.isNullOrUndefined(this.model.filterPanelSettings.filterPanelId)||(this._off(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog),this._off(n("#"+this.model.filterPanelSettings.filterPanelId),"click",".e-dbrd-refresh-link-btn",this._refreshControl));this._off(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-support",this._copyToClipboard);this._off(this.element,"click",".e-dbrd-link-btn,.e-dbrd-learnMore,.e-dbrd-learnMore-text-mobile, .e-error-msg-popup-mobile",this._showErrorDialog);this._off(this.element,"click",".e-dbrd-refresh-link-btn",this._refreshControl);this._off(this.element,"click",".e-dbrd-alert .e-dbrd-dialog-footer .e-dbrd-btn-ok.e-success , .e-dbrd-alert .e-dbrd-dialog-heading .e-dbrd-dialog-close-icon,.e-dbrd-dialog-bgrnd, .e-dbrd-error-text-close",this._hideErrorDialog);this._off(this.element,"click",".e-dbrd-dialog .e-dbrd-dialog-footer .e-dbrd-btn.e-success",this._validateCredentials);this._off(n(window),"unload",n.proxy(function(){i._isUnLoad=!0},this));this._off(this.element,"click",".e-datavisualization-chart svg",function(){i._destroyContextMenu()});this._off(this.element,"click",".e-dbrd-clearDiv",this._clearAllFilters);this._off(this.element,"click",".e-dbrd-save-filterData, .e-dbrd-saveAs-filterData",this._saveFilterData);this._off(this.element,"click",".e-dbrd-view-saved",this._viewSavedFilter);this._off(this.element,"click",".e-brd-clearFilters",this._removeMoreFilterMenu);this._off(this.currentTabContentElement,"click",".e-multiple-series",this._focusMultipleSeriesOnClick);this._off(this.currentTabContentElement,"click",".e-dbrd-inactive-header-Menu-button",this._showMaximizedControlMenu);this._off(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withoutcomments",this._openWidgetCommentDialog);this._off(this.currentTabContentElement,"click",".e-dbrd-banner-widget-withcomments",this._openWidgetCommentDialog);this._off(this.element,"click",".e-close-notification,.e-close-icon",this._closeNotification);this._off(this.element,"click",".e-brd-ControlImageCancel,.e-brd-exportPopupWindowClose, .e-dbrd-dialog-bgrnd-export, .e-dbrd-exportBack",this._hideExport);this._off(this.element,"keypress",".e-brd-imageResolution",this._validatingImageResolution);this._off(this.element,"keyup change",".e-brd-imageResolution",this._validatingResolutionLimit);this._off(this.element,"keyup",".e-brd-exportFilename, .e-brd-mobileFilenameText",this._validatingImageFilename);this._off(this.element,"keyup",".e-brd-exportWidgetTitle",this._validatingImageWidgetTitle);this._off(this.element,"click",".e-brd-PdfOrientationforportrait",this._selectPdfOrientationforportrait);this._off(this.element,"click",".e-brd-PdfOrientationforlandscape",this._selectPdfOrientationforlandscape);this.isWidget||this._off(this.element,"contextmenu touchstart touchend",".e-dbrd-control-container",this._showContextMenu);this._off(this.element,"click",".e-dbrd-banner-icon-container",this._toolbarsInBanner);this._off(this.element,"click",".e-dbrd-filterOverView-menu",this._showFilterOverviewMenu);this._off(this.element,"click",this._closeCommentDialog);this._off(this.element,"click",".e-dbrd-filterListMenu",this._showMoreFiltersMenu);this._off(n("body"),"mouseleave",".e-dbrd-MaximizedControl",this._onMaximizeLeave);this._off(n("body"),"mousemove",".e-dbrd-inactive",this._onMaximizeMove);this._off(this.currentTabContentElement,"click",".e-dbrd-desc-moreDiv",this._descShowOrLess);this._off(this.element,"click",".e-brd-Pdfcancel",this._cancelWaitingIndicator);this._off(n("body"),"mouseenter",".e-dbrd-layout-cell",this._onControlMouseOver);this._off(n("body"),"mouseenter",".e-dbrd-control",this._onControlMouseOver);this._off(n("body"),"touchstart",".e-dbrd-control",this._onControlMouseOver);this._off(n("body"),"mouseleave",".e-dbrd-control",this._onControlMouseLeave);this._off(n("body"),"mouseenter",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseMove);this._off(n("body"),"mouseleave",".e-dbrd-control .e-scrollbar",this._onScrollBarMouseLeave);this._off(this.currentTabContentElement,"touchstart click",".e-control-prop ,.e-control-singleCard",this._toolbarMethods);this._off(this.element,"click",this._destroyPopups);this._off(this.currentTabContentElement,"mouseover","td .e-progressbar",this._showGridBarToolTip);this._off(this.currentTabContentElement,"mouseout","td .e-progressbar",this._hideGridBarToolTip);this._off(this.currentTabContentElement,"mouseover",".e-dbrd-interaction-filter",this._showTitleFilterToolTip);this._off(this.currentTabContentElement,"mouseout",".e-dbrd-interaction-filter,.e-dbrd-title-filter-wrapper",this._hideTitleFilterToolTip);this._off(this.element,"touchstart touchend mousemove",".e-dbrd-hoverable",this._showDashboardToolTip);this._off(this.element,"mouseout",".e-dbrd-hoverable",this._hideDashboardToolTip);this._off(this.currentTabContentElement,"click",".e-control-desc-back",this._hideDescription);this._off(this.element,"mousemove",".e-dbrd-gaugeControl",this._showGaugeToolTip);this._off(this.element,"mouseout",".e-dbrd-gaugeControl",this._hideGaugeToolTip);this._off(this.element,"mousemove",".e-brd-list,.e-brd-lists",this._showFilterToolTip);this._off(this.element,"mouseout",".e-brd-list,e-brd-lists",this._hideFilterToolTip);this._off(this.element,"click",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._off(this.element,"click",".e-dbrd-imageControl",this._loadimageSlaves);this._off(this.element,"contextmenu",".e-childGauge-Series-master, .e-linearGauge-Series",this._loadGaugeSlaves);this._off(this.element,"keydown","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigation);this._off(this.element,"keyup","div[tabindex='0'],span[tabindex='0']",this._keyboardNavigationKeyUp);this._off(n("body"),"keypress",this._exportEnter);this._off(n(document),"keyup",this._handleKeyPress);this._off(this.element,"focus","div[tabindex='0'],span[tabindex='0']",this._tabIndexFocus);this._off(this.element,"focusin",".e-multiple-parent",this._keyboardNavigation);this._off(this.element,"click",".e-dbrd-export",this._exportControlData);this._off(n(window),"resize",this._resizeDashboard);this._off(this.element,"click",".e-brd-ControlImageExport, .e-dbrd-mobileExportBtn",this._exportImagePopup);this._off(this.element,"touchstart click",".e-brd-ControlImageReset, .e-dbrd-exportResetIcon",this._ControlImageReset);this._off(this.element,"click",".e-reset-dbrd-btn",this.refreshDashboard);this._off(this.element,"click",".e-dbrd-banner-description",this._showReportDescription);this._off(this.element,"click",".e-dbrd-banner-export",this._exportDashboardImage);this._off(this.element,"click",".e-dbrd-banner-export",this._exportDashboardPdf);this._off(this.element,"click",".e-control-description",this._onControlDescriptionMouseOver);this._off(this.element,"click",".e-dbrd-dashboardfavIcon",this._setAsUnFavorite);this._off(this.element,"click",".e-dbrd-dashboardunfavIcon",this._setAsFavorite);this._off(this.element,"click",".e-dbrd-customIcon",this._triggerCustomEvent);this._off(this.element,"scroll",this._bodyScroll);this._off(this.element,"mousemove",".e-mhover",this._mouseHoverOnMenu);this._off(this.element,"mouseleave",".e-menu-wrap, .e-list, .e-memu-wrap,.e-menu",this._mouseLeaveOnMenu);this._off(this.element,"touchstart touchend mouseover","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label,.e-tab .e-header .e-link, .e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle, .e-dbrd-maxSubTitleText",this._onControlTitleMouseOver);this._off(this.element,"mouseleave","e-brd-ControlImageReset, e-brd-ControlImageExport, e-brd-ControlImageCancel, e-brd-inactive-left, .e-dbrd-banner-title>p, .e-control-title,.e-dbrd-maxControl-title,.e-dbrd-control-checkbox .e-dbrd-checkbox-container  label,.e-dbrd-control-radiobtn .e-dbrd-radiobtn-container label, .e-tab .e-header .e-link,.e-dbrd-tab-menu-popup .e-list a, .e-control-subtitle, .e-dbrd-maxcontrol-subTitle",this._onControlTitleMouseLeave);this._off(this.element,"click",".e-dbrd-tab-menu-container",this._showTabMenu);this._off(this.element,"click",".e-dbrd-tab-res-icon-container",this._createNavigationDrawers);this._off(this.element,"click",".e-dbrd-tab-res-text",this._navigationItemClick);this._off(this.element,"click",".e-dbrd-scroll-right",this._scrollForward);this._off(this.element,"click",".e-dbrd-scroll-left",this._scrollBackward);this._off(this.element,"click",".e-dbrd-overview-back",this._hideFilterOverviewDialog);this._off(this.element,"click",".reload-button-mobile",this._reloadDashboard);this._off(this.element,"click",".e-dbrd-exportype , .e-brd-multitab-mob-export-btn",this._mobileExportContentCreate);this._off(this.element,"click",".e-dbrd-banner-link",this.openGetLinkDialog);this._off(this.element,"click",".e-brd-multitab-mob-params-btn",this._dashboardparameterbuttonClick);this._off(this.element,"click",".e-templatecell .e-gridhyperlink",this._gridLinking);this._off(this.element,"click",".e-dbrd-viewdata-dialog-close-icon, .e-dbrd-viewdata-back-icon, .e-dbrd-viewdata-dialog",this.closeViewDataDialog);this._off(this.element,"click",".e-dbrd-viewdata-export",this._exportExcelAndCSV);this._off(this.element,"click",".e-dbrd-reload-view-data",this._reloadViewDataDialog);this.model.interactionSettings.handleHistoryEvent&&this._off(n(window),"popstate",this._popBrowserHistory)},_destroy:function(){this._unWireEvents();this._destroySlaveControls();this.element.empty().removeClass("e-dashboardviewer"+this.model.cssClass);this._clearTimers();this._clearAutoRefreshTimerAndCollection();this._removeLinkTemplate()},_loadDashboardFromData:function(){var o,a,k,v,ft,w,e,ht,ct,lt,at,vt,b,yt,h,it,rt;this._destroyWaitingPopup();var i=null,c=window.data,pt=t.isNullOrUndefined(c)?t.DashboardConstants.Zero:c.length,u=null,r=0;if(window.isExportPdf)for(o=0;o<pt;o++)c[o].id===this._dashboardId&&(i=c[o].layoutString,u=c[o].widgetString);else i=window.dashboardLayoutString,u=window.dashboardWidgetString;if((this._dashboardData().isTestCase||this._dashboardData().layout.length!==t.DashboardConstants.Zero||this._dashboardData().widgetData.length!==t.DashboardConstants.Zero)&&(i=this._dashboardData().layout,u=this._dashboardData().widgetData),!this._dashboardData().isExportImage&&this._dashboardData().isTestCase&&!t.isNullOrUndefined(i)&&this.onDemandTabs===!1){for(r=0;r<i.length;r++)i[r].Key==="TabInformation"?(this.dashboardDetails=JSON.parse(i[r].Value),this._updateTabInfo(this.model.tabDetails)):i[r].Key==="DashboardParameters"?(this.dashboardParameters=JSON.parse(i[r].Value),!t.isNullOrUndefined(this.dashboardParameters.data)&&this.dashboardParameters.data.length>t.DashboardConstants.Zero&&(this.HasDashboardParameter=!0)):i[r].Key==="CustomWidgetCultures"?this._fetchCultureFilesForCustomWidget(JSON.parse(i[r].Value)):i[r].Key===t.DashboardConstants.IsDashboardParameter&&(this.isParameterApplied=i[r].Value);t.isNullOrUndefined(this.dashboardDetails)||(a=this.dashboardDetails.length,a>t.DashboardConstants.One?(k=this.getDashboardTabsInfo(),this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeTabCreated,data:k}),this._updateTabInfo(k),this._createDashboardTabs(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.beforeTabCreated,data:this.getDashboardTabsInfo()})):t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||a!==t.DashboardConstants.One||this.model._selectedTabGuid===this.dashboardDetails[t.DashboardConstants.Zero].DashboardId?t.isNullOrUndefined(this.model._selectedTabGuid)||this.model._selectedTabGuid===""||a!==t.DashboardConstants.Zero||this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:null}):(this._trigger("onTabSelectionFailure",{selectedTabGuid:this.model._selectedTabGuid,currentTabGuid:this.dashboardDetails[t.DashboardConstants.One].DashboardId}),this.model._selectedTabGuid=this.dashboardDetails[t.DashboardConstants.One].DashboardId))}t.isNullOrUndefined(u.d)&&(u={d:u});u.d.length===t.DashboardConstants.Zero||t.isNullOrUndefined(u.d[t.DashboardConstants.Zero].loadedPages)||u.d[t.DashboardConstants.Zero].loadedPages.length!==t.DashboardConstants.One||u.d[0].loadedPages.splice(0,1);this.modifiedConnectionStrings=null;var f=null,ut=null,s=t.isNullOrUndefined(this._dashboardData().masterControls)?"":this._dashboardData().masterControls,d=null,g=null;if(s.length>t.DashboardConstants.Zero)for(f=n("<div>").css({width:"100%",height:"auto","max-height":"25%",padding:"5px",overflow:"hidden"}).html(this.locale.utils.AppliedFilters),ut=s.length,r=0;r<ut;r++)d=s[r].Column,g=s[r].Data,s.length>5?f.append(n("<div>").css({width:"auto","text-overflow":"ellipsis",height:"100%","margin-left":"2px",padding:"2px"}).html(d+" : "+g)):f.append(n("<div>").css({width:"auto","text-overflow":"ellipsis",height:"100%","margin-left":"2px",padding:"5px"}).html(d+" : "+g)),this.currentTabContentElement.append(f);if(this.filterHeight=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.height(),this._dashboardData().isControl){v=JSON.parse(i[1].Value);ft=JSON.parse(i[2].Value);v.RowCount=1;v.ColumnCount=1;i[1].Value=JSON.stringify(v);var et=45,ot=45,nt=u.d[0].configInfo,y=this._getHeaderInfo(ft,nt),l=t.isNullOrUndefined(y)?null:this._getControlTitleAlignment(y.Label.LabelAlignment),p=n("<div>").attr({id:this._id+"_cell_"+nt.Row+"_"+nt.Column}),tt=n("<div>").addClass("e-control-heading").css({height:"30px",width:"100%"}),st=n("<div>").addClass(l),wt=t.isNullOrUndefined(y)?"":y.Label.HeaderLabelForeground.substr(3),bt=n("<span/>").addClass("e-control-title").css({display:"block",color:"#"+wt}).html(this._dashboardData().controlHeader);tt.append(st);st.append(bt);w=null;e=null;t.isNullOrUndefined(this._dashboardData().subtitleName)||this._dashboardData().subtitleName===""||(w=n("<div>").addClass("e-control-subtitleHeading").css({height:"25px",width:"100%"}),e=n("<div>").addClass(l),ht=n("<span/>").addClass("e-control-subtitle e-export-control-subtitle").html(this._dashboardData().subtitleName),e.css({height:"25px"}),w.append(e),e.append(ht));p.css({height:this._dashboardData().isExportImage?n(window).height()-this.filterHeight:"calc(100% - 10px)",width:"100%"});t.isNullOrUndefined(this._dashboardData().subtitleName)||this._dashboardData().subtitleName===""?p.append(tt.addClass(l),n("<div>").addClass("e-dbrd-control").css({height:this._dashboardData().isExportImage?t.isNullOrUndefined(f)?n(window).height()-ot:n(window).height()-(this.filterHeight+et+10):"calc(100% - 20px)",width:"100%",float:"left"})):p.append(tt.addClass(l),w.addClass(l),n("<div>").addClass("e-dbrd-control").css({height:this._dashboardData().isExportImage?t.isNullOrUndefined(f)?n(window).height()-(e.height()+ot):n(window).height()-(this.filterHeight+e.height()+et+10):"calc(100% - 20px)",width:"100%",float:"left"}));this.currentTabContentElement.append(p);this.model.enableCustomTheming&&this._customTheme(["container"])}else ct=JSON.parse(i[1].Value),this.currentReport={layout:i,data:[]},n("#"+this._id).append('<div class="e-dbrd-desc-tooltip"><\/div>'),this._setDashboardSize(),this._drawBannerRevamp(i),this._drawLayout(ct,i),lt=25,this.filterHeight===t.DashboardConstants.Zero||this._dashboardData().isWidgetSpecific||(at=n(window).height()-this.filterHeight-this.currentTabContentElement.find(".e-dbrd-banner").height()-lt,this.currentTabContentElement.find(".e-dbrd-layout-wrapper").css({height:this._dashboardData().isExportImage?this.isExtendedLayout?"auto":at:"calc(100% - 10px)",width:"100%"})),this._dashboardData().isWidgetSpecific&&this.filterHeight!==t.DashboardConstants.Zero&&(vt=0,b=this.currentTabContentElement.find(".e-dbrd-layout-cell").eq(vt),b.find(".e-dbrd-control-container").attr("type")!=="Grid"&&b.css({height:b.height()-n(".e-dbrd-banner").height()-this.filterHeight}));if(this.element.find(".e-dbrd-tooltip").length===t.DashboardConstants.Zero&&this.element.append(n("<div>").attr({id:this._id+"_toolTip"}).addClass("e-dbrd-tooltip")),this._dashboardData().isScreenshot)this._renderControl(null,u);else{for(yt=t.isNullOrUndefined(u.d)?t.DashboardConstants.Zero:u.d.length,r=0;r<yt;r++)h=new Dbrdcontrol,h=h.clone(u.d[r]),h.isFilterPanelControl=this._isFilterPanelWidget(h.reportName),this.dashboardControls.addControl(h);this._dashboardData().isExportImage&&this.isExtendedLayout&&!this._dashboardData().isControl&&this.actualPages.length!==this.pageInformations.length&&this.filterHeight>t.DashboardConstants.Zero&&this._setSelectedFilterValue();this.model.canLoadDataOffline&&!t.isNullOrUndefined(this.model.dashboardData)?this._loadOfflineDashboard(u):this._startRenderingControls()}(this._dashboardData().isExportImage&&this.isExtendedLayout&&!this._dashboardData().isControl&&this.actualPages.length!==this.pageInformations.length||window.isExportPdf)&&(this.element.find(".e-dashboardWrapper").css("position","relative"),this.element.css({height:"auto"}));this._dashboardData().isExportImage&&this._setComboboxSelectedItemForPDFExport(s);this.model._dashboardData.isControl&&(this._trigger("dashboardCreated",{model:this,data:i,hasFilterPanel:this.hasFilterPanel}),it=this._getKeyFromCookie(),rt=this._popSessionStorageData(it),!this.model.interactionSettings.allowHistoryMaintenance||this.isFromHistory||this.tabSwitchFromHistory?this.model.interactionSettings.allowHistoryMaintenance&&this.tabSwitchFromHistory&&(this._pushSessionStorage("TabSwitch"),this.tabSwitchFromHistory=!1):t.isNullOrUndefined(rt)||rt.dashboardPath!==this.dashboardPath()?this._pushSessionStorage("initial"):this._replaceState(it))},_setComboboxSelectedItemForPDFExport:function(i){var f=this.dashboardControls.getAllControls(),r,o,u,e;if(!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(i))for(r=0;r<f.length;r++)if(f[r].controlType.indexOf(t.dashboardViewer.Controls.FilterComboBox)!==t.DashboardConstants.IndexLowerBound&&!f[r].configInfo.ShowAsListBox&&(o=!0,u=n("#"+this._id+t.DashboardConstants.Widget+f[r].configInfo.Id+"_hidden"),!t.isNullOrUndefined(u)&&u.length>t.DashboardConstants.Zero)){for(u.css({color:"#000000"}),u.removeAttr("placeholder"),e=0;e<i.length;e++)i[e].Control===f[r].configInfo.Id&&(u.attr("value",i[e].Data.toString()),o=!1);o&&u.attr("value",t.DashboardConstants.All)}},_setSelectedFilterValue:function(){var r=this._dashboardData().selectedFilterInfo,n,i;if(!t.isNullOrUndefined(r))for(n=0;n<r.length;n++)for(i=0;i<this.dashboardControls.controls.length;i++)this.dashboardControls.controls[i].reportName===r[n].ReportName&&this.dashboardControls.controls[i].SelectedFilterInfo.push(r[n])},_getHeaderInfo:function(n,i){for(var u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r=0;r<u;r++)if(n[r].ReportName===i.Id)return n[r];return null},_addToStore:function(n,t){this.ajaxCacheStore[n]={Time:new Date,Value:JSON.parse(JSON.stringify(t))};this.previousCacheKey=n},_removeFromStore:function(n){delete this.ajaxCacheStore[n]},_getValueFromStore:function(n){var h=2,f=null,i=[],r=t.isNullOrUndefined(n)?[]:n.split(t.DashboardConstants.CacheStoreList),e,c,u,o,s,l;if(f=this.ajaxCacheStore[n],i=Object.keys(this.ajaxCacheStore),i=i.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound}),t.isNullOrUndefined(f)&&r.length>h){for(e=[],c=i.length,u=0;u<c;u++)i[u].indexOf(r[t.DashboardConstants.Zero])!==t.DashboardConstants.IndexLowerBound&&i[u].indexOf(r[t.DashboardConstants.One])!==t.DashboardConstants.IndexLowerBound&&e.push(i[u]);for(o=0;o<e.length;o++)s=e[o],l=s.split(t.DashboardConstants.CacheStoreList),l.length===r.length&&this._cacheKeyComparision(r,s,r[h])&&(f=this.ajaxCacheStore[s])}return f},_cleanUpStore:function(){var n=[],r,e;n=Object.keys(this.ajaxCacheStore);var o=null,u=null,f=null,i=0;if(o=n.length,this.model.cacheSettings&&this.model.cacheSettings.enableAutoCleanup&&!t.isNullOrUndefined(this.model.cacheSettings.cleanupInterval))for(i=0;i<o;i++)r=this._getValueFromStore(n[i]),t.isNullOrUndefined(r)||t.isNullOrUndefined(r.Time)||(e=new Date(r.Time),e.setMinutes(e.getMinutes()+this.model.cacheSettings.cleanupInterval),e<new Date?this._removeFromStore(n[i]):f===null?(f=new Date(r.Time),u=n[i]):f>new Date(r.Time)&&(f=new Date(r.Time),u=n[i]));n=Object.keys(this.ajaxCacheStore);n=n.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound});this.model.cacheSettings&&u!==null&&!t.isNullOrUndefined(this.model.cacheSettings.capacity)&&n.length>this.model.cacheSettings.capacity&&this._removeFromStore(u)},_isAjaxCacheEnabled:function(){return t.isNullOrUndefined(this.model.cacheSettings)?!1:this.model.enableClientSideCache},_checkFilterOverviewData:function(n){var r,i;if(!t.isNullOrUndefined(n)){for(r={InteractionData:[]},i=0;i<this.appliedFilterData.length;i++)n===this.appliedFilterData[i].Control?this.appliedFilterData.splice(i,1):r.InteractionData.push(this.appliedFilterData[i]);return r}return null},_checkKeyInStore:function(n,i){var r=this._getValueFromStore(n),u;return r?(u=this,this.isFromCache=!0,setTimeout(function(){i.call(u,null,r.Value)},t.DashboardConstants.Zero),this._addToStore(n,r.Value),!0):!1},_cacheKeyComparision:function(n,i,r){var f=n.indexOf(r),u=!1;return i.indexOf(r)!==t.DashboardConstants.IndexLowerBound&&(u=!0,f+t.DashboardConstants.One<n.length&&(u=this._cacheKeyComparision(n,i,n[f+t.DashboardConstants.One]))),u},_generateKeyFromDataForCache:function(n,i,r){var l=null,o="",k,a,v,ut,y,f,u,d,s,g,h,nt,c,ft,p,tt,e,w,it,rt,b;if(t.isNullOrUndefined(n)||t.isNullOrUndefined(r)||r!=="GetInnerLevelDrillChart"){if(t.isNullOrUndefined(n.data)||n.data==="[]"||n.data==="null"){if(t.isNullOrUndefined(i)||i.InteractionData.length===t.DashboardConstants.Zero||t.isNullOrUndefined(r)||r!=="initialize")o=t.DashboardConstants.CacheStoreList+"[]";else for(ft=t.isNullOrUndefined(i.InteractionData)?t.DashboardConstants.Zero:i.InteractionData.length,p=0;p<ft;p++)if(tt="",e=i.InteractionData[p],!t.isNullOrUndefined(e.UniqueColumnName)){if(e.Data.length>t.DashboardConstants.Zero)for(w=0;w<e.Data.length;w++)tt+="&&"+e.Data[w];o+=t.DashboardConstants.CacheStoreList+e.UniqueColumnName.toUpperCase()+"_"+e.Control+tt}}else for(v=JSON.parse(n.data),ut=t.isNullOrUndefined(v)?t.DashboardConstants.Zero:v.length,y=0;y<ut;y++)if(f="",u=v[y],!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.UniqueColumnName)&&!t.isNullOrUndefined(u.ReportName)){if(!t.isNullOrUndefined(u.DateFilterInfo)&&u.DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero)for(d=t.isNullOrUndefined(u.DateFilterInfo.DateFilterList)?t.DashboardConstants.Zero:u.DateFilterInfo.DateFilterList.length,s=0;s<d;s++)f+="&&"+u.DateFilterInfo.DateFilterList[s],s===d-t.DashboardConstants.One&&(f+="("+u.DateFilterInfo.Action+")");else if(!t.isNullOrUndefined(u.DimensionFilterInfo)&&u.DimensionFilterInfo.Text.length>t.DashboardConstants.Zero)for(g=t.isNullOrUndefined(u.DimensionFilterInfo.Text)?t.DashboardConstants.Zero:u.DimensionFilterInfo.Text.length,h=0;h<g;h++)f+="&&"+u.DimensionFilterInfo.Text[h],h===g-t.DashboardConstants.One&&(f+="("+u.DimensionFilterInfo.Conditions+")");else if(!t.isNullOrUndefined(u.MeasureFilterInfo)&&u.MeasureFilterInfo.Values.length>t.DashboardConstants.Zero)for(nt=t.isNullOrUndefined(u.MeasureFilterInfo.Values)?t.DashboardConstants.Zero:u.MeasureFilterInfo.Values.length,c=0;c<nt;c++)f+="&&"+u.MeasureFilterInfo.Values[c],c===nt-t.DashboardConstants.One&&(f+="("+u.MeasureFilterInfo.Conditions+")");o+=t.DashboardConstants.CacheStoreList+u.UniqueColumnName.toUpperCase()+"_"+u.ReportName+f}}else{if(k="",!t.isNullOrUndefined(n.data)&&n.data.length>t.DashboardConstants.Zero)for(a=0;a<n.data.length;a++)k+="&&"+n.data[a];o+=t.DashboardConstants.CacheStoreList+n.controlId.toUpperCase()+"_"+k}if(l=this.model.reportName+o,this.pageInformations.length>t.DashboardConstants.Zero){for(it="",rt=this._getPageForCurrentView(),b=0;b<rt.length;b++)it+="&&_Page_"+rt[b];l=l+t.DashboardConstants.CacheStoreList+it}return l},_clearCacheOnRefresh:function(){var n=[],r,i,u;for(n=Object.keys(this.ajaxCacheStore),n=n.filter(function(n){return n.indexOf(t.DashboardConstants.CacheStoreList)>t.DashboardConstants.IndexLowerBound}),r=n.length,i=0;i<r;i++)u=n[i],delete this.ajaxCacheStore[u];this.previousCacheKey=null},_addRemainingData:function(n,i,r){var o={},s=[],h=[],nt=[],w=null,c=null,l=null,e,b,k,a,tt,v,y,it,u,d,rt,p,g,f;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(b=n[e].ConfigInfo,k=n[e].Data,e.indexOf(t.dashboardViewer.Controls.Label)!==t.DashboardConstants.IndexLowerBound||t.isNullOrUndefined(b)?t.isNullOrUndefined(k)?h.push(e):h.push(JSON.parse(k).Id):h.push(JSON.parse(b).Id));for(w=this._getWidgetDataForCache(i),a=Object.keys(w),tt=t.isNullOrUndefined(a)?t.DashboardConstants.Zero:a.length,v=0;v<tt;v++)y=a[v],it=y.split(":"),h.indexOf(it[0])===t.DashboardConstants.IndexLowerBound&&(o[y]=w[y]);if(JSON.stringify(o)!=="{}")for(u=0;u<r.d.length;u++)r.d[u].Key===t.DashboardConstants.Widgets&&(r.d[u].Value=r.d[u].Value!=="{}"?r.d[u].Value.slice(t.DashboardConstants.Zero,t.DashboardConstants.IndexLowerBound)+","+JSON.stringify(o).substr(t.DashboardConstants.One):JSON.stringify(o));l=this._getFilterpanelDataForCache(r);c=this._getFilterpanelDataForCache(i);for(d in l)Object.prototype.hasOwnProperty.call(l,d)&&nt.push(l[d].filterId);if(!t.isNullOrUndefined(c)){for(rt=c.length,p=0;p<rt;p++)g=c[p],nt.indexOf(g.filterId)===t.DashboardConstants.IndexLowerBound&&s.push(g);if(JSON.stringify(s)!=="[]")for(f=0;f<r.d.length;f++)r.d[f].Key===t.DashboardConstants.Filterpanel&&(r.d[f].Value=r.d[f].Value!=="[]"?r.d[f].Value.slice(t.DashboardConstants.Zero,t.DashboardConstants.IndexLowerBound)+","+JSON.stringify(s).substr(t.DashboardConstants.One):JSON.stringify(s))}return r},_getWidgetDataForCache:function(n){var r=null,u=null,i;for(n=n.d,u=n.length,i=0;i<u;i++)if(n[i].Key===t.DashboardConstants.Widgets){r=n[i].Value;break}return JSON.parse(r)},_getFilterpanelDataForCache:function(n){var r=null,i;for(n=n.d,i=0;i<n.length;i++)if(n[i].Key===t.DashboardConstants.Filterpanel){r=n[i].Value;break}return JSON.parse(r)},_addPreviousPageDataForCache:function(n,i,r){var s=JSON.parse(n),h="&&_Page_"+s[0],c=r.replace(h,""),e=this._getValueFromStore(c),f,u,o;if(!t.isNullOrUndefined(e))for(f=this._getWidgetDataForCache(e.Value),u=0;u<i.d.length;u++)if(i.d[u].Key===t.DashboardConstants.Widgets){o=JSON.parse(i.d[u].Value);i.d[u].Value=Object.getOwnPropertyNames(o).length>t.DashboardConstants.Zero&&JSON.stringify(f)!=="{}"?i.d[u].Value.slice(t.DashboardConstants.Zero,t.DashboardConstants.IndexLowerBound)+","+JSON.stringify(f).substr(t.DashboardConstants.One):JSON.stringify(f)==="{}"?i.d[u].Value:JSON.stringify(f);break}return i},_destroySlaveControls:function(){try{t.widget.destroyAll(n(this.currentTabContentElement).find(".e-js").off())}catch(i){console(i.message)}},_destroyPopups:function(i){if(this.isVirtualScroll){this.isVirtualScroll=!1;return}if(!t.isNullOrUndefined(i)&&n(i.target).hasClass("e-dbrd-banner-description")){(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i);return}if(this._trigger("onDashboardClick",{event:i,tabId:this.dashboardName}),this.toolbarMethods){this.toolbarMethods=!1;this.showContext=!1;return}n(this.element).find("#"+this._id+"_contextMenuPopup").length!==t.DashboardConstants.Zero&&(this._destroyWidgetSelection(),this._destroyContextMenu());n(this.element).find("#"+this._id+"_controlMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyControlMenu();n(this.currentTabContentElement).find(".e-dbrd-inactive").length!==t.DashboardConstants.Zero&&this._closeMaximize(i);n(this.element).find("#"+this._id+"_DashboardMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyDashboardMenu();n(this.element).find("#"+this._dashboardId+"_tabMenuPopup").length!==t.DashboardConstants.Zero&&this._tabMenuPopupHide(i);(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(i);n(this.element).find("#"+this._id+"_FilterOverviewMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyFilterOverviewMenu();n(this.element).find("#"+this._id+"_InteractionMenuPopup").length!==t.DashboardConstants.Zero&&this._destroyInteractionMenu();n(window).width()>t.DashboardConstants.MobileWidth&&this._hideDashboardDescription(i)},_toolbarMethods:function(i){var h,c,e;this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp").length>t.DashboardConstants.Zero&&(this.showFilterMenu=!1,this._closeFilterOverviewDialog(event));this.element.find(".e-dbrd-report-desc").length>t.DashboardConstants.Zero&&(n(this.element).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick"),n(this.element).find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control"));(n(this.element).find(".e-dbrd-scroll").length!==t.DashboardConstants.Zero||n(this.element).find(".e-dbrd-desc-tooltip").text().length!==t.DashboardConstants.Zero)&&this._onControlDescriptionMouseLeave(event);this._tabMenuPopupHide(i);var u=n(i.target),o=u.attr("name"),f=u.attr("id"),s=null,l=u.parents(".e-dbrd-control-container").find(".e-dbrd-control"),r=u.parents(".e-dbrd-control-container"),a=l.attr("data-controlid"),v=r.attr("id");s=n(r).find(".e-control-title").length>t.DashboardConstants.Zero?n(r).find(".e-control-title").text().trim():n(r).find(".e-control-heading").text()===""?n(r).find(".e-title").text():n(r).find(".e-control-heading").text().trim();h=s;c=this.model._selectedTabGuid?this.model._selectedTabGuid:null;this._trigger("onMenuIconClick",{target:u,event:i,name:o,serviceUrl:this.serviceUrl(),dashboardPath:this.dashboardPath(),widgetId:v,dataWidgetId:a,headertext:h,tabId:c,tabName:this.dashboardName});this.toolbarMethods=!0;e=!1;t.isNullOrUndefined(r)||(e=r.attr("type").toLowerCase()===t.dashboardViewer.Controls.CustomWidget.toLowerCase());switch(o){case"Maximize":n(r).find(".e-dbrd-control-nodatainfo").length===t.DashboardConstants.Zero&&this._maximizeControl(f,e);break;case"menu":n(r).find(".e-dbrd-control-nodatainfo").length===t.DashboardConstants.Zero&&this._showControlMenu(f);break;case"filter":this._removeControlFilter(f,i)}},_initializeRelationships:function(){var i=this.currentTabContentElement.find(".e-dbrd-containerWrapper").find(".e-dbrd-control"),e,r,f,o,u;for(i=i.add(n("#"+this._id+" input.e-FilterBox,div.e-FilterBox")).add(n("#"+this._id+" td.e-dbrd-slider-control div.e-slider")),t.isNullOrUndefined(this.filterPanelObj)||(i=i.add(this.filterPanelDiv.find(".e-dbrd-control")).add(this.filterPanelDiv.find("input.e-FilterBox"))),e=this.controlRelations.length,r=0;r<e;r++)if(f=this.controlRelations[r].Master,o=this._getMasterElementName(f),(this.element.find("#"+o).length===t.DashboardConstants.One||this.dashboardControls.isControlExists(f))&&(this.controlRelations[r].Master=f),this.controlRelations[r].Slaves.length===t.DashboardConstants.Zero)for(u=0;u<i.length;u++)n(i[u]).attr("type")==="Label"&&(this.controlRelations[r].Slaves=n(i[u]).attr("data-controlid"))},_renderControl:function(n,i){if(i=this._processResponseMessage(i),this.onDemandTabs&&!t.isNullOrUndefined(n)&&this._isHiddenTabData(n.tabId)){this._saveRenderedHiddenTabData(n.tabId,{data:i,type:"initData"});return}if(this._setDashboardSize(),i.d[0].Key===t.DashboardConstants.WrongExcel){this._errorMsgPopup(this.locale.utils.ExcelError,!0);this._destroyWaitingPopup();return}this._checkCacheSettings(i,n);this._changeScrollSize();this.currentReport.data=i;var r={d:[]},u=JSON.parse(i.d[0].Value),f=[];this.theme=u.Theme?window[u.Theme]:window.light;this.TitleLabels=[];this.flag=!1;this.isDashboardResize=!1;f=this._setRenderingControlsValue(i);this._dashboardData().isExportImage&&this.isExtendedLayout&&!this._dashboardData().isControl&&this.actualPages.length!==this.pageInformations.length&&this.filterHeight>t.DashboardConstants.Zero&&this._setSelectedFilterValue();t.isNullOrUndefined(this.model.cdnFilePath)||this._isEmptyOrSpaces(this.model.cdnFilePath)?(this._startRenderingControls(null,f),this._dashboardWidgetRenderExcuting(i,r)):this._callFileDownloadRecursive(i,r)},_dashboardWidgetRenderExcuting:function(n,i){this._dashboardData().isControl||this._callFunction(this._initializeRelationships,n);this._initializeFilterPanel();this._updateSessionStorage(n);this._callFunction(this._updateDashboardTitleInBrowserPage);this.rendered=!0;this.model.enableAutoRefresh&&this._resetAutoRefreshSettings();this._trigger("actionComplete",{eventType:t.dashboardViewer.event.renderComplete,source:{element:this.dashboardPath(),data:i}})},_checkCacheSettings:function(i,r){var e="",u=null,f;n.each(i.d,function(i,r){r.Key===t.DashboardConstants.Title&&(e=n.parseJSON(r.Value))});this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(r)&&(u=this._generateKeyFromDataForCache(r,e,"initialize"),this._getValueFromStore(u)||(f=n.extend(!0,{},i),f=this.pageInformations.length>t.DashboardConstants.One?this._addPreviousPageDataForCache(r.page,f,u):i,this._addToStore(u,f)))},_setRenderingControlsValue:function(n){for(var i=0,e=null,o=[],s=[],r=null,h=[],u=null,f=[],i=n.d.length-t.DashboardConstants.One;i>=t.DashboardConstants.Zero;i--){e=n.d[i].Key;r=JSON.parse(n.d[i].Value);switch(e){case t.DashboardConstants.Widgets:f=this._processControlRendering(e,n.d[i].Value);break;case t.DashboardConstants.RequestPage:f=[];f.push(n.d[i].Value);break;case t.DashboardConstants.Filterpanel:this._passFilterPanelData(r);break;case t.DashboardConstants.MasterFilterList:h=r;break;case t.DashboardConstants.Context:this.Context=n.d[i].Value;break;case t.DashboardConstants.ParamColumns:this._addParamColumnsInControl(n.d[i].Value);break;case t.DashboardConstants.TitleParams:o=r;break;case t.DashboardConstants.DescriptionParams:s=r;break;case t.DashboardConstants.AutoRefreshRowCounts:this.model.autoRefreshSettings.rowCount=n.d[i].Value;break;case t.DashboardConstants.Title:u=r;u.InteractionData.length!==t.DashboardConstants.Zero&&t.isNullOrUndefined(this.filteredInfo)&&this.pageInformations.length!==this.actualPages.length&&(this.filteredInfo={filteredPages:this.pageInfo});break;case t.DashboardConstants.ControlRelation:this.controlRelations=r}}return this._removeFilterInfoForWithoutSlaves(h,u),this._showCommentIconInControls(),this._dashboardData().isControl||(this._callFunction(this._addFilterDataToTitle,u),this._addDashboardBannerFields(n,o,s)),f},_passFilterPanelData:function(n){this.tempDataForFilter=n;this.isFilterPanelOpen&&this.externalFilterPanel&&(this.filterPanelObj!==null?(this.filterPanelObj.isGlobalFilterUpdated=this._refreshDashboardWithGlobalFilter(),this.filterPanelObj.refreshData(this.tempDataForFilter)):(this._initializeFilterPanel(),this.preventFilterPanelEvents=!0,this._showFilterPanel(),this.preventFilterPanelEvents=!1))},_addParamColumnsInControl:function(n){var i={d:[]},r=[];t.isNullOrUndefined(n)||(i=new Dbrdcontrol,i.controlType="parameterColumnData",i.reportName="parameterColumnData",r=new dbrdcontrolData,r.pagedata=JSON.parse(n),i.data.push(r),this.dashboardControls.addControl(i))},_updateSessionStorage:function(n){var i=this;this._callFunction(function(){setTimeout(function(){if(i.flag=!0,i._trigger("dashboardCreated",{model:i.model,data:n,tabId:i.dashboardName,hasFilterPanel:i.hasFilterPanel}),i.model.filterPanelSettings.state===t.dashboardViewer.filterPanelSettings.state.expand&&i.hasFilterPanel&&i.openFilterPanel(),!i.model.interactionSettings.allowHistoryMaintenance||i.isFromHistory||i.tabSwitchFromHistory)i.model.interactionSettings.allowHistoryMaintenance&&i.tabSwitchFromHistory&&(i._pushSessionStorage("TabSwitch"),i.tabSwitchFromHistory=!1);else{var r=i._getKeyFromCookie(),u=i._popSessionStorageData(r);t.isNullOrUndefined(u)||u.dashboardPath!==i.dashboardPath()?i._pushSessionStorage("initial"):i._replaceState(r)}i.isTabSwitch=!1},300)})},_removeFilterInfoForWithoutSlaves:function(n,i){var r,f,o,u,e;if(!t.isNullOrUndefined(i)){for(r=0;r<this.controlRelations.length;r++)if(f=[],this.controlRelations[r].Slaves.length===t.DashboardConstants.Zero&&(o=this.dashboardControls.getControlByReport(this.controlRelations[r].Master),!t.isNullOrUndefined(o))){for(o.SelectedFilterInfo=[],u=0;u<i.InteractionData.length;u++)i.InteractionData[u].Control===this.controlRelations[r].Master&&f.push(u);for(e=f.length-t.DashboardConstants.One;e>=t.DashboardConstants.Zero;e--)i.InteractionData.splice(f[e],t.DashboardConstants.One)}this._updateLinkingDateFieldFilterInfo(n,i)}},_showCommentIconInControls:function(){var r=this.model.commentSettings.widgets,s=t.isNullOrUndefined(r)?t.DashboardConstants.Zero:r.length,f=this.currentTabContentElement.find(".e-dbrd-control-container"),h=f.length,i,e,u,o;if(!t.isNullOrUndefined(r))for(i=0;i<h;i++)for(e=n(f[i]).attr("id"),u=0;u<s;u++)r[u]===e&&(o=n(f[i]).find(".e-dbrd-banner-widget-withoutcomments"),o.removeClass("e-dbrd-banner-widget-withoutcomments").addClass("e-dbrd-banner-widget-withcomments"))},_addDashboardBannerFields:function(t,i,r){var u=n("<p>");this.reportName=this.model.reportName;this._appendHeader(this.model.reportName,i,u);this.currentTabContentElement.find(".e-dbrd-banner-title").html("");this.currentTabContentElement.find(".e-dbrd-banner-title").attr({"data-tooltip":u.text()}).append(u);this._adjustParameterColumn(u);this._appendDashboardDescription(this.reportDescription,r)},_processControlRendering:function(n,i){var s=JSON.parse(i),u=[],l={},f={d:[]},r={d:[]},h=[],e={},o={},c;this._trigger("actionBegin",{eventType:t.dashboardViewer.event.beforeWidgetRender,source:{element:n,data:r}});for(c in s)try{Object.prototype.hasOwnProperty.call(s,c)&&(r=s[c],e={},o={},t.isNullOrUndefined(r)||(r.hasOwnProperty("NotConfigured")&&r.NotConfigured&&!t.isNullOrUndefined(r.position)?(f=new Dbrdcontrol,f.configInfo=JSON.parse(r.position),f.controlType=r.WidgetType="NoData",this.dashboardControls.addControl(f)):(f=t.isNullOrUndefined(r.WidgetType)||r.WidgetType!==t.dashboardViewer.Controls.CustomWidget?new Dbrdcontrol:this.dashboardControls.getControlByReport(JSON.parse(r.ConfigInfo).Id),n=n.toLowerCase(),u=new dbrdcontrolData,u.pagedata=t.isNullOrUndefined(r.Data)?u.pagedata:JSON.parse(r.Data),u.formattedData=t.isNullOrUndefined(r.FormattedData)?u.formattedData:JSON.parse(r.FormattedData),u.ExpandedNodeData=t.isNullOrUndefined(r.ExpandedData)?u.ExpandedNodeData:r.ExpandedData,this.cardDefaultData=t.isNullOrUndefined(r.DefaultData)?this.cardDefaultData:parseFloat(r.DefaultData),u.SummaryData=t.isNullOrUndefined(r.SummaryData)?u.SummaryData:r.SummaryData,u.pagedata=t.isNullOrUndefined(r.Error)?u.pagedata:r.Error,u.isError=!t.isNullOrUndefined(r.Error),u.pageNumber=1,u.LastUpdateTime="",f.errorOccured=u.isError,f.currentPage=1,f.data.push(u),f.configInfo=t.isNullOrUndefined(r.ConfigInfo)?f.configInfo:JSON.parse(r.ConfigInfo),f.reportName=t.isNullOrUndefined(r.ConfigInfo)?f.reportName:f.configInfo.Id,e=t.isNullOrUndefined(r.DynamicData)?e:JSON.parse(r.DynamicData),o=t.isNullOrUndefined(r.StaticFiles)?o:JSON.parse(r.StaticFiles),t.isNullOrUndefined(r.ConfigInfo)||this._updateConfigInfo(r.WidgetType,f))));l={widgetType:r.WidgetType,dynamicData:e,staticFiles:o,control:f,controldata:u};this._renderWidgetControl(l);this._setSelectedFitlerInfo(f);h=this._getControlPageInfo(h,f)}catch(a){}return this._trigger("actionComplete",{eventType:t.dashboardViewer.event.afterWidgetRender,source:{element:n,data:r}}),h},_hideDashboardPageOnInitForOfflineDashboard:function(){var n=this._getCurrentTabOfflineData(this.model.selectedTabName),i;this.model.canLoadDataOffline&&!t.isNullOrUndefined(n)&&n.renderedPages.length===t.DashboardConstants.One&&n.renderedPages[t.DashboardConstants.Zero]===t.DashboardConstants.One&&(this._hideShowPageForMobile(t.DashboardConstants.One,!0),i=this.currentTabContentElement.find(".e-dbrd-layout-wrapper.e-scroller").data("ejDashboardScroller"),t.isNullOrUndefined(i)||i.destroy())},_getCurrentDashboardPageForWidgetRendering:function(n){var i=[];return i.push(Math.min.apply(Math,n)),i[t.DashboardConstants.Zero]<this.pageInfo[t.DashboardConstants.Zero]&&(i=this.pageInfo),i},_getControlPageInfo:function(n,i){if(!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){var r=i.controlType===t.dashboardViewer.Controls.Label&&!t.isNullOrUndefined(i.data[t.DashboardConstants.Zero].pagedata)?i.data[t.DashboardConstants.Zero].pagedata.Page:i.configInfo.Page;n.indexOf(r)===t.DashboardConstants.IndexLowerBound&&n.push(r)}return n},_updateLinkingDateFieldFilterInfo:function(n,i){var r,u,f;if(this.isLink&&!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(i)){if(r=0,u=0,!t.isNullOrUndefined(i)&&i.InteractionData.length>t.DashboardConstants.Zero)for(r=0;r<i.InteractionData.length;r++)if(f=this.dashboardControls.getControlByReport(i.InteractionData[r].Control),!t.isNullOrUndefined(f)&&!t.isNullOrUndefined(f.SelectedFilterInfo))for(u=0;u<f.SelectedFilterInfo.length;u++)t.isNullOrUndefined(f.SelectedFilterInfo[u].DateFilterInfo)||t.isNullOrUndefined(f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList)||f.SelectedFilterInfo[u].UniqueColumnName===i.InteractionData[r].UniqueColumnName&&f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList.length>t.DashboardConstants.Zero&&(i.InteractionData[r].Control.split("_")[t.DashboardConstants.Zero]===t.dashboardViewer.Controls.DatePicker?isNaN(Date.parse(i.InteractionData[r].Data[t.DashboardConstants.Zero]))||(f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList=i.InteractionData[r].Data):f.SelectedFilterInfo[u].DateFilterInfo.DateFilterList=i.InteractionData[r].Data,this.target=[]);for(r=0;r<n.length;r++)this._removeAllControlSelectedValues(n[r]);this.isLink=!1}},_updateConfigInfo:function(n,i){switch(n){case t.dashboardViewer.Controls.FilterComboBox:this._setComboBoxConfigInfo(i);break;case t.dashboardViewer.Controls.ListBox:this._setListBoxConfigInfo(i);break;case t.dashboardViewer.Controls.TreeMap:this._setTreeMapConfigInfo(i);break;case t.dashboardViewer.Controls.CheckBox:this._setChkboxConfigInfo(i);break;case t.dashboardViewer.Controls.RangeSlider:this._setRangeSliderConfigInfo(i);break;case t.dashboardViewer.Controls.RangeNavigator:this._setRangeNavigatorConfigInfo(i);break;case t.dashboardViewer.Controls.DatePicker:this._setDatePickerConfigInfo(i);break;case t.dashboardViewer.Controls.Card:this._setCardConfigInfo(i);break;case t.dashboardViewer.Controls.ChoroplethMap:this._setChoroplethMapConfigInfo(i);break;case t.dashboardViewer.Controls.BubbleMap:this._setBubbleMapConfigInfo(i);break;case t.dashboardViewer.Controls.Grid:this._setGridConfigInfo(i);break;case t.dashboardViewer.Controls.Gauge:this._setGaugeConfigInfo(i);break;case t.dashboardViewer.Controls.PivotGrid:this._setPivotGridConfigInfo(i);break;case t.dashboardViewer.Controls.Chart:case t.dashboardViewer.Controls.ComparisonChart:case t.dashboardViewer.Controls.ProportionChart:this._setChartConfigInfo(i)}},_setSelectedFitlerInfo:function(n){var f,i,r,u;if(!t.isNullOrUndefined(this.model.currentMasterReport)&&!t.isNullOrUndefined(n)){for(f=t.isNullOrUndefined(this.model.currentMasterReport)?t.DashboardConstants.Zero:this.model.currentMasterReport.length,i=0;i<f;i++)r=this.model.currentMasterReport[i],r.ReportName===n.reportName&&(u=this._filterIndex(r,n.SelectedFilterInfo),u!==t.DashboardConstants.IndexLowerBound&&n.SelectedFilterInfo.splice(u,t.DashboardConstants.One),n.SelectedFilterInfo.push(r));n.SelectedFilterInfo.length>t.DashboardConstants.Zero&&(this.isInitialFilterApplied=!this.isGetLinkDashboard)}},_filterIndex:function(n,i){var u,r;if(!t.isNullOrUndefined(i))for(u=i.length,r=0;r<u;r++)if(n.UniqueColumnName===i[r].UniqueColumnName)return r;return t.DashboardConstants.IndexLowerBound},_startRenderingControls:function(n,i){var r,u,f;this.theme=window.light;r=[];this.flag=!1;n?r=n:this.isExtendedLayout&&!this._dashboardData().isExportImage?(u=t.isNullOrUndefined(i)?this.pageInfo:i,r=this.dashboardControls.getControlsForCurrentPage(u)):r=this.dashboardControls.getAllControls();this._renderControlsForStarting(r);this._callFunction(this._destroyAllControlWaitingIndicator);f=this;setTimeout(function(){f.flag=!0},500)},_getScripts:function(i,r,u,f){n.ajaxSetup({cache:!0});var e=this,o=0;i.forEach(function(s){n.getScript(s,function(){if(o+=t.DashboardConstants.One,o===i.length){var s=JSON.stringify({customScriptUrl:"/"+u.widgetSettings.extractedPath+"/",methodName:e.model.serviceMethods.getScriptsForCustomWidget});ej.dashboard.createWidgetInstance(u.widgetSettings.capabilities.Guid,f,{dashboardId:e._dashboardId,widgetId:u.reportName,baseURL:e.serviceUrl()+"//"+e.model.serviceMethods.processRequestForGet+"?arguments="+s});n(f).addClass("isInitialized");n(f).hasClass("dataLoaded")&&(u=e.dashboardControls.getControlByReport(u.reportName),n(f).attr("id")===e._id+"_maximized"?r.apply(e,[u,{id:u.reportName,Div:n(f),isMaximize:!0}]):r.apply(e,[u]));e._initializeRelationships()}})})},_WidgetNotConfigured:function(t){var f=t.configInfo,i=this.currentTabContentElement.find("#"+this._id+"_cell_"+f.Row+"_"+f.Column),u=n("<div>").css({overflow:"hidden"}).addClass("widget-not-configured-text align-center e-dbrd-fontfamily").css({display:"table",clear:"both",width:"100%",height:"100%","margin-left":"-2px"}),r=n("<div>").css({"vertical-align":"middle",overflow:"hidden"});i.attr("rowspan")==="1"&&i.attr("colspan")==="1"?(u.css({display:"inline-block"}),r.append(n("<div>").css({overflow:"hidden"}).addClass("widget-not-configured-icon e-dbrd-hoverable").attr({"data-tooltip":this.locale.utils.WidgetNotConfigured})),u.append(r)):(r.css({display:"table-cell"}),r.append(n("<div>").addClass("widget-not-configured-icon"),n("<div>").css({overflow:"hidden"}).html(this.locale.utils.WidgetNotConfigured)),u.append(r));i.find(".e-dbrd-control").append(u);i.find(".e-control-prop").hide();this.model.enableCustomTheming&&this._customTheme(["erroredContainer"]);i.find(".e-dbrd-control iframe").remove()},_changeScrollSize:function(){var h=t.Menu.prototype._subMenuPos,i=0,u=this.scalingFactor,c=0,f,r,e,o,s;t.Menu.prototype._subMenuPos=function(n,t){var r=t,f,e;if(this.element.parents(".e-dashboardviewer").length>c){f=300*u;e=400*u;try{i=this.element.parents(".e-dashboardviewer").width()-this.element.parents(".e-dashboardviewer").offset().left-this.element.offset().left;i<f&&(r="left")}catch(o){i=e}}h.call(this,n,r)};f=t.ScrollBar.prototype._calculateLayout;r=this;t.ScrollBar.prototype._calculateLayout=function(n){f.call(this,n);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&(n.handler==="e-vhandle"?(n.buttonSize=10,n.handleSpace=n.modelDim-2*n.buttonSize-9,n.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(this.model.height-2*n.buttonSize),n.handle<25&&(n.handle=25),n.handle>=n.handleSpace-15&&(n.handle-=15),n.onePx=n.scrollable/(n.handleSpace-n.handle)):n.buttonSize=this.model.buttonSize)};e=t.ScrollBar.prototype._mouseDown;t.ScrollBar.prototype._mouseDown=function(i){e.call(this,i);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&(n(i.delegateTarget).hasClass("e-vhandle")||n(i.toElement).hasClass("e-vhandle"))&&i.type==="mousedown"&&(this.element.addClass("onScrolling"),this.element.find(".e-vhandle").css({"background-color":"#838383",border:"1px solid #838383"}))};o=t.ScrollBar.prototype._mouseUp;t.ScrollBar.prototype._mouseUp=function(i){var u,e,f,s;o.call(this,i);this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero&&i.type==="mouseup"&&(u=this.element.parents(".e-dbrd-control"),u.hasClass("e-dbrd-MaximizedControl")&&u.parents(".e-dbrd-inactive").removeClass("canClose"),this.element.removeClass("onScrolling"),this.element.hasClass("mouseOver")||this.element.trigger("mouseleave"),u.hasClass("mouseEntered")||(n(this.element).parents(".e-dbrd-control").attr("id")!==n(i.target).parents(".e-dbrd-control").attr("id")&&(this.element.stop(!0).show().fadeOut(1500),this.element.removeClass("e-dbrd-active-scrollbar")),e=this.element.parents(".e-dbrd-control").attr("data-controlid"),f=!1,this.element.parents(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")&&(f=!0),s={reportName:e,scrollTop:this.element.prev().scrollTop(),div:this.element.parents(".e-dbrd-control"),isMaximized:f},r._loadVirtualScrollingPage(s)))};s=t.ScrollBar.prototype.scroll;t.ScrollBar.prototype.scroll=function(n,i,u,f){var o,e,h;if(s.call(this,n,i,u,f),this.element.parents(".e-dashboardviewer").length>t.DashboardConstants.Zero){if(t.isNullOrUndefined(f))return;if(i.indexOf("wheel")===t.DashboardConstants.IndexLowerBound)return;o=this.element.parents(".e-dbrd-control").attr("data-controlid");e=!1;this.element.parents(".e-dbrd-control").hasClass("e-dbrd-MaximizedControl")&&(e=!0);h={reportName:o,scrollTop:this.element.prev().scrollTop(),div:this.element.parents(".e-dbrd-control"),isMaximized:e};r._loadVirtualScrollingPage(h)}}},_loadVirtualScrollingPage:function(n){var a=JSON.parse(JSON.stringify(this.dashboardParameters)),e,r,h,u,l,b,s,k;if(!t.isNullOrUndefined(n.reportName)&&!t.isNullOrUndefined(n.scrollTop)&&!t.isNullOrUndefined(n.div)&&!t.isNullOrUndefined(n.isMaximized)){this.isVirtualScroll=n.isMaximized;var i=this.dashboardControls.getControlByReport(n.reportName),v=this.model.localeSettings.resourcePath,y=this.model.localeSettings.culture,p=this.model.localeSettings.dateFormat,w=this.model.localeSettings.timeFormat,f={};if(!t.isNullOrUndefined(i)){if(n.isMaximized&&(i=this.maximizedashboardControls.getControlByReport(n.reportName)),e=n.div.find("table"),r=n.div.data("ejDashboardScroller"),i===!1||t.isNullOrUndefined(e)||t.isNullOrUndefined(r))return;if(i.scrollSetting.currentScrollTop=n.scrollTop,i.scrollSetting.visibleHeight=r.option("height"),!(i.currentPage>i.totalPages)&&!t.isNullOrUndefined(r)&&n.scrollTop>i.scrollSetting.scrollTop&&e[0].scrollHeight-n.scrollTop<=r.option("height")+100){if(i.currentPage+=t.DashboardConstants.One,i.currentPage===2&&(i.heightPerPage=e[0].scrollHeight),i.scrollSetting.scrollTop=n.scrollTop,i.currentPage>i.totalPages){i.currentPage=i.totalPages;return}this._createControlWaitingIndicator(n.div,!0);h=JSON.stringify({action:"",dashboardPath:this.dashboardPath(),controlId:n.reportName,startIndex:(i.currentPage-t.DashboardConstants.One)*i.scrollSetting.controlPerPage+t.DashboardConstants.One-i.scrollSetting.emptyCellsCount,pageSizeOnDemand:i.scrollSetting.controlPerPage+i.scrollSetting.emptyCellsCount,emptyCellsCount:i.scrollSetting.emptyCellsCount,masterData:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),controlRowCount:i.totalCount,rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.modifiedConnectionStrings,token:this.token,customLanguagePath:v,dateFormat:p,timeFormat:w,customCulture:y,dashboardName:this.dashboardName,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardParameterSettings:this._setAjaxDashboardParameterValue(a),methodName:this.model.serviceMethods.getControlDataOnDemand,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner});f={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:h,onSuccess:this._processControlDataOnDemand,needRequestParameter:!1,additionalParameter:h};this.doAjaxPost(f)}else if(this.model.enableAutoRefresh&&i.scrollSetting.scrollTop!==n.scrollTop){this._resetAutoRefreshSettings();i.scrollSetting.scrollTop=n.scrollTop;i.scrollSetting.visibleHeight=r.option("height");var o=i.getControlPagesforRefresh(i),c=[],d=o.length;for(u=0;u<d;u++){for(l=!1,b=i.loadedPages.length,s=0;s<b;s++)if(i.loadedPages[s]===o[u]){l=!0;break}l||(k={currentPage:o[u],reportName:i.reportName,controlPerPage:i.scrollSetting.controlPerPage},c.push(k),i.loadedPages.push(o[u]))}c.length>t.DashboardConstants.Zero&&(f={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({dashboardPath:this.dashboardPath(),widgetInfo:JSON.stringify(c),data:JSON.stringify(this.dashboardControls.getAllControlsMasterData()),rangeData:JSON.stringify(this.rangeData),modifiedConnectionStrings:this.model.modifiedConnectionStrings,rowCountList:this.model.autoRefreshSettings.trackData?this.model.autoRefreshSettings.rowCount:null,customLanguagePath:v,dateFormat:p,timeFormat:w,customCulture:y,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,filterParameters:JSON.stringify(this.initialFilters),dashboardName:this.dashboardName,dashboardParameterSettings:this._setAjaxDashboardParameterValue(a),serverUrl:this.serverUrl(),methodName:this.model.serviceMethods.getRefreshControlData,isWebDesigner:this.model._isWebDesigner}),onSuccess:this._processAutoRefreshData,needRequestParameter:!1,additionalParameter:null},this.doAjaxPost(f))}}}return},_processControlDataOnDemand:function(n,i,r){var h,o,s,c;r=this._processResponseMessage(r);var e=JSON.parse(i),f=null,u=this.dashboardControls.getControlByReport(e.controlId),l=!1,a=null;for(this.currentTabContentElement.find(".e-dbrd-MaximizedControl").length>t.DashboardConstants.Zero&&(u=this.maximizedashboardControls.getControlByReport(e.controlId),l=!0),h=!1,o=100,s=0;s<r.d[0].Value.length;s++)c=r.d[0].Value[s],c.key==="Data"&&(f=new dbrdcontrolData,f.pagedata=JSON.parse(c.value),f.LastUpdateTime="",u.currentPage=Math.ceil((e.startIndex+e.emptyCellsCount)/(e.pageSizeOnDemand-e.emptyCellsCount)),f.pageNumber=u.currentPage,u.data.push(f),f.pagedata.length===t.DashboardConstants.Zero?(u.totalCount-=o,u.totalPages-=t.DashboardConstants.One,u.data.pop(),h=!0,u.totalPages-=t.DashboardConstants.One):f.pagedata.length<o?u.totalCount=u.totalCount-o+f.pagedata.length:(u.totalCount+=o,u.totalPages=u.data.length+t.DashboardConstants.One));l&&(a=this.currentTabContentElement.find(".e-dbrd-MaximizedControl").eq(t.DashboardConstants.Zero));h||this._processWidgetData(u,a);this._destroyAllControlWaitingIndicator()},_renderRowsOndemand:function(i){var o=i.data.scrollSetting.rowPerPage,u=i.data.scrollSetting.colPerPage,a=i.data.currentPage,h,s,f,r,c,e,l;for(i.data.currentPage===i.data.totalPages&&(h=o*u*i.data.data.length-i.data.totalCount,h>=u&&(o=o-parseInt(h/u))),s=0;s<o;s++){for(f=null,r=(a-t.DashboardConstants.One)*i.data.scrollSetting.rowPerPage+s,n("#"+i.controlId+"_child_row_"+r).length===t.DashboardConstants.Zero?(f=n("<tr>"),f.attr({id:i.controlId+"_child_row_"+r})):f=n("#"+i.controlId+"_child_row_"+r),c=n("#"+i.controlId+"_child_row_"+(r-t.DashboardConstants.One)),e=0;e<u;e++)n("#"+i.controlId+"_child_column_"+(r*u+e)).length===t.DashboardConstants.Zero&&(l=n("<td>").attr({id:i.controlId+"_child_column_"+(r*u+e)}).css({height:i.heightofColumn,"padding-left":"3px","padding-right":"3px","padding-top":"0px","padding-bottom":"0px"}),f.append(l));c.after(f)}},_updateDashboardTitleInBrowserPage:function(){!this.isWidget&&this.updatePageTitle()&&(t.isNullOrUndefined(this.reportName)||(document.title=t.isNullOrUndefined(n(document.head).attr("title"))?this.currentTabContentElement.find(".e-dbrd-banner-title").text():n(document.head).attr("title").replace("{{:reportName}}",this.currentTabContentElement.find(".e-dbrd-banner-title").text())))},_appendDashboardDescription:function(i,r){this.element.find(".e-dbrd-report-desc").length!==t.DashboardConstants.Zero&&this.element.find(".e-dbrd-report-desc").remove();var e='<div class="e-dbrd-report-desc e-dbrd-desc e-dbrd-fontfamily" id="'+this._id+'reportDescriptionDiv"><div class = "e-dbrd-divHtml" style = "word-wrap:break-word"><p><\/div><\/div>',u=n(e),f=u.find("p");this._appendHeader(i,r,f);this.element.append(u);this._adjustParameterColumn(f)},_hideDashboardDescription:function(t){if(!n(t.currentTarget).hasClass("e-dbrd-banner-description")&&!n(t.currentTarget).hasClass("e-dbrd-report-desc")&&!n(t.currentTarget).parents().hasClass("e-dbrd-report-desc")){n(t.currentTarget).find(".e-dbrd-banner-description").removeClass("e-dbrd-banner-infoclick");this.element.find(".e-dbrd-report-desc").css({display:"none"}).removeClass("e-dbrd-descr-active e-dbrd-control");for(var i=0;i<=n("body").find(".e-dbrd-drillIconBackward").length;i++)n("#"+this.currentTabContentElement.find(".e-dbrd-drillIconBackward").eq(i).children().attr("id")).remove(),this.currentTabContentElement.find(".e-dbrd-drillIconBackward").eq(i).removeClass("e-dbrd-drillIconBackward-focused")}},_removeControlFilter:function(i,r){var u=n(this.currentTabContentElement).find("#"+i),f;if(this.clearFilter=!0,!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero))u.parents(".e-dbrd-control-container").data({IsFilterApplied:!1}),u.parents(".e-dbrd-control-container").find(".e-remove-control-filter-enable").addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");else{if(n("#"+u[0].id).hasClass("e-remove-control-filter-disable"))return;n("#"+u[0].id).addClass("e-remove-control-filter-disable").removeClass("e-remove-control-filter-enable").attr("tabindex","-1");n(u).parents(".e-dbrd-control-container").data({IsFilterApplied:!1})}f=this.currentTabContentElement.find(".e-dbrd-filterListMenuPopUp");!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.Zero&&f.remove();var o=!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?u.attr("id"):u[0].id.substr(t.DashboardConstants.Zero,u[0].id.indexOf("_removeControlFilter")),e=!t.isNullOrUndefined(u.hasClass)&&(u.hasClass("e-dbrd-control")||u.parents(".e-dbrd-control").length!==t.DashboardConstants.Zero)?u.parents(".e-dbrd-layout-cell"):u.parents(".e-dbrd-layout-cell"),s=e.attr("data-controltype");this.CurrentMaster=e.find(".e-dbrd-control").attr("data-controlId");this._removeAppliedFilter(o,s,r)},_clearMapSelectedShapes:function(t){var i=n("#"+t).data("ejMap");i.model.layers[0].selectedItems=[];i.refresh()},_initializeFilterPanel:function(){var n,e,u,o,s;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(this.tempDataForFilter)&&this.tempDataForFilter.length!==t.DashboardConstants.Zero)for(var r="",f=t.DashboardConstants.Zero,i=null,h=this.tempDataForFilter.length,f=t.DashboardConstants.Zero;f<h;f++)(n=this.tempDataForFilter[f],e={},i=new Dbrdcontrol,u=new dbrdcontrolData,i.isControlFilter=!0,r=n.filterId.indexOf("_")===t.DashboardConstants.IndexLowerBound?n.filterId:n.filterId.substr(t.DashboardConstants.Zero,n.filterId.indexOf("_")),r=r.toLowerCase(),i.reportName=n.filterId,o=t.isNullOrUndefined(this.dashboardControls)?null:this.dashboardControls.getControlByReport(i.reportName),t.isNullOrUndefined(o)||t.isNullOrUndefined(o.configInfo.IsGlobalFilter)||!this.includeGlobalFilter||!this.isTabSwitch)&&(r===t.dashboardFilterPanel.controls.DatePicker.toLowerCase()||r===t.dashboardFilterPanel.controls.CheckBox.toLowerCase()||r===t.dashboardFilterPanel.controls.RadioButton.toLowerCase()||r===t.dashboardFilterPanel.controls.FilterComboBox.toLowerCase()||r===t.dashboardFilterPanel.controls.ComboBox.toLowerCase()||r===t.dashboardFilterPanel.controls.RangeSlider.toLowerCase()||r===t.dashboardFilterPanel.controls.ListBox.toLowerCase())&&(i.currentPage=1,!t.isNullOrUndefined(n.filterInfo.data)&&n.filterInfo.data.length>0&&(u.pagedata=JSON.parse(n.filterInfo.data),i.errorOccured=!1,u.pageNumber=1,u.LastUpdateTime=""),t.isNullOrUndefined(n.filterInfo.error)||(u.pagedata=n.filterInfo.error,i.errorOccured=!0,u.isError=!0),t.isNullOrUndefined(n.filterInfo.configInfo)||(i.configInfo=JSON.parse(n.filterInfo.configInfo)),t.isNullOrUndefined(n.filterInfo.dynamicData)||(e=JSON.parse(n.filterInfo.dynamicData)),t.isNullOrUndefined(n.filterInfo.layout)||(i.layout=JSON.parse(n.filterInfo.layout)),i.data.push(u),s={filterId:r,dynamicData:e,control:i,controldata:u},this._renderFilter(s),this._setSelectedFitlerInfo(i))},_refreshControlData:function(i,r){var w,e,o,tt,st,v,ht,b,wt,k,it,rt,bt,kt,y,dt,ut,d,ct,l,lt,h,ft,g,gt,nt,at,vt,et;if(r=this._processResponseMessage(r),this.onDemandTabs&&!t.isNullOrUndefined(i)&&this._isHiddenTabData(i.tabId)){this._saveRenderedHiddenTabData(i.tabId,{data:r,type:"refreshData"});return}var u={},s={},p=null,a=[],f={},yt="",pt=null,c=this,ot=[];for(this.isReloaded=!0,this.currentSlaveInfo=[],this.isDashboardResize=!1,this.isInitialFilterApplied=!1,this.flag=!1,n("#"+this._id+"_ChartContext").length>t.DashboardConstants.Zero&&(this._off(this.currentTabContentElement,"click","#"+this._id+"_ChartContext_Select",function(){n.proxy(c._loadChartSlaves(),c)}),this._off(this.currentTabContentElement,"click","#"+this._id+"_ChartContext_Drill",function(){n.proxy(c._onChartDrilled(),c)}),this.currentTabContentElement.remove("#"+this._id+"_ChartContext")),w=null,e=[],o=0;o<r.d.length;o++){if(r.d[o].Key===null)continue;else w=r.d[o].Key.indexOf("_")===t.DashboardConstants.IndexLowerBound?r.d[o].Key:r.d[o].Key.substr(t.DashboardConstants.Zero,r.d[o].Key.indexOf("_"));if(w===t.DashboardConstants.Filterpanel){if(tt=n.parseJSON(r.d[o].Value),!t.isNullOrUndefined(this.tempDataForFilter)&&this.tempDataForFilter.length>t.DashboardConstants.Zero){for(st=this.tempDataForFilter.length,v=0;v<st;v++)this.tempDataForFilter[v].filterId===this.CurrentMaster&&(ht=JSON.parse(this.tempDataForFilter[v].filterInfo.configInfo),ht.SelectFirstItem=!1,this.tempDataForFilter[v].filterInfo.configInfo=JSON.stringify(ht));for(b=0;b<st;b++)for(wt=tt.length,k=0;k<wt;k++)this.tempDataForFilter[b].filterId===tt[k].filterId&&(this.tempDataForFilter[b]=tt[k])}else this.tempDataForFilter=n.parseJSON(r.d[o].Value);t.isNullOrUndefined(this.filterPanelObj)?this._initializeFilterPanel():(this.filterPanelObj.isGlobalFilterUpdated=this._isGlobalFilter(this.currentMaster)?!0:this._refreshDashboardWithGlobalFilter(),this.filterPanelObj.refreshData(this.tempDataForFilter));continue}if(w===t.DashboardConstants.Widgets){if(e=JSON.parse(r.d[o].Value),it={},rt=this.CurrentMaster,rt=this._refreshControlFromCache(e,this.CurrentMaster),bt=e[rt],this.isFromCache&&!t.isNullOrUndefined(bt)){for(delete e[rt],kt=this.controlRelations.length,y=t.DashboardConstants.Zero;y<kt;y++)if(this.controlRelations[y].Master===this.CurrentMaster)for(dt=this.controlRelations[y].Slaves.length,ut=t.DashboardConstants.Zero;ut<dt;ut++)d=this.controlRelations[y].Slaves[ut],d=this._refreshControlFromCache(e,d),ct=e[d],t.isNullOrUndefined(ct)||(it[d]=ct);Object.getOwnPropertyNames(it).length>t.DashboardConstants.Zero&&(e=it)}for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(f=e[l],ot=[],f!==null&&(!t.isNullOrUndefined(e[l])&&e[l].hasOwnProperty("NotConfigured")&&e[l].NotConfigured===!0?(t.isNullOrUndefined(e[l].position)||(lt=JSON.parse(e[l].position)),t.isNullOrUndefined(lt)||(u=new Dbrdcontrol,u.configInfo=lt,u.controlType="NoData",f.WidgetType="NoData",this.dashboardControls.addControl(u))):(u=new Dbrdcontrol,h=new dbrdcontrolData,u.currentPage=1,ft=!1,t.isNullOrUndefined(f.Data)||(h.pagedata=JSON.parse(f.Data)),t.isNullOrUndefined(f.FormattedData)||(h.formattedData=f.FormattedData),t.isNullOrUndefined(f.ExpandedData)||(h.ExpandedNodeData=f.ExpandedData),t.isNullOrUndefined(f.SummaryData)||(h.SummaryData=f.SummaryData),t.isNullOrUndefined(f.Error)||(h.pagedata=t.isNullOrUndefined(f.Error)?f.Error:f.Error,h.isError=ft=!0),u.errorOccured=ft,h.pageNumber=1,h.LastUpdateTime="",u.data.push(h),t.isNullOrUndefined(f.ConfigInfo)||t.isNullOrUndefined(f.ConfigInfo)||(u.configInfo=JSON.parse(f.ConfigInfo),u.reportName=u.configInfo.Id),e[l].WidgetType!==t.dashboardViewer.Controls.Label||t.isNullOrUndefined(h.pagedata.Id)||(u.reportName=h.pagedata.Id),t.isNullOrUndefined(f.StaticFiles)||(s=this.dashboardControls.getControlByReport(u.reportName),u.staticFiles=s.staticFiles),t.isNullOrUndefined(f.DynamicData)||(ot=JSON.parse(f.DynamicData)))),this.currentSlaveInfo.push(u.reportName),yt=f.WidgetType,s=this.dashboardControls.getControlByReport(u.reportName),ft||t.isNullOrUndefined(s)||s.errorOccured?this._updateConfigInfo(f.WidgetType,u):(a.pagedata=p,u.configInfo=s.configInfo,u.widgetSettings=s.widgetSettings,u.SelectedFilterInfo=s.SelectedFilterInfo,s.data.push(a)),this._refreshWidgetData(yt,u,ot)),this.dashboardControls.updateCurrentReport(u)}else{switch(w){case t.DashboardConstants.ParamColumns:u=new Dbrdcontrol;s=this.dashboardControls.getControlByReport("parameterColumnData");p=JSON.parse(r.d[o].Value);u.controlType="parameterColumnData";s.data=[];a=new dbrdcontrolData;a.pagedata=p;s.data.push(a);u=s;u.data=[];u.data.push(a);this._callFunction(this._updateParameterColumns,u.data[0].pagedata);break;case t.DashboardConstants.Context:this.Context=r.d[o].Value;break;case t.DashboardConstants.Title:pt=n.parseJSON(r.d[o].Value)}this.dashboardControls.updateCurrentReport(u)}}if(this._dashboardData().isControl||(this._addFilterDataToTitle(pt),this._callFunction(function(){c.flag=!0}),this._callFunction(this._updateDashboardTitleInBrowserPage)),setTimeout(function(){p!==null&&(c.isFromCache=c.noNeedtoUpdateTimeSpan,c._callFunction(c._updateParameterColumns,p))},10),this._callFunction(this._destroyAllControlWaitingIndicator),this.model.enableAutoRefresh)for(g=0;g<r.d.length;g++)r.d[g].Key===t.DashboardConstants.Widgets&&(gt=JSON.parse(r.d[g].Value),this._restartTimerForSlaves(Object.keys(gt)));if(this._isAjaxCacheEnabled()&&!t.isNullOrUndefined(i)){for(nt=t.DashboardConstants.Zero;nt<r.d.length;nt++)if(r.d[nt].Key===t.DashboardConstants.Filterpanel){r.d[nt].Value=JSON.stringify(this.tempDataForFilter);break}at=this._generateKeyFromDataForCache(i);this._getValueFromStore(at)||t.isNullOrUndefined(this.previousCacheKey)||(vt=this._getValueFromStore(this.previousCacheKey),et=n.extend(!0,{},r),t.isNullOrUndefined(vt)||(et=this._addRemainingData(e,vt.Value,et)),this._addToStore(at,et));this._cleanUpStore()}c._setGlobalFilterForAllTabs();this.model.interactionSettings.allowHistoryMaintenance&&!this.isFromHistory&&this._pushSessionStorage("refreshControls")},_isFilterPanelWidget:function(n){var u,i,f,r;if(!t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(n))for(u=this.filterPanelObj.model.dataSource.length,i=0;i<u;i++)if(n.indexOf(this.filterPanelObj.model.dataSource[i].filterId)!==-1)return!0;if(t.isNullOrUndefined(this.filterPanelObj)&&!t.isNullOrUndefined(n)&&!t.isNullOrUndefined(this.tempDataForFilter))for(f=this.tempDataForFilter.length,r=t.DashboardConstants.Zero;r<f;r++)if(n===this.tempDataForFilter[r].filterId)return!0;return!1},_refreshControlFromCache:function(n,i){var f=null,u,e,r;if(this.isFromCache&&!t.isNullOrUndefined(i)&&!t.isNullOrUndefined(n))for(f=i,u=Object.keys(n),e=u.length,r=t.DashboardConstants.Zero;r<e;r++)if(u[r].indexOf(i)===t.DashboardConstants.Zero&&u[r]===i){f=u[r];break}return f},_makeSlaveDataRequest:function(i){var it,l,rt,p,u,w,a,ut,b,h,k,v,d,f,ft,o,g,et,ot;this.isFromHistory=!1;this.CurrentMaster=i.master;this.loadAction=!0;var s=[],nt=[],e=0,r=0,y=t.dashboardViewer.event.onMasterFilterApplied;this.target=[];var tt=[],st=JSON.parse(JSON.stringify(this.dashboardParameters)),c=i.hasOwnProperty("isWheelMove")?this._getPagesToFilter():this._getPageForCurrentView();if((this.clearFilter||i.setFilter)&&(this.dashboardControls.removeSelectedControlsMasterData(i.master),y=t.dashboardViewer.event.clearFilter,this.clearFilter=!1),this.removeFilter||(s=this.dashboardControls.getAllControlsMasterData()),this.removeFilter=!1,this._trigger("actionBegin",{eventType:y,source:{element:null,data:i}}),!i.isAutoRefresh)for(it=this.rangeData.length,r=0;r<it;r++)for(l=0;l<i.slaves.length;l++)if(i.slaves[l]===this.rangeData[r].Master){this.rangeData.splice(r,t.DashboardConstants.Zero);rt=this._getMasterElementName(i.slaves[r]);n("#"+rt+"_removeControlFilter").addClass("e-remove-control-filter-disable").removeClass(" e-remove-control-filter-enable").attr("tabindex","-1");break}for(p=t.isNullOrUndefined(i.slaves)?t.DashboardConstants.Zero:i.slaves.length,r=0;r<p;r++)u=i.slaves[r],w=this._getMasterElementName(i.slaves[r]),t.isNullOrUndefined(u)&&(u=n("#"+w).parents("div.e-dbrd-control").attr("data-controlid")),a=this.dashboardControls.getControlByReport(u),ut=n("#"+w+"_removeControlFilter"),ut.closest(".e-dbrd-control-container").find(".e-dbrd-control-error").remove(),t.isNullOrUndefined(a)||nt.push({Method:"LoadWidget",Control:u,ErrorOccured:a===!1?!1:a.errorOccured}),this.target.push(i.slaves[r]),tt.push(t.isNullOrUndefined(u)?i.slaves[r]:u);if(b=t.isNullOrUndefined(i.master)||!t.isNullOrUndefined(i.master)&&this._isFilterPanelWidget(i.master),!i.isAutoRefresh||i.showIndicator===!0){for(e=0;e<p;e++)h=this._getMasterElementName(i.slaves[e]),this._isFilterPanelWidget(i.slaves[e])?b=!0:(k=this.currentTabContentElement.find("#"+h).hasClass("e-dbrd-control-container")?this.currentTabContentElement.find("#"+h):this.currentTabContentElement.find("#"+h).parents(".e-dbrd-control-container")[t.DashboardConstants.Zero],this.isExtendedLayout?(v=i.slaves[e],t.isNullOrUndefined(v)&&(v=n("#"+h).parents("div.e-dbrd-control").attr("data-controlid")),d=this.dashboardControls.getControlByReport(v),t.isNullOrUndefined(d)||c.indexOf(d.configInfo.Page)===t.DashboardConstants.IndexLowerBound||this._createControlWaitingIndicator(k,!0)):this._createControlWaitingIndicator(k,!0));if(f=this.currentTabContentElement.find(".e-dbrd-label-control"),f.length!==t.DashboardConstants.Zero)for(ft=t.isNullOrUndefined(f)?t.DashboardConstants.Zero:f.length,o=0;o<ft;o++)n(f[o]).find(".e-dbrd-param-column").length!==t.DashboardConstants.Zero&&n.inArray(n(f[o]).attr("id"),this.target)!==t.DashboardConstants.IndexLowerBound&&this._createControlWaitingIndicator(f[o],!0);b&&!t.isNullOrUndefined(this.filterPanelObj)&&this.filterPanelObj.getState()===t.dashboardFilterPanel.state.Open&&this.filterPanelObj.showLoader()}g=[];i.isAutoRefresh&&(g=this.model.autoRefreshSettings.widgets);var ht=this.model.localeSettings.resourcePath,ct=this.model.localeSettings.culture,lt=this.model.localeSettings.dateFormat,at=this.model.localeSettings.timeFormat;!t.isNullOrUndefined(i.master)&&t.isNullOrUndefined(i.masterList)&&(i.masterList=[],i.masterList.push(i.master));this._trigger("beforeMasterFilterApplied",{masterData:s,slaves:i.slaves,currentMaster:i.master,tabId:this.dashboardName});et={type:"POST",url:this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForPost,data:JSON.stringify({action:JSON.stringify(nt),masterWidgets:i.masterList,dashboardPath:this.dashboardPath(),data:t.isNullOrUndefined(s)?null:JSON.stringify(s),rangeData:this.rangeData===null?null:JSON.stringify(this.rangeData),context:JSON.stringify(this.Context),serverSideCache:this.model.enableServerSideCache,filterParameters:JSON.stringify(this.initialFilters),modifiedConnectionStrings:this.modifiedConnectionStrings,widgets:JSON.stringify(g),token:this.token,customLanguagePath:ht,dateFormat:lt,timeFormat:at,customCulture:ct,currentUser:JSON.stringify(this.currentUser),isPublic:this.isPublicDashboard,isUnlisted:this.isUnlistedDashboard,unlistedCode:this.unlistedCode,itemId:this.itemId,isWidget:this.model.enableWidgetMode,widgetName:this.widgetModeSettings.name,widgetId:this.widgetModeSettings.id,dashboardName:this.dashboardName,initialDashboard:null,dashboardParameterSettings:this._setAjaxDashboardParameterValue(st),defaultSelectedControls:JSON.stringify(this.dashboardControls.getAllControlsIsDefaultProperty()),page:JSON.stringify(c),controlsIdList:JSON.stringify(tt),methodName:this.model.serviceMethods.initializeControl,serverUrl:this.serverUrl(),isWebDesigner:this.model._isWebDesigner}),onSuccess:this._refreshControlData,needRequestParameter:!1,additionalParameter:null};this.doAjaxPost(et);ot=t.isNullOrUndefined(this.filteredInfo)?c:this._getFilterPages(c);this.filteredInfo={masterData:s,filteredPages:ot,actualPages:this.actualPages,filterInfo:i};this.filteredInfo.filteredPages.length===this.filteredInfo.actualPages.length&&(this.filteredInfo=null);this._trigger("actionComplete",{eventType:y,source:{element:null,data:i}})},_getFilterPages:function(n){for(var t=0;t<this.filteredInfo.filteredPages.length;t++)n.push(this.filteredInfo.filteredPages[t]);return n},_getPagesToFilter:function(){var n=this._getPageForCurrentView(),u=[],f=!1,i,r;if(n=this.pageInformations.filter(function(i){return n.indexOf(i)>t.DashboardConstants.IndexLowerBound}),t.isNullOrUndefined(this.filteredInfo))u=n;else for(i=0;i<n.length;i++){for(r=0;r<this.filteredInfo.filteredPages.length;r++)if(f=!1,n[i]===this.filteredInfo.filteredPages[r]){f=!0;break}f||u.push(n[i])}return u},_updatedParameterFromCache:function(n){for(var f=n.length,r=n,u=new Date,i=t.DashboardConstants.Zero;i<f;i++)r[i].ColumnKey==="{{:UpdatedTime}}"&&(r[i].Value=u.toLocaleDateString()+" "+u.toLocaleTimeString());return r},_updateParameterColumns:function(n){var et,a,v,ht,d,h,g,ct,nt,lt,c,tt,at,vt,it,l,rt,yt,ut;if(!t.isNullOrUndefined(n)){var u=this.isFromCache?this._updatedParameterFromCache(n):n,ft=[],o=this.element.find(".e-dbrd-param-column"),e=this.dashboardControls.getAllControlsMasterData(),r=0,y="",p=0,w=!0;if(o=o.add(this.element.find(".e-item.e-active .e-dbrd-param-column")),o.length!==t.DashboardConstants.Zero)for(et=u.length,r=0;r<et;r++){var b=[],f=u[r].Value,ot=this.model.localeSettings.timeFormat;for(t.isNullOrUndefined(f)||ot.indexOf("H")===t.DashboardConstants.IndexLowerBound||ot.indexOf("t")===t.DashboardConstants.IndexLowerBound||(b=f.split(":PM"),b=f.split(":AM")),a=o.length-1;a>=t.DashboardConstants.Zero;a--){var i=o.eq(a),s=null,st=null,k=null;if(st=i.parents(".e-dbrd-layout-cell").attr("data-controltype")!==t.dashboardViewer.Controls.Label,i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label)for(this._dashboardData().isExportImage&&(s=!0),v=0;v<this.target.length;v++)if(this.target[v].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){if(e.length>t.DashboardConstants.Zero){for(ht=e.length,d=0;d<ht;d++)for(h=0;h<this.controlRelations.length;h++)if(this.controlRelations[h].Master===e[d].ReportName)for(g=0;g<this.controlRelations[h].Slaves.length;g++)if(this.controlRelations[h].Slaves[g]===i.parents(".e-dbrd-layout-cell").attr("data-controlid")){s=!0;break}}else if(e.length===t.DashboardConstants.Zero&&!t.isNullOrUndefined(i)&&i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label){s=!0;break}}else if(!t.isNullOrUndefined(i)&&i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&this.target[v].indexOf(i.parents(".e-dbrd-layout-cell").attr("data-controlid"))!==t.DashboardConstants.IndexLowerBound){s=!0;break}if(i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&!this.loadAction)if(e.length>t.DashboardConstants.Zero){for(ct=e.length,nt=0;nt<ct;nt++)for(lt=this.controlRelations.length,c=0;c<lt;c++)if(this.controlRelations[c].Master===e[nt].ReportName)for(tt=0;tt<this.controlRelations[c].Slaves.length;tt++)if(this.controlRelations[c].Slaves[tt]===i.parents(".e-dbrd-layout-cell").attr("data-controlid")){k=!0;break}}else if(this.appliedFilterData.length>t.DashboardConstants.Zero){for(at=this.appliedFilterData.length,vt=this.controlRelations.length,it=0;it<at;it++)for(l=0;l<vt;l++)if(this.controlRelations[l].Master===this.appliedFilterData[it].Control)for(rt=0;rt<this.controlRelations[l].Slaves.length;rt++)if(this.controlRelations[l].Slaves[rt]===i.parents(".e-dbrd-layout-cell").attr("data-controlid")){k=!0;break}}else k=!0;if(i.parents(".e-dbrd-layout-cell").attr("data-controltype")===t.dashboardViewer.Controls.Label&&i.attr("data-param")==="{{:UpdatedTime}}"&&(s=!0),y=i.parents(".e-dbrd-control-container").attr("data-widget-id"),u[r].ColumnKey==="{{:UpdatedTime}}"&&this.currentSlaveInfo.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(y))for(yt=this.currentSlaveInfo.length,p=0;p<yt;p++)if(y===this.currentSlaveInfo[p]){w=!0;break}else w=!1;else u[r].ColumnKey==="{{:UpdatedTime}}"&&t.isNullOrUndefined(y)&&(w=!0);if((st||s||k)&&w&&i.attr("data-param")===u[r].ColumnKey&&i.attr("data-source")===u[r].DataSource&&t.isNullOrUndefined(u[r].TimespanType)){switch(u[r].Status){case 0:i.html(t.isNullOrUndefined(b[t.DashboardConstants.Zero])?f:b[t.DashboardConstants.Zero]);break;case 1:i.html(t.DashboardConstants.All);break;case 2:!t.isNullOrUndefined(f)&&f.length>t.DashboardConstants.One?i.html(f.join()):i.html(f);break;case 3:i.html((new Date).toLocaleString());break;default:i.html("*")}o.splice(a,t.DashboardConstants.Zero)}}t.isNullOrUndefined(u[r].TimespanType)||u[r].TimespanType.indexOf(t.DashboardConstants.TimeSpan)===t.DashboardConstants.IndexLowerBound||ft.push(u[r])}this._resizeWidgetTitle();this._updateLabelControlSettings();this.noNeedtoUpdateTimeSpan=this.isFromCache;this._updateTimeSpanParameter(ft,t.DashboardConstants.One);ut=this.currentTabContentElement.find(".e-dbrd-banner-title");ut.find(".e-dbrd-param-column").length>t.DashboardConstants.Zero&&this.currentTabContentElement.find(".e-dbrd-banner-title").attr({"data-tooltip":ut.text()});this.isFromCache=!1}},_getTimespanParameterValue:function(n,i){var s="All",r="",a=60,v=24,y=7,b=4,p=12,k=30,u,l,e;if(!t.isNullOrUndefined(n)&&n!==""&&(u=parseInt(n),!isNaN(u))){var o=u>a-t.DashboardConstants.One?Math.floor(u/a):t.DashboardConstants.Zero,f=o>v-t.DashboardConstants.One?Math.floor(o/v):t.DashboardConstants.Zero,c=f>y-t.DashboardConstants.One?Math.floor(f/y):t.DashboardConstants.Zero,h=f>k-t.DashboardConstants.One?Math.floor(f/k):t.DashboardConstants.Zero,w=h>p-t.DashboardConstants.One?Math.floor(h/p):t.DashboardConstants.Zero;f=f>y-t.DashboardConstants.One?Math.floor(f%y):f;c=c>b-t.DashboardConstants.One?Math.floor(c%b):c;h=h>p-t.DashboardConstants.One?Math.floor(h%p):h;l=w!==t.DashboardConstants.Zero?w:h!==t.DashboardConstants.Zero?h:c!==t.DashboardConstants.Zero?c:f!==t.DashboardConstants.Zero?f:o!==t.DashboardConstants.Zero?o:u!==t.DashboardConstants.Zero?u:t.DashboardConstants.Zero;e=w!==t.DashboardConstants.Zero?this.locale.utils.Years:h!==t.DashboardConstants.Zero?this.locale.utils.Months:c!==t.DashboardConstants.Zero?this.locale.utils.Weeks:f!==t.DashboardConstants.Zero?this.locale.utils.Days:o!==t.DashboardConstants.Zero?this.locale.utils.Hours:u!==t.DashboardConstants.Zero?this.locale.utils.Minutes:this.locale.utils.Minutes;i.indexOf(t.DashboardConstants.TimeSpanMinutes)!==t.DashboardConstants.IndexLowerBound?(u=u>a-t.DashboardConstants.One?Math.floor(u%a):u,r=this.locale.utils.Minutes,s=r.replace("*",u.toString())):i.indexOf(t.DashboardConstants.TimeSpanHours)!==t.DashboardConstants.IndexLowerBound?(o=o>v-t.DashboardConstants.One?Math.floor(o%v):o,r=this.locale.utils.Hours,s=r.replace("*",o.toString())):i.indexOf(t.DashboardConstants.TimeSpanDays)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Days,s=r.replace("*",f.toString())):i.indexOf(t.DashboardConstants.TimeSpanWeeks)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Weeks,s=r.replace("*",c.toString())):i.indexOf(t.DashboardConstants.TimeSpanMonths)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Months,s=r.replace("*",h.toString())):i.indexOf(t.DashboardConstants.TimeSpanYears)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Years,s=r.replace("*",w.toString())):i.indexOf(t.DashboardConstants.TimeSpanInMinutes)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Minutes,s=r.replace("*",u.toString())):i.indexOf(t.DashboardConstants.TimeSpanInHours)!==t.DashboardConstants.IndexLowerBound?(r=this.locale.utils.Hours,s=r.replace("*",o.toString())):i===t.DashboardConstants.TimeSpan&&(s=e===this.locale.utils.Years?e.replace("*",l.toString()):e===this.locale.utils.Months?e.replace("*",l.toString()):e===this.locale.utils.Weeks?e.replace("*",l.toString()):e===this.locale.utils.Days?e.replace("*",l.toString()):e===this.locale.utils.Hours?e.replace("*",l.toString()):e.replace("*",l.toString()))}return s},_updateTimeSpanParameter:function(n,i){var l=!0,e=null,a=null,s=this.element.find(".e-dbrd-param-column"),nt=n.length,y=!1,u,p,k,d,c,g,v,r;if(!t.isNullOrUndefined(n))for(u=0;u<nt;u++){e=n[u].Value;p=new Date;Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName)?Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName)&&e!=="0"&&(this.updatedTime[this.reportName]=e,y=!0):(this.updatedTime[this.reportName]=e,y=!0);y&&(k=(new Date(p)-new Date(this.updatedTime[this.reportName]))/1e3,d=k/60,parseInt(d)!==t.DashboardConstants.Zero&&(this.updatedTime[this.reportName]=p));n[u].Value=e===this.updatedTime[this.reportName]?t.DashboardConstants.Zero.toString():n[u].Value;e=e===this.updatedTime[this.reportName]?t.DashboardConstants.Zero.toString():n[u].Value;var h=n[u].ColumnKey,tt=h.indexOf(":"),it=h.lastIndexOf("}}"),w=n[u].TimespanType;for(h=h.substring(tt+t.DashboardConstants.One,it),c=s.length-t.DashboardConstants.One;c>=t.DashboardConstants.Zero;c--){var f=s.eq(c),b=f.attr("data-param"),o=f.parents(".e-dbrd-control-container").attr("data-widget-id");if(i!==t.DashboardConstants.Zero&&this.currentSlaveInfo.length===t.DashboardConstants.Zero&&(Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName+t.DashboardConstants.UpdateTimerList+o)||(this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+o]=this.updatedTime[this.reportName],this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+o+"_ColumnKey"]=n[u].ColumnKey)),this.currentSlaveInfo.length>t.DashboardConstants.Zero&&!t.isNullOrUndefined(o))for(g=this.currentSlaveInfo.length,v=0;v<g;v++)if(o===this.currentSlaveInfo[v]){this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+o]=this.updatedTime[this.reportName];l=!0;break}else l=!1;else t.isNullOrUndefined(o)&&(l=!0);if(l){switch(!0){case b===n[u].ColumnKey&&b.indexOf(t.DashboardConstants.TimeSpan)!==t.DashboardConstants.IndexLowerBound:i!==t.DashboardConstants.Zero&&f.attr({"data-min":this.isDashboardResize?f.attr("data-min"):e});a=this._getTimespanParameterValue(f.attr("data-min"),w);f.html(a);break;case"{{:"+w+"("+h+")}}"===b:i!==t.DashboardConstants.Zero&&f.attr({"data-min":this.isDashboardResize?f.attr("data-min"):e});a=this._getTimespanParameterValue(f.attr("data-min"),w);f.html(a)}s.splice(c,t.DashboardConstants.Zero)}}}r=this;this.updateTimer!==null&&clearTimeout(this.updateTimer);this.updateTimer=setTimeout(function(){var o,u,e;for(r.hiddenTabUpdateTime={},s=r.element.find(".e-dbrd-param-column"),o=Object.keys(r.updatedTime),u=s.length-t.DashboardConstants.One;u>=t.DashboardConstants.Zero;u--){var f=s.eq(u),h=f.attr("data-min"),c=null,i=f.parents(".e-dbrd-control-container").attr("data-widget-id"),l=new Date;if(!t.isNullOrUndefined(h))if(Object.prototype.hasOwnProperty.call(r.updatedTime,r.reportName+t.DashboardConstants.UpdateTimerList+i)){var a=new Date(l)-new Date(r.updatedTime[r.reportName+t.DashboardConstants.UpdateTimerList+i]),v=a/1e3,y=v/60;c=parseInt(y);Object.prototype.hasOwnProperty.call(r.updatedTime,r.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey")&&r.updatedTime[r.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey"]!=="{{:UpdatedTime}}"?f.attr({"data-min":(parseInt(h)+t.DashboardConstants.One).toString()}):f.attr({"data-min":c.toString()})}else e=r._getDashboardNameFromUpdateTimerKeys(o,i),r.hiddenTabUpdateTime[e+t.DashboardConstants.UpdateTimerList+i]=r.updatedTime[e+t.DashboardConstants.UpdateTimerList+i]}r.currentSlaveInfo=[];r._updateTimeSpanParameter(n,t.DashboardConstants.Zero)},6e4)},_updateHiddenTabRefreshTimeOnSwitch:function(){for(var u=this.element.find(".e-dbrd-param-column"),r=u.length-t.DashboardConstants.One;r>=t.DashboardConstants.Zero;r--){var n=u.eq(r),f=n.attr("data-min"),e=null,i=n.parents(".e-dbrd-control-container").attr("data-widget-id"),o=new Date;if(!t.isNullOrUndefined(f)&&Object.prototype.hasOwnProperty.call(this.hiddenTabUpdateTime,this.reportName+t.DashboardConstants.UpdateTimerList+i)){var s=new Date(o)-new Date(this.hiddenTabUpdateTime[this.reportName+t.DashboardConstants.UpdateTimerList+i]),h=s/1e3,c=h/60;e=parseInt(c);Object.prototype.hasOwnProperty.call(this.updatedTime,this.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey")&&this.updatedTime[this.reportName+t.DashboardConstants.UpdateTimerList+i+"_ColumnKey"]!=="{{:UpdatedTime}}"?n.attr({"data-min":(parseInt(f)+t.DashboardConstants.One).toString()}):n.attr({"data-min":e.toString()})}}},_getDashboardNameFromUpdateTimerKeys:function(n,i){for(var u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,r=0;r<u;r++)if(n[r].indexOf(i)!==t.DashboardConstants.IndexLowerBound)return n[r].split(t.DashboardConstants.UpdateTimerList)[0];return null},_updateLabelControlSettings:function(){var r=this.currentTabContentElement.find(".dashboardLabelControl"),f=r.length,n=0,i,u;if(r.length!==t.DashboardConstants.Zero)for(n=0;n<f;n++)i=r.eq(n).find(".e-dbrd-control"),i.css({display:"table-cell"}),u=i.data("ejDashboardScroller"),u&&u.refresh(),i.css({display:"table"})},_addFilterDataToTitle:function(i){var e;if(!t.isNullOrUndefined(i)){if(i.InteractionData){this.appliedFilterData=i.InteractionData;var r=this.currentTabContentElement.find(".e-dbrd-filterListMenu"),u=this.element.find("#"+this._id+"_overview_banner"),o=this.currentTabContentElement.find(".e-dbrd-layout-wrapper"),f=this.currentTabContentElement.find(".e-banner-verticalsplitline");if(this.enableFilterOverview())switch(!0){case i.InteractionData.length===t.DashboardConstants.Zero:r.hide();u.hide();f.hide();r.find(".e-dynamic-title").html("");break;case i.InteractionData.length===t.DashboardConstants.One&&n(window).width()>t.DashboardConstants.MobileWidth:r.show();f.show();break;case i.InteractionData.length>=t.DashboardConstants.One&&n(window).width()<t.DashboardConstants.MobileWidth:u.append(r);u.show();r.show();o.css({height:n("#dashboard").height()-this.currentTabContentElement.find(".e-dbrd-banner").height()-u.height()});break;default:r.show();f.show()}else r.css("display")==="block"&&(r.hide(),u.hide(),f.hide(),this.currentTabContentElement.find(".e-dynamic-title").html(""))}else this.currentTabContentElement.find(".e-dynamic-title-moreFilter").hide();e=this.currentTabContentElement.find(".e-dbrd-banner-title");this.currentTabContentElement.find(".e-dbrd-filterListMenu").css("display")==="block"&&n(window).width()>t.DashboardConstants.MobileWidth?e.css({"max-width":this.currentTabContentElement.find(".e-dbrd-banner").width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.element.find(".e-dbrd-filterListMenu").width()}):this.currentTabContentElement.find(".e-dbrd-filterListMenu").css("display")==="none"&&n(window).width()>t.DashboardConstants.MobileWidth&&e.css({"max-width":this.currentTabContentElement.find(".e-dbrd-banner").width()-this.currentTabContentElement.find(".e-dbrd-banner-icon-container").width()-this.currentTabContentElement.find(".e-dynamic-title-container").width()-this.element.find(".e-dbrd-filterListMenu").width()});this.filterDataLength.length===t.DashboardConstants.Zero&&this.appliedFilterData.length!==t.DashboardConstants.Zero&&(this.filterDataLength=this.appliedFilterData);this._trigger("onFilterOverviewUpdated",{currentFilterData:this.appliedFilterData});this._adjustParameterColumn(e.find("p"))}},_callFunction:function(n,i,r,u){var f=this;this.timers.push(setTimeout(function(e){if(u&&t.isNullOrUndefined(e)){var o=t.browserInfo();o.name==="msie"&&o.version==="9.0"&&(e=i)}u&&f._trigger("beforeWidgetRender",{data:e,tabId:f.dashboardName});e?t.isNullOrUndefined(r)?n.call(f,e):n.call(f,e,r):n.call(f);u&&f._trigger("afterWidgetRender",{data:e,tabId:f.dashboardName})},4,i))},_isJsonString:function(n){try{JSON.parse(n)}catch(t){return!1}return!0},_fetchCultureFiles:function(n){for(var r,u=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,i=0;i<u;i++)r=n[i],t.cultures.hasOwnProperty(r)||this._getCultureScriptFile(r)},_getCultureScriptFile:function(i){var r=this,u=JSON.stringify({culture:i,methodName:this.model.serviceMethods.getCultureScript});n.ajax({url:!t.isNullOrUndefined(this.model.cdnFilePath)&&!this._isEmptyOrSpaces(this.model.cdnFilePath)?this.model.cdnFilePath+"/culture./ej.culture."+i.toLowerCase()+".min.js":this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet+"?arguments="+u,dataType:"script",cache:!0,error:function(){r._errorMsgPopup(r.locale.utils.CultureFileDownloadError+i,!0)}})},_fetchCultureFilesForCustomWidget:function(n){var f,i,r,u;for(this.reportCultures=n,f=t.isNullOrUndefined(n)?t.DashboardConstants.Zero:n.length,i=0;i<f;i++)for(r=0;r<n[i].Cultures.length;r++)u=n[i].Cultures[r],u!==t.DashboardConstants.DefaultCulture&&this._getCultureScriptFileForCustomWidget(u)},_getCultureScriptFileForCustomWidget:function(i){var r=this,u=JSON.stringify({culture:i,methodName:this.model.serviceMethods.getCultureScriptForCustomWidget});n.ajax({url:!t.isNullOrUndefined(this.model.cdnFilePath)&&!this._isEmptyOrSpaces(this.model.cdnFilePath)?this.model.cdnFilePath+"/cultures/ej.dashboard.culture."+i.toLowerCase()+".js":this.serviceUrl()+"/"+this.model.serviceMethods.processRequestForGet+"?arguments="+u,dataType:"script",cache:!0,error:function(){r._errorMsgPopup(r.locale.utils.CultureFileDownloadError+i,!0)}})},_addHyperLinkToErrorText:function(i){var r,u,f;return t.isNullOrUndefined(i)?null:(r=i.errorDiv,t.isNullOrUndefined(r)||r.length===t.DashboardConstants.Zero||(this.model._enableHyperLinkOnErrorMessage?(r.append(n("<a>").addClass("e-error-link"),n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily"),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html("Learn More"),n("<div>").addClass("e-close-notification")),u=r.find(".e-error-msg"),n(u).html(":"+i.errorString).attr({"data-tooltip":i.errorString}),f=r.find(".e-error-link"),n(f).html(i.errorCode).css({float:"left","margin-top":"6px","margin-left":"10px"}).attr({href:i.errorCodeReplace,target:"_blank"})):r.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(i.hyperErrorCode+":"+i.errorString).attr({"data-tooltip":i.errorString}),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html(this.locale.utils.LearnMore),n("<div>").addClass("e-close-notification"))),r)},_errorMsgPopup:function(i,r){var l,s;if(!t.isNullOrUndefined(i))if(n(window).width()<t.DashboardConstants.MobileWidth)this._errorMsgPopupForMobile(i,r);else{this.element.find(".e-error-notification")&&(this.element.find(".e-error-notification").remove(),this.onDemandTabs||this.currentTabContentElement.css({position:"relative"}));var u=null,h=null,f=i;if(f.match(":")){var o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),a=f.substr(f.indexOf(":")+t.DashboardConstants.One),c=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),v="<span = "+c+" target= _blank>"+o+"<\/span>",e={errorDiv:u,errorCodeReplace:c,errorString:a,errorCode:o,hyperErrorCode:v};(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseJSON)?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),e.errorDiv=u,u=this._addHyperLinkToErrorText(e)):(this.dashboardError=this.slaveDataRequest.responseJSON.ExceptionType+": "+this.slaveDataRequest.responseJSON.ExceptionMessage+this.slaveDataRequest.responseJSON.StackTrace,u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),e.errorDiv=u,u=this._addHyperLinkToErrorText(e)):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px"}),e.errorDiv=u,u=this._addHyperLinkToErrorText(e),this.model._enableHyperLinkOnErrorMessage&&(u.find(".e-dbrd-learnMore").html(""),u.find(".e-dbrd-learnMore").remove(".e-dbrd-learnMore")))}else(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(f).attr({"data-tooltip":f}),n("<div>").addClass("e-dbrd-learnMore e-dbrd-fontfamily").html("Learn More"),n("<div>").addClass("e-close-notification"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({"max-width":"60%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg e-dbrd-hoverable e-dbrd-fontfamily").html(f).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification")));this.element.append(u);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);t.isNullOrUndefined(u)||u.css({left:-(u.width()*this.scalingFactor/2)});this.isWidget?n("#"+this._id+"_errorShown").css({"max-width":"90%",left:this.currentTabContentElement.width()/20,right:"0"}):n("#"+this._id+"_errorShown").css({"margin-left":"50%"});this.onDemandTabs?(l=this.element.find("li").height()*this.scalingFactor+5*this.scalingFactor,n("#"+this._id+"_errorShown").css({top:l})):this.currentTabContentElement.css({position:"relative"});t.isNullOrUndefined(u)||(h=u.html());s={errorDialog:h};this._trigger("beforePassiveErrorRender",s);t.isNullOrUndefined(u)||u.html(s.errorDialog)}return null},_errorMsgPopupForMobile:function(i,r){var f=i,p=":",u=null,o=null,e=null,s=null,h=null,v=null,c=null,l,w,b,k,y,d,nt,tt;if(this.currentTabContentElement.find(".e-dbrd-banner").length!==t.DashboardConstants.Zero)this.element.find(".e-error-notification")&&(this.element.find(".e-error-notification").remove(),this.onDemandTabs||this.currentTabContentElement.css({position:"relative"})),f.match(p)?(o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),s=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),h=this.model._enableHyperLinkOnErrorMessage?"<a href = "+s+" target= _blank>"+o+"<\/a>":"<span href = "+s+" target= _blank>"+o+"<\/span>",(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute"}),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(h+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"}))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute","padding-right":"30px"}),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(h+":"+e).attr({"data-tooltip":e}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"})))):(l=null,(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=!t.isNullOrUndefined(this.slaveDataRequest)&&!t.isNullOrUndefined(this.slaveDataRequest.responseText)?n(this.slaveDataRequest.responseText).find("Text").html():"",u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute"}),l=f.toLocaleUpperCase(),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(l).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification-mobile"))):(u=n("<div>").attr({id:this._id+"_errorShown"}).addClass("e-error-notification").css({height:"70px",width:"100%",position:"absolute","padding-right":"30px"}),l=f.toLocaleUpperCase(),u.append(n("<div>").addClass("e-error-msg-popup-mobile e-dbrd-hoverable e-dbrd-fontfamily").html(l).attr({"data-tooltip":f}),n("<div>").addClass("e-close-notification-mobile").attr({id:this._id+"_closeNotification"})))),this.element.append(u),w=this.element.find(".e-error-notification"),w.css({"padding-right":"0px"}),b=this.element.find(".e-error-msg-popup-mobile"),b.css({"padding-right":"30px"}),k=this.element.find(".e-close-notification-mobile"),k.append(n("<div>").addClass("e-close-icon")),this.model.enableCustomTheming&&this._customTheme(["passiveError"]),t.isNullOrUndefined(u)||(v=u.html()),c={errorDialog:v},this._trigger("beforePassiveErrorRender",c),t.isNullOrUndefined(u)||u.html(c.errorDialog),this.element.find(".e-error-notification-mobile")&&(this.onDemandTabs?(y=this.currentTabContentElement.find(".e-dbrd-multitab-banner"),y.css({"margin-top":"70px"}),d=this.element.find(".e-dbrd-tab-res-icon-container"),d.css({"margin-top":"70px"})):(y=this.currentTabContentElement.find(".e-dbrd-banner"),y.css({"margin-top":"70px"})));else{this.currentTabContentElement.find(".e-error-notification-mobile")&&(this.currentTabContentElement.find(".e-error-notification-mobile").remove(),this.onDemandTabs||this.currentTabContentElement.css({position:"relative"}));u=n("<div>").addClass("e-errorDiv-mobile").css({width:"100%",height:"100%"});var g=n("<div>").attr({id:this._id+"_errorShown_mobile"}).addClass("e-error-notification-mobile"),a=null;f.match(p)?(o=f.substr(t.DashboardConstants.Zero,f.indexOf(":")),e=f.substr(f.indexOf(":")+t.DashboardConstants.One),s=this.errorHyperLink.replace("#errorCode","#"+o.toLowerCase()),h=this.model._enableHyperLinkOnErrorMessage?"<a href = "+s+" target= _blank>"+o+"<\/a>":"<span href = "+s+" target= _blank>"+o+"<\/span>",(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=t.isNullOrUndefined(this.slaveDataRequest)?"":this.slaveDataRequest.responseText,this.dashboardError=t.isNullOrUndefined(this.dashboardError)?"":this.dashboardError.substring(this.dashboardError.indexOf("at")+2),a='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+e+')">'+h+":"+e+'<div class = "e-dbrd-learnMore-text-mobile e-dbrd-fontfamily">Learn More<\/div><\/div>'):a='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+e+')">'+h+":"+e+"<\/div>"):(t.isNullOrUndefined(this.slaveDataRequest)||t.isNullOrUndefined(this.slaveDataRequest.responseText)||this.slaveDataRequest.responseText.length!==t.DashboardConstants.Zero)&&!r?(this.dashboardError=t.isNullOrUndefined(this.slaveDataRequest)?"":this.slaveDataRequest.responseText,this.dashboardError=t.isNullOrUndefined(this.dashboardError)?"":this.dashboardError.substring(this.dashboardError.indexOf("at")+2),a='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+f+'">'+f+'<div class = "e-dbrd-learnMore-text-mobile e-dbrd-fontfamily">Learn More<\/div><\/div>'):a='<div class = "e-error-msg-mobile e-dbrd-hoverable e-dbrd-fontfamily" data-tooltip = "'+f+')">'+f+"<\/div>";nt='<button class = "reload-button-mobile">RELOAD<\/button>';tt='<div class = "e-error-icon"><\/div>'+a+nt;g.append(tt);u.append(g);this.currentTabContentElement.append(u);this.model.enableCustomTheming&&this._customTheme(["passiveError"]);this._calculateErrorDialogSize();t.isNullOrUndefined(u)||(v=u.html());c={errorDialog:v};this._trigger("beforePassiveErrorRender",c);t.isNullOrUndefined(u)||u.html(c.errorDialog)}},_closeNotification:function(t){var i,r;n(t.currentTarget).parents(".e-error-notification").remove();this.currentTabContentElement.css({position:""});i=this.currentTabContentElement.find(".e-dbrd-banner");i.css({"margin-top":"0px"});r=this.element.find(".e-dbrd-tab-res-icon-container");r.css({"margin-top":"0px"})},_closeMaximize:function(i){var r,u,c,e,o;if(this.element.find("#"+this._id+"_InActiveDiv").length>t.DashboardConstants.Zero){r=this.currentTabContentElement.find("#"+this._id+"_InActiveDiv").find(".e-dbrd-MaximizedControl").attr("data-controlid");this.element.find(".e-dbrd-tooltip").length>=t.DashboardConstants.One&&this.element.find(".e-dbrd-tooltip").hide();this._closeCommentDialog(i);var s=this.currentTabContentElement.find(".e-dbrd-inactive").attr("data-id"),f=s,h=s.split("_Maximize")[0],l=h.substr(t.DashboardConstants.Zero,h.indexOf("_"));!this.model.enableWidgetMode&&!this.isWidget&&!this._dashboardData().loadFromData&&n(window).width()>t.DashboardConstants.MobileWidth&&this.currentTabContentElement.width()<t.DashboardConstants.MinimumWidth&&this.currentTabContentElement.css({"overflow-x":"auto"});switch(l){case"Chart":case"ProportionChart":u=new Dbrdcontrol;this.dashboardControls.getControlByReport(f)&&(u=u.clone(JSON.parse(JSON.stringify(this.dashboardControls.getControlByReport(f)))));u.isExportFromMaximizedView=!1;this._updateValuesInDrillLevelInfo(u,f,[],!0);this._updateValuesInDrillLevelData(u,f,[],!0);this.dashboardControls.updateCurrentReport(u)}t.isNullOrUndefined(i)?(this.element.find(".e-dbrd-inactive").length>t.DashboardConstants.Zero&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),this.element.find(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),this.element.find(".e-dbrd-inactive").length>t.DashboardConstants.Zero&&(o=this.element.find(".e-dbrd-inactive"),t.widget.destroyAll(o.find(".e-js")),o.remove())):((n(i.target).hasClass("e-dbrd-max-wrapper")||n(i.target).hasClass("e-dbrd-inactive"))&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),c=n(i.target),c.parents(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).hasClass("e-dbrd-max-wrapper")&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),n(i.target).parents(".e-dbrd-inactive").remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).hasClass("e-dbrd-inactive-header-close")&&(this._trigger("actionBegin",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}}),e=n(i.target).parents(".e-dbrd-inactive"),t.widget.destroyAll(e.find(".e-js")),e.remove(),this._trigger("actionComplete",{eventType:t.dashboardViewer.event.maximizeDialogClose,source:{element:null,data:r}})),n(i.target).find(".e-pivotgrid").find("#dashboard_maximized_divclientDialog_wrapper").length>t.DashboardConstants.Zero&&(n("body").find("#preventDiv").remove(),n(".e-pivotgrid").data("ejDashboardWaitingPopup")&&n(".e-pivotgrid").data("ejDashboardWaitingPopup").hide(),n(".dashboardPivotGridControl").find(".e-dialog-wrap:visible").hide()));n("head").find("#dashboard_maximized_style")&&n("head").find("#dashboard_maximized_style").remove()}},_checkMasterData:function(n){for(var r=t.isNullOrUndefined(this.masterData)?t.DashboardConstants.Zero:this.masterData.length,i=0;i<r;i++)if(this.masterData[i].Key===n)return i;return null},_checkIfWidgetHasMaster:function(i,r){var h=t.isNullOrUndefined(r)?!1:r,f=this.currentTabContentElement.find(".e-dbrd-control-container[id="+i+"]"),o,u,e,c,s;if(f=t.isNullOrUndefined(f)||f.length===t.DashboardConstants.Zero?n(".e-dbrd-control-container[id="+i+"]"):f,o=[],this.controlRelations.length!==t.DashboardConstants.Zero&&!t.isNullOrUndefined(i)&&i!=="")for(u=t.DashboardConstants.Zero;u<this.controlRelations.length;u++)if(this.controlRelations[u].Slaves.length>t.DashboardConstants.Zero)for(e=t.DashboardConstants.Zero;e<this.controlRelations[u].Slaves.length;e++)if(c=this._getMasterElementName(this.controlRelations[u].Slaves[e]),s=f.find("#"+c).attr("data-controlid"),!t.isNullOrUndefined(s)&&this.controlRelations[u].Slaves[e]===s)if(h)o.push(this.controlRelations[u].Master);else return!0;return h?o:!1},_checkIfWidgetHasMasterFilterApplied:function(n){var i=this._checkIfWidgetHasMaster(n,!0),f=this.dashboardControls.getAllControlsMasterData(),r,u;if(!t.isNullOrUndefined(i)&&i.length!==t.DashboardConstants.Zero&&f.length!==t.DashboardConstants.Zero)for(r=t.DashboardConstants.Zero;r<i.length;r++)for(u=t.DashboardConstants.Zero;u<f.length;u++)if(i[r]===f[u].ReportName)return!0;return!1},_checkFilterInfoByReportName:function(n,i){for(var u=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,r=0;r<u;r++)if(i[r].ReportName.toUpperCase()===n.toUpperCase())return r;return null},_getOptimumFontSize:function(n){var i=t.DashboardConstants.One,r={};if(n.adjustFont==="both")for(i=1;;)if(r=this._measureText(n.text,n.width,"Bold "+n.height*i+" Roboto"),r.width>n.width||r.height>n.height){if(parseFloat(i.toFixed(2))===.1)return n.height*i;i-=.1}else return Math.min(n.height*i,50);else{if(n.adjustFont==="height")return i=.8,n.height*i;if(n.adjustFont==="width")for(i=.9;;)if(r=this._measureText(n.text,n.width,"Bold "+n.height*i+" Roboto"),r.width>n.width){if(parseFloat(i.toFixed(2))===.1)return n.height*i;i-=.1}else return n.height*i;else return n.height*.9}},_checkSlavesFilterData:function(n,i,r){for(var f=[],e=t.isNullOrUndefined(i)?t.DashboardConstants.Zero:i.length,u=0;u<e;u++)if(r.indexOf(i[u].Key)!==t.DashboardConstants.IndexLowerBound)return r.indexOf("CheckBox")===t.DashboardConstants.IndexLowerBound?i[u].Value:(f.push({Value:i[u].Value,Filter:i[u].Filter}),f);return null},_measureText:function(i,r,u){var l=n(document).find("#measureTex"),o=i,f=null,s,h,e,p;n("#measureTex").css("display","block");l.length===t.DashboardConstants.Zero?(f=document.createElement("text"),n(f).attr({id:"measureTex"}),document.body.appendChild(f)):f=l[0];var a=null,c=null,v=null,y=null;if(typeof o=="string"&&(o.indexOf("<")>t.DashboardConstants.IndexLowerBound||o.indexOf(">")>t.DashboardConstants.IndexLowerBound)){for(s=o.split(" "),h=0;h<s.length;h++)s[h].indexOf("<br/>")===t.DashboardConstants.IndexLowerBound&&(s[h]=s[h].replace(/[<>]/g,"&"));o=s.join(" ")}return f.innerHTML=o,!t.isNullOrUndefined(u)&&t.isNullOrUndefined(u.size)&&(e=u,e=e.split(" "),a=e[0],c=e[1],v=e[2],y=e[3]),(t.isNullOrUndefined(u)||t.isNullOrUndefined(u.size))&&t.isNullOrUndefined(c)||(f.style.fontSize=u.size>t.DashboardConstants.Zero?u.size+"px":u.size?u.size:c+"px",f.style.fontStyle&&(f.style.fontStyle=u.fontStyle?u.fontStyle:a),f.style.fontFamily=u.fontFamily?u.fontFamily:v,window.navigator.userAgent.indexOf("MSIE 8.0")===t.DashboardConstants.IndexLowerBound&&(f.style.fontWeight=u.fontWeight?u.fontWeight:y)),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",f.style.whiteSpace="nowrap",r&&(f.style.maxwidth=r+"px"),p={width:f.offsetWidth,height:f.offsetHeight},n("#measureTex").css("display","none"),p},_validateFilterCombinations:function(n){for(var u,i=[],r=0;r<n.length;r++)n[r].indexOf("|:|")!==t.DashboardConstants.IndexLowerBound?i.push(n[r]):i.length>t.DashboardConstants.Zero&&(u=i.length,i[u-t.DashboardConstants.One]=i[u-t.DashboardConstants.One]+"&"+n[r]);return i}}),t.isNullOrUndefined(t.dashboardViewer.common)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.common),t.isNullOrUndefined(t.dashboardViewer.layoutEngine)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.layoutEngine),t.isNullOrUndefined(t.dashboardViewer.layoutEngine.render)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.layoutEngine.render),t.isNullOrUndefined(t.dashboardViewer.keyboardNavigation)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.keyboardNavigation),t.isNullOrUndefined(t.dashboardViewer.sdk)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.sdk),t.isNullOrUndefined(t.dashboardViewer.maps)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.maps),t.isNullOrUndefined(t.dashboardViewer.grid)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.grid),t.isNullOrUndefined(t.dashboardViewer.charts)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.charts),t.isNullOrUndefined(t.dashboardViewer.filters)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.filters),t.isNullOrUndefined(t.dashboardViewer.gauges)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.gauges),t.isNullOrUndefined(t.dashboardViewer.exportView)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.exportView),t.isNullOrUndefined(t.dashboardViewer.misc)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.misc),t.isNullOrUndefined(t.dashboardViewer.widgetscore)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.widgetscore),t.isNullOrUndefined(t.dashboardViewer.dropdownlist)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.dropdownlist),t.isNullOrUndefined(t.dashboardViewer.rangeNavigator)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.rangeNavigator),t.isNullOrUndefined(t.dashboardViewer.treemap)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.treemap),t.isNullOrUndefined(t.dashboardViewer.card)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.card),t.isNullOrUndefined(t.dashboardViewer.pivotGrid)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.pivotGrid),t.isNullOrUndefined(t.dashboardViewer.multiTabs)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.multiTabs),t.isNullOrUndefined(t.dashboardViewer.widgets)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.widgets),t.isNullOrUndefined(t.dashboardViewer.history)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.history),t.isNullOrUndefined(t.dashboardViewer.dashboardParameters)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.dashboardParameters),t.isNullOrUndefined(t.dashboardViewer.scroller)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.scroller),t.isNullOrUndefined(t.dashboardViewer.tooltips)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.tooltips),t.isNullOrUndefined(t.dashboardViewer.dataRefresh)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.dataRefresh),t.isNullOrUndefined(t.dashboardViewer.linking)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.linking),t.isNullOrUndefined(t.dashboardViewer.maximize)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.maximize),t.isNullOrUndefined(t.dashboardViewer.errordialogs)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.errordialogs),t.isNullOrUndefined(t.dashboardViewer.waitingIndicator)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.waitingIndicator),t.isNullOrUndefined(t.dashboardViewer.filteroverview)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.filteroverview),t.isNullOrUndefined(t.dashboardViewer.server)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.server),t.isNullOrUndefined(t.dashboardViewer.scriptdownload)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.scriptdownload),t.isNullOrUndefined(t.dashboardViewer.menu)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.menu),t.isNullOrUndefined(t.dashboardViewer.customTheme)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.customTheme),t.isNullOrUndefined(t.dashboardViewer.viewdata)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.viewdata),t.isNullOrUndefined(t.dashboardViewer.HeatMap)||n.extend(ej.DashboardViewer.prototype,t.dashboardViewer.HeatMap),String.prototype.replaceAll=function(n,t){for(var i=this,r=1,u=this.split(n).length-r;u>0;)i=i.replace(n,t),u-=r;return i},t.dashboardViewer.Layout={Grid:"DesktopGridCanvas",FreeForm:"DesktopFreeForm"},t.dashboardViewer.FreeFormSize={Large:"Large",Small:"Small"},t.DashboardConstants={All:"All",SelectAll:"(Select All)",SelectDate:"Select Date",Apply:"Apply",From:"From",To:"To",DaysOfWeek:{DaysOfWeekSu:"Su",DaysOfWeekMo:"Mo",DaysOfWeekTu:"Tu",DaysOfWeekWe:"We",DaysOfWeekTh:"Th",DaysOfWeekFr:"Fr",DaysOfWeekSa:"Sa"},MonthNames:{MonthJan:"January",MonthFeb:"February",MonthMar:"March",MonthApr:"April",MonthMay:"May",MonthJun:"June",MonthJul:"July",MonthAug:"August",MonthNov:"November",MonthOct:"October",MonthSep:"September",MonthDec:"December"},MultipleValues:"(Multiple Values)",UrlLink:"Url",DashboardLink:"Dashboard",Culture:"Culture",LoadedVersion:"LoadedVersion",WrongExcel:"WrongExcel",UserUnchecked:"userunchecked",RequireAuthentication:"RequireAuthentication",Authenticate:"Authenticate",Title:"Title",Desc:"Desc",TimeSpan:"TimeSpan",TimeSpanMinutes:"TimeSpanMinutes",TimeSpanHours:"TimeSpanHours",TimeSpanDays:"TimeSpanDays",TimeSpanWeeks:"TimeSpanWeeks",TimeSpanMonths:"TimeSpanMonths",TimeSpanYears:"TimeSpanYears",DateFilterInfoRange:"Range",DateFilterInfoInclude:"Include",ClearAllFilters:"CLEAR ALL",FilterOverview:"Filters Overview",AppliedFilters:"Applied Filters",DateFilterInfoExclude:"Exclude",HasFilterPanel:"HasFilterPanel",IncludeGlobalFilter:"IncludeGlobalFilter",EnableComments:"EnableComment",Subtitle:"Subtitle",IndexLowerBound:-1,Zero:0,One:1,MinimumWidth:650,MobileWidth:769,Resolution:96,Window:window,Widget:"_Widget_",FilterPanel:"_filter_panel",TimeSpanInMinutes:"TimeSpanInMinutes",TimeSpanInHours:"TimeSpanInHours",AutoRefreshList:"_ARL_",Thousand:1e3,UpdateTimerList:"_UPL_",CacheStoreList:"_CSL_",HasDashboardParameter:"HasDashboardParameter",AutoRefreshMinTimer:30,WidgetElement:"Widgets",FilterPanelElement:"FilterPanel",TitleElement:"Title",EmptyObject:"{}",ParameterColumnData:"parameterColumnData",TabInformation:"TabInformation",ExportSettings:"ExportSettings",Resources:"Resources",IsWidget:"IsWidget",Layout:"Layout",DashboardParameters:"DashboardParameters",ExtendedColumnCount:24,LayoutInformation:"LayoutInformation",RefreshSettings:"RefreshSettings",WidgetCultures:"WidgetCultures",FilterPanelInformation:"FilterPanelInformation",CustomWidgetCultures:"CustomWidgetCultures",CustomWidgetSettings:"CustomWidgetSettings",IsDashboardParameter:"IsDashboardParameter",Description:"Description",Widgets:"Widgets",RequestPage:"RequestPage",Filterpanel:"FilterPanel",MasterFilterList:"MasterFilterList",Context:"Context",ParamColumns:"ParamColumns",TitleParams:"TitleParams",DescriptionParams:"DescriptionParams",AutoRefreshRowCounts:"AutoRefreshRowCounts",ControlRelation:"ControlRelation",DataSource:"DataSource",typeObject:"object",typeArray:"array",GlobalFilter:"_global_filter",DashboardExportSettings:"DashboardExportSettings",ViewData:"ViewData",SummaryData:"SummaryData",RawData:"RawData",Data:"Data",TotalRowCount:"TotalRowCount",ControlSchema:"ControlSchema",Rows:"Rows",RowRetrieved:" rows retrieved",Error:"Error",ConfigInfo:"ConfigInfo",Gauge:{PointerTypeRangeBar:"RangeBar",PointerTypeNeedle:"Needle",PointerTypeMarker:"Marker",MarkerShapeRectangle:"Rectangle",MarkerShapeTriangle:"Triangle",MarkerShapeInvertedTriangle:"InvertedTriangle",TargetPointerInvertedTriangle:"Inverted Triangle",TargetPointerTrianlge:"Triangle",TargetPointerLine:"Line",TickPositionInside:"Inside",TickPositionOutside:"Outside",ScaleLabelPositionInside:"Inside",ScaleLabelPositionOutside:"Outside",ValueLabelPositionInside:"Inside",TypeHalfRadialGauge:"Half Circle",TypeFullRadialGauge:"Full Circle",TypeHorseShoe:"Horse Shoe",PointerNeedle:"Needle Pointer",PointerRange:"Range Pointer",PointerRangeWithNeedle:"Range with Needle",DirectionHigherIsGood:"HighIsGood",DirectionLowerIsGood:"LowIsGood"},Grid:{RequestTypeSorting:"sorting",RequestTypeFiltering:"filtering"},DefaultCulture:"en-US"},t.dashboarDownLoadFileName={ejDashboardCard:"ej.dashboard.ejcard",ejDashboardCircularGauge:"ej.dashboard.ejcirculargauge",ejDashboardChart:"ej.dashboard.ejchart",ejDashboardRangeNavigator:"ej.dashboard.ejrangenavigator",ejDashboardRangeSlider:"ej.dashboard.ejrangeslider",ejDashboardDatepicker:"ej.dashboard.ejdashboarddatepicker",ejDashboardTreeMap:"ej.dashboard.ejtreemap",ejDashboardListbox:"ej.dashboard.ejlistbox",ejDashboardGrid:"ej.dashboard.ejgrid",ejDashboardPivotgrid:"ej.dashboard.ejpivotgrid",ejDashboardMap:"ej.dashboard.ejmap"},t.dashboardViewer.navigationTargets={Self:"_self",Blank:"_blank",Parent:"_parent",Top:"_top"},t.dashboardViewer.Controls={Grid:"Grid",Chart:"Chart",Card:"Card",TreeMap:"TreeMap",BubbleMap:"BubbleMap",ChoroplethMap:"ChoroplethMap",DrillDownChart:"DrillDownChart",ComparisonChart:"ComparisonChart",ProportionChart:"ProportionChart",RangeNavigator:"RangeNavigator",RangeSlider:"RangeSlider",DatePicker:"DatePicker",FilterComboBox:"FilterComboBox",CheckBox:"CheckBox",RadioButton:"RadioButton",ListBox:"ListBox",Image:"Image",Label:"Label",Gauge:"Gauge",PivotGrid:"PivotGrid",CustomWidget:"CustomWidget",ComboBox:"ComboBox",IMAGE:"IMAGE",HeatMap:"HeatMap"},t.dashboardViewer.event={maximizeDialogOpen:"maximizeDialogOpen",maximizeDialogClose:"maximizeDialogClose",exportDialogOpen:"exportDialogOpen",exportDialogClose:"exportDialogClose",drillDown:"drillDown",ajaxRequest:"ajaxRequest",ajaxRequestCompleted:"ajaxRequestCompleted",ajaxRequestFailure:"ajaxRequestFailure",exporting:"exporting",exportCompleted:"exportCompleted",filterOverViewOpen:"filterOverViewOpen",filterOverViewClose:"filterOverViewClose",commentDialogOpen:"commentDialogOpen",commentDialogClose:"commentDialogClose",markFavorite:"markFavorite",removeFavorite:"removeFavorite",tabActive:"tabActive",renderComplete:"renderComplete",layoutRendered:"layoutRendered",beforeWidgetRender:"beforeWidgetRender",afterWidgetRender:"afterWidgetRender",beforeWidgetRefresh:"beforeWidgetRefresh",afterWidgetRefresh:"afterWidgetRefresh",beforeLayoutRender:"beforeLayoutRender",filterPanelOpen:"filterPanelOpen",filterPanelClose:"filterPanelClose",filterPanelResize:"filterPanelResize",tabSelect:"tabSelect",contextMenuOpen:"contextMenuOpen",contextMenuClose:"contextMenuClose",clearFilter:"clearFilter",clearAllFilter:"clearAllFilter",clearIndividualFilter:"clearIndividualFilter",onMasterFilterApplied:"onMasterFilterApplied",onFilterOverviewUpdated:"onFilterOverviewUpdated",onApplyConnection:"onApplyConnection",onSaveFilter:"onSaveFilter",onSaveAsFilter:"onSaveAsFilter",onMenuItemClick:"onMenuItemClick",onMenuIconClick:"onMenuIconClick",descriptionPopupOpen:"descriptionPopupOpen",informationOpen:"informationOpen",informationClose:"informationClose",resize:"resize",resizeComplete:"resizeComplete",onDashboardMenuPopupClose:"onDashboardMenuPopupClose",onControlMenuPopupClose:"onControlMenuPopupClose",refresh:"refresh",refreshComplete:"refreshComplete",beforeNavigate:"beforeNavigate",afterNavigate:"afterNavigate",onHistoryPopstateChange:"onHistoryPopstateChange",getLinkDialogOpen:"getLinkDialogOpen",getLinkDialogClose:"getLinkDialogClose",openDashboardParameterPopUp:"openDashboardParameterPopUp",cancelDashboardParameterDialog:"cancelDashboardParameterDialog",applyDashboardParameterValue:"applyDashboardParameterValue",beforeRendering:"beforeRendering",afterRendering:"afterRendering",beforeWidgetAction:"beforeWidgetAction",afterWidgetAction:"afterWidgetAction",beforeWidgetActionNavigate:"beforeWidgetActionNavigate",afterWidgetActionNavigate:"afterWidgetActionNavigate",beforeTabCreated:"beforeTabCreated",beforeDashboardTitleRendered:"beforeDashboardTitleRendered",viewDataTabActive:"viewDataTabActive",closeViewDataDialog:"closeViewDataDialog"},t.dashboardViewer.ActionType={Click:"Click",DBClick:"DoubleClick",ContextMenu:"ContextMenu"},t.dashboardViewer.Action={Filter:"Filter",Linking:"Linking",DrillDown:"DrillDown"},t.dashboardViewer.refreshTimer={mode:{hourly:"Hourly",daily:"Daily",monthly:"Monthly",weekly:"Weekly",yearly:"Yearly"}},t.dashboardViewer.filterPanelSettings={state:{expand:"expanded",collapse:"collapsed"}},t.isNullOrUndefined(t)){var t={};t.addCulture=t.addCulture}}(jQuery,SyncfusionDashboard);window.light={targetLineColor:"#000000",axisLineColor:"#bdbdbd",axisFontSize:"10",axisTitleFontSize:"10",legendFontSize:"12",legendfontcolor:"#636363",primaryXAxisfontcolor:"#636363",primaryXAxismajorGridLines:"#dfdfdf",primaryYAxisfontcolor:"#636363",captionSettingsfontcolor:"#ADADAD",subtitlefontcolor:"#ADADAD",majorTickSettingsstroke:"#191919",minorTickSettingsstroke:"#191919",majorTickStrokeThickness:2,minorTickStrokeThickness:2,majorTickStrokeLabelcolor:"#ADADAD",minorTickStrokeLabelcolor:"#ADADAD",palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],titletextcolor:"#636363",labelscolor:"#444444",tickscolor:"#E1E1E1",pointerCapbackgroundColor:"#424242",pointerCapborderColor:"#424242",customLabelcolor:"#444444",pointersbackgroundColor1:"#424242",pointersbackgroundColor2:"#FFFF00",primaryXAxisminorGridLines:"#dfdfdf",Cards:[{targetValueColor:"Red",customHeaderColor:"Green",subTitleColor:"blue"}],RangeNavigator:[{labelSettingsHigherLevelColor:"#626262",labelSettingsLowerLevelColor:"#626262",seriesSettingsBorderColor:"",seriesSettingsFill:"",navigatorSelectedRegionColor:"#d6d6d6",navigatorUnSelectedRegionColor:"#ededed",navigatorThumbStrokes:"#A1CE36",navigatorBackground:"#EEEDED",navigatorBorderColor:"#D2D2D2",majorGridLineColor:"#EEEDED",minorGridLineColor:"#CDCECE",seriesFill:"#73CBE7"}]};window.dark={legendfontcolor:"#C1C1C1",primaryXAxisfontcolor:"#C1C1C1",primaryXAxismajorGridLines:"#606060",primaryYAxisfontcolor:"#C1C1C1",captionSettingsfontcolor:"#ADADAD",subtitlefontcolor:"#ADADAD",majorTickSettingsstroke:"#ADADAD",minorTickSettingsstroke:"#ADADAD",majorTickStrokeThickness:2,minorTickStrokeThickness:2,palette:["#77A7FB","#E57368","#FBCB43","#34B67A","#F1AB68","#6CC2D9","#195962","#E18878","#1AA27D","#BFAAC7","#89695e","#a5c77f","#f48fb1","#90caf9","#cc4452"],titletextcolor:"#C1C1C1",labelscolor:"#C1C1C1",tickscolor:"#606060",pointerCapbackgroundColor:"#A6A8AB",pointerCapborderColor:"#A6A8AB",customLabelcolor:"#C1C1C1",pointersbackgroundColor1:"#A6A8AB",pointersbackgroundColor2:"#FFFF00",primaryXAxisminorGridLines:"#606060",Cards:[{targetValueColor:"Red",customHeaderColor:"Green",subTitleColor:"blue"}],RangeNavigator:[{labelSettingsHigherLevelColor:"#393939",labelSettingsLowerLevelColor:"#626262",seriesSettingsBorderColor:"",seriesSettingsFill:"",navigatorSelectedRegionColor:"#585858",navigatorUnSelectedRegionColor:"#484848",navigatorThumbStrokes:"#A1CE36",navigatorBackground:"#484848",navigatorBorderColor:"#646464",majorGridLineColor:"B2B2B2",minorGridLineColor:"#555555",seriesFill:"#0BBCF4"}]};
